(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},bl={};var L_;function Ib(){if(L_)return bl;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var P_;function xb(){return P_||(P_=1,Nd.exports=Ib()),Nd.exports}var R=xb(),Dd={exports:{}},At={};var z_;function Nb(){if(z_)return At;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(S){return S===null||typeof S!="object"?null:(S=M&&S[M]||S["@@iterator"],typeof S=="function"?S:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,W={};function gt(S,L,$){this.props=S,this.context=L,this.refs=W,this.updater=$||tt}gt.prototype.isReactComponent={},gt.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},gt.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function bt(){}bt.prototype=gt.prototype;function ft(S,L,$){this.props=S,this.context=L,this.refs=W,this.updater=$||tt}var Gt=ft.prototype=new bt;Gt.constructor=ft,it(Gt,gt.prototype),Gt.isPureReactComponent=!0;var Zt=Array.isArray;function Ot(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(S,L,$){var J=$.ref;return{$$typeof:r,type:S,key:L,ref:J!==void 0?J:null,props:$}}function V(S,L){return I(S.type,L,S.props)}function D(S){return typeof S=="object"&&S!==null&&S.$$typeof===r}function U(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function($){return L[$]})}var C=/\/+/g;function ie(S,L){return typeof S=="object"&&S!==null&&S.key!=null?U(""+S.key):L.toString(36)}function pe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(Ot,Ot):(S.status="pending",S.then(function(L){S.status==="pending"&&(S.status="fulfilled",S.value=L)},function(L){S.status==="pending"&&(S.status="rejected",S.reason=L)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function F(S,L,$,J,lt){var ht=typeof S;(ht==="undefined"||ht==="boolean")&&(S=null);var pt=!1;if(S===null)pt=!0;else switch(ht){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(S.$$typeof){case r:case t:pt=!0;break;case E:return pt=S._init,F(pt(S._payload),L,$,J,lt)}}if(pt)return lt=lt(S),pt=J===""?"."+ie(S,0):J,Zt(lt)?($="",pt!=null&&($=pt.replace(C,"$&/")+"/"),F(lt,L,$,"",function(se){return se})):lt!=null&&(D(lt)&&(lt=V(lt,$+(lt.key==null||S&&S.key===lt.key?"":(""+lt.key).replace(C,"$&/")+"/")+pt)),L.push(lt)),1;pt=0;var et=J===""?".":J+":";if(Zt(S))for(var ct=0;ct<S.length;ct++)J=S[ct],ht=et+ie(J,ct),pt+=F(J,L,$,ht,lt);else if(ct=G(S),typeof ct=="function")for(S=ct.call(S),ct=0;!(J=S.next()).done;)J=J.value,ht=et+ie(J,ct++),pt+=F(J,L,$,ht,lt);else if(ht==="object"){if(typeof S.then=="function")return F(pe(S),L,$,J,lt);throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return pt}function st(S,L,$){if(S==null)return S;var J=[],lt=0;return F(S,J,"","",function(ht){return L.call($,ht,lt++)}),J}function dt(S){if(S._status===-1){var L=S._result;L=L(),L.then(function($){(S._status===0||S._status===-1)&&(S._status=1,S._result=$)},function($){(S._status===0||S._status===-1)&&(S._status=2,S._result=$)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var Pt=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Bt={map:st,forEach:function(S,L,$){st(S,function(){L.apply(this,arguments)},$)},count:function(S){var L=0;return st(S,function(){L++}),L},toArray:function(S){return st(S,function(L){return L})||[]},only:function(S){if(!D(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return At.Activity=w,At.Children=Bt,At.Component=gt,At.Fragment=i,At.Profiler=l,At.PureComponent=ft,At.StrictMode=a,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(S){return N.H.useMemoCache(S)}},At.cache=function(S){return function(){return S.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(S,L,$){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var J=it({},S.props),lt=S.key;if(L!=null)for(ht in L.key!==void 0&&(lt=""+L.key),L)!A.call(L,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&L.ref===void 0||(J[ht]=L[ht]);var ht=arguments.length-2;if(ht===1)J.children=$;else if(1<ht){for(var pt=Array(ht),et=0;et<ht;et++)pt[et]=arguments[et+2];J.children=pt}return I(S.type,lt,J)},At.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},At.createElement=function(S,L,$){var J,lt={},ht=null;if(L!=null)for(J in L.key!==void 0&&(ht=""+L.key),L)A.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=L[J]);var pt=arguments.length-2;if(pt===1)lt.children=$;else if(1<pt){for(var et=Array(pt),ct=0;ct<pt;ct++)et[ct]=arguments[ct+2];lt.children=et}if(S&&S.defaultProps)for(J in pt=S.defaultProps,pt)lt[J]===void 0&&(lt[J]=pt[J]);return I(S,ht,lt)},At.createRef=function(){return{current:null}},At.forwardRef=function(S){return{$$typeof:p,render:S}},At.isValidElement=D,At.lazy=function(S){return{$$typeof:E,_payload:{_status:-1,_result:S},_init:dt}},At.memo=function(S,L){return{$$typeof:_,type:S,compare:L===void 0?null:L}},At.startTransition=function(S){var L=N.T,$={};N.T=$;try{var J=S(),lt=N.S;lt!==null&&lt($,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ot,Pt)}catch(ht){Pt(ht)}finally{L!==null&&$.types!==null&&(L.types=$.types),N.T=L}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(S){return N.H.use(S)},At.useActionState=function(S,L,$){return N.H.useActionState(S,L,$)},At.useCallback=function(S,L){return N.H.useCallback(S,L)},At.useContext=function(S){return N.H.useContext(S)},At.useDebugValue=function(){},At.useDeferredValue=function(S,L){return N.H.useDeferredValue(S,L)},At.useEffect=function(S,L){return N.H.useEffect(S,L)},At.useEffectEvent=function(S){return N.H.useEffectEvent(S)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(S,L,$){return N.H.useImperativeHandle(S,L,$)},At.useInsertionEffect=function(S,L){return N.H.useInsertionEffect(S,L)},At.useLayoutEffect=function(S,L){return N.H.useLayoutEffect(S,L)},At.useMemo=function(S,L){return N.H.useMemo(S,L)},At.useOptimistic=function(S,L){return N.H.useOptimistic(S,L)},At.useReducer=function(S,L,$){return N.H.useReducer(S,L,$)},At.useRef=function(S){return N.H.useRef(S)},At.useState=function(S){return N.H.useState(S)},At.useSyncExternalStore=function(S,L,$){return N.H.useSyncExternalStore(S,L,$)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.3",At}var j_;function Rm(){return j_||(j_=1,Dd.exports=Nb()),Dd.exports}var fe=Rm(),Od={exports:{}},Sl={},Md={exports:{}},Vd={};var B_;function Db(){return B_||(B_=1,(function(r){function t(F,st){var dt=F.length;F.push(st);t:for(;0<dt;){var Pt=dt-1>>>1,Bt=F[Pt];if(0<l(Bt,st))F[Pt]=st,F[dt]=Bt,dt=Pt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var st=F[0],dt=F.pop();if(dt!==st){F[0]=dt;t:for(var Pt=0,Bt=F.length,S=Bt>>>1;Pt<S;){var L=2*(Pt+1)-1,$=F[L],J=L+1,lt=F[J];if(0>l($,dt))J<Bt&&0>l(lt,$)?(F[Pt]=lt,F[J]=dt,Pt=J):(F[Pt]=$,F[L]=dt,Pt=L);else if(J<Bt&&0>l(lt,dt))F[Pt]=lt,F[J]=dt,Pt=J;else break t}}return st}function l(F,st){var dt=F.sortIndex-st.sortIndex;return dt!==0?dt:F.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,w=null,M=3,G=!1,tt=!1,it=!1,W=!1,gt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Gt(F){for(var st=i(_);st!==null;){if(st.callback===null)a(_);else if(st.startTime<=F)a(_),st.sortIndex=st.expirationTime,t(y,st);else break;st=i(_)}}function Zt(F){if(it=!1,Gt(F),!tt)if(i(y)!==null)tt=!0,Ot||(Ot=!0,U());else{var st=i(_);st!==null&&pe(Zt,st.startTime-F)}}var Ot=!1,N=-1,A=5,I=-1;function V(){return W?!0:!(r.unstable_now()-I<A)}function D(){if(W=!1,Ot){var F=r.unstable_now();I=F;var st=!0;try{t:{tt=!1,it&&(it=!1,bt(N),N=-1),G=!0;var dt=M;try{e:{for(Gt(F),w=i(y);w!==null&&!(w.expirationTime>F&&V());){var Pt=w.callback;if(typeof Pt=="function"){w.callback=null,M=w.priorityLevel;var Bt=Pt(w.expirationTime<=F);if(F=r.unstable_now(),typeof Bt=="function"){w.callback=Bt,Gt(F),st=!0;break e}w===i(y)&&a(y),Gt(F)}else a(y);w=i(y)}if(w!==null)st=!0;else{var S=i(_);S!==null&&pe(Zt,S.startTime-F),st=!1}}break t}finally{w=null,M=dt,G=!1}st=void 0}}finally{st?U():Ot=!1}}}var U;if(typeof ft=="function")U=function(){ft(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=D,U=function(){ie.postMessage(null)}}else U=function(){gt(D,0)};function pe(F,st){N=gt(function(){F(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var st=3;break;default:st=M}var dt=M;M=st;try{return F()}finally{M=dt}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=M;M=F;try{return st()}finally{M=dt}},r.unstable_scheduleCallback=function(F,st,dt){var Pt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Pt+dt:Pt):dt=Pt,F){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=dt+Bt,F={id:E++,callback:st,priorityLevel:F,startTime:dt,expirationTime:Bt,sortIndex:-1},dt>Pt?(F.sortIndex=dt,t(_,F),i(y)===null&&F===i(_)&&(it?(bt(N),N=-1):it=!0,pe(Zt,dt-Pt))):(F.sortIndex=Bt,t(y,F),tt||G||(tt=!0,Ot||(Ot=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var st=M;return function(){var dt=M;M=st;try{return F.apply(this,arguments)}finally{M=dt}}}})(Vd)),Vd}var q_;function Ob(){return q_||(q_=1,Md.exports=Db()),Md.exports}var kd={exports:{}},nn={};var H_;function Mb(){if(H_)return nn;H_=1;var r=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},nn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},nn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},nn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,w=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):E==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},nn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,w=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},nn.requestFormReset=function(y){a.d.r(y)},nn.unstable_batchedUpdates=function(y,_){return y(_)},nn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var G_;function Vb(){if(G_)return kd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=Mb(),kd.exports}var F_;function kb(){if(F_)return Sl;F_=1;var r=Ob(),t=Rm(),i=Vb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Gt=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case gt:return"Profiler";case W:return"StrictMode";case Zt:return"Suspense";case Ot:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case ft:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case Gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var pe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Pt=[],Bt=-1;function S(e){return{current:e}}function L(e){0>Bt||(e.current=Pt[Bt],Pt[Bt]=null,Bt--)}function $(e,n){Bt++,Pt[Bt]=e.current,e.current=n}var J=S(null),lt=S(null),ht=S(null),pt=S(null);function et(e,n){switch($(ht,n),$(lt,e),$(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(J),$(J,e)}function ct(){L(J),L(lt),L(ht)}function se(e){e.memoizedState!==null&&$(pt,e);var n=J.current,s=o_(n,e.type);n!==s&&($(lt,e),$(J,s))}function en(e){lt.current===e&&(L(J),L(lt)),pt.current===e&&(L(pt),_l._currentValue=dt)}var fn,vt;function ue(e){if(fn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);fn=n&&n[1]||"",vt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fn+e+vt}var Be=!1;function ln(e,n){if(!e||Be)return"";Be=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var B=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){B=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){B=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var x=g.split(`
`),j=T.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Be=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ue(s):""}function fi(e,n){switch(e.tag){case 26:case 27:case 5:return ue(e.type);case 16:return ue("Lazy");case 13:return e.child!==n&&n!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return ln(e.type,!1);case 11:return ln(e.type.render,!1);case 1:return ln(e.type,!0);case 31:return ue("Activity");default:return""}}function ke(e){try{var n="",s=null;do n+=fi(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var re=Object.prototype.hasOwnProperty,de=r.unstable_scheduleCallback,bn=r.unstable_cancelCallback,aa=r.unstable_shouldYield,oa=r.unstable_requestPaint,xt=r.unstable_now,Ue=r.unstable_getCurrentPriorityLevel,Ts=r.unstable_ImmediatePriority,vr=r.unstable_UserBlockingPriority,di=r.unstable_NormalPriority,Fi=r.unstable_LowPriority,la=r.unstable_IdlePriority,iu=r.log,su=r.unstable_setDisableYieldValue,Zn=null,Qe=null;function kn(e){if(typeof iu=="function"&&su(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Zn,e)}catch{}}var ve=Math.clz32?Math.clz32:au,ru=Math.log,ua=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/ua|0)|0}var mi=256,Er=262144,Ae=4194304;function gi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=gi(o):(g&=T,g!==0?h=gi(g):s||(s=T&~e,s!==0&&(h=gi(s))))):(T=o&~f,T!==0?h=gi(T):g!==0?h=gi(g):s||(s=o&~e,s!==0&&(h=gi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function yi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Tr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-ve(s),K=1<<Q;T[Q]=0,x[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}s&=~K}o!==0&&br(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function br(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ve(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function So(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ve(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Ao(e,n){var s=n&-n;return s=(s&42)!==0?1:Sr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function Wn(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var ti=Math.random().toString(36).slice(2),we="__reactFiber$"+ti,qe="__reactProps$"+ti,_i="__reactContainer$"+ti,ca="__reactEvents$"+ti,kh="__reactListeners$"+ti,uu="__reactHandles$"+ti,cu="__reactResources$"+ti,vi="__reactMarker$"+ti;function ha(e){delete e[we],delete e[qe],delete e[ca],delete e[kh],delete e[uu]}function Ei(e){var n=e[we];if(n)return n;for(var s=e.parentNode;s;){if(n=s[_i]||s[we]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=m_(e);e!==null;){if(s=e[we])return s;e=m_(e)}return n}e=s,s=e.parentNode}return null}function Un(e){if(e=e[we]||e[_i]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ti(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[vi]=!0}var wo=new Set,Ro={};function bi(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},xo={};function hu(e){return re.call(xo,e)?!0:re.call(Io,e)?!1:Co.test(e)?xo[e]=!0:(Io[e]=!0,!1)}function fa(e,n,s){if(hu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function An(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=bs(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function Ar(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=bs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wr=/[\n"\\]/g;function dn(e){return e.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Do(e,g,He(n)):s!=null?Do(e,g,He(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+He(T):e.removeAttribute("name")}function fu(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+He(s):"",n=n!=null?""+He(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Do(e,n,s){n==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ss(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+He(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,s){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+He(s):""}function As(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(pe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=He(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function mn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Mo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return ws.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ei(){}var Vo=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rs=null,wi=null;function Rr(e){var n=Un(e);if(n&&(e=n.stateNode)){var s=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[qe]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Ar(o)}break t;case"textarea":du(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ss(e,!!s.multiple,n,!1)}}}var pa=!1;function Cs(e,n,s){if(pa)return e(n,s);pa=!0;try{var o=e(n);return o}finally{if(pa=!1,(Rs!==null||wi!==null)&&(lc(),Rs&&(n=Rs,e=wi,wi=Rs=null,Rr(n),e)))for(n=0;n<e.length;n++)Rr(e[n])}}function ni(e,n){var s=e.stateNode;if(s===null)return null;var o=s[qe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Pn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Cr=!1}var Ri=null,ko=null,Ir=null;function Uo(){if(Ir)return Ir;var e,n=ko,s=n.length,o,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Ir=h.slice(e,1<o?1-o:void 0)}function xr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Yi(){return!0}function ii(){return!1}function Ye(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Yi:ii,this.isPropagationStopped=ii,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ye(Ki),Is=w({},Ki,{view:0,detail:0}),Lo=Ye(Is),xs,ya,Ii,_a=w({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(xs=e.screenX-Ii.screenX,ya=e.screenY-Ii.screenY):ya=xs=0,Ii=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Po=Ye(_a),Nr=w({},_a,{dataTransfer:0}),pu=Ye(Nr),yu=w({},Is,{relatedTarget:0}),Dr=Ye(yu),zo=w({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Ye(zo),va=w({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=Ye(va),Eu=w({},Ki,{data:0}),xi=Ye(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function Ns(){return Au}var un=w({},Is,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(e){return e.type==="keypress"?xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=Ye(un),Ru=w({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Ye(Ru),u=w({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=Ye(u),v=w({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(v),P=w({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ye(P),nt=w({},Ki,{newState:0,oldState:0}),Rt=Ye(nt),Ee=[9,13,27,32],Ft=Pn&&"CompositionEvent"in window,ce=null;Pn&&"documentMode"in document&&(ce=document.documentMode);var zn=Pn&&"TextEvent"in window&&!ce,Ni=Pn&&(!Ft||ce&&8<ce&&11>=ce),si=" ",ri=!1;function Or(e,n){switch(e){case"keyup":return Ee.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function JT(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return e=n.data,e===si&&ri?null:e;default:return null}}function WT(e,n){if(Ta)return e==="compositionend"||!Ft&&Or(e,n)?(e=Uo(),Ir=ko=Ri=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!t1[e.type]:n==="textarea"}function _g(e,n,s,o){Rs?wi?wi.push(o):wi=[o]:Rs=o,n=gc(n,"onChange"),0<n.length&&(s=new Ci("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var jo=null,Bo=null;function e1(e){t_(e,0)}function Cu(e){var n=Sn(e);if(Ar(n))return e}function vg(e,n){if(e==="change")return n}var Eg=!1;if(Pn){var Uh;if(Pn){var Lh="oninput"in document;if(!Lh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Lh=typeof Tg.oninput=="function"}Uh=Lh}else Uh=!1;Eg=Uh&&(!document.documentMode||9<document.documentMode)}function bg(){jo&&(jo.detachEvent("onpropertychange",Sg),Bo=jo=null)}function Sg(e){if(e.propertyName==="value"&&Cu(Bo)){var n=[];_g(n,Bo,e,Ln(e)),Cs(e1,n)}}function n1(e,n,s){e==="focusin"?(bg(),jo=n,Bo=s,jo.attachEvent("onpropertychange",Sg)):e==="focusout"&&bg()}function i1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Bo)}function s1(e,n){if(e==="click")return Cu(n)}function r1(e,n){if(e==="input"||e==="change")return Cu(n)}function a1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:a1;function qo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!re.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,n){var s=Ag(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ag(s)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ai(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ai(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var o1=Pn&&"documentMode"in document&&11>=document.documentMode,ba=null,zh=null,Ho=null,jh=!1;function Ig(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||ba==null||ba!==Ai(o)||(o=ba,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=gc(zh,"onSelect"),0<o.length&&(n=new Ci("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ba)))}function Mr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Sa={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Bh={},xg={};Pn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Vr(e){if(Bh[e])return Bh[e];if(!Sa[e])return e;var n=Sa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in xg)return Bh[e]=n[s];return e}var Ng=Vr("animationend"),Dg=Vr("animationiteration"),Og=Vr("animationstart"),l1=Vr("transitionrun"),u1=Vr("transitionstart"),c1=Vr("transitioncancel"),Mg=Vr("transitionend"),Vg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ai(e,n){Vg.set(e,n),bi(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Aa=0,Hh=0;function xu(){for(var e=Aa,n=Hh=Aa=0;n<e;){var s=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&kg(s,h,f)}}function Nu(e,n,s,o){jn[Aa++]=e,jn[Aa++]=n,jn[Aa++]=s,jn[Aa++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,s,o){return Nu(e,n,s,o),Du(e)}function kr(e,n){return Nu(e,null,null,n),Du(e)}function kg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ve(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Du(e){if(50<hl)throw hl=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function h1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,n,s,o){return new h1(e,n,s,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $i(e,n){var s=e.alternate;return s===null?(s=Rn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ug(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Fh(e)&&(g=1);else if(typeof e=="string")g=pb(e,s,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Rn(31,s,n,h),e.elementType=I,e.lanes=f,e;case it:return Ur(s.children,h,f,n);case W:g=8,h|=24;break;case gt:return e=Rn(12,s,n,h|2),e.elementType=gt,e.lanes=f,e;case Zt:return e=Rn(13,s,n,h),e.elementType=Zt,e.lanes=f,e;case Ot:return e=Rn(19,s,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case bt:g=9;break t;case Gt:g=11;break t;case N:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Rn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ur(e,n,s,o){return e=Rn(7,e,o,n),e.lanes=s,e}function Qh(e,n,s){return e=Rn(6,e,null,n),e.lanes=s,e}function Lg(e){var n=Rn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,s){return n=Rn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pg=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var s=Pg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ke(n)},Pg.set(e,n),n)}return{value:e,source:n,stack:ke(n)}}var Ra=[],Ca=0,Mu=null,Go=0,qn=[],Hn=0,Ds=null,Di=1,Oi="";function Zi(e,n){Ra[Ca++]=Go,Ra[Ca++]=Mu,Mu=e,Go=n}function zg(e,n,s){qn[Hn++]=Di,qn[Hn++]=Oi,qn[Hn++]=Ds,Ds=e;var o=Di;e=Oi;var h=32-ve(o)-1;o&=~(1<<h),s+=1;var f=32-ve(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Di=1<<32-ve(n)+h|s<<h|o,Oi=f+e}else Di=1<<f|s<<h|o,Oi=e}function Kh(e){e.return!==null&&(Zi(e,1),zg(e,1,0))}function Xh(e){for(;e===Mu;)Mu=Ra[--Ca],Ra[Ca]=null,Go=Ra[--Ca],Ra[Ca]=null;for(;e===Ds;)Ds=qn[--Hn],qn[Hn]=null,Oi=qn[--Hn],qn[Hn]=null,Di=qn[--Hn],qn[Hn]=null}function jg(e,n){qn[Hn++]=Di,qn[Hn++]=Oi,qn[Hn++]=Ds,Di=n.id,Oi=n.overflow,Ds=e}var Ke=null,ae=null,zt=!1,Os=null,Gn=!1,$h=Error(a(519));function Ms(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Bn(n,e)),$h}function Bg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[we]=e,n[qe]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)Dt(dl[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),As(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||s_(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=ei),n=!0):n=!1,n||Ms(e,!0)}function qg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Ke=Ke.return}}function Ia(e){if(e!==Ke)return!1;if(!zt)return qg(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||gd(e.type,e.memoizedProps)),s=!s),s&&ae&&Ms(e),qg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=d_(e)}else n===27?(n=ae,Ys(e.type)?(e=Ed,Ed=null,ae=e):ae=n):ae=Ke?Qn(e.stateNode.nextSibling):null;return!0}function Lr(){ae=Ke=null,zt=!1}function Zh(){var e=Os;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Os=null),e}function Fo(e){Os===null?Os=[e]:Os.push(e)}var Jh=S(null),Pr=null,Ji=null;function Vs(e,n,s){$(Jh,n._currentValue),n._currentValue=s}function Wi(e){e._currentValue=Jh.current,L(Jh)}function Wh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Wh(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function xa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===pt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&tf(n,e,s,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zr(e){Pr=e,Ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Hg(Pr,e)}function ku(e,n){return Pr===null&&zr(e),Hg(e,n)}function Hg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ji===null){if(e===null)throw Error(a(308));Ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ji=Ji.next=n;return s}var f1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},d1=r.unstable_scheduleCallback,m1=r.unstable_NormalPriority,Ie={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new f1,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&d1(m1,function(){e.controller.abort()})}var Yo=null,nf=0,Na=0,Da=null;function g1(e,n){if(Yo===null){var s=Yo=[];nf=0,Na=ad(),Da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Gg,Gg),n}function Gg(){if(--nf===0&&Yo!==null){Da!==null&&(Da.status="fulfilled");var e=Yo;Yo=null,Na=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function p1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fg=F.S;F.S=function(e,n){Iy=xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&g1(e,n),Fg!==null&&Fg(e,n)};var jr=S(null);function sf(){var e=jr.current;return e!==null?e:ne.pooledCache}function Uu(e,n){n===null?$(jr,jr.current):$(jr,n.pool)}function Qg(){var e=sf();return e===null?null:{parent:Ie._currentValue,pool:e}}var Oa=Error(a(460)),rf=Error(a(474)),Lu=Error(a(542)),Pu={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ei,ei),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e;default:if(typeof n.status=="string")n.then(ei,ei);else{if(e=ne,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e}throw qr=n,Oa}}function Br(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(qr=s,Oa):s}}var qr=null;function Xg(){if(qr===null)throw Error(a(459));var e=qr;return qr=null,e}function $g(e){if(e===Oa||e===Lu)throw Error(a(483))}var Ma=null,Ko=0;function zu(e){var n=Ko;return Ko+=1,Ma===null&&(Ma=[]),Kg(Ma,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zg(e){function n(k,O){if(e){var z=k.deletions;z===null?(k.deletions=[O],k.flags|=16):z.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=$i(k,O),k.index=0,k.sibling=null,k}function f(k,O,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<O?(k.flags|=67108866,O):z):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,z,Y){return O===null||O.tag!==6?(O=Qh(z,k.mode,Y),O.return=k,O):(O=h(O,z),O.return=k,O)}function x(k,O,z,Y){var mt=z.type;return mt===it?Q(k,O,z.props.children,Y,z.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&Br(mt)===O.type)?(O=h(O,z.props),Xo(O,z),O.return=k,O):(O=Ou(z.type,z.key,z.props,null,k.mode,Y),Xo(O,z),O.return=k,O)}function j(k,O,z,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Yh(z,k.mode,Y),O.return=k,O):(O=h(O,z.children||[]),O.return=k,O)}function Q(k,O,z,Y,mt){return O===null||O.tag!==7?(O=Ur(z,k.mode,Y,mt),O.return=k,O):(O=h(O,z),O.return=k,O)}function K(k,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,k.mode,z),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return z=Ou(O.type,O.key,O.props,null,k.mode,z),Xo(z,O),z.return=k,z;case tt:return O=Yh(O,k.mode,z),O.return=k,O;case A:return O=Br(O),K(k,O,z)}if(pe(O)||U(O))return O=Ur(O,k.mode,z,null),O.return=k,O;if(typeof O.then=="function")return K(k,zu(O),z);if(O.$$typeof===ft)return K(k,ku(k,O),z);ju(k,O)}return null}function B(k,O,z,Y){var mt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return mt!==null?null:T(k,O,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return z.key===mt?x(k,O,z,Y):null;case tt:return z.key===mt?j(k,O,z,Y):null;case A:return z=Br(z),B(k,O,z,Y)}if(pe(z)||U(z))return mt!==null?null:Q(k,O,z,Y,null);if(typeof z.then=="function")return B(k,O,zu(z),Y);if(z.$$typeof===ft)return B(k,O,ku(k,z),Y);ju(k,z)}return null}function H(k,O,z,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(z)||null,T(O,k,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?z:Y.key)||null,x(O,k,Y,mt);case tt:return k=k.get(Y.key===null?z:Y.key)||null,j(O,k,Y,mt);case A:return Y=Br(Y),H(k,O,z,Y,mt)}if(pe(Y)||U(Y))return k=k.get(z)||null,Q(O,k,Y,mt,null);if(typeof Y.then=="function")return H(k,O,z,zu(Y),mt);if(Y.$$typeof===ft)return H(k,O,z,ku(O,Y),mt);ju(O,Y)}return null}function at(k,O,z,Y){for(var mt=null,qt=null,ot=O,It=O=0,Vt=null;ot!==null&&It<z.length;It++){ot.index>It?(Vt=ot,ot=null):Vt=ot.sibling;var Ht=B(k,ot,z[It],Y);if(Ht===null){ot===null&&(ot=Vt);break}e&&ot&&Ht.alternate===null&&n(k,ot),O=f(Ht,O,It),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht,ot=Vt}if(It===z.length)return s(k,ot),zt&&Zi(k,It),mt;if(ot===null){for(;It<z.length;It++)ot=K(k,z[It],Y),ot!==null&&(O=f(ot,O,It),qt===null?mt=ot:qt.sibling=ot,qt=ot);return zt&&Zi(k,It),mt}for(ot=o(ot);It<z.length;It++)Vt=H(ot,k,It,z[It],Y),Vt!==null&&(e&&Vt.alternate!==null&&ot.delete(Vt.key===null?It:Vt.key),O=f(Vt,O,It),qt===null?mt=Vt:qt.sibling=Vt,qt=Vt);return e&&ot.forEach(function(Js){return n(k,Js)}),zt&&Zi(k,It),mt}function _t(k,O,z,Y){if(z==null)throw Error(a(151));for(var mt=null,qt=null,ot=O,It=O=0,Vt=null,Ht=z.next();ot!==null&&!Ht.done;It++,Ht=z.next()){ot.index>It?(Vt=ot,ot=null):Vt=ot.sibling;var Js=B(k,ot,Ht.value,Y);if(Js===null){ot===null&&(ot=Vt);break}e&&ot&&Js.alternate===null&&n(k,ot),O=f(Js,O,It),qt===null?mt=Js:qt.sibling=Js,qt=Js,ot=Vt}if(Ht.done)return s(k,ot),zt&&Zi(k,It),mt;if(ot===null){for(;!Ht.done;It++,Ht=z.next())Ht=K(k,Ht.value,Y),Ht!==null&&(O=f(Ht,O,It),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return zt&&Zi(k,It),mt}for(ot=o(ot);!Ht.done;It++,Ht=z.next())Ht=H(ot,k,It,Ht.value,Y),Ht!==null&&(e&&Ht.alternate!==null&&ot.delete(Ht.key===null?It:Ht.key),O=f(Ht,O,It),qt===null?mt=Ht:qt.sibling=Ht,qt=Ht);return e&&ot.forEach(function(Cb){return n(k,Cb)}),zt&&Zi(k,It),mt}function ee(k,O,z,Y){if(typeof z=="object"&&z!==null&&z.type===it&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case G:t:{for(var mt=z.key;O!==null;){if(O.key===mt){if(mt=z.type,mt===it){if(O.tag===7){s(k,O.sibling),Y=h(O,z.props.children),Y.return=k,k=Y;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&Br(mt)===O.type){s(k,O.sibling),Y=h(O,z.props),Xo(Y,z),Y.return=k,k=Y;break t}s(k,O);break}else n(k,O);O=O.sibling}z.type===it?(Y=Ur(z.props.children,k.mode,Y,z.key),Y.return=k,k=Y):(Y=Ou(z.type,z.key,z.props,null,k.mode,Y),Xo(Y,z),Y.return=k,k=Y)}return g(k);case tt:t:{for(mt=z.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(k,O.sibling),Y=h(O,z.children||[]),Y.return=k,k=Y;break t}else{s(k,O);break}else n(k,O);O=O.sibling}Y=Yh(z,k.mode,Y),Y.return=k,k=Y}return g(k);case A:return z=Br(z),ee(k,O,z,Y)}if(pe(z))return at(k,O,z,Y);if(U(z)){if(mt=U(z),typeof mt!="function")throw Error(a(150));return z=mt.call(z),_t(k,O,z,Y)}if(typeof z.then=="function")return ee(k,O,zu(z),Y);if(z.$$typeof===ft)return ee(k,O,ku(k,z),Y);ju(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(k,O.sibling),Y=h(O,z),Y.return=k,k=Y):(s(k,O),Y=Qh(z,k.mode,Y),Y.return=k,k=Y),g(k)):s(k,O)}return function(k,O,z,Y){try{Ko=0;var mt=ee(k,O,z,Y);return Ma=null,mt}catch(ot){if(ot===Oa||ot===Lu)throw ot;var qt=Rn(29,ot,null,k.mode);return qt.lanes=Y,qt.return=k,qt}}}var Hr=Zg(!0),Jg=Zg(!1),ks=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Us(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),kg(e,null,s),n}return Nu(e,o,n,s),Du(e)}function $o(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,So(e,s)}}function lf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function Zo(){if(uf){var e=Da;if(e!==null)throw e}}function Jo(e,n,s,o){uf=!1;var h=e.updateQueue;ks=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==g&&(T===null?Q.firstBaseUpdate=j:T.next=j,Q.lastBaseUpdate=x))}if(f!==null){var K=h.baseState;g=0,Q=j=x=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Mt&B)===B:(o&B)===B){B!==0&&B===Na&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var at=e,_t=T;B=n;var ee=s;switch(_t.tag){case 1:if(at=_t.payload,typeof at=="function"){K=at.call(ee,K,B);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=_t.payload,B=typeof at=="function"?at.call(ee,K,B):at,B==null)break t;K=w({},K,B);break t;case 2:ks=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(j=Q=H,x=K):Q=Q.next=H,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(x=K),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),qs|=g,e.lanes=g,e.memoizedState=K}}function Wg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function tp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Wg(s[e],n)}var Va=S(null),Bu=S(0);function ep(e,n){e=ls,$(Bu,e),$(Va,n),ls=e|n.baseLanes}function cf(){$(Bu,ls),$(Va,Va.current)}function hf(){ls=Bu.current,L(Va),L(Bu)}var Cn=S(null),Fn=null;function Ps(e){var n=e.alternate;$(Te,Te.current&1),$(Cn,e),Fn===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(Fn=e)}function ff(e){$(Te,Te.current),$(Cn,e),Fn===null&&(Fn=e)}function np(e){e.tag===22?($(Te,Te.current),$(Cn,e),Fn===null&&(Fn=e)):zs()}function zs(){$(Te,Te.current),$(Cn,Cn.current)}function In(e){L(Cn),Fn===e&&(Fn=null),L(Te)}var Te=S(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ts=0,Ct=null,Wt=null,xe=null,Hu=!1,ka=!1,Gr=!1,Gu=0,Wo=0,Ua=null,y1=0;function ye(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!wn(e[s],n[s]))return!1;return!0}function mf(e,n,s,o,h,f){return ts=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?zp:xf,Gr=!1,f=s(o,h),Gr=!1,ka&&(f=sp(n,s,o,h)),ip(e),f}function ip(e){F.H=nl;var n=Wt!==null&&Wt.next!==null;if(ts=0,xe=Wt=Ct=null,Hu=!1,Wo=0,Ua=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Vu(e)&&(Ne=!0))}function sp(e,n,s,o){Ct=e;var h=0;do{if(ka&&(Ua=null),Wo=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,xe=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=jp,f=n(s,o)}while(ka);return f}function _1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function gf(){var e=Gu!==0;return Gu=0,e}function pf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}ts=0,xe=Wt=Ct=null,ka=!1,Wo=Gu=0,Ua=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Ct.memoizedState=xe=e:xe=xe.next=e,xe}function be(){if(Wt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=xe===null?Ct.memoizedState:xe.next;if(n!==null)xe=n,Wt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},xe===null?Ct.memoizedState=xe=e:xe=xe.next=e}return xe}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,Ua===null&&(Ua=[]),e=Kg(Ua,e,n),n=Ct,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?zp:xf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===ft)return Xe(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function es(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=be();return vf(n,Wt,e)}function vf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,x=null,j=n,Q=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(Mt&K)===K:(ts&K)===K){var B=j.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===Na&&(Q=!0);else if((ts&B)===B){j=j.next,B===Na&&(Q=!0);continue}else K={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=K,g=f):x=x.next=K,Ct.lanes|=B,qs|=B;K=j.action,Gr&&s(f,K),f=j.hasEagerState?j.eagerState:s(f,K)}else B={lane:K,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(T=x=B,g=f):x=x.next=B,Ct.lanes|=K,qs|=K;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=T,!wn(f,e.memoizedState)&&(Ne=!0,Q&&(s=Da,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=be(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rp(e,n,s){var o=Ct,h=be(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!wn((Wt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ne=!0),h=h.queue,Sf(lp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},op.bind(null,o,h,s,n),null),ne===null)throw Error(a(349));f||(ts&127)!==0||ap(o,n,s)}return s}function ap(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Fu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function op(e,n,s,o){n.value=s,n.getSnapshot=o,up(n)&&cp(e)}function lp(e,n,s){return s(function(){up(n)&&cp(e)})}function up(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!wn(e,s)}catch{return!0}}function cp(e){var n=kr(e,2);n!==null&&vn(n,e,2)}function Tf(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Gr){kn(!0);try{s()}finally{kn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},n}function hp(e,n,s,o){return e.baseState=s,vf(e,Wt,typeof o=="function"?o:es)}function v1(e,n,s,o,h){if($u(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,fp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function fp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var T=s(h,o),x=F.S;x!==null&&x(g,T),dp(e,n,T)}catch(j){bf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),dp(e,n,f)}catch(j){bf(e,n,j)}}function dp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mp(e,n,o)},function(o){return bf(e,n,o)}):mp(e,n,s)}function mp(e,n,s){n.status="fulfilled",n.value=s,gp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,fp(e,s)))}function bf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,gp(n),n=n.next;while(n!==o)}e.action=null}function gp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pp(e,n){return n}function yp(e,n){if(zt){var s=ne.formState;if(s!==null){t:{var o=Ct;if(zt){if(ae){e:{for(var h=ae,f=Gn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Qn(h.nextSibling),o=h.data==="F!";break t}}Ms(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},s.queue=o,s=Up.bind(null,Ct,o),o.dispatch=s,o=Tf(!1),f=If.bind(null,Ct,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=v1.bind(null,Ct,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function _p(e){var n=be();return vp(n,Wt,e)}function vp(e,n,s){if(n=vf(e,n,pp)[0],e=Yu(es)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(g){throw g===Oa?Lu:g}else o=n;n=be();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,La(9,{destroy:void 0},E1.bind(null,h,s),null)),[o,f,e]}function E1(e,n){e.action=n}function Ep(e){var n=be(),s=Wt;if(s!==null)return vp(n,s,e);be(),n=n.memoizedState,s=be();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function La(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Fu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Tp(){return be().memoizedState}function Ku(e,n,s,o){var h=cn();Ct.flags|=e,h.memoizedState=La(1|n,{destroy:void 0},s,o===void 0?null:o)}function Xu(e,n,s,o){var h=be();o=o===void 0?null:o;var f=h.memoizedState.inst;Wt!==null&&o!==null&&df(o,Wt.memoizedState.deps)?h.memoizedState=La(n,f,s,o):(Ct.flags|=e,h.memoizedState=La(1|n,f,s,o))}function bp(e,n){Ku(8390656,8,e,n)}function Sf(e,n){Xu(2048,8,e,n)}function T1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Fu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Sp(e){var n=be().memoizedState;return T1({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(e,n){return Xu(4,2,e,n)}function wp(e,n){return Xu(4,4,e,n)}function Rp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cp(e,n,s){s=s!=null?s.concat([e]):null,Xu(4,4,Rp.bind(null,n,e),s)}function Af(){}function Ip(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function xp(e,n){var s=be();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),Gr){kn(!0);try{e()}finally{kn(!1)}}return s.memoizedState=[o,n],o}function wf(e,n,s){return s===void 0||(ts&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ny(),Ct.lanes|=e,qs|=e,s)}function Np(e,n,s,o){return wn(s,n)?s:Va.current!==null?(e=wf(e,s,o),wn(e,n)||(Ne=!0),e):(ts&42)===0||(ts&1073741824)!==0&&(Mt&261930)===0?(Ne=!0,e.memoizedState=s):(e=Ny(),Ct.lanes|=e,qs|=e,n)}function Dp(e,n,s,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=F.T,T={};F.T=T,If(e,!1,n,s);try{var x=h(),j=F.S;if(j!==null&&j(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=p1(x,o);el(e,n,Q,Dn(e))}else el(e,n,o,Dn(e))}catch(K){el(e,n,{then:function(){},status:"rejected",reason:K},Dn())}finally{st.p=f,g!==null&&T.types!==null&&(g.types=T.types),F.T=g}}function b1(){}function Rf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Op(e).queue;Dp(e,h,n,dt,s===null?b1:function(){return Mp(e),s(o)})}function Op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mp(e){var n=Op(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},Dn())}function Cf(){return Xe(_l)}function Vp(){return be().memoizedState}function kp(){return be().memoizedState}function S1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Dn();e=Us(s);var o=Ls(n,e,s);o!==null&&(vn(o,n,s),$o(o,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function A1(e,n,s){var o=Dn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(e)?Lp(n,s):(s=Gh(e,n,s,o),s!==null&&(vn(s,e,o),Pp(s,n,o)))}function Up(e,n,s){var o=Dn();el(e,n,s,o)}function el(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(e))Lp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,wn(T,g))return Nu(e,n,h,0),ne===null&&xu(),!1}catch{}if(s=Gh(e,n,h,o),s!==null)return vn(s,e,o),Pp(s,n,o),!0}return!1}function If(e,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(a(479))}else n=Gh(e,s,o,2),n!==null&&vn(n,e,2)}function $u(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Lp(e,n){ka=Hu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Pp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,So(e,s)}}var nl={readContext:Xe,use:Qu,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};nl.useEffectEvent=ye;var zp={readContext:Xe,use:Qu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:bp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ku(4194308,4,Rp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Gr){kn(!0);try{e()}finally{kn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Gr){kn(!0);try{s(n)}finally{kn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=A1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,s=Up.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=cn();return wf(s,e,n)},useTransition:function(){var e=Tf(!1);return e=Dp.bind(null,Ct,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,h=cn();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ne===null)throw Error(a(349));(Mt&127)!==0||ap(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,bp(lp.bind(null,o,f,e),[e]),o.flags|=2048,La(9,{destroy:void 0},op.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=ne.identifierPrefix;if(zt){var s=Oi,o=Di;s=(o&~(1<<32-ve(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=y1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:yp,useActionState:yp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return cn().memoizedState=S1.bind(null,Ct)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:Xe,use:Qu,useCallback:Ip,useContext:Xe,useEffect:Sf,useImperativeHandle:Cp,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:xp,useReducer:Yu,useRef:Tp,useState:function(){return Yu(es)},useDebugValue:Af,useDeferredValue:function(e,n){var s=be();return Np(s,Wt.memoizedState,e,n)},useTransition:function(){var e=Yu(es)[0],n=be().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Cf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var s=be();return hp(s,Wt,e,n)},useMemoCache:_f,useCacheRefresh:kp};xf.useEffectEvent=Sp;var jp={readContext:Xe,use:Qu,useCallback:Ip,useContext:Xe,useEffect:Sf,useImperativeHandle:Cp,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:xp,useReducer:Ef,useRef:Tp,useState:function(){return Ef(es)},useDebugValue:Af,useDeferredValue:function(e,n){var s=be();return Wt===null?wf(s,e,n):Np(s,Wt.memoizedState,e,n)},useTransition:function(){var e=Ef(es)[0],n=be().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Cf,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var s=be();return Wt!==null?hp(s,Wt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:kp};jp.useEffectEvent=Sp;function Nf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Dn(),h=Us(o);h.payload=n,s!=null&&(h.callback=s),n=Ls(e,h,o),n!==null&&(vn(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Dn(),h=Us(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ls(e,h,o),n!==null&&(vn(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Dn(),o=Us(s);o.tag=2,n!=null&&(o.callback=n),n=Ls(e,o,s),n!==null&&(vn(n,e,s),$o(n,e,s))}};function Bp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!qo(s,o)||!qo(h,f):!0}function qp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Fr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Hp(e){Iu(e)}function Gp(e){console.error(e)}function Fp(e){Iu(e)}function Zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Us(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(e,n)},s}function Yp(e){return e=Us(e),e.tag=3,e}function Kp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qp(n,s,o),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function w1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&xa(n,s,h,!0),s=Cn.current,s!==null){switch(s.tag){case 31:case 13:return Fn===null?uc():s.alternate===null&&_e===0&&(_e=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Pu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return s.flags|=65536,o===Pu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(e,o,h)),!1}throw Error(a(435,s.tag))}return id(e,o,h),uc(),!1}if(zt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(a(422),{cause:o}),Fo(Bn(e,s)))):(o!==$h&&(n=Error(a(423),{cause:o}),Fo(Bn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Bn(o,s),h=Of(e.stateNode,o,h),lf(e,h),_e!==4&&(_e=2)),!1;var f=Error(a(520),{cause:o});if(f=Bn(f,s),cl===null?cl=[f]:cl.push(f),_e!==4&&(_e=2),n===null)return!0;o=Bn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,o,e),lf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yp(h),Kp(h,e,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Ne=!1;function $e(e,n,s,o){n.child=e===null?Jg(n,null,s,o):Hr(n,e.child,s,o)}function Xp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return zr(n),o=mf(e,n,s,g,f,h),T=gf(),e!==null&&!Ne?(pf(e,n,h),ns(e,n,h)):(zt&&T&&Kh(n),n.flags|=1,$e(e,n,o,h),n.child)}function $p(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zp(e,n,f,o,h)):(e=Ou(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(g,o)&&e.ref===n.ref)return ns(e,n,h)}return n.flags|=1,e=$i(f,o),e.ref=n.ref,e.return=n,n.child=e}function Zp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,ns(e,n,h)}return Vf(e,n,s,o,h)}function Jp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?ep(n,f):cf(),np(n);else return o=n.lanes=536870912,Wp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Uu(n,f.cachePool),ep(n,f),zs(),n.memoizedState=null):(e!==null&&Uu(n,null),cf(),zs());return $e(e,n,h,s),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(e,n,s,o,h){var f=sf();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Uu(n,null),cf(),np(n),e!==null&&xa(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,s){return Hr(n,e.child,null,s),e=Ju(n,n.pendingProps),e.flags|=2,In(n),n.memoizedState=null,e}function R1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,il(null,e);if(ff(n),(e=ae)?(e=f_(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=Lg(e),s.return=n,n.child=s,Ke=n,ae=null)):e=null,e===null)throw Ms(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||xa(e,n,s,!1),h=(s&e.childLanes)!==0,Ne||h){if(o=ne,o!==null&&(g=Ao(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,kr(e,g),vn(o,e,g),Mf;uc(),n=ty(e,n,s)}else e=f.treeContext,ae=Qn(g.nextSibling),Ke=n,zt=!0,Os=null,Gn=!1,e!==null&&jg(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=$i(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return zr(n),s=mf(e,n,s,o,void 0,h),o=gf(),e!==null&&!Ne?(pf(e,n,h),ns(e,n,h)):(zt&&o&&Kh(n),n.flags|=1,$e(e,n,s,h),n.child)}function ey(e,n,s,o,h,f){return zr(n),n.updateQueue=null,s=sp(n,o,s,h),ip(e),o=gf(),e!==null&&!Ne?(pf(e,n,f),ns(e,n,f)):(zt&&o&&Kh(n),n.flags|=1,$e(e,n,s,f),n.child)}function ny(e,n,s,o,h){if(zr(n),n.stateNode===null){var f=wa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):wa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,x=Fr(s,T);f.props=x;var j=f.context,Q=s.contextType;g=wa,typeof Q=="object"&&Q!==null&&(g=Xe(Q));var K=s.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&qp(n,f,o,g),ks=!1;var B=n.memoizedState;f.state=B,Jo(n,o,f,h),Zo(),j=n.memoizedState,T||B!==j||ks?(typeof K=="function"&&(Nf(n,s,K,o),j=n.memoizedState),(x=ks||Bp(n,s,x,o,B,j,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,Q=Fr(s,g),f.props=Q,K=n.pendingProps,B=f.context,j=s.contextType,x=wa,typeof j=="object"&&j!==null&&(x=Xe(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||B!==x)&&qp(n,f,o,x),ks=!1,B=n.memoizedState,f.state=B,Jo(n,o,f,h),Zo();var H=n.memoizedState;g!==K||B!==H||ks||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof T=="function"&&(Nf(n,s,T,o),H=n.memoizedState),(Q=ks||Bp(n,s,Q,o,B,H,x)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Hr(n,e.child,null,h),n.child=Hr(n,null,s,h)):$e(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ns(e,n,h),e}function iy(e,n,s,o){return Lr(),n.flags|=256,$e(e,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Qg()}}function Lf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function sy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?Ps(n):zs(),(e=ae)?(e=f_(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ds!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},s=Lg(e),s.return=n,n.child=s,Ke=n,ae=null)):e=null,e===null)throw Ms(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(zs(),h=n.mode,T=tc({mode:"hidden",children:T},h),o=Ur(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,g,s),n.memoizedState=kf,il(null,o)):(Ps(n),Pf(n,T))}var x=e.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=zf(e,n,s)):n.memoizedState!==null?(zs(),n.child=e.child,n.flags|=128,n=null):(zs(),T=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),T=Ur(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Hr(n,e.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,g,s),n.memoizedState=kf,n=il(null,o));else if(Ps(n),vd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Fo({value:o,source:null,stack:null}),n=zf(e,n,s)}else if(Ne||xa(e,n,s,!1),g=(s&e.childLanes)!==0,Ne||g){if(g=ne,g!==null&&(o=Ao(g,s),o!==0&&o!==x.retryLane))throw x.retryLane=o,kr(e,o),vn(g,e,o),Mf;_d(T)||uc(),n=zf(e,n,s)}else _d(T)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ae=Qn(T.nextSibling),Ke=n,zt=!0,Os=null,Gn=!1,e!==null&&jg(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(zs(),T=o.fallback,h=n.mode,x=e.child,j=x.sibling,o=$i(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?T=$i(j,T):(T=Ur(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,il(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Uf(s):(h=T.cachePool,h!==null?(x=Ie._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Qg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Lf(e,g,s),n.memoizedState=kf,il(e.child,o)):(Ps(n),s=e.child,e=s.sibling,s=$i(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Pf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=Rn(22,e,null,n),e.lanes=0,e}function zf(e,n,s){return Hr(n,e.child,null,s),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,s)}function jf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ay(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Te.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,$(Te,g),$e(e,n,o,s),o=zt?Go:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,s,n);else if(e.tag===19)ry(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&qu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ns(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(xa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=$i(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=$i(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function C1(e,n,s){switch(n.tag){case 3:et(n,n.stateNode.containerInfo),Vs(n,Ie,e.memoizedState.cache),Lr();break;case 27:case 5:se(n);break;case 4:et(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sy(e,n,s):(Ps(n),e=ns(e,n,s),e!==null?e.sibling:null);Ps(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(xa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ay(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(Te,Te.current),o)break;return null;case 22:return n.lanes=0,Jp(e,n,s,n.pendingProps);case 24:Vs(n,Ie,e.memoizedState.cache)}return ns(e,n,s)}function oy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return Ne=!1,C1(e,n,s);Ne=(e.flags&131072)!==0}else Ne=!1,zt&&(n.flags&1048576)!==0&&zg(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Br(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=Fr(e,o),n.tag=1,n=ny(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Gt){n.tag=11,n=Xp(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=$p(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Fr(o,n.pendingProps),ny(e,n,o,h,s);case 3:t:{if(et(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Vs(n,Ie,o),o!==f.cache&&tf(n,[Ie],s,!0),Zo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,o,s);break t}else if(o!==h){h=Bn(Error(a(424)),n),Fo(h),n=iy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=Qn(e.firstChild),Ke=n,zt=!0,Os=null,Gn=!0,s=Jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Lr(),o===h){n=ns(e,n,s);break t}$e(e,n,o,s)}n=n.child}return n;case 26:return Wu(e,n),e===null?(s=__(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=pc(ht.current).createElement(s),o[we]=n,o[qe]=e,Ze(o,s,e),Re(o),n.stateNode=o):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return se(n),e===null&&zt&&(o=n.stateNode=g_(n.type,n.pendingProps,ht.current),Ke=n,Gn=!0,h=ae,Ys(n.type)?(Ed=h,ae=Qn(o.firstChild)):ae=h),$e(e,n,n.pendingProps.children,s),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=ae)&&(o=ib(o,n.type,n.pendingProps,Gn),o!==null?(n.stateNode=o,Ke=n,ae=Qn(o.firstChild),Gn=!1,h=!0):h=!1),h||Ms(n)),se(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,_1,null,null,s),_l._currentValue=h),Wu(e,n),$e(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=ae)&&(s=sb(s,n.pendingProps,Gn),s!==null?(n.stateNode=s,Ke=n,ae=null,e=!0):e=!1),e||Ms(n)),null;case 13:return sy(e,n,s);case 4:return et(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Hr(n,null,o,s):$e(e,n,o,s),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,s);case 7:return $e(e,n,n.pendingProps,s),n.child;case 8:return $e(e,n,n.pendingProps.children,s),n.child;case 12:return $e(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),$e(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,zr(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,s),n.child;case 14:return $p(e,n,n.type,n.pendingProps,s);case 15:return Zp(e,n,n.type,n.pendingProps,s);case 19:return ay(e,n,s);case 31:return R1(e,n,s);case 22:return Jp(e,n,s,n.pendingProps);case 24:return zr(n),o=Xe(Ie),e===null?(h=sf(),h===null&&(h=ne,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),Vs(n,Ie,h)):((e.lanes&s)!==0&&(of(e,n),Jo(n,null,null,s),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,Ie,o)):(o=f.cache,Vs(n,Ie,o),o!==h.cache&&tf(n,[Ie],s,!0))),$e(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function is(e){e.flags|=4}function qf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw qr=Pu,rf}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(Vy())e.flags|=8192;else throw qr=Pu,rf}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ou():536870912,e.lanes|=n,Ba|=n)}function sl(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function I1(e,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Wi(Ie),ct(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?is(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(is(n),f!==null?(oe(n),ly(n,f)):(oe(n),qf(n,h,null,o,s))):f?f!==e.memoizedState?(is(n),oe(n),ly(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&is(n),oe(n),qf(n,h,e,o,s)),null;case 27:if(en(n),s=ht.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}e=J.current,Ia(n)?Bg(n):(e=g_(h,o,s),n.stateNode=e,is(n))}return oe(n),null;case 5:if(en(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}if(f=J.current,Ia(n))Bg(n);else{var g=pc(ht.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[we]=n,f[qe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&is(n)}}return oe(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&is(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ht.current,Ia(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[we]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||s_(e.nodeValue,s)),e||Ms(n,!0)}else e=pc(e).createTextNode(o),e[we]=n,n.stateNode=e}return oe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ia(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[we]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(In(n),n):(In(n),null);if((n.flags&128)!==0)throw Error(a(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[we]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(In(n),n):(In(n),null)}return In(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),oe(n),null);case 4:return ct(),e===null&&cd(n.stateNode.containerInfo),oe(n),null;case 10:return Wi(n.type),oe(n),null;case 19:if(L(Te),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(_e!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ug(s,e),s=s.sibling;return $(Te,Te.current&1|2),zt&&Zi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&xt()>ac&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return oe(n),null}else 2*xt()-o.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,s=Te.current,$(Te,h?s&1|2:s&1),zt&&Zi(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return In(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&L(jr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Wi(Ie),oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function x1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wi(Ie),ct(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return en(n),null;case 31:if(n.memoizedState!==null){if(In(n),n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(In(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Lr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return L(Te),null;case 4:return ct(),null;case 10:return Wi(n.type),null;case 22:case 23:return In(n),hf(),e!==null&&L(jr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Wi(Ie),null;case 25:return null;default:return null}}function uy(e,n){switch(Xh(n),n.tag){case 3:Wi(Ie),ct();break;case 26:case 27:case 5:en(n);break;case 4:ct();break;case 31:n.memoizedState!==null&&In(n);break;case 13:In(n);break;case 19:L(Te);break;case 10:Wi(n.type);break;case 22:case 23:In(n),hf(),e!==null&&L(jr);break;case 24:Wi(Ie)}}function rl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){$t(n,n.return,T)}}function js(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var x=s,j=T;try{j()}catch(Q){$t(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(n,n.return,Q)}}function cy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{tp(n,s)}catch(o){$t(e,e.return,o)}}}function hy(e,n,s){s.props=Fr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function al(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Mi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function fy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Hf(e,n,s){try{var o=e.stateNode;Z1(o,e.type,s,n),o[qe]=n}catch(h){$t(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ei));else if(o!==4&&(o===27&&Ys(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function nc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ys(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(nc(e,n,s),e=e.sibling;e!==null;)nc(e,n,s),e=e.sibling}function my(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,s),n[we]=e,n[qe]=s}catch(f){$t(e,e.return,f)}}var ss=!1,De=!1,Qf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function N1(e,n){if(e=e.containerInfo,dd=Sc,e=Cg(e),Ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,x=-1,j=0,Q=0,K=e,B=null;e:for(;;){for(var H;K!==s||h!==0&&K.nodeType!==3||(T=g+h),K!==f||o!==0&&K.nodeType!==3||(x=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(H=K.firstChild)!==null;)B=K,K=H;for(;;){if(K===e)break e;if(B===s&&++j===h&&(T=g),B===f&&++Q===o&&(x=g),(H=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=H}s=T===-1||x===-1?null:{start:T,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},Sc=!1,Ge=n;Ge!==null;)if(n=Ge,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ge=e;else for(;Ge!==null;){switch(n=Ge,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Fr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){$t(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ge=e;break}Ge=n.return}}function py(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:as(e,s),o&4&&rl(5,s);break;case 1:if(as(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=Fr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}o&64&&cy(s),o&512&&al(s,s.return);break;case 3:if(as(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{tp(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&o&4&&my(s);case 26:case 5:as(e,s),n===null&&o&4&&fy(s),o&512&&al(s,s.return);break;case 12:as(e,s);break;case 31:as(e,s),o&4&&vy(e,s);break;case 13:as(e,s),o&4&&Ey(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=z1.bind(null,s),rb(e,s))));break;case 22:if(o=s.memoizedState!==null||ss,!o){n=n!==null&&n.memoizedState!==null||De,h=ss;var f=De;ss=o,(De=n)&&!f?os(e,s,(s.subtreeFlags&8772)!==0):as(e,s),ss=h,De=f}break;case 30:break;default:as(e,s)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,gn=!1;function rs(e,n,s){for(s=s.child;s!==null;)_y(e,n,s),s=s.sibling}function _y(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Zn,s)}catch{}switch(s.tag){case 26:De||Mi(s,n),rs(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:De||Mi(s,n);var o=he,h=gn;Ys(s.type)&&(he=s.stateNode,gn=!1),rs(e,n,s),gl(s.stateNode),he=o,gn=h;break;case 5:De||Mi(s,n);case 6:if(o=he,h=gn,he=null,rs(e,n,s),he=o,gn=h,he!==null)if(gn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:he!==null&&(gn?(e=he,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xa(e)):c_(he,s.stateNode));break;case 4:o=he,h=gn,he=s.stateNode.containerInfo,gn=!0,rs(e,n,s),he=o,gn=h;break;case 0:case 11:case 14:case 15:js(2,s,n),De||js(4,s,n),rs(e,n,s);break;case 1:De||(Mi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&hy(s,n,o)),rs(e,n,s);break;case 21:rs(e,n,s);break;case 22:De=(o=De)||s.memoizedState!==null,rs(e,n,s),De=o;break;default:rs(e,n,s)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(s){$t(n,n.return,s)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(s){$t(n,n.return,s)}}function D1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gy),n;default:throw Error(a(435,e.tag))}}function ic(e,n){var s=D1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=j1.bind(null,e,o);o.then(h,h)}})}function pn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ys(T.type)){he=T.stateNode,gn=!1;break t}break;case 5:he=T.stateNode,gn=!1;break t;case 3:case 4:he=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(he===null)throw Error(a(160));_y(f,g,h),he=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var oi=null;function Ty(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),yn(e),o&4&&(js(3,e,e.return),rl(3,e),js(5,e,e.return));break;case 1:pn(n,e),yn(e),o&512&&(De||s===null||Mi(s,s.return)),o&64&&ss&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=oi;if(pn(n,e),yn(e),o&512&&(De||s===null||Mi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[vi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,s),f[we]=e,Re(f),o=f;break t;case"link":var g=T_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,s),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[we]=e,Re(f),o=f}e.stateNode=o}else b_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?b_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:pn(n,e),yn(e),o&512&&(De||s===null||Mi(s,s.return)),s!==null&&o&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(pn(n,e),yn(e),o&512&&(De||s===null||Mi(s,s.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(at){$t(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(pn(n,e),yn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){$t(e,e.return,at)}}break;case 3:if(vc=null,h=oi,oi=yc(n.containerInfo),pn(n,e),oi=h,yn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(at){$t(e,e.return,at)}Qf&&(Qf=!1,by(e));break;case 4:o=oi,oi=yc(e.stateNode.containerInfo),pn(n,e),yn(e),oi=o;break;case 12:pn(n,e),yn(e);break;case 31:pn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:pn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=xt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,j=ss,Q=De;if(ss=j||h,De=Q||x,pn(n,e),De=Q,ss=j,yn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||ss||De||Qr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=x.stateNode;var K=x.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){$t(x,x.return,at)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(at){$t(x,x.return,at)}}}else if(n.tag===18){if(s===null){x=n;try{var H=x.stateNode;h?h_(H,!0):h_(x.stateNode,!1)}catch(at){$t(x,x.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ic(e,s))));break;case 19:pn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:pn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);nc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(mn(g,""),s.flags&=-33);var T=Gf(e);nc(e,T,g);break;case 3:case 4:var x=s.stateNode.containerInfo,j=Gf(e);Ff(e,j,x);break;default:throw Error(a(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function as(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function Qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Qr(n);break;case 1:Mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),Qr(n);break;case 27:gl(n.stateNode);case 26:case 5:Mi(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}e=e.sibling}}function os(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:os(h,f,s),rl(4,f);break;case 1:if(os(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){$t(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Wg(x[h],T)}catch(j){$t(o,o.return,j)}}s&&g&64&&cy(f),al(f,f.return);break;case 27:my(f);case 26:case 5:os(h,f,s),s&&o===null&&g&4&&fy(f),al(f,f.return);break;case 12:os(h,f,s);break;case 31:os(h,f,s),s&&g&4&&vy(h,f);break;case 13:os(h,f,s),s&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&os(h,f,s),al(f,f.return);break;case 30:break;default:os(h,f,s)}n=n.sibling}}function Yf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qo(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function li(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,s,o),n=n.sibling}function Sy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(e,n,s,o),h&2048&&rl(9,n);break;case 1:li(e,n,s,o);break;case 3:li(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){li(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){$t(n,n.return,x)}}else li(e,n,s,o);break;case 31:li(e,n,s,o);break;case 13:li(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?li(e,n,s,o):ol(e,n):f._visibility&2?li(e,n,s,o):(f._visibility|=2,Pa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:li(e,n,s,o),h&2048&&Kf(n.alternate,n);break;default:li(e,n,s,o)}}function Pa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,x=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Pa(f,g,T,x,h),rl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Pa(f,g,T,x,h):ol(f,g):(Q._visibility|=2,Pa(f,g,T,x,h)),h&&j&2048&&Yf(g.alternate,g);break;case 24:Pa(f,g,T,x,h),h&&j&2048&&Kf(g.alternate,g);break;default:Pa(f,g,T,x,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Yf(o.alternate,o);break;case 24:ol(s,o),h&2048&&Kf(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function za(e,n,s){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)Ay(e,n,s),e=e.sibling}function Ay(e,n,s){switch(e.tag){case 26:za(e,n,s),e.flags&ll&&e.memoizedState!==null&&yb(s,oi,e.memoizedState,e.memoizedProps);break;case 5:za(e,n,s);break;case 3:case 4:var o=oi;oi=yc(e.stateNode.containerInfo),za(e,n,s),oi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,za(e,n,s),ll=o):za(e,n,s));break;default:za(e,n,s)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ge=o,Cy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&js(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):ul(e);break;default:ul(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ge=o,Cy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:js(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function Cy(e,n){for(;Ge!==null;){var s=Ge;switch(s.tag){case 0:case 11:case 15:js(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ge=o;else t:for(s=e;Ge!==null;){o=Ge;var h=o.sibling,f=o.return;if(yy(o),o===s){Ge=null;break t}if(h!==null){h.return=f,Ge=h;break t}Ge=f}}}var O1={getCacheForType:function(e){var n=Xe(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xe(Ie).controller.signal}},M1=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ne=null,Nt=null,Mt=0,Xt=0,xn=null,Bs=!1,ja=!1,Xf=!1,ls=0,_e=0,qs=0,Yr=0,$f=0,Nn=0,Ba=0,cl=null,_n=null,Zf=!1,rc=0,Iy=0,ac=1/0,oc=null,Hs=null,Le=0,Gs=null,qa=null,us=0,Jf=0,Wf=null,xy=null,hl=0,td=null;function Dn(){return(Qt&2)!==0&&Mt!==0?Mt&-Mt:F.T!==null?ad():lu()}function Ny(){if(Nn===0)if((Mt&536870912)===0||zt){var e=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Nn=e}else Nn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Nn}function vn(e,n,s){(e===ne&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Fs(e,Mt,Nn,!1)),Tr(e,s),((Qt&2)===0||e!==ne)&&(e===ne&&((Qt&2)===0&&(Yr|=s),_e===4&&Fs(e,Mt,Nn,!1)),Vi(e))}function Dy(e,n,s){if((Qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Jn(e,n),h=o?U1(e,n):nd(e,n,!0),f=o;do{if(h===0){ja&&!o&&Fs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!V1(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=cl;var x=T.current.memoizedState.isDehydrated;if(x&&(Ha(T,g).flags|=256),g=nd(T,g,!1),g!==2){if(Xf&&!x){T.errorRecoveryDisabledLanes|=f,Yr|=f,h=4;break t}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ha(e,0),Fs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Fs(o,n,Nn,!Bs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-xt(),10<h)){if(Fs(o,n,Nn,!Bs),pi(o,0,!0)!==0)break t;us=n,o.timeoutHandle=l_(Oy.bind(null,o,s,_n,oc,Zf,n,Nn,Yr,Ba,Bs,f,"Throttled",-0,0),h);break t}Oy(o,s,_n,oc,Zf,n,Nn,Yr,Ba,Bs,f,null,-0,0)}}break}while(!0);Vi(e)}function Oy(e,n,s,o,h,f,g,T,x,j,Q,K,B,H){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},Ay(n,f,K);var at=(f&62914560)===f?rc-xt():(f&4194048)===f?Iy-xt():0;if(at=_b(K,at),at!==null){us=f,e.cancelPendingCommit=at(jy.bind(null,e,n,f,s,o,h,g,T,x,Q,K,null,B,H)),Fs(e,f,g,!j);return}}jy(e,n,f,s,o,h,g,T,x)}function V1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fs(e,n,s,o){n&=~$f,n&=~Yr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ve(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&br(e,s,n)}function lc(){return(Qt&6)===0?(fl(0),!1):!0}function ed(){if(Nt!==null){if(Xt===0)var e=Nt.return;else e=Nt,Ji=Pr=null,yf(e),Ma=null,Ko=0,e=Nt;for(;e!==null;)uy(e.alternate,e),e=e.return;Nt=null}}function Ha(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,tb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),us=0,ed(),ne=e,Nt=s=$i(e.current,null),Mt=n,Xt=0,xn=null,Bs=!1,ja=Jn(e,n),Xf=!1,Ba=Nn=$f=Yr=qs=_e=0,_n=cl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ve(o),f=1<<h;n|=e[h],o&=~f}return ls=n,xu(),s}function My(e,n){Ct=null,F.H=nl,n===Oa||n===Lu?(n=Xg(),Xt=3):n===rf?(n=Xg(),Xt=4):Xt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Nt===null&&(_e=1,Zu(e,Bn(n,e.current)))}function Vy(){var e=Cn.current;return e===null?!0:(Mt&4194048)===Mt?Fn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Fn:!1}function ky(){var e=F.H;return F.H=nl,e===null?nl:e}function Uy(){var e=F.A;return F.A=O1,e}function uc(){_e=4,Bs||(Mt&4194048)!==Mt&&Cn.current!==null||(ja=!0),(qs&134217727)===0&&(Yr&134217727)===0||ne===null||Fs(ne,Mt,Nn,!1)}function nd(e,n,s){var o=Qt;Qt|=2;var h=ky(),f=Uy();(ne!==e||Mt!==n)&&(oc=null,Ha(e,n)),n=!1;var g=_e;t:do try{if(Xt!==0&&Nt!==null){var T=Nt,x=xn;switch(Xt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var j=Xt;if(Xt=0,xn=null,Ga(e,T,x,j),s&&ja){g=0;break t}break;default:j=Xt,Xt=0,xn=null,Ga(e,T,x,j)}}k1(),g=_e;break}catch(Q){My(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Ji=Pr=null,Qt=o,F.H=h,F.A=f,Nt===null&&(ne=null,Mt=0,xu()),g}function k1(){for(;Nt!==null;)Ly(Nt)}function U1(e,n){var s=Qt;Qt|=2;var o=ky(),h=Uy();ne!==e||Mt!==n?(oc=null,ac=xt()+500,Ha(e,n)):ja=Jn(e,n);t:do try{if(Xt!==0&&Nt!==null){n=Nt;var f=xn;e:switch(Xt){case 1:Xt=0,xn=null,Ga(e,n,f,1);break;case 2:case 9:if(Yg(f)){Xt=0,xn=null,Py(n);break}n=function(){Xt!==2&&Xt!==9||ne!==e||(Xt=7),Vi(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Yg(f)?(Xt=0,xn=null,Py(n)):(Xt=0,xn=null,Ga(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var T=Nt;if(g?S_(g):T.stateNode.complete){Xt=0,xn=null;var x=T.sibling;if(x!==null)Nt=x;else{var j=T.return;j!==null?(Nt=j,cc(j)):Nt=null}break e}}Xt=0,xn=null,Ga(e,n,f,5);break;case 6:Xt=0,xn=null,Ga(e,n,f,6);break;case 8:ed(),_e=6;break t;default:throw Error(a(462))}}L1();break}catch(Q){My(e,Q)}while(!0);return Ji=Pr=null,F.H=o,F.A=h,Qt=s,Nt!==null?0:(ne=null,Mt=0,xu(),_e)}function L1(){for(;Nt!==null&&!aa();)Ly(Nt)}function Ly(e){var n=oy(e.alternate,e,ls);e.memoizedProps=e.pendingProps,n===null?cc(e):Nt=n}function Py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ey(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ey(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:yf(n);default:uy(s,n),n=Nt=Ug(n,ls),n=oy(s,n,ls)}e.memoizedProps=e.pendingProps,n===null?cc(e):Nt=n}function Ga(e,n,s,o){Ji=Pr=null,yf(n),Ma=null,Ko=0;var h=n.return;try{if(w1(e,h,n,s,Mt)){_e=1,Zu(e,Bn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;_e=1,Zu(e,Bn(s,e.current)),Nt=null;return}n.flags&32768?(zt||o===1?e=!0:ja||(Mt&536870912)!==0?e=!1:(Bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Bs);return}e=n.return;var s=I1(n.alternate,n,ls);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);_e===0&&(_e=5)}function zy(e,n){do{var s=x1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);_e=6,Nt=null}function jy(e,n,s,o,h,f,g,T,x){e.cancelPendingCommit=null;do hc();while(Le!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,s,f,g,T,x),e===ne&&(Nt=ne=null,Mt=0),qa=n,Gs=e,us=s,Jf=f,Wf=h,xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,B1(di,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=st.p,st.p=2,g=Qt,Qt|=4;try{N1(e,n,s)}finally{Qt=g,st.p=h,F.T=o}}Le=1,By(),qy(),Hy()}}function By(){if(Le===1){Le=0;var e=Gs,n=qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=st.p;st.p=2;var h=Qt;Qt|=4;try{Ty(n,e);var f=md,g=Cg(e.containerInfo),T=f.focusedElem,x=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(x!==null&&Ph(T)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Q,T.value.length);else{var K=T.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var H=B.getSelection(),at=T.textContent.length,_t=Math.min(x.start,at),ee=x.end===void 0?_t:Math.min(x.end,at);!H.extend&&_t>ee&&(g=ee,ee=_t,_t=g);var k=wg(T,_t),O=wg(T,ee);if(k&&O&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=K.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),_t>ee?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(K=[],H=T;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Y=K[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Sc=!!dd,md=dd=null}finally{Qt=h,st.p=o,F.T=s}}e.current=n,Le=2}}function qy(){if(Le===2){Le=0;var e=Gs,n=qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=st.p;st.p=2;var h=Qt;Qt|=4;try{py(e,n.alternate,n)}finally{Qt=h,st.p=o,F.T=s}}Le=3}}function Hy(){if(Le===4||Le===3){Le=0,oa();var e=Gs,n=qa,s=us,o=xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,qa=Gs=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Hs=null),Qi(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=st.p,st.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{F.T=n,st.p=h}}(us&3)!==0&&hc(),Vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?hl++:(hl=0,td=e):hl=0,fl(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function hc(){return By(),qy(),Hy(),Fy()}function Fy(){if(Le!==5)return!1;var e=Gs,n=Jf;Jf=0;var s=Qi(us),o=F.T,h=st.p;try{st.p=32>s?32:s,F.T=null,s=Wf,Wf=null;var f=Gs,g=us;if(Le=0,qa=Gs=null,us=0,(Qt&6)!==0)throw Error(a(331));var T=Qt;if(Qt|=4,Ry(f.current),Sy(f,f.current,g,s),Qt=T,fl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Zn,f)}catch{}return!0}finally{st.p=h,F.T=o,Gy(e,n)}}function Qy(e,n,s){n=Bn(s,n),n=Of(e.stateNode,n,2),e=Ls(e,n,2),e!==null&&(Tr(e,2),Vi(e))}function $t(e,n,s){if(e.tag===3)Qy(e,e,s);else for(;n!==null;){if(n.tag===3){Qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){e=Bn(s,e),s=Yp(2),o=Ls(n,s,2),o!==null&&(Kp(s,o,n,e),Tr(o,2),Vi(o));break}}n=n.return}}function id(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new M1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=P1.bind(null,e,n,s),n.then(e,e))}function P1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ne===e&&(Mt&s)===s&&(_e===4||_e===3&&(Mt&62914560)===Mt&&300>xt()-rc?(Qt&2)===0&&Ha(e,0):$f|=s,Ba===Mt&&(Ba=0)),Vi(e)}function Yy(e,n){n===0&&(n=ou()),e=kr(e,n),e!==null&&(Tr(e,n),Vi(e))}function z1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(e,s)}function j1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(e,s)}function B1(e,n){return de(e,n)}var fc=null,Fa=null,sd=!1,dc=!1,rd=!1,Qs=0;function Vi(e){e!==Fa&&e.next===null&&(Fa===null?fc=Fa=e:Fa=Fa.next=e),dc=!0,sd||(sd=!0,H1())}function fl(e,n){if(!rd&&dc){rd=!0;do for(var s=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ve(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zy(o,f))}else f=Mt,f=pi(o,o===ne?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jn(o,f)||(s=!0,Zy(o,f));o=o.next}while(s);rd=!1}}function q1(){Ky()}function Ky(){dc=sd=!1;var e=0;Qs!==0&&W1()&&(e=Qs);for(var n=xt(),s=null,o=fc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,s===null?fc=h:s.next=h,h===null&&(Fa=s)):(s=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}Le!==0&&Le!==5||fl(e),Qs!==0&&(Qs=0)}function Xy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ve(f),T=1<<g,x=h[g];x===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Mh(T,n)):x<=n&&(e.expiredLanes|=T),f&=~T}if(n=ne,s=Mt,s=pi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&bn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&bn(o),Qi(s)){case 2:case 8:s=vr;break;case 32:s=di;break;case 268435456:s=la;break;default:s=di}return o=$y.bind(null,e),s=de(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&bn(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(hc()&&e.callbackNode!==s)return null;var o=Mt;return o=pi(e,e===ne?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Xy(e,xt()),e.callbackNode!=null&&e.callbackNode===s?$y.bind(null,e):null)}function Zy(e,n){if(hc())return null;Dy(e,n,!0)}function H1(){eb(function(){(Qt&6)!==0?de(Ts,q1):Ky()})}function ad(){if(Qs===0){var e=Na;e===0&&(e=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Qs=e}return Qs}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function Wy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function G1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Jy((h[qe]||null).action),g=o.submitter;g&&(n=(n=g[qe]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ci("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var x=g?Wy(h,g):new FormData(h);Rf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(T.preventDefault(),x=g?Wy(h,g):new FormData(h),Rf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],F1=ld.toLowerCase(),Q1=ld[0].toUpperCase()+ld.slice(1);ai(F1,"on"+Q1)}ai(Ng,"onAnimationEnd"),ai(Dg,"onAnimationIteration"),ai(Og,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(l1,"onTransitionRun"),ai(u1,"onTransitionStart"),ai(c1,"onTransitionCancel"),ai(Mg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function t_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],x=T.instance,j=T.currentTarget;if(T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(T=o[g],x=T.instance,j=T.currentTarget,T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=x}}}}function Dt(e,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var o=e+"__bubble";s.has(o)||(e_(n,e,2,!1),s.add(o))}function ud(e,n,s){var o=0;n&&(o|=4),e_(s,e,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[mc]){e[mc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(Y1.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,ud("selectionchange",!1,n))}}function e_(e,n,s,o){switch(N_(n)){case 2:var h=Tb;break;case 8:h=bb;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ei(T),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue t}T=T.parentNode}}o=o.return}Cs(function(){var j=f,Q=Ln(s),K=[];t:{var B=Vg.get(e);if(B!==void 0){var H=Ci,at=e;switch(e){case"keypress":if(xr(s)===0)break t;case"keydown":case"keyup":H=wu;break;case"focusin":at="focus",H=Dr;break;case"focusout":at="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ng:case Dg:case Og:H=_u;break;case Mg:H=b;break;case"scroll":case"scrollend":H=Lo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xi;break;case"toggle":case"beforetoggle":H=Rt}var _t=(n&4)!==0,ee=!_t&&(e==="scroll"||e==="scrollend"),k=_t?B!==null?B+"Capture":null:B;_t=[];for(var O=j,z;O!==null;){var Y=O;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||k===null||(Y=ni(O,k),Y!=null&&_t.push(ml(O,Y,z))),ee)break;O=O.return}0<_t.length&&(B=new H(B,at,null,s,Q),K.push({event:B,listeners:_t}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Vo&&(at=s.relatedTarget||s.fromElement)&&(Ei(at)||at[_i]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=j,at=at?Ei(at):null,at!==null&&(ee=c(at),_t=at.tag,at!==ee||_t!==5&&_t!==27&&_t!==6)&&(at=null)):(H=null,at=j),H!==at)){if(_t=Po,Y="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Xi,Y="onPointerLeave",k="onPointerEnter",O="pointer"),ee=H==null?B:Sn(H),z=at==null?B:Sn(at),B=new _t(Y,O+"leave",H,s,Q),B.target=ee,B.relatedTarget=z,Y=null,Ei(Q)===j&&(_t=new _t(k,O+"enter",at,s,Q),_t.target=z,_t.relatedTarget=ee,Y=_t),ee=Y,H&&at)e:{for(_t=K1,k=H,O=at,z=0,Y=k;Y;Y=_t(Y))z++;Y=0;for(var mt=O;mt;mt=_t(mt))Y++;for(;0<z-Y;)k=_t(k),z--;for(;0<Y-z;)O=_t(O),Y--;for(;z--;){if(k===O||O!==null&&k===O.alternate){_t=k;break e}k=_t(k),O=_t(O)}_t=null}else _t=null;H!==null&&n_(K,B,H,_t,!1),at!==null&&ee!==null&&n_(K,ee,at,_t,!0)}}t:{if(B=j?Sn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var qt=vg;else if(yg(B))if(Eg)qt=r1;else{qt=i1;var ot=n1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ma(j.elementType)&&(qt=vg):qt=s1;if(qt&&(qt=qt(e,j))){_g(K,qt,s,Q);break t}ot&&ot(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Do(B,"number",B.value)}switch(ot=j?Sn(j):window,e){case"focusin":(yg(ot)||ot.contentEditable==="true")&&(ba=ot,zh=j,Ho=null);break;case"focusout":Ho=zh=ba=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ig(K,s,Q);break;case"selectionchange":if(o1)break;case"keydown":case"keyup":Ig(K,s,Q)}var It;if(Ft)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Ta?Or(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ni&&s.locale!=="ko"&&(Ta||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Ta&&(It=Uo()):(Ri=Q,ko="value"in Ri?Ri.value:Ri.textContent,Ta=!0)),ot=gc(j,Vt),0<ot.length&&(Vt=new xi(Vt,e,null,s,Q),K.push({event:Vt,listeners:ot}),It?Vt.data=It:(It=Ea(s),It!==null&&(Vt.data=It)))),(It=zn?JT(e,s):WT(e,s))&&(Vt=gc(j,"onBeforeInput"),0<Vt.length&&(ot=new xi("onBeforeInput","beforeinput",null,s,Q),K.push({event:ot,listeners:Vt}),ot.data=It)),G1(K,e,j,s,Q)}t_(K,n)})}function ml(e,n,s){return{instance:e,listener:n,currentTarget:s}}function gc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(e,s),h!=null&&o.unshift(ml(e,h,f)),h=ni(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function K1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,x=T.alternate,j=T.stateNode;if(T=T.tag,x!==null&&x===o)break;T!==5&&T!==26&&T!==27||j===null||(x=j,h?(j=ni(s,f),j!=null&&g.unshift(ml(s,j,x))):h||(j=ni(s,f),j!=null&&g.push(ml(s,j,x)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var X1=/\r\n?/g,$1=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(X1,`
`).replace($1,"")}function s_(e,n){return n=i_(n),i_(e)===n}function te(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":An(e,"class",o);break;case"tabIndex":An(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,s,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){An(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ga(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ga(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ei);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ga(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),fa(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,fa(e,s,o))}}function fd(e,n,s,o,h,f){switch(s){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):fa(e,s,o)}}}function Ze(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,g,s,null)}}h&&te(e,n,"srcSet",s.srcSet,s,null),o&&te(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var T=f=g=h=null,x=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:te(e,n,o,Q,s,null)}}fu(e,f,T,x,j,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:te(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Ss(e,!!o,n,!1):s!=null&&Ss(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:te(e,n,g,T,s,null)}As(e,o,h,f);return;case"option":for(x in s)s.hasOwnProperty(x)&&(o=s[x],o!=null)&&(x==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":te(e,n,x,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)Dt(dl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,j,o,s,null)}return;default:if(ma(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&fd(e,n,Q,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&te(e,n,T,o,s,null))}function Z1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,x=null,j=null,Q=null;for(H in s){var K=s[H];if(s.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=K;default:o.hasOwnProperty(H)||te(e,n,H,null,o,K)}}for(var B in o){var H=o[B];if(K=s[B],o.hasOwnProperty(B)&&(H!=null||K!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&te(e,n,B,H,o,K)}}da(e,g,T,x,j,Q,f,h);return;case"select":H=g=T=B=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||te(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=s[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==x&&te(e,n,h,f,o,x)}n=T,s=g,o=H,B!=null?Ss(e,!!s,B,!1):!!o!=!!s&&(n!=null?Ss(e,!!s,n,!0):Ss(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,g,h,o,f)}du(e,B,H);return;case"option":for(var at in s)B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:te(e,n,at,null,o,B));for(x in o)B=o[x],H=s[x],o.hasOwnProperty(x)&&B!==H&&(B!=null||H!=null)&&(x==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":te(e,n,x,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)B=s[_t],s.hasOwnProperty(_t)&&B!=null&&!o.hasOwnProperty(_t)&&te(e,n,_t,null,o,B);for(j in o)if(B=o[j],H=s[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:te(e,n,j,B,o,H)}return;default:if(ma(n)){for(var ee in s)B=s[ee],s.hasOwnProperty(ee)&&B!==void 0&&!o.hasOwnProperty(ee)&&fd(e,n,ee,void 0,o,B);for(Q in o)B=o[Q],H=s[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||fd(e,n,Q,B,o,H);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&te(e,n,k,null,o,B);for(K in o)B=o[K],H=s[K],!o.hasOwnProperty(K)||B===H||B==null&&H==null||te(e,n,K,B,o,H)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&r_(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var x=s[o],j=x.startTime;if(j>T)break;var Q=x.transferSize,K=x.initiatorType;Q&&r_(K)&&(x=x.responseEnd,g+=Q*(x<T?1:(T-j)/(x-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function W1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,tb=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,eb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(nb)}:l_;function nb(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function c_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")gl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,gl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[vi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&gl(e.ownerDocument.body);s=h}while(s);Xa(n)}function h_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ib(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[vi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function sb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qn(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function rb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Qn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function g_(e,n,s){switch(n=pc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var Yn=new Map,p_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var cs=st.d;st.d={f:ab,r:ob,D:lb,C:ub,L:cb,m:hb,X:db,S:fb,M:mb};function ab(){var e=cs.f(),n=lc();return e||n}function ob(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?Mp(n):cs.r(e)}var Qa=typeof document>"u"?null:document;function y_(e,n,s){var o=Qa;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),Re(n),o.head.appendChild(n)))}}function lb(e){cs.D(e),y_("dns-prefetch",e,null)}function ub(e,n){cs.C(e,n),y_("preconnect",e,n)}function cb(e,n,s){cs.L(e,n,s);var o=Qa;if(o&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+dn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+dn(s.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var f=h;switch(n){case"style":f=Ya(e);break;case"script":f=Ka(e)}Yn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Yn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Ze(n,"link",e),Re(n),o.head.appendChild(n)))}}function hb(e,n){cs.m(e,n);var s=Qa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!Yn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Yn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),Ze(o,"link",e),Re(o),s.head.appendChild(o)}}}function fb(e,n,s){cs.S(e,n,s);var o=Qa;if(o&&e){var h=Ti(o).hoistableStyles,f=Ya(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(pl(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Yn.get(f))&&Td(e,s);var x=g=o.createElement("link");Re(x),Ze(x,"link",e),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function db(e,n){cs.X(e,n);var s=Qa;if(s&&e){var o=Ti(s).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=w({src:e,async:!0},n),(n=Yn.get(h))&&bd(e,n),f=s.createElement("script"),Re(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function mb(e,n){cs.M(e,n);var s=Qa;if(s&&e){var o=Ti(s).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Yn.get(h))&&bd(e,n),f=s.createElement("script"),Re(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,n,s,o){var h=(h=ht.current)?yc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ya(s.href),s=Ti(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ya(s.href);var f=Ti(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(pl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Yn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Yn.set(e,s),f||gb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(s),s=Ti(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ya(e){return'href="'+dn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function gb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",s),Re(n),e.head.appendChild(n))}function Ka(e){return'[src="'+dn(e)+'"]'}function yl(e){return"script[async]"+e}function E_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+dn(s.href)+'"]');if(o)return n.instance=o,Re(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Re(o),Ze(o,"style",h),_c(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ya(s.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;o=v_(s),(h=Yn.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),Re(f);var g=f;return g._p=new Promise(function(T,x){g.onload=T,g.onerror=x}),Ze(f,"link",o),n.state.loading|=4,_c(f,s.precedence,e),n.instance=f;case"script":return f=Ka(s.src),(h=e.querySelector(yl(f)))?(n.instance=h,Re(h),h):(o=s,(h=Yn.get(f))&&(o=w({},s),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Re(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,s.precedence,e));return n.instance}function _c(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function T_(e,n,s){if(vc===null){var o=new Map,h=vc=new Map;h.set(s,o)}else h=vc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[vi]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function b_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function pb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function yb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ya(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Re(f);return}f=n.ownerDocument||n,o=v_(o),(h=Yn.get(h))&&Td(o,h),f=f.createElement("link"),Re(f);var g=f;g._p=new Promise(function(T,x){g.onload=T,g.onerror=x}),Ze(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ec.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sd=0;function _b(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*J1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(vb,e),Tc=null,Ec.call(e))}function vb(e,n){if(!(n.state.loading&4)){var s=Tc.get(e);if(s)var o=s.get(null);else{s=new Map,Tc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:ft,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Eb(e,n,s,o,h,f,g,T,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function A_(e,n,s,o,h,f,g,T,x,j,Q,K){return e=new Eb(e,n,s,g,x,j,Q,K,T),n=1,f===!0&&(n|=24),f=Rn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),e}function w_(e){return e?(e=wa,e):wa}function R_(e,n,s,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Us(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ls(e,o,n),s!==null&&(vn(s,e,n),$o(s,e,n))}function C_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){C_(e,n),(e=e.alternate)&&C_(e,n)}function I_(e){if(e.tag===13||e.tag===31){var n=kr(e,67108864);n!==null&&vn(n,e,67108864),Ad(e,67108864)}}function x_(e){if(e.tag===13||e.tag===31){var n=Dn();n=Sr(n);var s=kr(e,n);s!==null&&vn(s,e,n),Ad(e,n)}}var Sc=!0;function Tb(e,n,s,o){var h=F.T;F.T=null;var f=st.p;try{st.p=2,wd(e,n,s,o)}finally{st.p=f,F.T=h}}function bb(e,n,s,o){var h=F.T;F.T=null;var f=st.p;try{st.p=8,wd(e,n,s,o)}finally{st.p=f,F.T=h}}function wd(e,n,s,o){if(Sc){var h=Rd(o);if(h===null)hd(e,n,o,Ac,s),D_(e,o);else if(Ab(h,e,n,s,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<Sb.indexOf(e)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=gi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var x=1<<31-ve(g);T.entanglements[1]|=x,g&=~x}Vi(f),(Qt&6)===0&&(ac=xt()+500,fl(0))}}break;case 31:case 13:T=kr(f,2),T!==null&&vn(T,f,2),lc(),Ad(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,s)}}function Rd(e){return e=Ln(e),Cd(e)}var Ac=null;function Cd(e){if(Ac=null,e=Ei(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case Ts:return 2;case vr:return 8;case di:case Fi:return 32;case la:return 268435456;default:return 32}default:return 32}}var Id=!1,Ks=null,Xs=null,$s=null,vl=new Map,El=new Map,Zs=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&I_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ab(e,n,s,o,h){switch(n){case"focusin":return Ks=Tl(Ks,e,n,s,o,h),!0;case"dragenter":return Xs=Tl(Xs,e,n,s,o,h),!0;case"mouseover":return $s=Tl($s,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,s,o,h)),!0}return!1}function O_(e){var n=Ei(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Wn(e.priority,function(){x_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Wn(e.priority,function(){x_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Vo=o,s.target.dispatchEvent(o),Vo=null}else return n=Un(s),n!==null&&I_(n),e.blockedOn=s,!1;n.shift()}return!0}function M_(e,n,s){wc(e)&&s.delete(n)}function wb(){Id=!1,Ks!==null&&wc(Ks)&&(Ks=null),Xs!==null&&wc(Xs)&&(Xs=null),$s!==null&&wc($s)&&($s=null),vl.forEach(M_),El.forEach(M_)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wb)))}var Cc=null;function V_(e){Cc!==e&&(Cc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||s)===null)continue;break}var f=Un(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Xa(e){function n(x){return Rc(x,e)}Ks!==null&&Rc(Ks,e),Xs!==null&&Rc(Xs,e),$s!==null&&Rc($s,e),vl.forEach(n),El.forEach(n);for(var s=0;s<Zs.length;s++){var o=Zs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Zs.length&&(s=Zs[0],s.blockedOn===null);)O_(s),s.blockedOn===null&&Zs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[qe]||null;if(typeof f=="function")g||V_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qe]||null)T=g.formAction;else if(Cd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),V_(s)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Ic.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Dn();R_(s,o,e,n,null,null)},Ic.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),lc(),n[_i]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Zs.length&&n!==0&&n<Zs[s].priority;s++);Zs.splice(s,0,e),s===0&&O_(e)}};var U_=t.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Rb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Zn=xc.inject(Rb),Qe=xc}catch{}}return Sl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Hp,f=Gp,g=Fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A_(e,1,!1,null,null,s,o,null,h,f,g,k_),e[_i]=n.current,cd(e),new xd(n)},Sl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Hp,g=Gp,T=Fp,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=A_(e,1,!0,n,s??null,o,h,x,f,g,T,k_),n.context=w_(null),s=n.current,o=Dn(),o=Sr(o),h=Us(o),h.callback=null,Ls(s,h,o),s=o,n.current.lanes=s,Tr(n,s),Vi(n),e[_i]=n.current,cd(e),new Ic(n)},Sl.version="19.2.3",Sl}var Q_;function Ub(){if(Q_)return Od.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=kb(),Od.exports}var Lb=Ub();const Pb=()=>{};var Y_={};const wv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},zb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(M=64)),a.push(i[E],i[w],i[M],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(wv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):zb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new jb;const M=c<<2|p>>4;if(a.push(M),_!==64){const G=p<<4&240|_>>2;if(a.push(G),w!==64){const tt=_<<6&192|w;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bb=function(r){const t=wv(r);return Rv.encodeByteArray(t,!0)},Kc=function(r){return Bb(r).replace(/\./g,"")},Cv=function(r){try{return Rv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Hb=()=>qb().__FIREBASE_DEFAULTS__,Gb=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Fb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Cv(r[1]);return t&&JSON.parse(t)},dh=()=>{try{return Pb()||Hb()||Gb()||Fb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Iv=r=>dh()?.emulatorHosts?.[r],Qb=r=>{const t=Iv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},xv=()=>dh()?.config,Nv=r=>dh()?.[`_${r}`];class Yb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dv(r){return(await fetch(r,{credentials:"include"})).ok}function Kb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kc(JSON.stringify(i)),Kc(JSON.stringify(d)),""].join(".")}const Il={};function Xb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function $b(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let K_=!1;function Ov(r,t){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Il[r]===t||Il[r]||K_)return;Il[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Xb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{K_=!0,d()},M}function E(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=$b(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),W=document.getElementById(it)||document.createElement("a"),gt=i("preprendIcon"),bt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ft=M.element;p(ft),E(W,it);const Gt=_();y(bt,gt),ft.append(bt,tt,W,Gt),document.body.appendChild(ft)}c?(tt.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Jb(){const r=dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function eS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nS(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iS(){return!Jb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sS(){try{return typeof indexedDB=="object"}catch{return!1}}function rS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const aS="FirebaseError";class Es extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=aS,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?oS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Es(l,p,a)}}function oS(r,t){return r.replace(lS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const lS=/\{\$([^}]+)}/g;function uS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function cr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!cr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function cS(r,t){const i=new hS(r,t);return i.subscribe.bind(i)}class hS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");fS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function hn(r){return r&&r._delegate?r._delegate:r}class Wr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class dS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Yb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gS(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mS(r){return r===Xr?void 0:r}function gS(r){return r.instantiationMode==="EAGER"}class pS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new dS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const yS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},_S=kt.INFO,vS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},ES=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=vS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=_S,this._logHandler=ES,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const TS=(r,t)=>t.some(i=>r instanceof i);let $_,Z_;function bS(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SS(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mv=new WeakMap,Jd=new WeakMap,Vv=new WeakMap,Ld=new WeakMap,Im=new WeakMap;function AS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(rr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Mv.set(i,r)}).catch(()=>{}),Im.set(t,r),t}function wS(r){if(Jd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,t)}let Wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Vv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function RS(r){Wd=r(Wd)}function CS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Pd(this),t,...i);return Vv.set(a,t.sort?t.sort():[t]),rr(a)}:SS().includes(r)?function(...t){return r.apply(Pd(this),t),rr(Mv.get(this))}:function(...t){return rr(r.apply(Pd(this),t))}}function IS(r){return typeof r=="function"?CS(r):(r instanceof IDBTransaction&&wS(r),TS(r,bS())?new Proxy(r,Wd):r)}function rr(r){if(r instanceof IDBRequest)return AS(r);if(Ld.has(r))return Ld.get(r);const t=IS(r);return t!==r&&(Ld.set(r,t),Im.set(t,r)),t}const Pd=r=>Im.get(r);function xS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=rr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(rr(d.result),y.oldVersion,y.newVersion,rr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const NS=["get","getKey","getAll","getAllKeys","count"],DS=["put","add","delete","clear"],zd=new Map;function J_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=DS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||NS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return zd.set(t,c),c}RS(r=>({...r,get:(t,i,a)=>J_(t,i)||r.get(t,i,a),has:(t,i)=>!!J_(t,i)||r.has(t,i)}));class OS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function MS(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",W_="0.14.6";const ms=new Cm("@firebase/app"),VS="@firebase/app-compat",kS="@firebase/analytics-compat",US="@firebase/analytics",LS="@firebase/app-check-compat",PS="@firebase/app-check",zS="@firebase/auth",jS="@firebase/auth-compat",BS="@firebase/database",qS="@firebase/data-connect",HS="@firebase/database-compat",GS="@firebase/functions",FS="@firebase/functions-compat",QS="@firebase/installations",YS="@firebase/installations-compat",KS="@firebase/messaging",XS="@firebase/messaging-compat",$S="@firebase/performance",ZS="@firebase/performance-compat",JS="@firebase/remote-config",WS="@firebase/remote-config-compat",tA="@firebase/storage",eA="@firebase/storage-compat",nA="@firebase/firestore",iA="@firebase/ai",sA="@firebase/firestore-compat",rA="firebase",aA="12.6.0";const em="[DEFAULT]",oA={[tm]:"fire-core",[VS]:"fire-core-compat",[US]:"fire-analytics",[kS]:"fire-analytics-compat",[PS]:"fire-app-check",[LS]:"fire-app-check-compat",[zS]:"fire-auth",[jS]:"fire-auth-compat",[BS]:"fire-rtdb",[qS]:"fire-data-connect",[HS]:"fire-rtdb-compat",[GS]:"fire-fn",[FS]:"fire-fn-compat",[QS]:"fire-iid",[YS]:"fire-iid-compat",[KS]:"fire-fcm",[XS]:"fire-fcm-compat",[$S]:"fire-perf",[ZS]:"fire-perf-compat",[JS]:"fire-rc",[WS]:"fire-rc-compat",[tA]:"fire-gcs",[eA]:"fire-gcs-compat",[nA]:"fire-fst",[sA]:"fire-fst-compat",[iA]:"fire-vertex","fire-js":"fire-js",[rA]:"fire-js-all"};const Xc=new Map,lA=new Map,nm=new Map;function t0(r,t){try{r.container.addComponent(t)}catch(i){ms.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ao(r){const t=r.name;if(nm.has(t))return ms.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,r);for(const i of Xc.values())t0(i,r);for(const i of lA.values())t0(i,r);return!0}function xm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}const uA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Hl("app","Firebase",uA);class cA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const yo=aA;function kv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ar.create("bad-app-name",{appName:String(l)});if(i||(i=xv()),!i)throw ar.create("no-options");const c=Xc.get(l);if(c){if(cr(i,c.options)&&cr(a,c.config))return c;throw ar.create("duplicate-app",{appName:l})}const d=new pS(l);for(const y of nm.values())d.addComponent(y);const p=new cA(i,a,d);return Xc.set(l,p),p}function Uv(r=em){const t=Xc.get(r);if(!t&&r===em&&xv())return kv();if(!t)throw ar.create("no-app",{appName:r});return t}function or(r,t,i){let a=oA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ao(new Wr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const hA="firebase-heartbeat-database",fA=1,Vl="firebase-heartbeat-store";let jd=null;function Lv(){return jd||(jd=xS(hA,fA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ar.create("idb-open",{originalErrorMessage:r.message})})),jd}async function dA(r){try{const i=(await Lv()).transaction(Vl),a=await i.objectStore(Vl).get(Pv(r));return await i.done,a}catch(t){if(t instanceof Es)ms.warn(t.message);else{const i=ar.create("idb-get",{originalErrorMessage:t?.message});ms.warn(i.message)}}}async function e0(r,t){try{const a=(await Lv()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(t,Pv(r)),await a.done}catch(i){if(i instanceof Es)ms.warn(i.message);else{const a=ar.create("idb-set",{originalErrorMessage:i?.message});ms.warn(a.message)}}}function Pv(r){return`${r.name}!${r.options.appId}`}const mA=1024,gA=30;class pA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _A(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>gA){const l=vA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ms.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:i,unsentEntries:a}=yA(this._heartbeatsCache.heartbeats),l=Kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ms.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function yA(r,t=mA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class _A{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sS()?rS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function i0(r){return Kc(JSON.stringify({version:2,heartbeats:r})).length}function vA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function EA(r){ao(new Wr("platform-logger",t=>new OS(t),"PRIVATE")),ao(new Wr("heartbeat",t=>new pA(t),"PRIVATE")),or(tm,W_,r),or(tm,W_,"esm2020"),or("fire-js","")}EA("");var TA="firebase",bA="12.7.0";or(TA,bA,"app");function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SA=zv,jv=new Hl("auth","Firebase",zv());const $c=new Cm("@firebase/auth");function AA(r,...t){$c.logLevel<=kt.WARN&&$c.warn(`Auth (${yo}): ${r}`,...t)}function Pc(r,...t){$c.logLevel<=kt.ERROR&&$c.error(`Auth (${yo}): ${r}`,...t)}function gs(r,...t){throw Nm(r,...t)}function Li(r,...t){return Nm(r,...t)}function Bv(r,t,i){const a={...SA(),[t]:i};return new Hl("auth","Firebase",a).create(t,{appName:r.name})}function ds(r){return Bv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return jv.create(r,...t)}function Tt(r,t,...i){if(!r)throw Nm(t,...i)}function hs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Pc(t),new Error(t)}function ps(r,t){r||hs(t)}function im(){return typeof self<"u"&&self.location?.href||""}function wA(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function RA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wA()||tS()||"connection"in navigator)?navigator.onLine:!0}function CA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ps(i>t,"Short delay should be less than long delay!"),this.isMobile=Zb()||eS()}get(){return RA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(r,t){ps(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class qv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NA=new Fl(3e4,6e4);function Ql(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function _o(r,t,i,a,l={}){return Hv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Gl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return Wb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(_.credentials="include"),qv.fetch()(await Gv(r,r.config.apiHost,i,p),_)})}async function Hv(r,t,i){r._canInitEmulator=!1;const a={...IA,...t};try{const l=new DA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Bv(r,E,_);gs(r,E)}}catch(l){if(l instanceof Es)throw l;gs(r,"network-request-failed",{message:String(l)})}}async function Om(r,t,i,a,l={}){const c=await _o(r,t,i,a,l);return"mfaPendingCredential"in c&&gs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Gv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Dm(r.config,l):`${r.config.apiScheme}://${l}`;return xA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class DA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),NA.get())})}}function Nc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Li(r,t,a);return l.customData._tokenResponse=i,l}async function OA(r,t){return _o(r,"POST","/v1/accounts:delete",t)}async function Zc(r,t){return _o(r,"POST","/v1/accounts:lookup",t)}function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function MA(r,t=!1){const i=hn(r),a=await i.getIdToken(t),l=Mm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:xl(Bd(l.auth_time)),issuedAtTime:xl(Bd(l.iat)),expirationTime:xl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Mm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Cv(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const t=Mm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Es&&VA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function VA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class kA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(r){const t=r.auth,i=await r.getIdToken(),a=await kl(r,Zc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Fv(l.providerUserInfo):[],d=LA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function UA(r){const t=hn(r);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function LA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Fv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function PA(r,t){const i=await Hv(r,{},async()=>{const a=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Gv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(y.credentials="include"),qv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function zA(r,t){return _o(r,"POST","/v2/accounts:revokeToken",Ql(r,t))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=r0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await PA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new eo;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return hs("not implemented")}}function Ws(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new kA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return MA(this,t)}reload(){return UA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ds(this.auth));const t=await this.getIdToken();return await kl(this,OA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:tt,stsTokenManager:it}=i;Tt(w&&it,t,"internal-error");const W=eo.fromJSON(this.name,it);Tt(typeof w=="string",t,"internal-error"),Ws(a,t.name),Ws(l,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof G=="boolean",t,"internal-error"),Ws(c,t.name),Ws(d,t.name),Ws(p,t.name),Ws(y,t.name),Ws(_,t.name),Ws(E,t.name);const gt=new ui({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:E});return tt&&Array.isArray(tt)&&(gt.providerData=tt.map(bt=>({...bt}))),y&&(gt._redirectEventId=y),gt}static async _fromIdTokenResponse(t,i,a=!1){const l=new eo;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Fv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new eo;p.updateFromIdToken(a);const y=new ui({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const a0=new Map;function fs(r){ps(r instanceof Function,"Expected a class definition");let t=a0.get(r);return t?(ps(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,a0.set(r,t),t)}class Qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Qv.type="NONE";const o0=Qv;function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class no{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Zc(this.auth,{idToken:t}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new no(fs(o0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||fs(o0);const d=zc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let w;if(typeof E=="string"){const M=await Zc(t,{idToken:E}).catch(()=>{});if(!M)break;w=await ui._fromGetAccountInfoResponse(t,M,E)}else w=ui._fromJSON(t,E);_!==c&&(p=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new no(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new no(c,t,a))}}function l0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($v(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Yv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jv(t))return"Blackberry";if(Wv(t))return"Webos";if(Kv(t))return"Safari";if((t.includes("chrome/")||Xv(t))&&!t.includes("edge/"))return"Chrome";if(Zv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Yv(r=on()){return/firefox\//i.test(r)}function Kv(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xv(r=on()){return/crios\//i.test(r)}function $v(r=on()){return/iemobile/i.test(r)}function Zv(r=on()){return/android/i.test(r)}function Jv(r=on()){return/blackberry/i.test(r)}function Wv(r=on()){return/webos/i.test(r)}function Vm(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function jA(r=on()){return Vm(r)&&!!window.navigator?.standalone}function BA(){return nS()&&document.documentMode===10}function tE(r=on()){return Vm(r)||Zv(r)||Wv(r)||Jv(r)||/windows phone/i.test(r)||$v(r)}function eE(r,t=[]){let i;switch(r){case"Browser":i=l0(on());break;case"Worker":i=`${l0(on())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${a}`}class qA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function HA(r,t={}){return _o(r,"GET","/v2/passwordPolicy",Ql(r,t))}const GA=6;class FA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??GA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class QA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new qA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=fs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Zc(this,{idToken:t}),a=await ui._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(ds(this));const i=t?hn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await HA(this),i=new FA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await zA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&fs(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[fs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=eE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&AA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Yl(r){return hn(r)}class u0{constructor(t){this.auth=t,this.observer=null,this.addObserver=cS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YA(r){km=r}function KA(r){return km.loadJS(r)}function XA(){return km.gapiScript}function $A(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function ZA(r,t){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(cr(c,t??{}))return l;gs(l,"already-initialized")}return i.initialize({options:t})}function JA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(fs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function WA(r,t,i){const a=Yl(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=nE(t),{host:d,port:p}=tw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(cr(_,a.config.emulator)&&cr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,po(d)?(Dv(`${c}//${d}${y}`),Ov("Auth",!0)):ew()}function nE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function tw(r){const t=nE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function ew(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class iE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return hs("not implemented")}_getIdTokenResponse(t){return hs("not implemented")}_linkToIdToken(t,i){return hs("not implemented")}_getReauthenticationResolver(t){return hs("not implemented")}}async function io(r,t){return Om(r,"POST","/v1/accounts:signInWithIdp",Ql(r,t))}const nw="http://localhost";class ta extends iE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):gs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return io(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,io(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,io(t,i)}buildRequest(){const t={requestUri:nw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class sE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends sE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class tr extends Kl{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class er extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ta._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return er.credential(i,a)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";class nr extends Kl{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends Kl{constructor(){super("twitter.com")}static credential(t,i){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";async function iw(r,t){return Om(r,"POST","/v1/accounts:signUp",Ql(r,t))}class ys{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ui._fromIdTokenResponse(t,a,l),d=h0(a);return new ys({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=h0(a);return new ys({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function sw(r){if(Xn(r.app))return Promise.reject(ds(r));const t=Yl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ys({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await iw(t,{returnSecureToken:!0}),a=await ys._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Wc extends Es{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Wc(t,i,a,l)}}function rE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,t,a):c})}async function rw(r,t,i=!1){const a=await kl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ys._forOperation(r,"link",a)}async function aw(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(ds(a));const l="reauthenticate";try{const c=await kl(r,rE(a,l,t,r),i);Tt(c.idToken,a,"internal-error");const d=Mm(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(r.uid===p,a,"user-mismatch"),ys._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&gs(a,"user-mismatch"),c}}async function ow(r,t,i=!1){if(Xn(r.app))return Promise.reject(ds(r));const a="signIn",l=await rE(r,a,t),c=await ys._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function lw(r,t){return Om(r,"POST","/v1/accounts:signInWithCustomToken",Ql(r,t))}async function uw(r,t){if(Xn(r.app))return Promise.reject(ds(r));const i=Yl(r),a=await lw(i,{token:t,returnSecureToken:!0}),l=await ys._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function cw(r,t,i,a){return hn(r).onIdTokenChanged(t,i,a)}function hw(r,t,i){return hn(r).beforeAuthStateChanged(t,i)}function fw(r,t,i,a){return hn(r).onAuthStateChanged(t,i,a)}const th="__sak";class aE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dw=1e3,mw=10;class oE extends aE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);BA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,mw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}oE.type="LOCAL";const gw=oE;class lE extends aE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}lE.type="SESSION";const uE=lE;function pw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new mh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await pw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];function Um(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class yw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Um("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function _w(r){Pi().location.href=r}function cE(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function vw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ew(){return navigator?.serviceWorker?.controller||null}function Tw(){return cE()?self:null}const hE="firebaseLocalStorageDb",bw=1,eh="firebaseLocalStorage",fE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(r,t){return r.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function Sw(){const r=indexedDB.deleteDatabase(hE);return new Xl(r).toPromise()}function rm(){const r=indexedDB.open(hE,bw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(eh,{keyPath:fE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(eh)?t(a):(a.close(),await Sw(),t(await rm()))})})}async function f0(r,t,i){const a=gh(r,!0).put({[fE]:t,value:i});return new Xl(a).toPromise()}async function Aw(r,t){const i=gh(r,!1).get(t),a=await new Xl(i).toPromise();return a===void 0?null:a.value}function d0(r,t){const i=gh(r,!0).delete(t);return new Xl(i).toPromise()}const ww=800,Rw=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Rw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance(Tw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vw(),!this.activeServiceWorker)return;this.sender=new yw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ew()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await f0(t,th,"1"),await d0(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Aw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const Cw=dE;new Fl(3e4,6e4);function Iw(r,t){return t?fs(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Lm extends iE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,i){return io(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function xw(r){return ow(r.auth,new Lm(r),r.bypassAuthState)}function Nw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),aw(i,new Lm(r),r.bypassAuthState)}async function Dw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),rw(i,new Lm(r),r.bypassAuthState)}class mE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xw;case"linkViaPopup":case"linkViaRedirect":return Dw;case"reauthViaPopup":case"reauthViaRedirect":return Nw;default:gs(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ow=new Fl(2e3,1e4);class to extends mE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Ow.get())};t()}}to.currentPopupAction=null;const Mw="pendingRedirect",jc=new Map;class Vw extends mE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const a=await kw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kw(r,t){const i=Pw(t),a=Lw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Uw(r,t){jc.set(r._key(),t)}function Lw(r){return fs(r._redirectPersistence)}function Pw(r){return zc(Mw,r.config.apiKey,r.name)}async function zw(r,t,i=!1){if(Xn(r.app))return Promise.reject(ds(r));const a=Yl(r),l=Iw(a,t),d=await new Vw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const jw=600*1e3;class Bw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!gE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jw&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(t))}saveEventToCache(t){this.cachedEventUids.add(m0(t)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function gE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function qw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(r);default:return!1}}async function Hw(r,t={}){return _o(r,"GET","/v1/projects",t)}const Gw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fw=/^https?/;async function Qw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Hw(r);for(const i of t)try{if(Yw(i))return}catch{}gs(r,"unauthorized-domain")}function Yw(r){const t=im(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Fw.test(i))return!1;if(Gw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Kw=new Fl(3e4,6e4);function g0(){const r=Pi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Xw(r){return new Promise((t,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(Li(r,"network-request-failed"))},timeout:Kw.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const l=$A("iframefcb");return Pi()[l]=()=>{gapi.load?a():i(Li(r,"network-request-failed"))},KA(`${XA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function $w(r){return Bc=Bc||Xw(r),Bc}const Zw=new Fl(5e3,15e3),Jw="__/auth/iframe",Ww="emulator/auth/iframe",t2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n2(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Dm(t,Ww):`https://${r.config.authDomain}/${Jw}`,a={apiKey:t.apiKey,appName:r.name,v:yo},l=e2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Gl(a).slice(1)}`}async function i2(r){const t=await $w(r),i=Pi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:n2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(r,"network-request-failed"),p=Pi().setTimeout(()=>{c(d)},Zw.get());function y(){Pi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const s2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r2=500,a2=600,o2="_blank",l2="http://localhost";class p0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u2(r,t,i,a=r2,l=a2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...s2,width:a.toString(),height:l.toString(),top:c,left:d},_=on().toLowerCase();i&&(p=Xv(_)?o2:i),Yv(_)&&(t=t||l2,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[G,tt])=>`${M}${G}=${tt},`,"");if(jA(_)&&p!=="_self")return c2(t||"",p),new p0(null);const w=window.open(t||"",p,E);Tt(w,r,"popup-blocked");try{w.focus()}catch{}return new p0(w)}function c2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const h2="__/auth/handler",f2="emulator/auth/handler",d2=encodeURIComponent("fac");async function y0(r,t,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:yo,eventId:l};if(t instanceof sE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",uS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(t instanceof Kl){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${d2}=${encodeURIComponent(y)}`:"";return`${m2(r)}?${Gl(p).slice(1)}${_}`}function m2({config:r}){return r.emulator?Dm(r,f2):`https://${r.authDomain}/${h2}`}const qd="webStorageSupport";class g2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uE,this._completeRedirectFn=zw,this._overrideRedirectResult=Uw}async _openPopup(t,i,a,l){ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(t,i,a,im(),l);return u2(t,c,Um())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await y0(t,i,a,im(),l);return _w(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ps(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await i2(t),a=new Bw(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),gs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Qw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return tE()||Kv()||Vm()}}const p2=g2;var _0="@firebase/auth",v0="1.12.0";class y2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v2(r){ao(new Wr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eE(r)},_=new QA(a,l,c,y);return JA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ao(new Wr("auth-internal",t=>{const i=Yl(t.getProvider("auth").getImmediate());return(a=>new y2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(_0,v0,_2(r)),or(_0,v0,"esm2020")}const E2=300,T2=Nv("authIdTokenMaxAge")||E2;let E0=null;const b2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>T2)return;const l=i?.token;E0!==l&&(E0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function S2(r=Uv()){const t=xm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=ZA(r,{popupRedirectResolver:p2,persistence:[Cw,gw,uE]}),a=Nv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=b2(c.toString());hw(i,d,()=>d(i.currentUser)),cw(i,p=>d(p))}}const l=Iv("auth");return l&&WA(i,`http://${l}`),i}function A2(){return document.getElementsByTagName("head")?.[0]??document}YA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Li("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",A2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v2("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lr,pE;(function(){var r;function t(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,D,U){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return A.prototype[D].apply(V,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)V[D]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],D=N.g[2];let U=N.g[3],C;C=A+(U^I&(D^U))+V[0]+3614090360&4294967295,A=I+(C<<7&4294967295|C>>>25),C=U+(D^A&(I^D))+V[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=D+(I^U&(A^I))+V[2]+606105819&4294967295,D=U+(C<<17&4294967295|C>>>15),C=I+(A^D&(U^A))+V[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=A+(U^I&(D^U))+V[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=U+(D^A&(I^D))+V[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=D+(I^U&(A^I))+V[6]+2821735955&4294967295,D=U+(C<<17&4294967295|C>>>15),C=I+(A^D&(U^A))+V[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=A+(U^I&(D^U))+V[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=U+(D^A&(I^D))+V[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=D+(I^U&(A^I))+V[10]+4294925233&4294967295,D=U+(C<<17&4294967295|C>>>15),C=I+(A^D&(U^A))+V[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=A+(U^I&(D^U))+V[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=U+(D^A&(I^D))+V[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=D+(I^U&(A^I))+V[14]+2792965006&4294967295,D=U+(C<<17&4294967295|C>>>15),C=I+(A^D&(U^A))+V[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=A+(D^U&(I^D))+V[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=U+(I^D&(A^I))+V[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=D+(A^I&(U^A))+V[11]+643717713&4294967295,D=U+(C<<14&4294967295|C>>>18),C=I+(U^A&(D^U))+V[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=A+(D^U&(I^D))+V[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=U+(I^D&(A^I))+V[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=D+(A^I&(U^A))+V[15]+3634488961&4294967295,D=U+(C<<14&4294967295|C>>>18),C=I+(U^A&(D^U))+V[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=A+(D^U&(I^D))+V[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=U+(I^D&(A^I))+V[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=D+(A^I&(U^A))+V[3]+4107603335&4294967295,D=U+(C<<14&4294967295|C>>>18),C=I+(U^A&(D^U))+V[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=A+(D^U&(I^D))+V[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=U+(I^D&(A^I))+V[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=D+(A^I&(U^A))+V[7]+1735328473&4294967295,D=U+(C<<14&4294967295|C>>>18),C=I+(U^A&(D^U))+V[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=A+(I^D^U)+V[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=U+(A^I^D)+V[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=D+(U^A^I)+V[11]+1839030562&4294967295,D=U+(C<<16&4294967295|C>>>16),C=I+(D^U^A)+V[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=A+(I^D^U)+V[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=U+(A^I^D)+V[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=D+(U^A^I)+V[7]+4139469664&4294967295,D=U+(C<<16&4294967295|C>>>16),C=I+(D^U^A)+V[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=A+(I^D^U)+V[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=U+(A^I^D)+V[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=D+(U^A^I)+V[3]+3572445317&4294967295,D=U+(C<<16&4294967295|C>>>16),C=I+(D^U^A)+V[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=A+(I^D^U)+V[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=U+(A^I^D)+V[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=D+(U^A^I)+V[15]+530742520&4294967295,D=U+(C<<16&4294967295|C>>>16),C=I+(D^U^A)+V[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=A+(D^(I|~U))+V[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=U+(I^(A|~D))+V[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=D+(A^(U|~I))+V[14]+2878612391&4294967295,D=U+(C<<15&4294967295|C>>>17),C=I+(U^(D|~A))+V[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=A+(D^(I|~U))+V[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=U+(I^(A|~D))+V[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=D+(A^(U|~I))+V[10]+4293915773&4294967295,D=U+(C<<15&4294967295|C>>>17),C=I+(U^(D|~A))+V[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=A+(D^(I|~U))+V[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=U+(I^(A|~D))+V[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=D+(A^(U|~I))+V[6]+2734768916&4294967295,D=U+(C<<15&4294967295|C>>>17),C=I+(U^(D|~A))+V[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=A+(D^(I|~U))+V[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=U+(I^(A|~D))+V[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=D+(A^(U|~I))+V[2]+718787259&4294967295,D=U+(C<<15&4294967295|C>>>17),C=I+(U^(D|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<A;){if(D==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<A;)if(V[D++]=N[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[A++]=this.g[I]>>>V&255;return N};function c(N,A){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function d(N,A){this.h=A;const I=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==A||(I[D]=U,V=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return W(_(-N));const A=[];let I=1;for(let V=0;N>=I;V++)A[V]=N/I|0,I*=4294967296;return new d(A,0)}function E(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return W(E(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let V=w;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+D),A);D<8?(D=_(Math.pow(A,D)),V=V.j(D).add(_(C))):(V=V.j(I),V=V.add(_(C)))}return V}var w=y(0),M=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-W(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(it(this))return"-"+W(this).toString(N);const A=_(Math.pow(N,6));var I=this;let V="";for(;;){const D=Gt(I,A).g;I=gt(I,D.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,tt(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function it(N){return N.h==-1}r.l=function(N){return N=gt(this,N),it(N)?-1:tt(N)?0:1};function W(N){const A=N.g.length,I=[];for(let V=0;V<A;V++)I[V]=~N.g[V];return new d(I,~N.h).add(M)}r.abs=function(){return it(this)?W(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let D=0;D<=A;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),C=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=C>>>16,U&=65535,C&=65535,I[D]=C<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function gt(N,A){return N.add(W(A))}r.j=function(N){if(tt(this)||tt(N))return w;if(it(this))return it(N)?W(this).j(W(N)):W(W(this).j(N));if(it(N))return W(this.j(W(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,C=this.i(V)&65535,ie=N.i(D)>>>16,pe=N.i(D)&65535;I[2*V+2*D]+=C*pe,bt(I,2*V+2*D),I[2*V+2*D+1]+=U*pe,bt(I,2*V+2*D+1),I[2*V+2*D+1]+=C*ie,bt(I,2*V+2*D+1),I[2*V+2*D+2]+=U*ie,bt(I,2*V+2*D+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new d(I,0)};function bt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ft(N,A){this.g=N,this.h=A}function Gt(N,A){if(tt(A))throw Error("division by zero");if(tt(N))return new ft(w,w);if(it(N))return A=Gt(W(N),A),new ft(W(A.g),W(A.h));if(it(A))return A=Gt(N,W(A)),new ft(W(A.g),A.h);if(N.g.length>30){if(it(N)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(N)<=0;)I=Zt(I),V=Zt(V);var D=Ot(I,1),U=Ot(V,1);for(V=Ot(V,2),I=Ot(I,2);!tt(V);){var C=U.add(V);C.l(N)<=0&&(D=D.add(I),U=C),V=Ot(V,1),I=Ot(I,1)}return A=gt(N,D.j(A)),new ft(D,A)}for(D=w;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),C=U.j(A);it(C)||C.l(N)>0;)I-=V,U=_(I),C=U.j(A);tt(U)&&(U=M),D=D.add(U),N=gt(N,C)}return new ft(D,N)}r.B=function(N){return Gt(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function Zt(N){const A=N.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Ot(N,A){const I=A>>5;A%=32;const V=N.g.length-I,D=[];for(let U=0;U<V;U++)D[U]=A>0?N.i(U+I)>>>A|N.i(U+I+1)<<32-A:N.i(U+I);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,pE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,lr=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,Al,_E,qc,am,vE,EE,TE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break t;v=v[P]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,P,q){for(var nt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)nt[Rt-2]=arguments[Rt];return m.prototype[P].apply(b,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=P[nt]}else u.push(P)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const b=ft.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ft=new it(()=>new Gt,u=>u.reset());class Gt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,Ot=!1,N=new bt,A=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(I)}};function I(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){W(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ie,D),ie.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),F=0;function st(u,m,v,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++F,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Bt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(u,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let q=0;q<L.length;q++)v=L[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function J(u){this.src=u,this.g={},this.h=0}J.prototype.add=function(u,m,v,b,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=ht(u,m,b,P);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new st(m,this.src,q,!!b,P),m.fa=v,u.push(m)),m};function lt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(b,P,1),q&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ht(u,m,v,b){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return P}return-1}var pt="closure_lm_"+(Math.random()*1e6|0),et={};function ct(u,m,v,b,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ct(u,m[q],v,b,P);return null}return v=ke(v),u&&u[pe]?u.J(m,v,p(b)?!!b.capture:!1,P):se(u,m,v,!1,b,P)}function se(u,m,v,b,P,q){if(!m)throw Error("Invalid event type");const nt=p(P)?!!P.capture:!!P;let Rt=ln(u);if(Rt||(u[pt]=Rt=new J(u)),v=Rt.add(m,v,b,nt,q),v.proxy)return v;if(b=en(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(ue(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function en(){function u(v){return m.call(u.src,u.listener,v)}const m=Be;return u}function fn(u,m,v,b,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)fn(u,m[q],v,b,P);else b=p(b)?!!b.capture:!!b,v=ke(v),u&&u[pe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ht(m,v,b,P),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ln(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,v,b,P)),(v=u>-1?m[u]:null)&&vt(v))}function vt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])lt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ue(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ln(m))?(lt(v,u),v.h==0&&(v.src=null,m[pt]=null)):dt(u)}}}function ue(u){return u in et?et[u]:et[u]="on"+u}function Be(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&vt(u),u=v.call(b,m)}return u}function ln(u){return u=u[pt],u instanceof J?u:null}var fi="__closure_events_fn_"+(Math.random()*1e9>>>0);function ke(u){return typeof u=="function"?u:(u[fi]||(u[fi]=function(m){return u.handleEvent(m)}),u[fi])}function re(){V.call(this),this.i=new J(this),this.M=this,this.G=null}w(re,V),re.prototype[pe]=!0,re.prototype.removeEventListener=function(u,m,v,b){fn(this,u,m,v,b)};function de(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(b,u),$(m,P)}P=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],P=bn(q,b,!0,m)&&P;if(q=m.g=u,P=bn(q,b,!0,m)&&P,P=bn(q,b,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],P=bn(q,b,!1,m)&&P}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)dt(v[b]);delete u.g[m],u.h--}}this.G=null},re.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},re.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function bn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const Rt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&lt(u.i,nt),P=Rt.call(Ee,b)!==!1&&P}}return P&&!b.defaultPrevented}function aa(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function oa(u){u.g=aa(()=>{u.g=null,u.i&&(u.i=!1,oa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class xt extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ue(u){V.call(this),this.h=u,this.g={}}w(Ue,V);var Ts=[];function vr(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&vt(m)},u),u.g={}}Ue.prototype.N=function(){Ue.Z.N.call(this),vr(this)},Ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=d.JSON.stringify,Fi=d.JSON.parse,la=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){D.call(this,"d")}w(Qe,D);function kn(){D.call(this,"c")}w(kn,D);var ve={},ru=null;function ua(){return ru=ru||new re}ve.Ia="serverreachability";function au(u){D.call(this,ve.Ia,u)}w(au,D);function mi(u){const m=ua();de(m,new au(m))}ve.STAT_EVENT="statevent";function Er(u,m){D.call(this,ve.STAT_EVENT,u),this.stat=m}w(Er,D);function Ae(u){const m=ua();de(m,new Er(m,u))}ve.Ja="timingevent";function gi(u,m){D.call(this,ve.Ja,u),this.size=m}w(gi,D);function pi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,b,P,q){u.info(function(){if(u.g)if(q){var nt="",Rt=q.split("&");for(let Ft=0;Ft<Rt.length;Ft++){var Ee=Rt[Ft].split("=");if(Ee.length>1){const ce=Ee[0];Ee=Ee[1];const zn=ce.split("_");nt=zn.length>=2&&zn[1]=="type"?nt+(ce+"="+Ee+"&"):nt+(ce+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function ou(u,m,v,b,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+nt})}function yi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(b?" "+b:"")})}function Tr(u,m){u.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return di(q)}catch{return m}}var br={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function Sr(){}w(Sr,iu),Sr.prototype.g=function(){return new XMLHttpRequest},Ao=new Sr;function Qi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Wn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Ue(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var we={},qe={};function _i(u,m,v){u.M=1,u.A=Ar(Ce(m)),u.u=v,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),vi(u),u.B=Ce(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ma(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ti,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new xt(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ts[0]=P.toString()),P=Ts);for(let q=0;q<P.length;q++){const nt=ct(v,P[q],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?S(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),mi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Wn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ii(u)==3?m.j():this.Y(u)},Wn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=ii(this.g),Ee=this.g.ya(),Ft=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Rt!=4||Ee==7||(Ee==8||Ft<=0?mi(3):mi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var q=b;break e}}q=null}if(u=q)yi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,u);else{this.o=!1,this.m=3,Ae(12),Sn(this),Un(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=cu(this,v),ce==qe){Rt==4&&(this.m=4,Ae(14),u=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==we){this.m=4,Ae(15),yi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else yi(this.i,this.l,ce,null),Ti(this,ce);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)yi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(nt),nt.P=!0,Ae(11))}}else yi(this.i,this.l,v,null),Ti(this,v);Rt==4&&Sn(this),this.o&&!this.K&&(Rt==4?vu(this.j,this):(this.o=!1,vi(this)))}else Ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Sn(this),Un(this)}}}catch{}};function kh(u){if(!uu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const b=m.length,P=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qe:(v=Number(m.substring(v,b)),isNaN(v)?we:(b+=1,b+v>m.length?qe:(m=m.slice(b,b+v),u.C=b+v,m)))}Wn.prototype.cancel=function(){this.K=!0,Sn(this)};function vi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=pi(_(u.aa,u),m)}function Ei(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Wn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(mi(),Ae(17)),Sn(this),this.m=2,Un(this)):ha(this,this.T-u)};function Un(u){u.j.I==0||u.K||vu(u.j,u)}function Sn(u){Ei(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ti(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Si(v.h,u))){if(!u.L&&Si(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)va(v),xs(v);else break t;Dr(v),Ae(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=pi(_(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else xi(v,11)}else if((u.L||v.g==u)&&va(v),!C(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ft=P[m];const ce=Ft[0];if(!(ce<=v.K))if(v.K=ce,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const zn=Ft[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Ni=Ft[4];Ni!=null&&(v.za=Ni,v.j.info("SVER="+v.za));const si=Ft[5];si!=null&&typeof si=="number"&&si>0&&(b=1.5*si,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ri=u.g;if(ri){const Or=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var q=b.h;q.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Co(q,q.h),q.h=null))}if(b.G){const Ea=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,Kt(b.J,b.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=u;if(b.na=bu(b,b.L?b.ba:null,b.W),nt.L){Io(b.h,nt);var Rt=nt,Ee=b.O;Ee&&(Rt.H=Ee),Rt.D&&(Ei(Rt),vi(Rt)),b.g=nt}else yu(b);v.i.length>0&&Ii(v)}else Ft[0]!="stop"&&Ft[0]!="close"||xi(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?xi(v,7):Lo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}mi(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bi(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let P,q=null;b>=0?(P=u[v].substring(0,b),q=u[v].substring(b+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,bs(this,u.u),this.h=u.h,No(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,He(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),bs(this,m[4]),this.h=Ai(m[5]||"",!0),No(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(wr(m,da,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wr(m,da,!0),"@"),u.push(Qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wr(v,v.charAt(0)=="/"?Do:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wr(v,du)),u.join("")},An.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?He(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)bs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let nt=0;nt<P.length;){const Rt=P[nt++];Rt=="."?b&&nt==P.length&&q.push(""):Rt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&nt==P.length&&q.push("")):(q.push(Rt),b=!0)}b=q.join("/")}else b=P}return v?m.h=b:v=u.i.toString()!=="",v?No(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new An(u)}function He(u,m,v){u.j=v?Ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function bs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof As?(u.i=m,ga(u.i,u.l)):(v||(m=wr(m,Ss)),u.i=new As(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function Ar(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,fu=/[#\?:]/g,Do=/[#\?]/g,Ss=/[#\?@]/g,du=/#/g;function As(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=As.prototype,r.add=function(u,m){mn(this),this.i=null,u=ws(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){mn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return mn(u),m=ws(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(m,P,b,this)},this)},this)};function Mo(u,m){mn(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return mn(this),this.i=null,u=ws(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(ws(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Qi(v);v=Mo(this,v);for(let q=0;q<v.length;q++){let nt=P;v[q]!==""&&(nt+="="+Qi(v[q])),u.push(nt)}}return this.i=u.join("&")};function gu(u){const m=new As;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ga(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(mu(this,b),ma(this,P,v))},u)),u.j=m}function ei(u,m){const v=new Jn;if(d.Image){const b=new Image;b.onload=E(Ln,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Ln,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Ln,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Ln,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vo(u,m){const v=new Jn,b=new AbortController,P=setTimeout(()=>{b.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(P),q.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function Rs(){this.g=new la}function wi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(wi,iu),wi.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,m){re.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Rr,re),r=Rr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ni(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ni(this),this.readyState==3&&pa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},r.Na=function(u){this.g&&(this.response=u,Cs(this))},r.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return Pt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Cr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Pn(v),typeof u=="string"?v!=null&&Qi(v):Kt(u,m,v))}function Jt(u){re.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Jt,re);var Ri=/^https?$/i,ko=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ir(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ir(this,q)}};function Ir(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Yi(u)}function Uo(u){u.A||(u.A=!0,de(u,"complete"),de(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,de(this,"complete"),de(this,"abort"),Yi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},r.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(de(u,"readystatechange"),ii(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let nt=String(u.D).match(hu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!Ri.test(nt?nt.toLowerCase():"")}v=b}if(v)de(u,"complete"),de(u,"success");else{u.o=6;try{var P=ii(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Uo(u)}}finally{Yi(u)}}}}function Yi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||de(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Fi(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(u){const m={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var v=lu(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Bt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Is.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ae(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Ii(this)};function Lo(u){if(ya(u),u.I==3){var m=u.V++,v=Ce(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Nr(u,v),m=new Wn(u,u.j,m),m.M=2,m.A=Ar(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Tu(u)}function xs(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ya(u){xs(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||A(),Ot||(Zt(),Ot=!0),N.add(m,u),u.D=0}}function _a(u,m){return bi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=pi(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Wn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=S(q),$(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=pu(this,P,m),v=Ce(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Nr(this,v),q&&(this.R?m="headers="+Qi(Pn(q))+"&"+m:this.u&&Cr(v,this.u,q)),Co(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),P.U=!0,_i(P,v,null)):_i(P,v,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var v;m?v=m.l:v=u.V++;const b=Ce(u.J);Kt(b,"SID",u.M),Kt(b,"RID",v),Kt(b,"AID",u.K),Nr(u,b),u.u&&u.o&&Cr(b,u.u,u.o),v=new Wn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,v),_i(v,b,m)}function Nr(u,m){u.H&&Pt(u.H,function(v,b){Kt(m,b,v)}),u.l&&Pt({},function(v,b){Kt(m,b,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Rt=-1;for(;;){const Ee=["count="+v];Rt==-1?v>0?(Rt=P[0].g,Ee.push("ofs="+Rt)):Rt=0:Ee.push("ofs="+Rt);let Ft=!0;for(let ce=0;ce<v;ce++){var q=P[ce].g;const zn=P[ce].map;if(q-=Rt,q<0)Rt=Math.max(0,P[ce].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var nt=zn instanceof Map?zn:Object.entries(zn);for(const[Ni,si]of nt){let ri=si;p(si)&&(ri=di(si)),Ee.push(q+Ni+"="+encodeURIComponent(ri))}}catch(Ni){throw Ee.push(q+"type="+encodeURIComponent("_badmap")),Ni}}catch{b&&b(zn)}}if(Ft){nt=Ee.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||A(),Ot||(Zt(),Ot=!0),N.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=pi(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=pi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),xs(this),_u(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new Wn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Nr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Ar(Ce(m)),v.u=null,v.R=!0,ca(v,u)}r.Va=function(){this.C!=null&&(this.C=null,xs(this),Dr(this),Ae(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){va(u),zo(u),u.g=null;var b=2}else if(Si(u.h,m))v=m.G,Io(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=ua(),de(b,new gi(b,v)),Ii(u)}else yu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&_a(u,m)||b==2&&Dr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const P=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(b,"https"),Ar(b),P?ei(b.toString(),v):Vo(b.toString(),v)}else Ae(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var b=v instanceof An?Ce(v):new An(v);if(b.g!="")m&&(b.g=m+"."+b.g),bs(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new An(null);b&&He(q,b),m&&(q.g=m),P&&bs(q,P),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&Kt(b,v,m),Kt(b,"VER",u.ka),Nr(u,b),b}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new wi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ns(){}Ns.prototype.g=function(u,m){return new un(u,m)};function un(u,m){re.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xi(this)}w(un,re),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Lo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=di(u),u=v);m.i.push(new Re(m.Ya++,u)),m.I==3&&Ii(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,un.Z.N.call(this)};function wu(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(wu,Qe);function Ru(){kn.call(this),this.status=1}w(Ru,kn);function Xi(u){this.g=u}w(Xi,Au),Xi.prototype.ra=function(){de(this.g,"a")},Xi.prototype.qa=function(u){de(this.g,new wu(u))},Xi.prototype.pa=function(u){de(this.g,new Ru)},Xi.prototype.oa=function(){de(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,TE=function(){return new Ns},EE=function(){return ua()},vE=ve,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},br.NO_ERROR=0,br.TIMEOUT=8,br.HTTP_ERROR=6,qc=br,So.COMPLETE="complete",_E=So,su.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",re.prototype.listen=re.prototype.J,Al=su,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,yE=Jt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",S0="4.9.3";let rn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let vo="12.7.0";const ea=new Cm("@firebase/firestore");function $a(){return ea.logLevel}function rt(r,...t){if(ea.logLevel<=kt.DEBUG){const i=t.map(Pm);ea.debug(`Firestore (${vo}): ${r}`,...i)}}function _s(r,...t){if(ea.logLevel<=kt.ERROR){const i=t.map(Pm);ea.error(`Firestore (${vo}): ${r}`,...i)}}function oo(r,...t){if(ea.logLevel<=kt.WARN){const i=t.map(Pm);ea.warn(`Firestore (${vo}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,bE(r,a,i)}function bE(r,t,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw _s(a),new Error(a)}function Yt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||bE(t,l,a)}function wt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Es{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class SE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class w2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class R2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class C2{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ur,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ur)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new SE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class I2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new I2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function D2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=D2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function om(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Ut(l,c):Hd(l)?1:-1}return Ut(r.length,t.length)}const O2=55296,M2=57343;function Hd(r){const t=r.charCodeAt(0);return t>=O2&&t<=M2}function lo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const w0="__name__";class Ui{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ui.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Ui.isNumericId(t),l=Ui.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ui.extractNumericId(t).compare(Ui.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lr.fromString(t.substring(4,t.length-2))}}class me extends Ui{construct(t,i,a){return new me(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new me(i)}static emptyPath(){return new me([])}}const V2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Ui{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return V2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new We([w0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(me.fromString(t))}static fromName(t){return new yt(me.fromString(t).popFirst(5))}static empty(){return new yt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return me.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new me(t.slice()))}}function k2(r,t,i){if(!i)throw new ut(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function U2(r,t,i,a){if(t===!0&&a===!0)throw new ut(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function R0(r){if(!yt.isDocumentKey(r))throw new ut(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function ci(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jm(r);throw new ut(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Me(r,t){const i={typeString:r};return t&&(i.value=t),i}function $l(r,t){if(!AE(r))throw new ut(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(Z.INVALID_ARGUMENT,i);return!0}const C0=-62135596800,I0=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*I0);return new le(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<C0)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-C0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Me("string",le._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new le(0,0))}static max(){return new St(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function L2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new le(i+1,0):new le(i,a));return new hr(l,yt.empty(),t)}function P2(r){return new hr(r.readTime,r.key,Ul)}class hr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new hr(St.min(),yt.empty(),Ul)}static max(){return new hr(St.max(),yt.empty(),Ul)}}function z2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const j2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==j2)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function q2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(r){return r.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const Bm=-1;function yh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function H2(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const wE="";function G2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=x0(t)),t=F2(r.get(i),t);return x0(t)}function F2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case wE:i+="";break;default:i+=c}}return i}function x0(r){return r+wE+""}function N0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function yr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function RE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ge{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new ge(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Je.RED,this.left=l??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Je(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(t){return new D0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class D0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Vn([])}unionWith(t){let i=new ze(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Vn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=Q2.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Se(r.seconds),nanos:Se(r.nanos)}}function Se(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function dr(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const IE="server_timestamp",xE="__type__",NE="__previous_value__",DE="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[xE]?.stringValue===IE}function _h(r){const t=r.mapValue.fields[NE];return qm(t)?_h(t):t}function Ll(r){const t=fr(r.mapValue.fields[DE].timestampValue);return new le(t.seconds,t.nanos)}class Y2{constructor(t,i,a,l,c,d,p,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const ih="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}const OE="__type__",K2="__max__",Mc={mapValue:{}},ME="__vector__",sh="value";function mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:$2(r)?9007199254740991:X2(r)?10:11:Et(28295,{value:r})}function Hi(r,t){if(r===t)return!0;const i=mr(r);if(i!==mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fr(l.timestampValue),p=fr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return dr(l.bytesValue).isEqual(dr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Se(l.geoPointValue.latitude)===Se(c.geoPointValue.latitude)&&Se(l.geoPointValue.longitude)===Se(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Se(l.integerValue)===Se(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Se(l.doubleValue),p=Se(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return lo(r.arrayValue.values||[],t.arrayValue.values||[],Hi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(N0(d)!==N0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Hi(d[y],p[y])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function zl(r,t){return(r.values||[]).find((i=>Hi(i,t)))!==void 0}function uo(r,t){if(r===t)return 0;const i=mr(r),a=mr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Se(c.integerValue||c.doubleValue),y=Se(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return O0(r.timestampValue,t.timestampValue);case 4:return O0(Ll(r),Ll(t));case 5:return om(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=dr(c),y=dr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Ut(p[_],y[_]);if(E!==0)return E}return Ut(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Se(c.latitude),Se(d.latitude));return p!==0?p:Ut(Se(c.longitude),Se(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return M0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[sh]?.arrayValue,E=y[sh]?.arrayValue,w=Ut(_?.values?.length||0,E?.values?.length||0);return w!==0?w:M0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let w=0;w<y.length&&w<E.length;++w){const M=om(y[w],E[w]);if(M!==0)return M;const G=uo(p[y[w]],_[E[w]]);if(G!==0)return G}return Ut(y.length,E.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function O0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=fr(r),a=fr(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function M0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function co(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=fr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return dr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=lm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function Hc(r){switch(mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(r);return t?16+Hc(t):16;case 5:return 2*r.stringValue.length;case 6:return dr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return yr(a.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function um(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function V0(r){return!!r&&"nullValue"in r}function k0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function X2(r){return(r?.mapValue?.fields||{})[OE]?.stringValue===ME}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return yr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Nl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Nl(r.arrayValue.values[i]);return t}return{...r}}function $2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===K2}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(i)}setAll(t){let i=We.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Nl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){yr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Tn(Nl(this.value))}}function VE(r){const t=[];return yr(r.fields,((i,a)=>{const l=new We([i]);if(Gc(a)){const c=VE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Vn(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,St.min(),St.min(),St.min(),Tn.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,St.min(),St.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,St.min(),St.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,i){this.position=t,this.inclusive=i}}function U0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Hi(r.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function Z2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class kE{}class Pe extends kE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new W2(t,i,a):i==="array-contains"?new nR(t,a):i==="in"?new iR(t,a):i==="not-in"?new sR(t,a):i==="array-contains-any"?new rR(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new tR(t,a):new eR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends kE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Gi(t,i)}matches(t){return UE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(r){return r.op==="and"}function LE(r){return J2(r)&&UE(r)}function J2(r){for(const t of r.filters)if(t instanceof Gi)return!1;return!0}function cm(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+co(r.value);if(LE(r))return r.filters.map((t=>cm(t))).join(",");{const t=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${t})`}}function PE(r,t){return r instanceof Pe?(function(a,l){return l instanceof Pe&&a.op===l.op&&a.field.isEqual(l.field)&&Hi(a.value,l.value)})(r,t):r instanceof Gi?(function(a,l){return l instanceof Gi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&PE(d,l.filters[p])),!0):!1})(r,t):void Et(19439)}function zE(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(r):r instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"})(r):"Filter"}class W2 extends Pe{constructor(t,i,a){super(t,i,a),this.key=yt.fromName(a.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class tR extends Pe{constructor(t,i){super(t,"in",i),this.keys=jE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class eR extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=jE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function jE(r,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class nR extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&zl(i.arrayValue,this.value)}}class iR extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&zl(this.value.arrayValue,i)}}class sR extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!zl(this.value.arrayValue,i)}}class rR extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>zl(this.value.arrayValue,a)))}}class aR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function P0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new aR(r,t,i,a,l,c,d)}function Gm(r){const t=wt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>co(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>co(a))).join(",")),t.Te=i}return t.Te}function Fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Z2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!PE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!L0(r.startAt,t.startAt)&&L0(r.endAt,t.endAt)}function hm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class vh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(r,t,i,a,l,c,d,p){return new vh(r,t,i,a,l,c,d,p)}function Eh(r){return new vh(r)}function z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lR(r){return r.collectionGroup!==null}function Dl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(We.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new ah(We.keyField(),a))}return t.Ie}function zi(r){const t=wt(r);return t.Ee||(t.Ee=uR(t,Dl(r))),t.Ee}function uR(r,t){if(r.limitType==="F")return P0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return P0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function fm(r,t,i){return new vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Th(r,t){return Fm(zi(r),zi(t))&&r.limitType===t.limitType}function BE(r){return`${Gm(zi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>zE(l))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(zi(r))}; limitType=${r.limitType})`}function bh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Dl(a),l))})(r,t)}function cR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qE(r){return(t,i)=>{let a=!1;for(const l of Dl(r)){const c=hR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function hR(r,t,i){const a=r.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?uo(y,_):Et(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){yr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return RE(this.inner)}size(){return this.innerSize}}const fR=new ge(yt.comparator);function vs(){return fR}const HE=new ge(yt.comparator);function wl(...r){let t=HE;for(const i of r)t=t.insert(i.key,i);return t}function GE(r){let t=HE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function $r(){return Ol()}function FE(){return Ol()}function Ol(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const dR=new ge(yt.comparator),mR=new ze(yt.comparator);function Lt(...r){let t=mR;for(const i of r)t=t.add(i);return t}const gR=new ze(Ut);function pR(){return gR}function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function QE(r){return{integerValue:""+r}}function YE(r,t){return H2(t)?QE(t):Qm(r,t)}class Sh{constructor(){this._=void 0}}function yR(r,t,i){return r instanceof oh?(function(l,c){const d={fields:{[xE]:{stringValue:IE},[DE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=_h(c)),c&&(d.fields[NE]=c),{mapValue:d}})(i,t):r instanceof ho?XE(r,t):r instanceof jl?$E(r,t):(function(l,c){const d=KE(l,c),p=j0(d)+j0(l.Ae);return um(d)&&um(l.Ae)?QE(p):Qm(l.serializer,p)})(r,t)}function _R(r,t,i){return r instanceof ho?XE(r,t):r instanceof jl?$E(r,t):i}function KE(r,t){return r instanceof Bl?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class oh extends Sh{}class ho extends Sh{constructor(t){super(),this.elements=t}}function XE(r,t){const i=ZE(t);for(const a of r.elements)i.some((l=>Hi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class jl extends Sh{constructor(t){super(),this.elements=t}}function $E(r,t){let i=ZE(t);for(const a of r.elements)i=i.filter((l=>!Hi(l,a)));return{arrayValue:{values:i}}}class Bl extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function j0(r){return Se(r.integerValue||r.doubleValue)}function ZE(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class JE{constructor(t,i){this.field=t,this.transform=i}}function vR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ho&&l instanceof ho||a instanceof jl&&l instanceof jl?lo(a.elements,l.elements,Hi):a instanceof Bl&&l instanceof Bl?Hi(a.Ae,l.Ae):a instanceof oh&&l instanceof oh})(r.transform,t.transform)}class ER{constructor(t,i){this.version=t,this.transformResults=i}}class hi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ah{}function WE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ym(r.key,hi.none()):new Zl(r.key,r.data,hi.none());{const i=r.data,a=Tn.empty();let l=new ze(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new _r(r.key,a,new Vn(l.toArray()),hi.none())}}function TR(r,t,i){r instanceof Zl?(function(l,c,d){const p=l.value.clone(),y=q0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof _r?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=q0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(tT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(r,t,i,a){return r instanceof Zl?(function(c,d,p,y){if(!Fc(c.precondition,d))return p;const _=c.value.clone(),E=H0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof _r?(function(c,d,p,y){if(!Fc(c.precondition,d))return p;const _=H0(c.fieldTransforms,y,d),E=d.data;return E.setAll(tT(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function bR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=KE(a.transform,l||null);c!=null&&(i===null&&(i=Tn.empty()),i.set(a.field,c))}return i||null}function B0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>vR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zl extends Ah{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _r extends Ah{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function q0(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,_R(d,p,i[l]))}return a}function H0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,yR(c,d,t))}return a}class Ym extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class AR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&TR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=FE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=WE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((i,a)=>B0(i,a)))&&lo(this.baseMutations,t.baseMutations,((i,a)=>B0(i,a)))}}class Km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return dR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Km(t,i,a,l)}}class wR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class RR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Oe,jt;function CR(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function eT(r){if(r===void 0)return _s("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Oe.OK:return Z.OK;case Oe.CANCELLED:return Z.CANCELLED;case Oe.UNKNOWN:return Z.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return Z.INTERNAL;case Oe.UNAVAILABLE:return Z.UNAVAILABLE;case Oe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Oe.NOT_FOUND:return Z.NOT_FOUND;case Oe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Oe.ABORTED:return Z.ABORTED;case Oe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Oe.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(jt=Oe||(Oe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function IR(){return new TextEncoder}const xR=new lr([4294967295,4294967295],0);function G0(r){const t=IR().encode(r),i=new pE;return i.update(t),new Uint8Array(i.digest())}function F0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new lr([i,a],0),new lr([l,c],0)]}class Xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=lr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(lr.fromNumber(a)));return l.compare(xR)===1&&(l=new lr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=G0(t),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Xm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=G0(t),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class wh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new wh(St.min(),l,new ge(Ut),vs(),Lt())}}class Jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Jl(a,i,Lt(),Lt(),Lt())}}class Qc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class nT{constructor(t,i){this.targetId=t,this.Ce=i}}class iT{constructor(t,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new Jl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class NR{constructor(t){this.Ge=t,this.ze=new Map,this.je=vs(),this.Je=Vc(),this.He=Vc(),this.Ye=new ge(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(a===0){const d=new yt(c.path);this.et(i,d,an.newNoDocument(d,St.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=dr(a).toUint8Array()}catch(y){if(y instanceof CE)return oo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(d,l,c)}catch(y){return oo(y instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const y=new yt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,an.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new wh(t,i,this.Ye,this.je,a);return this.je=vs(),this.Je=Vc(),this.He=Vc(),this.Ye=new ge(Ut),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Vc(){return new ge(yt.comparator)}function Y0(){return new ge(yt.comparator)}const DR={asc:"ASCENDING",desc:"DESCENDING"},OR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MR={and:"AND",or:"OR"};class VR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(r,t){return r.useProto3Json||yh(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kR(r,t){return lh(r,t.toTimestamp())}function ji(r){return Yt(!!r,49232),St.fromTimestamp((function(i){const a=fr(i);return new le(a.seconds,a.nanos)})(r))}function $m(r,t){return mm(r,t).canonicalString()}function mm(r,t){const i=(function(l){return new me(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function rT(r){const t=me.fromString(r);return Yt(cT(t),10190,{key:t.toString()}),t}function gm(r,t){return $m(r.databaseId,t.path)}function Gd(r,t){const i=rT(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(oT(i))}function aT(r,t){return $m(r.databaseId,t)}function UR(r){const t=rT(r);return t.length===4?me.emptyPath():oT(t)}function pm(r){return new me(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function oT(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function K0(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function LR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Yt(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Yt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?Z.UNKNOWN:eT(_.code);return new ut(E,_.message||"")})(d);i=new iT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(r,a.document.name),c=ji(a.document.updateTime),d=a.document.createTime?ji(a.document.createTime):St.min(),p=new Tn({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(l,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Qc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Gd(r,a.document),c=a.readTime?ji(a.readTime):St.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Gd(r,a.document),c=a.removedTargetIds||[];i=new Qc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new RR(l,c),p=a.targetId;i=new nT(p,d)}}return i}function PR(r,t){let i;if(t instanceof Zl)i={update:K0(r,t.key,t.value)};else if(t instanceof Ym)i={delete:gm(r,t.key)};else if(t instanceof _r)i={update:K0(r,t.key,t.data),updateMask:YR(t.fieldMask)};else{if(!(t instanceof SR))return Et(16599,{Vt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:kR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,t.precondition)),i}function zR(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?ji(l.updateTime):ji(c);return d.isEqual(St.min())&&(d=ji(c)),new ER(d,l.transformResults||[])})(i,t)))):[]}function jR(r,t){return{documents:[aT(r,t.path)]}}function BR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=aT(r,l);const c=(function(_){if(_.length!==0)return uT(Gi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:Ja(M.field),direction:GR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function qR(r){let t=UR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=lT(w);return M instanceof Gi&&LE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(tt){return new ah(Wa(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,yh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,G=w.values||[];return new rh(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,G=w.values||[];return new rh(G,M)})(i.endAt)),oR(t,l,d,c,p,"F",y,_)}function HR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function lT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return Pe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>lT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function GR(r){return DR[r]}function FR(r){return OR[r]}function QR(r){return MR[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return We.fromServerFormat(r.fieldPath)}function uT(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:FR(i.op),value:i.value}}})(r):r instanceof Gi?(function(i){const a=i.getFilters().map((l=>uT(l)));return a.length===1?a[0]:{compositeFilter:{op:QR(i.op),filters:a}}})(r):Et(54877,{filter:r})}function YR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function cT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class sr{constructor(t,i,a,l,c=St.min(),d=St.min(),p=tn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new sr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class KR{constructor(t){this.yt=t}}function XR(r){const t=qR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}class $R{constructor(){this.Cn=new ZR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(hr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class ZR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ze(me.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ze(me.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hT=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(hT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class fo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const $0="LruGarbageCollector",JR=1048576;function Z0([r,t],[i,a]){const l=Ut(r,i);return l===0?Ut(t,a):l}class WR{constructor(t){this.Ir=t,this.buffer=new ze(Z0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt($0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?rt($0,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class eC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ph.ce);const a=new WR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(X0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),$a()<=kt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function nC(r,t){return new eC(r,t)}class iC{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class sC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class rC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ml(a.mutation,l,Vn.empty(),le.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=$r();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=wl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=$r();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=vs();const d=Ol(),p=(function(){return Ol()})();return i.forEach(((y,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof _r)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Ml(E.mutation,_,E.mutation.getFieldMask(),le.now())):d.set(_.key,Vn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new sC(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ol();let l=new ge(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Vn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const w=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,w=FE();E.forEach((M=>{if(!c.has(M)){const G=WE(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):lR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve($r());let p=Ul,y=c;return d.next((_=>X.forEach(_,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((E=>({batchId:p,changes:GE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((a=>{let l=wl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(w,M){return new vh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,an.newInvalidDocument(E)))}));let p=wl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Ml(E.mutation,_,Vn.empty(),le.now()),bh(i,_)&&(p=p.insert(y,_))})),p}))}}class aC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:XR(l.bundledQuery),readTime:ji(l.readTime)}})(i)),X.resolve()}}class oC{constructor(){this.overlays=new ge(yt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=$r();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=$r(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ge(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=$r(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=$r(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new wR(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class lC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new ze(Fe.$r),this.Ur=new ze(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Fe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Fe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new yt(new me([])),a=new Fe(i,t),l=new Fe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new me([])),a=new Fe(i,t),l=new Fe(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Fe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Fe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class uC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Fe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new AR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Fe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Fe(i,0),l=new Fe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Ut);return i.forEach((l=>{const c=new Fe(l,0),d=new Fe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new yt(c),0);let p=new ze(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Fe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Fe(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class cC{constructor(t){this.ri=t,this.docs=(function(){return new ge(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=vs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=vs();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||z2(P2(E),a)<=0||(l.has(E.key)||bh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new hC(this)}getSize(t){return X.resolve(this.size)}}class hC extends iC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class fC{constructor(t){this.persistence=t,this.si=new sa((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=fo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class fT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new lC,this.referenceDelegate=t(this),this.Pi=new fC(this),this.indexManager=new $R,this.remoteDocumentCache=(function(l){return new cC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new KR(i),this.Ii=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new uC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new dC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class dC extends B2{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=yt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class uh{constructor(t,i){this.persistence=t,this.pi=new sa((a=>G2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=nC(this,i)}static mi(t,i){return new uh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(t,i.fromCache,a,l)}}class mC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class gC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iS()?8:q2(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?($a()<=kt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):($a()<=kt.DEBUG&&rt("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?($a()<=kt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):X.resolve())}ys(t,i){if(z0(i))return X.resolve(null);let a=zi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),a=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return z0(i)||l.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):($a()<=kt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(i)),this.vs(t,d,i,L2(l,Ul)).next((p=>p)))}))}Ds(t,i){let a=new ze(qE(t));return i.forEach(((l,c)=>{bh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return $a()<=kt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,hr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",pC=3e8;class yC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ge(Ut),this.xs=new sa((c=>Gm(c)),Fm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new rC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function _C(r,t,i,a){return new yC(r,t,i,a)}async function dT(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function vC(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const w=_.batch,M=w.keys();let G=X.resolve();return M.forEach((tt=>{G=G.next((()=>E.getEntry(y,tt))).next((it=>{const W=_.docVersions.get(tt);Yt(W!==null,48541),it.version.compareTo(W)<0&&(w.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),E.addEntry(it)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function mT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function EC(r,t){const i=wt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,w)=>{const M=l.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?G=G.withResumeToken(tn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,a)),l=l.insert(w,G),(function(it,W,gt){return it.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=pC?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(M,G,E)&&p.push(i.Pi.updateTargetData(c,G))}));let y=vs(),_=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(TC(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function TC(r,t,i){let a=Lt(),l=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=vs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function bC(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function SC(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new sr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function ym(r,t,i){const a=wt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;rt(tg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function J0(r,t,i){const a=wt(r);let l=St.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const w=wt(y),M=w.xs.get(E);return M!==void 0?X.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,E)})(a,d,zi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Lt()))).next((p=>(AC(a,cR(t),p),{documents:p,Qs:c})))))}function AC(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class W0{constructor(){this.activeTargetIds=pR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wC{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RC{Oo(t){}shutdown(){}}const tv="ConnectivityMonitor";class ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(tv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function _m(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Fd="RestConnection",CC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());rt(Fd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),E=po(_);return this.Jo(t,p,y,a,E).then((w=>(rt(Fd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw oo(Fd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=CC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class xC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class NC extends IC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=_m();return new Promise(((p,y)=>{const _=new yE;_.setWithCredentials(!0),_.listenOnce(_E.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const w=_.getResponseJson();rt(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case qc.TIMEOUT:rt(sn,`RPC '${t}' ${d} timed out`),y(new ut(Z.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const M=_.getStatus();if(rt(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G?.error;if(tt&&tt.status&&tt.message){const it=(function(gt){const bt=gt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(bt)>=0?bt:Z.UNKNOWN})(tt.status);y(new ut(it,tt.message))}else y(new ut(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(sn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);rt(sn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=TE(),p=EE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");rt(sn,`Creating RPC '${t}' stream ${l}: ${E}`,y);const w=d.createWebChannel(E,y);this.I_(w);let M=!1,G=!1;const tt=new xC({Yo:W=>{G?rt(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(M||(rt(sn,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),rt(sn,`RPC '${t}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),it=(W,gt,bt)=>{W.listen(gt,(ft=>{try{bt(ft)}catch(Gt){setTimeout((()=>{throw Gt}),0)}}))};return it(w,Al.EventType.OPEN,(()=>{G||(rt(sn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),it(w,Al.EventType.CLOSE,(()=>{G||(G=!0,rt(sn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(w))})),it(w,Al.EventType.ERROR,(W=>{G||(G=!0,oo(sn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ut(Z.UNAVAILABLE,"The operation could not be completed")))})),it(w,Al.EventType.MESSAGE,(W=>{if(!G){const gt=W.data[0];Yt(!!gt,16349);const bt=gt,ft=bt?.error||bt[0]?.error;if(ft){rt(sn,`RPC '${t}' stream ${l} received error:`,ft);const Gt=ft.status;let Zt=(function(A){const I=Oe[A];if(I!==void 0)return eT(I)})(Gt),Ot=ft.message;Zt===void 0&&(Zt=Z.INTERNAL,Ot="Unknown error status: "+Gt+" with message "+ft.message),G=!0,tt.a_(new ut(Zt,Ot)),w.close()}else rt(sn,`RPC '${t}' stream ${l} received:`,gt),tt.u_(gt)}})),it(p,vE.STAT_EVENT,(W=>{W.stat===am.PROXY?rt(sn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===am.NOPROXY&&rt(sn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function Rh(r){return new VR(r,!0)}class gT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class pT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(_s(i.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DC extends pT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=LR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?ji(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=hm(y)?{documents:jR(c,y)}:{query:BR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=sT(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=lh(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=HR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class OC extends pT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zR(t.writeResults,t.commitTime),a=ji(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>PR(this.serializer,a)))};this.q_(i)}}class MC{}class VC extends MC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_s(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class UC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(rt(na,"Restarting streams for network reachability change."),await(async function(y){const _=wt(y);_.Ea.add(4),await Wl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new kC(a,l)}}async function Ch(r){if(ra(r))for(const t of r.da)await t(!0)}async function Wl(r){for(const t of r.da)await t(!1)}function yT(r,t){const i=wt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sg(i)?ig(i):bo(i).O_()&&ng(i,t))}function eg(r,t){const i=wt(r),a=bo(i);i.Ia.delete(t),a.O_()&&_T(i,t),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Ra.set("Unknown"))}function ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}bo(r).Y_(t)}function _T(r,t){r.Va.Ue(t),bo(r).Z_(t)}function ig(r){r.Va=new NR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function sg(r){return ra(r)&&!bo(r).x_()&&r.Ia.size>0}function ra(r){return wt(r).Ea.size===0}function vT(r){r.Va=void 0}async function LC(r){r.Ra.set("Online")}async function PC(r){r.Ia.forEach(((t,i)=>{ng(r,t)}))}async function zC(r,t){vT(r),sg(r)?(r.Ra.ha(t),ig(r)):r.Ra.set("Unknown")}async function jC(r,t,i){if(r.Ra.set("Online"),t instanceof iT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ch(r,a)}else if(t instanceof Qc?r.Va.Ze(t):t instanceof nT?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await mT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),_T(c,y);const w=new sr(E.target,y,_,E.sequenceNumber);ng(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(na,"Failed to raise snapshot:",a),await ch(r,a)}}async function ch(r,t,i){if(!To(t))throw t;r.Ea.add(1),await Wl(r),r.Ra.set("Offline"),i||(i=()=>mT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(na,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ch(r)}))}function ET(r,t){return t().catch((i=>ch(r,i,t)))}async function Ih(r){const t=wt(r),i=gr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bm;for(;BC(t);)try{const l=await bC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,qC(t,l)}catch(l){await ch(t,l)}TT(t)&&bT(t)}function BC(r){return ra(r)&&r.Ta.length<10}function qC(r,t){r.Ta.push(t);const i=gr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function TT(r){return ra(r)&&!gr(r).x_()&&r.Ta.length>0}function bT(r){gr(r).start()}async function HC(r){gr(r).ra()}async function GC(r){const t=gr(r);for(const i of r.Ta)t.ea(i.mutations)}async function FC(r,t,i){const a=r.Ta.shift(),l=Km.from(a,t,i);await ET(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ih(r)}async function QC(r,t){t&&gr(r).X_&&await(async function(a,l){if((function(d){return CR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();gr(a).B_(),await ET(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(a)}})(r,t),TT(r)&&bT(r)}async function iv(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),rt(na,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await Wl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function YC(r,t){const i=wt(r);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await Wl(i),i.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(i,a,l){const c=wt(i);return c.sa(),new DC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:LC.bind(null,r),t_:PC.bind(null,r),r_:zC.bind(null,r),H_:jC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),sg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),vT(r))}))),r.ma}function gr(r){return r.fa||(r.fa=(function(i,a,l){const c=wt(i);return c.sa(),new OC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HC.bind(null,r),r_:QC.bind(null,r),ta:GC.bind(null,r),na:FC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ih(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new rg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,t){if(_s("AsyncQueue",`${t}: ${r}`),To(r))return new ut(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class so{static emptySet(t){return new so(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=wl(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new so;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class sv{constructor(){this.ga=new ge(yt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class mo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new mo(t,i,so.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class KC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XC{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=rv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ut(Z.ABORTED,"Firestore shutting down"))}}function rv(){return new sa((r=>BE(r)),Th)}async function ST(r,t){const i=wt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new KC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ag(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&og(i)}async function AT(r,t){const i=wt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function $C(r,t){const i=wt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&og(i)}function ZC(r,t,i){const a=wt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function og(r){r.Ca.forEach((t=>{t.next()}))}var vm,av;(av=vm||(vm={})).Ma="default",av.Cache="cache";class wT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new mo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class RT{constructor(t){this.key=t}}class CT{constructor(t){this.key=t}}class JC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=qE(t),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,w)=>{const M=l.get(E),G=bh(this.query,w)?w:null,tt=!!M&&this.mutatedKeys.has(M.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;M&&G?M.data.isEqual(G.data)?tt!==it&&(a.track({type:3,doc:G}),W=!0):this.su(M,G)||(a.track({type:2,doc:G}),W=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),W=!0):M&&!G&&(a.track({type:1,doc:M}),W=!0,(y||_)&&(p=!0)),W&&(G?(d=d.add(G),c=it?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,w)=>(function(G,tt){const it=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:W})}};return it(G)-it(tt)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new mo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new CT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new RT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class WC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class tI{constructor(t){this.key=t,this.hu=!1}}class eI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>BE(p)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new ge(yt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nI(r,t,i=!0){const a=MT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await IT(a,t,i,!0),l}async function iI(r,t){const i=MT(r);await IT(i,t,!0,!1)}async function IT(r,t,i,a){const l=await SC(r.localStore,zi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await sI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&yT(r.remoteStore,l),p}async function sI(r,t,i,a,l){r.pu=(w,M,G)=>(async function(it,W,gt,bt){let ft=W.view.ru(gt);ft.Cs&&(ft=await J0(it.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,ft))));const Gt=bt&&bt.targetChanges.get(W.targetId),Zt=bt&&bt.targetMismatches.get(W.targetId)!=null,Ot=W.view.applyChanges(ft,it.isPrimaryClient,Gt,Zt);return lv(it,W.targetId,Ot.au),Ot.snapshot})(r,w,M,G);const c=await J0(r.localStore,t,!0),d=new JC(t,c.Qs),p=d.ru(c.documents),y=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);lv(r,i,_.au);const E=new WC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function rI(r,t,i){const a=wt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Th(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&eg(a.remoteStore,l.targetId),Em(a,l.targetId)})).catch(Eo)):(Em(a,l.targetId),await ym(a.localStore,l.targetId,!0))}async function aI(r,t){const i=wt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),eg(i.remoteStore,a.targetId))}async function oI(r,t,i){const a=mI(r);try{const l=await(function(d,p){const y=wt(d),_=le.now(),E=p.reduce(((G,tt)=>G.add(tt.key)),Lt());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let tt=vs(),it=Lt();return y.Ns.getEntries(G,E).next((W=>{tt=W,tt.forEach(((gt,bt)=>{bt.isValidDocument()||(it=it.add(gt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,tt))).next((W=>{w=W;const gt=[];for(const bt of p){const ft=bR(bt,w.get(bt.key).overlayedDocument);ft!=null&&gt.push(new _r(bt.key,ft,VE(ft.value.mapValue),hi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,gt,p)})).next((W=>{M=W;const gt=W.applyToLocalDocumentSet(w,it);return y.documentOverlayCache.saveOverlays(G,W.batchId,gt)}))})).then((()=>({batchId:M.batchId,changes:GE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ge(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await tu(a,l.changes),await Ih(a.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");i.reject(c)}}async function xT(r,t){const i=wt(r);try{const a=await EC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await tu(i,a,t)}catch(a){await Eo(a)}}function ov(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=wt(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function lI(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ge(yt.comparator);d=d.insert(c,an.newNoDocument(c,St.min()));const p=Lt().add(c),y=new wh(St.min(),new Map,new ge(Ut),d,p);await xT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ug(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(Eo)}async function uI(r,t){const i=wt(r),a=t.batch.batchId;try{const l=await vC(i.localStore,t);DT(i,a,null),NT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,l)}catch(l){await Eo(l)}}async function cI(r,t,i){const a=wt(r);try{const l=await(function(d,p){const y=wt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Yt(w!==null,37113),E=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);DT(a,t,i),NT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await tu(a,l)}catch(l){await Eo(l)}}function NT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function DT(r,t,i){const a=wt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||OT(r,a)}))}function OT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(eg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ug(r))}function lv(r,t,i){for(const a of i)a instanceof RT?(r.Ru.addReference(a.key,t),hI(r,a)):a instanceof CT?(rt(lg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||OT(r,a.key)):Et(19791,{wu:a})}function hI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(lg,"New document in limbo: "+i),r.Eu.add(a),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new yt(me.fromString(t)),a=r.fu.next();r.Au.set(a,new tI(i)),r.du=r.du.insert(i,a),yT(r.remoteStore,new sr(zi(Eh(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function tu(r,t,i){const a=wt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=Wm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const E=wt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(_,(M=>X.forEach(M.Es,(G=>E.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>X.forEach(M.ds,(G=>E.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!To(w))throw w;rt(tg,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const G=E.Ms.get(M),tt=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(tt);E.Ms=E.Ms.insert(M,it)}}})(a.localStore,c))}async function fI(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){rt(lg,"User change. New user:",t.toKey());const a=await dT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ut(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Ls)}}function dI(r,t){const i=wt(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function MT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=xT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lI.bind(null,t),t.Pu.H_=$C.bind(null,t.eventManager),t.Pu.yu=ZC.bind(null,t.eventManager),t}function mI(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return _C(this.persistence,new gC,t.initialUser,this.serializer)}Cu(t){return new fT(Jm.mi,this.serializer)}Du(t){return new wC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class gI extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new fT((a=>uh.mi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await YC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XC})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),a=(function(c){return new NC(c)})(t.databaseInfo);return(function(c,d,p,y){return new VC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new UC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return ev.v()?new ev:new RC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,E){const w=new eI(l,c,d,p,y,_);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);rt(na,"RemoteStore shutting down."),a.Ea.add(5),await Wl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class VT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_s("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const pr="FirestoreClient";class pI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(pr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await dT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function uv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await yI(r);rt(pr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iv(t.remoteStore,l))),r._onlineComponents=t}async function yI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(pr,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new hh)}}else rt(pr,"Using default OfflineComponentProvider"),await Yd(r,new gI(void 0));return r._offlineComponents}async function kT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(pr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(rt(pr,"Using default OnlineComponentProvider"),await uv(r,new Tm))),r._onlineComponents}function _I(r){return kT(r).then((t=>t.syncEngine))}async function bm(r){const t=await kT(r),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=rI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aI.bind(null,t.syncEngine),i}function vI(r,t,i={}){const a=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new VT({next:M=>{E.Nu(),d.enqueueAndForget((()=>AT(c,w)));const G=M.docs.has(p);!G&&M.fromCache?_.reject(new ut(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&y&&y.source==="server"?_.reject(new ut(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new wT(Eh(p.path),E,{includeMetadataChanges:!0,qa:!0});return ST(c,w)})(await bm(r),r.asyncQueue,t,i,a))),a.promise}function UT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const cv=new Map;const LT="firestore.googleapis.com",hv=!0;class fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=hv}else this.host=t.host,this.ssl=t.ssl??hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=hT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<JR)throw new ut(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}U2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new w2;switch(a.type){case"firstParty":return new x2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(rt("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function EI(r,t,i,a={}){r=ci(r,cg);const l=po(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Dv(`https://${p}`),Ov("Firestore",!0)),c.host!==LT&&c.host!==p&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!cr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=rn.MOCK_USER;else{_=Kb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ut(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(w)}r._authCredentials=new R2(new SE(_,E))}}class xh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new xh(this.firestore,t,this._query)}}class Ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if($l(i,Ve._jsonSchema))return new Ve(t,a||null,new yt(me.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Me("string",Ve._jsonSchemaVersion),referencePath:Me("string")};class ql extends xh{constructor(t,i,a){super(t,i,Eh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new yt(t))}withConverter(t){return new ql(this.firestore,t,this._path)}}function On(r,t,...i){if(r=hn(r),arguments.length===1&&(t=zm.newId()),k2("doc","path",t),r instanceof cg){const a=me.fromString(t,...i);return R0(a),new Ve(r,null,new yt(a))}{if(!(r instanceof Ve||r instanceof ql))throw new ut(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(me.fromString(t,...i));return R0(a),new Ve(r.firestore,r instanceof ql?r.converter:null,new yt(a))}}const dv="AsyncQueue";class mv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&rt(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;rt(dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,_s("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=rg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function gv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function pv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ia extends cg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mv(t),this._firestoreClient=void 0,await t}}}function TI(r,t){const i=typeof r=="object"?r:Uv(),a=typeof r=="string"?r:ih,l=xm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Qb("firestore");c&&EI(l,...c)}return l}function hg(r){if(r._terminated)throw new ut(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||bI(r),r._firestoreClient}function bI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Y2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,UT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new pI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(tn.fromBase64String(t))}catch(i){throw new ut(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $n(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Me("string",$n._jsonSchemaVersion),bytes:Me("string")};class Nh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class eu{constructor(t){this._methodName=t}}class Bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if($l(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Me("string",Bi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new qi(t.vectorValues);throw new ut(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Me("string",qi._jsonSchemaVersion),vectorValues:Me("object")};const SI=/^__.*__$/;class AI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new _r(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class PT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new _r(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function zT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Dh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(zT(this.Ac)&&SI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class wI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Rh(t)}Cc(t,i,a,l=!1){return new Dh({Ac:t,methodName:i,Dc:a,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jT(r){const t=r._freezeSettings(),i=Rh(r._databaseId);return new wI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function RI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);mg("Data must be an object, but it was:",d,a);const p=BT(a,d);let y,_;if(c.merge)y=new Vn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Sm(t,w,i);if(!d.contains(M))throw new ut(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);HT(E,M)||E.push(M)}y=new Vn(E),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new AI(new Tn(p),y,_)}class Oh extends eu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function CI(r,t,i){return new Dh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fg extends eu{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=CI(this,t,!0),a=this.vc.map((c=>nu(c,i))),l=new ho(a);return new JE(t.path,l)}isEqual(t){return t instanceof fg&&cr(this.vc,t.vc)}}class dg extends eu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Bl(t.serializer,YE(t.serializer,this.Fc));return new JE(t.path,i)}isEqual(t){return t instanceof dg&&this.Fc===t.Fc}}function II(r,t,i,a){const l=r.Cc(1,t,i);mg("Data must be an object, but it was:",l,a);const c=[],d=Tn.empty();yr(a,((y,_)=>{const E=gg(t,y,i);_=hn(_);const w=l.yc(E);if(_ instanceof Oh)c.push(E);else{const M=nu(_,w);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Vn(c);return new PT(d,p,l.fieldTransforms)}function xI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Sm(t,a,i)],y=[l];if(c.length%2!=0)throw new ut(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Sm(t,c[M])),y.push(c[M+1]);const _=[],E=Tn.empty();for(let M=p.length-1;M>=0;--M)if(!HT(_,p[M])){const G=p[M];let tt=y[M];tt=hn(tt);const it=d.yc(G);if(tt instanceof Oh)_.push(G);else{const W=nu(tt,it);W!=null&&(_.push(G),E.set(G,W))}}const w=new Vn(_);return new PT(E,w,d.fieldTransforms)}function nu(r,t){if(qT(r=hn(r)))return mg("Unsupported field value:",t,r),BT(r,t);if(r instanceof eu)return(function(a,l){if(!zT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=nu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return YE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=le.fromDate(a);return{timestampValue:lh(l.serializer,c)}}if(a instanceof le){const c=new le(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(l.serializer,c)}}if(a instanceof Bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:sT(l.serializer,a._byteString)};if(a instanceof Ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof qi)return(function(d,p){return{mapValue:{fields:{[OE]:{stringValue:ME},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${jm(a)}`)})(r,t)}function BT(r,t){const i={};return RE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yr(r,((a,l)=>{const c=nu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function qT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof Bi||r instanceof $n||r instanceof Ve||r instanceof eu||r instanceof qi)}function mg(r,t,i){if(!qT(i)||!AE(i)){const a=jm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Sm(r,t,i){if((t=hn(t))instanceof Nh)return t._internalPath;if(typeof t=="string")return gg(r,t);throw fh("Field path arguments must be of type string or ",r,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function gg(r,t,i){if(t.search(NI)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Nh(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ut(Z.INVALID_ARGUMENT,p+r+y)}function HT(r,t){return r.some((i=>i.isEqual(t)))}class GT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(FT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class DI extends GT{data(){return super.data()}}function FT(r,t){return typeof t=="string"?gg(r,t):t instanceof Nh?t._internalPath:t._delegate._internalPath}function OI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MI{convertValue(t,i="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return yr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((a=>Se(a.doubleValue)));return new qi(i)}convertGeoPoint(t){return new Bi(Se(t.latitude),Se(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=_h(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=fr(t);return new le(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=me.fromString(t);Yt(cT(a),9688,{name:t});const l=new Pl(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return l.isEqual(i)||_s(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function VI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jr extends GT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(FT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Me("string",Jr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Yc extends Jr{data(t={}){return super.data(t)}}class ro{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Yc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Yc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Yc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:kI(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}function UI(r){r=ci(r,Ve);const t=ci(r.firestore,ia);return vI(hg(t),r._key).then((i=>YT(t,r,i)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Me("string",ro._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class QT extends MI{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function LI(r,t,i){r=ci(r,Ve);const a=ci(r.firestore,ia),l=VI(r.converter,t);return pg(a,[RI(jT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,hi.none())])}function ki(r,t,i,...a){r=ci(r,Ve);const l=ci(r.firestore,ia),c=jT(l);let d;return d=typeof(t=hn(t))=="string"||t instanceof Nh?xI(c,"updateDoc",r._key,t,i,a):II(c,"updateDoc",r._key,t),pg(l,[d.toMutation(r._key,hi.exists(!0))])}function PI(r){return pg(ci(r.firestore,ia),[new Ym(r._key,hi.none())])}function yv(r,...t){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||pv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ve)d=ci(r.firestore,ia),p=Eh(r._key.path),c={next:y=>{t[a]&&t[a](YT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=ci(r,xh);d=ci(y.firestore,ia),p=y._query;const _=new QT(d);c={next:E=>{t[a]&&t[a](new ro(d,_,y,E))},error:t[a+1],complete:t[a+2]},OI(r._query)}return(function(_,E,w,M){const G=new VT(M),tt=new wT(E,G,w);return _.asyncQueue.enqueueAndForget((async()=>ST(await bm(_),tt))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>AT(await bm(_),tt)))}})(hg(d),p,l,c)}function pg(r,t){return(function(a,l){const c=new ur;return a.asyncQueue.enqueueAndForget((async()=>oI(await _I(a),l,c))),c.promise})(hg(r),t)}function YT(r,t,i){const a=i.docs.get(t._key),l=new QT(r);return new Jr(r,l,t._key,a,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}function Uc(...r){return new fg("arrayUnion",r)}function zI(r){return new dg("increment",r)}(function(t,i=!0){(function(l){vo=l})(yo),ao(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ia(new C2(a.getProvider("auth-internal")),new N2(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),or(b0,S0,t),or(b0,S0,"esm2020")})();const jI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),_v=r=>{const t=BI(r);return t.charAt(0).toUpperCase()+t.slice(1)},KT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),qI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var HI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GI=fe.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>fe.createElement("svg",{ref:y,...HI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:KT("lucide",l),...!c&&!qI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>fe.createElement(_,E)),...Array.isArray(c)?c:[c]]));const je=(r,t)=>{const i=fe.forwardRef(({className:a,...l},c)=>fe.createElement(GI,{ref:c,iconNode:t,className:KT(`lucide-${jI(_v(r))}`,`lucide-${r}`,a),...l}));return i.displayName=_v(r),i};const FI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Am=je("activity",FI);const QI=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],YI=je("battery",QI);const KI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vv=je("book-open",KI);const XI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kd=je("circle-check-big",XI);const $I=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ZI=je("cpu",$I);const JI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WI=je("eye-off",JI);const tx=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],ex=je("fast-forward",tx);const nx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],ix=je("hammer",nx);const sx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],rx=je("history",sx);const ax=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],XT=je("house",ax);const ox=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wm=je("log-out",ox);const lx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ux=je("rotate-ccw",lx);const cx=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],Ev=je("signal",cx);const hx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Kr=je("sparkles",hx);const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],go=je("target",fx);const dx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mx=je("trophy",dx);const gx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tv=je("user",gx);const px=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$T=je("x",px);const yx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_x=je("zap",yx),vx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2f012b1619cb4ef46aa637"},ZT=kv(vx),Xd=S2(ZT),Mn=TI(ZT),Kn=typeof __app_id<"u"?__app_id:"spectrum-fives",Ex="24",Zr={BLUE:{name:"Blue",color:"text-blue-400",bg:"bg-blue-900/40",border:"border-blue-500",icon:Am},GREEN:{name:"Green",color:"text-emerald-400",bg:"bg-emerald-900/40",border:"border-emerald-500",icon:ZI},MAGENTA:{name:"Magenta",color:"text-fuchsia-400",bg:"bg-fuchsia-900/40",border:"border-fuchsia-500",icon:go},SILVER:{name:"Silver",color:"text-slate-200",bg:"bg-slate-700/40",border:"border-slate-400",icon:_x}},Lc={BLUE:0,GREEN:1,MAGENTA:2,SILVER:3},bv=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},Tx=({type:r,message:t,subtext:i,icon:a})=>R.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:R.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-fuchsia-900/90 border-fuchsia-500 text-fuchsia-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-slate-900/90 border-slate-500 text-slate-100":""}
    `,children:[a&&R.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:R.jsx(a,{size:64,className:"animate-bounce text-fuchsia-400"})}),R.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&R.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),$d=()=>R.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[R.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-fuchsia-950/20 via-gray-950 to-black"}),R.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-fuchsia-900/5 mix-blend-overlay"}),R.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/carbon-fibre.png")'}})]}),bx=()=>R.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[R.jsx(go,{size:12,className:"text-fuchsia-500"}),R.jsx("span",{className:"text-[10px] font-black tracking-widest text-fuchsia-500 uppercase",children:"SPECTRUM"})]}),Sv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>R.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:R.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[R.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-serif",children:"Abort Frequency?"}),R.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:l?"Leaving now will destabilize the session for all observers!":"Disconnecting from the backroom..."}),R.jsxs("div",{className:"flex flex-col gap-3",children:[R.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Sync'd"}),l&&a&&R.jsxs("button",{onClick:t,className:"py-3 rounded font-bold bg-fuchsia-700 hover:bg-fuchsia-600 text-white flex items-center justify-center gap-2 transition-colors",children:[R.jsx(XT,{size:18})," Return to Backroom"]}),R.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold flex items-center justify-center gap-2 transition-colors",children:[R.jsx(wm,{size:18})," Sever Connection"]})]})]})}),Zd=({suit:r,val:t,faceDown:i,onClick:a,disabled:l,highlight:c,small:d,tiny:p})=>{const y=i?Zr.MAGENTA:Zr[r]||Zr.MAGENTA,_=i?5:t,E=y.icon;if(p)return R.jsx("div",{className:`w-6 h-8 rounded border flex items-center justify-center ${y.bg} ${y.border} shadow-sm`,title:r,children:R.jsx("span",{className:`text-[10px] font-black ${y.color}`,children:_})});const w=d?"w-16 h-24 p-2":"w-24 h-36 md:w-32 md:h-48 p-3";return R.jsxs("button",{onClick:a,disabled:l,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between overflow-hidden
        ${w} ${y.bg} ${y.border}
        ${c?"ring-4 ring-fuchsia-400 scale-105 z-10":""}
        ${l?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[i&&R.jsx("div",{className:"absolute inset-0 bg-fuchsia-600/10 flex items-center justify-center pointer-events-none",children:R.jsx(WI,{size:48,className:"text-fuchsia-500/10"})}),R.jsxs("div",{className:`w-full flex justify-between font-black ${d?"text-xs":"text-lg"} ${y.color}`,children:[R.jsx("span",{children:_}),R.jsx(go,{size:d?12:16,opacity:.3})]}),R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx(E,{size:d?20:32,className:`${y.color} mb-1`}),!d&&R.jsx("span",{className:`text-[8px] uppercase tracking-widest font-black ${y.color} opacity-60`,children:i?"MAGENTA 5":y.name})]}),R.jsx("div",{className:`w-full flex justify-start font-black ${d?"text-xs":"text-lg"} ${y.color} rotate-180`,children:R.jsx("span",{children:_})})]})},Av=({onClose:r})=>R.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-0 md:p-4",children:R.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border border-fuchsia-500/30 shadow-2xl flex flex-col",children:[R.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[R.jsxs("div",{className:"flex flex-col",children:[R.jsx("h2",{className:"text-2xl md:text-3xl font-black text-fuchsia-500 uppercase tracking-widest font-serif",children:"SYSTEM OVERVIEW"}),R.jsx("span",{className:"text-gray-500 text-[10px] uppercase font-bold tracking-widest",children:"Spectrum Protocol"})]}),R.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",children:R.jsx($T,{})})]}),R.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-gray-300",children:[R.jsxs("div",{className:"bg-fuchsia-950/20 p-6 rounded-xl border border-fuchsia-500/20",children:[R.jsxs("h3",{className:"text-xl font-bold text-fuchsia-400 mb-2 flex items-center gap-2 font-serif",children:[R.jsx(go,{size:20})," Target: Equilibrium 25"]}),R.jsxs("p",{className:"text-sm md:text-base leading-relaxed opacity-80",children:["Win tricks to collect cards. Your cumulative score must reach"," ",R.jsx("strong",{children:"25"}),". Exceeding 25 causes a"," ",R.jsx("strong",{children:"System Overload (Bust)"}),"you lose chips and forfeit the round score."]})]}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[R.jsxs("div",{className:"space-y-4",children:[R.jsx("h4",{className:"font-bold text-white uppercase text-[10px] tracking-widest border-b border-gray-800 pb-2",children:"Trick Mechanisms"}),R.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[R.jsxs("li",{className:"flex gap-2",children:[R.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 shrink-0"})," ","Must follow lead suit if possible."]}),R.jsxs("li",{className:"flex gap-2",children:[R.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400 mt-1.5 shrink-0"})," ",R.jsx("strong",{children:"Silver"})," is always Trump."]}),R.jsxs("li",{className:"flex gap-2",children:[R.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Highest card of lead suit (or Trump) takes the trick."]})]})]}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("h4",{className:"font-bold text-fuchsia-400 uppercase text-[10px] tracking-widest border-b border-fuchsia-900/50 pb-2",children:"The Magenta 5 Override"}),R.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[R.jsxs("li",{className:"flex gap-2",children:[R.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Any card can be played ",R.jsx("strong",{children:"Face-Down"})," as a Magenta 5."]}),R.jsxs("li",{className:"flex gap-2",children:[R.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Allowed only if unable to follow suit OR if it's your final card of that suit."]}),R.jsxs("li",{className:"flex gap-2",children:[R.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Only ",R.jsx("strong",{children:"one"})," Magenta 5 per trick."]})]})]})]})]}),R.jsx("div",{className:"p-6 bg-gray-950 border-t border-gray-800 text-center",children:R.jsx("button",{onClick:r,className:"w-full md:w-auto bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-16 py-4 rounded-xl font-bold uppercase tracking-widest shadow-lg shadow-fuchsia-900/20",children:"Engage"})})]})});function Sx(){const[r,t]=fe.useState(null),[i,a]=fe.useState("menu"),[l,c]=fe.useState(""),[d,p]=fe.useState(""),[y,_]=fe.useState(""),[E,w]=fe.useState(null),[M,G]=fe.useState(!1),[tt,it]=fe.useState(""),[W,gt]=fe.useState(!1),[bt,ft]=fe.useState(!1),[Gt,Zt]=fe.useState(!1),[Ot,N]=fe.useState(null),[A,I]=fe.useState("NORMAL"),[V,D]=fe.useState(!1);fe.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await uw(Xd,__initial_auth_token):await sw(Xd))();const L=fw(Xd,t);return()=>L()},[]),fe.useEffect(()=>{if(!y||!r)return;const S=yv(On(Mn,"artifacts",Kn,"public","data","rooms",y),L=>{if(L.exists()){const $=L.data();w($),$.status==="playing"?a("game"):$.status==="lobby"?a("lobby"):$.status==="finished"&&a("game")}else _(""),a("menu"),it("Synchronicity Terminated (Room Closed)")});return()=>S()},[y,r]),fe.useEffect(()=>{if(!E||!r||E.status!=="playing")return;if(E.hostId===r.uid&&E.trick.length===E.players.length){const L=setTimeout(()=>{Pt(E.trick,E.players,E.leadSuit)},1200);return()=>clearTimeout(L)}},[E?.trick?.length,r?.uid,E?.status]),fe.useEffect(()=>{const S=yv(On(Mn,"game_hub_settings","config"),L=>{L.exists()&&L.data()[Ex]?.maintenance?D(!0):D(!1)});return()=>S()},[]);const U=(S,L,$="",J=null)=>{N({type:S,message:L,subtext:$,icon:J}),setTimeout(()=>N(null),2e3)},C=async()=>{if(!l)return it("Identifier Required");G(!0);const S=Math.random().toString(36).substring(2,7).toUpperCase(),L={roomId:S,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}],deck:[],trick:[],leadSuit:null,turnIndex:0,roundCount:1,logs:[],reserve:0};await LI(On(Mn,"artifacts",Kn,"public","data","rooms",S),L),_(S),G(!1)},ie=async()=>{if(!d||!l)return it("Protocol Data Missing");G(!0);const S=On(Mn,"artifacts",Kn,"public","data","rooms",d),L=await UI(S);if(!L.exists()){it("Frequency not found"),G(!1);return}const $=L.data();if($.status!=="lobby"){it("Session locked"),G(!1);return}if($.players.length>=4){it("Backroom Full"),G(!1);return}const J=[...$.players,{id:r.uid,name:l,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}];await ki(S,{players:J}),_(d),G(!1)},pe=async()=>{if(!E||E.hostId!==r.uid)return;const S=E.players.length,L=S===3?9:13,$=[];Object.keys(Zr).forEach(et=>{for(let ct=1;ct<=L;ct++)$.push({suit:et,val:ct})});const J=bv($),lt=Math.floor(J.length/S),ht=E.players.map(et=>{const ct=[];for(let se=0;se<lt;se++)ct.push(J.pop());return{...et,hand:ct,scorePile:[],scoreTotal:0,busted:!1,ready:!1}}),pt=E.status==="playing"||E.turnIndex===null;await ki(On(Mn,"artifacts",Kn,"public","data","rooms",y),{status:"playing",deck:J,players:ht,trick:[],leadSuit:null,turnIndex:0,roundResult:null,roundCount:pt?zI(1):E.roundCount,logs:Uc({text:`Initialized Frequency Sync: Round ${pt?E.roundCount+1:E.roundCount}`,type:"neutral"})})},F=async()=>{if(!E||E.hostId!==r.uid)return;const S=E.players.length,L=S===3?9:13,$=[];Object.keys(Zr).forEach(pt=>{for(let et=1;et<=L;et++)$.push({suit:pt,val:et})});const J=bv($),lt=Math.floor(J.length/S),ht=E.players.map(pt=>{const et=[];for(let ct=0;ct<lt;ct++)et.push(J.pop());return{...pt,chips:5,hand:et,scorePile:[],scoreTotal:0,busted:!1,ready:!1}});await ki(On(Mn,"artifacts",Kn,"public","data","rooms",y),{status:"playing",deck:J,players:ht,trick:[],leadSuit:null,turnIndex:0,roundCount:1,reserve:0,roundResult:null,logs:[{text:"--- GRID REBOOTED: COMMENCING NEW OPERATION ---",type:"neutral"}]}),ft(!1)},st=async()=>{if(!E)return;const S=E.players.map(L=>L.id===r.uid?{...L,ready:!0}:L);await ki(On(Mn,"artifacts",Kn,"public","data","rooms",y),{players:S})},dt=async(S,L)=>{if(!E||E.turnIndex===null||E.players[E.turnIndex].id!==r.uid)return;const $=E.players[E.turnIndex],J=$.hand[S];if(E.trick.length>0&&!L&&$.hand.some(vt=>vt.suit===E.leadSuit)&&J.suit!==E.leadSuit){U("failure","DESYNC","Must maintain lead frequency!");return}if(L){const fn=$.hand.some(Be=>Be.suit===E.leadSuit),vt=$.hand.filter(Be=>Be.suit===E.leadSuit).length===1&&J.suit===E.leadSuit;if(E.trick.some(Be=>Be.faceDown)){U("failure","JAMMED","One Magenta Override limit!");return}if(E.trick.length>0&&fn&&!vt){U("failure","INVALID MASK","Cannot mask if able to follow.");return}}const lt=[...E.players],ht=E.turnIndex;lt[ht].hand.splice(S,1);const pt={playerId:r.uid,playerName:$.name,suit:J.suit,val:J.val,faceDown:L},et=[...E.trick,pt];let ct=E.leadSuit;E.trick.length===0&&(ct=L?"MAGENTA":J.suit);const se=(E.turnIndex+1)%E.players.length,en=L?` ${$.name} initiated MAGENTA_OVERRIDE (MASKED)`:` ${$.name} transmitted signal: ${J.suit} ${J.val}`;await ki(On(Mn,"artifacts",Kn,"public","data","rooms",y),{players:lt,trick:et,leadSuit:ct,turnIndex:se,logs:Uc({text:en,type:"neutral"})}),I("NORMAL")},Pt=async(S,L,$)=>{let J=S[0].playerId,lt=-1;const ht=S.filter(vt=>vt.suit==="SILVER"&&!vt.faceDown);if(ht.length>0)lt=Math.max(...ht.map(vt=>vt.val)),J=ht.find(vt=>vt.val===lt).playerId;else{const vt=S.filter(ue=>ue.suit===$&&!ue.faceDown||ue.faceDown&&$==="MAGENTA");vt.length>0&&(lt=Math.max(...vt.map(ue=>ue.faceDown?5:ue.val)),J=vt.find(ue=>(ue.faceDown?5:ue.val)===lt).playerId)}const pt=L.findIndex(vt=>vt.id===J),et=S.find(vt=>vt.playerId===J),ct=et.faceDown?5:et.val,se=[],en=L.map((vt,ue)=>{if(ue===pt){const Be=vt.scoreTotal+ct;return Be>25&&se.push({text:` SYSTEM_OVERLOAD: ${vt.name} BUSTED at ${Be} Equilibrium`,type:"danger"}),{...vt,scorePile:[...vt.scorePile,et],scoreTotal:Be,busted:Be>25}}return vt});if(en.every(vt=>vt.hand.length===0)){const vt=JSON.parse(JSON.stringify(en)),Be=vt.length===3?[2,1,0]:[3,2,1,0],ln={};vt.filter(xt=>!xt.busted).forEach(xt=>{const Ue=Math.abs(25-xt.scoreTotal);ln[Ue]||(ln[Ue]=[]),ln[Ue].push(xt.id)});const fi=Object.keys(ln).map(Number).sort((xt,Ue)=>xt-Ue);let ke=E.reserve||0;const re=ln[fi[0]]||[],de=re.length===1;let bn=0;if(fi.forEach(xt=>{const Ue=ln[xt].length,Ts=Be[bn]||0,vr=["1st","2nd","3rd","4th"][bn]||`${bn+1}th`;ln[xt].forEach(di=>{const Fi=vt.findIndex(la=>la.id===di);vt[Fi].chips+=Ts,se.push({text:` ${vt[Fi].name} placed ${vr} (${vt[Fi].scoreTotal} pts) -> +${Ts} chips`,type:"success"}),xt===0&&(de?(vt[Fi].chips+=1,se.push({text:` PERFECT_SYNC: ${vt[Fi].name} hit 25! (+1 bonus)`,type:"success"})):(ke+=1,se.push({text:" TIE_OVERFLOW: Tied perfect score of 25. 1 bonus moved to Extra Chips tray.",type:"neutral"})))}),bn+=Ue}),vt.forEach((xt,Ue)=>{xt.busted&&(vt[Ue].chips-=1,ke+=1,se.push({text:` SYSTEM_BUST: ${xt.name} (${xt.scoreTotal} pts) forfeited 1 chip to Extra Chips tray.`,type:"danger"}))}),de){const xt=vt.findIndex(Ue=>Ue.id===re[0]);ke>0&&(se.push({text:` RESERVE_ACQUIRED: ${vt[xt].name} collected ${ke} Extra Chips!`,type:"success"}),vt[xt].chips+=ke,ke=0)}else ke>0&&se.push({text:` TRAY_UPDATE: Extra Chips tray now at ${ke} units (Tied Winner Lock)`,type:"neutral"});const aa=E.roundCount>=4;aa&&!de&&ke>0&&(se.push({text:` SYSTEM_FLUSH: ${ke} Extra Chips destroyed (No Clear Protocol Victor)`,type:"danger"}),ke=0);const oa=aa||vt.some(xt=>xt.chips>=25);await ki(On(Mn,"artifacts",Kn,"public","data","rooms",y),{players:vt,trick:[],leadSuit:null,status:oa?"finished":"playing",turnIndex:null,reserve:ke,roundResult:{closest:re.length>1?"MULTIPLE_UNITS":vt.find(xt=>xt.id===re[0])?.name||"NONE",total:fi[0]!==void 0?25-fi[0]:0,reserve:ke},logs:Uc(...se,{text:`--- Calibration Phase ${E.roundCount} Finalized ---`,type:"neutral"})})}else await ki(On(Mn,"artifacts",Kn,"public","data","rooms",y),{players:en,trick:[],leadSuit:null,turnIndex:pt,logs:Uc(...se,{text:` Trick secured by ${en[pt].name} (+${ct})`,type:"success"})})},Bt=async()=>{if(!y)return;const S=On(Mn,"artifacts",Kn,"public","data","rooms",y);try{if(E?.hostId===r.uid)await PI(S);else{const L=E.players.filter($=>$.id!==r.uid);await ki(S,{players:L})}}catch(L){console.error(L)}_(""),a("menu"),ft(!1)};if(V)return R.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[R.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[R.jsx(ix,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),R.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),R.jsx("p",{className:"text-gray-400",children:"The system is running short of chips. Wait until new chips are built and delivered."})]}),R.jsx("div",{className:"h-8"}),R.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:R.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:R.jsx("div",{className:"text-center pb-12 animate-pulse",children:R.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[R.jsx(Kr,{size:16})," Visit Gamehub...Try our other releases..."," ",R.jsx(Kr,{size:16})]})})})})]});if(!r)return R.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-fuchsia-500 font-serif",children:"BOOTING_PROTOCOL..."});if(i==="menu")return R.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[R.jsx($d,{}),W&&R.jsx(Av,{onClose:()=>gt(!1)}),R.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[R.jsx(go,{size:64,className:"text-fuchsia-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_20px_rgba(217,70,239,0.4)]"}),R.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-fuchsia-300 to-fuchsia-600 font-serif tracking-[0.2em]",children:"SPECTRUM"}),R.jsx("p",{className:"text-fuchsia-500/30 tracking-[0.6em] uppercase mt-2 text-[10px] font-black",children:"MAGENTA_EQUILIBRIUM"})]}),R.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-md border border-fuchsia-500/20 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[tt&&R.jsx("div",{className:"bg-red-900/40 text-red-200 p-3 mb-4 rounded border border-red-800 text-center text-xs",children:tt}),R.jsx("input",{className:"w-full bg-black/60 border border-gray-700 p-3 rounded mb-4 text-white placeholder-gray-600 focus:border-fuchsia-500 outline-none transition-all uppercase font-mono tracking-widest text-sm",placeholder:"AGENT_IDENTIFIER",value:l,onChange:S=>c(S.target.value)}),R.jsxs("button",{onClick:C,disabled:M,className:"w-full bg-fuchsia-700 hover:bg-fuchsia-600 p-4 rounded-xl font-black mb-4 flex items-center justify-center gap-2 shadow-lg tracking-widest uppercase transition-all text-sm",children:[R.jsx(go,{size:18})," Establish Grid"]}),R.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[R.jsx("input",{className:"w-full sm:flex-1 bg-black/60 border border-gray-700 p-3 rounded text-white placeholder-gray-600 uppercase font-mono tracking-widest text-sm outline-none",placeholder:"ROOM_CODE",value:d,onChange:S=>p(S.target.value.toUpperCase())}),R.jsx("button",{onClick:ie,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-700 px-6 py-3 rounded-xl font-bold text-xs uppercase tracking-widest",children:"Infiltrate"})]}),R.jsxs("button",{onClick:()=>gt(!0),className:"w-full text-[10px] text-gray-500 hover:text-fuchsia-400 flex items-center justify-center gap-2 uppercase tracking-widest",children:[R.jsx(vv,{size:14})," View Manual"]})]})]});if(i==="lobby"&&E){const S=E.hostId===r.uid;return R.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[R.jsx($d,{}),R.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/95 backdrop-blur-xl p-8 rounded-2xl border border-fuchsia-900/30 shadow-2xl",children:[R.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-800 pb-4",children:[R.jsxs("h2",{className:"text-xl font-serif text-fuchsia-500 tracking-wider",children:["Frequency: ",R.jsx("span",{className:"text-white font-mono",children:y})]}),R.jsx("button",{onClick:()=>ft(!0),className:"p-2 bg-red-900/20 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:R.jsx(wm,{size:16})})]}),R.jsx("div",{className:"space-y-3 mb-10",children:E.players.map(L=>R.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-xl border border-gray-800",children:[R.jsxs("span",{className:`font-black flex items-center gap-2 text-sm uppercase tracking-widest ${L.id===r.uid?"text-fuchsia-400":"text-gray-400"}`,children:[R.jsx(Tv,{size:14})," ",L.name," ",L.id===E.hostId&&R.jsx(Kr,{size:14,className:"text-yellow-500"})]}),R.jsxs("span",{className:"text-green-500 text-[10px] font-black uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[R.jsx(Kd,{size:10})," Active"]})]},L.id))}),S?R.jsx("button",{onClick:pe,disabled:E.players.length<3,className:`w-full py-5 rounded-xl font-black uppercase tracking-[0.2em] transition-all shadow-xl ${E.players.length>=3?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:E.players.length<3?"Awaiting Data (3-4 Required)":"Commence Protocol"}):R.jsx("div",{className:"text-center text-fuchsia-500/50 animate-pulse font-serif italic text-sm",children:"Synchronizing with host authority..."})]}),bt&&R.jsx(Sv,{onCancel:()=>ft(!1),onConfirmLeave:Bt,isHost:S})]})}if(i==="game"&&E){const S=E.players.find(et=>et.id===r.uid);if(!S)return null;const L=E.turnIndex!==null&&E.players[E.turnIndex]?.id===r.uid,$=E.hostId===r.uid,J=E.turnIndex===null&&E.status==="playing",lt=S?[...S.hand].map((et,ct)=>({...et,originalIdx:ct})).sort((et,ct)=>Lc[et.suit]!==Lc[ct.suit]?Lc[et.suit]-Lc[ct.suit]:et.val-ct.val):[],ht=E.players.filter(et=>et.id!==E.hostId).every(et=>et.ready),pt=[...E.players].sort((et,ct)=>ct.chips-et.chips)[0];return R.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[R.jsx($d,{}),Ot&&R.jsx(Tx,{...Ot}),W&&R.jsx(Av,{onClose:()=>gt(!1)}),bt&&R.jsx(Sv,{onCancel:()=>ft(!1),onConfirmLeave:Bt,onConfirmLobby:()=>{const et=E.players.map(ct=>({...ct,ready:!1}));ki(On(Mn,"artifacts",Kn,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:et}),ft(!1)},isHost:$,inGame:!0}),R.jsxs("div",{className:"h-14 bg-gray-950/90 border-b border-fuchsia-900/30 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[R.jsxs("div",{className:"flex items-center gap-2 font-serif font-black text-fuchsia-500 tracking-[0.2em]",children:["SPECTRUM"," ",R.jsxs("span",{className:"text-[10px] text-gray-500 font-sans tracking-widest ml-1 opacity-70",children:["(ROUND ",E.roundCount,")"]})]}),R.jsxs("div",{className:"flex gap-2",children:[E.reserve>0&&R.jsxs("div",{className:"flex items-center gap-1.5 bg-fuchsia-900/40 px-3 py-1 rounded-full border border-fuchsia-500/30 mr-2 animate-in fade-in slide-in-from-right-4 duration-500",children:[R.jsx(YI,{size:12,className:"text-fuchsia-400"}),R.jsxs("span",{className:"text-[10px] font-black text-fuchsia-300 uppercase tracking-tighter",children:["EXTRA_CHIPS: ",E.reserve]})]}),R.jsx("button",{onClick:()=>gt(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400 transition-colors",children:R.jsx(vv,{size:18})}),R.jsx("button",{onClick:()=>Zt(!Gt),className:"p-2 hover:bg-gray-800 rounded text-gray-400 transition-colors",children:R.jsx(rx,{size:18})}),R.jsx("button",{onClick:()=>ft(!0),className:"p-2 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:R.jsx(wm,{size:18})})]})]}),R.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 w-full max-w-6xl mx-auto",children:[R.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 w-full justify-center",children:E.players.map((et,ct)=>{if(et.id===r.uid)return null;const se=E.turnIndex===ct;return R.jsxs("div",{className:`bg-black/60 p-3 rounded-xl border-2 transition-all 
                  ${se?"border-fuchsia-500 scale-105 shadow-xl shadow-fuchsia-900/40 animate-pulse":"border-gray-800"} 
                  ${et.busted?"opacity-30 grayscale":""}`,children:[R.jsxs("div",{className:"flex justify-between items-center mb-1",children:[R.jsx("span",{className:"font-black text-[10px] uppercase tracking-wider truncate max-w-[70px]",children:et.name}),R.jsxs("div",{className:"flex gap-1 items-center bg-gray-900 px-2 rounded-full border border-gray-700",children:[R.jsx(Kr,{size:8,className:"text-yellow-400"}),R.jsx("span",{className:"text-[10px] font-mono",children:et.chips})]})]}),R.jsxs("div",{className:"flex justify-between items-end",children:[R.jsx("div",{className:"flex -space-x-3",children:et.hand.map((en,fn)=>R.jsx("div",{className:"w-4 h-6 bg-fuchsia-950 rounded border border-fuchsia-800"},fn))}),R.jsxs("div",{className:"text-right",children:[R.jsxs("div",{className:`text-[10px] font-black tracking-tighter ${et.busted?"text-red-500":"text-fuchsia-400"}`,children:["EQ: ",et.scoreTotal]}),R.jsx("div",{className:"flex gap-0.5 justify-end",children:et.scorePile.slice(-2).map((en,fn)=>R.jsx(Zd,{...en,tiny:!0},fn))})]})]})]},et.id)})}),R.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[J&&E.roundResult&&R.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 rounded-3xl border border-fuchsia-500/20 animate-in fade-in zoom-in duration-500",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"bg-fuchsia-600 text-white text-[10px] font-black uppercase px-4 py-1 rounded-full mb-4 inline-block tracking-widest shadow-lg",children:"Phase Summary"}),R.jsx("h2",{className:"text-3xl font-serif font-black text-white mb-2 uppercase",children:E.roundResult.closest}),R.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs mb-2 uppercase tracking-tighter",children:["Achieved Equilibrium (",E.roundResult.total,"/25)"]}),E.roundResult.reserve>0&&R.jsxs("p",{className:"text-gray-500 font-mono text-[10px] mb-8 uppercase tracking-widest",children:["Extra Chips Tray: ",E.roundResult.reserve," units"]}),R.jsx("div",{className:"mt-8",children:$?R.jsxs("button",{onClick:pe,className:"bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest flex items-center gap-2 shadow-xl shadow-fuchsia-900/30 transition-all",children:[R.jsx(ex,{size:20})," Initialize Phase"," ",E.roundCount+1]}):R.jsx("div",{className:"text-gray-500 font-black animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Awaiting host frequency shift..."})})]})}),R.jsxs("div",{className:"relative w-full max-w-md flex flex-wrap gap-4 justify-center items-center",children:[E.trick.map((et,ct)=>R.jsxs("div",{className:"animate-in zoom-in slide-in-from-bottom-4 duration-500",children:[R.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-black text-center mb-1 tracking-tighter truncate w-24",children:et.playerName}),R.jsx(Zd,{...et,small:!0})]},ct)),E.trick.length===0&&!J&&R.jsxs("div",{className:"text-gray-800 uppercase tracking-[0.5em] font-black text-center opacity-40 select-none flex flex-col items-center",children:[R.jsx(Am,{size:64,className:"mb-4 text-fuchsia-900"}),"IDLE_GRID"]})]}),E.leadSuit&&!J&&R.jsxs("div",{className:"mt-8 bg-gray-900/80 border border-fuchsia-500/20 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.2em] backdrop-blur-md",children:["Protocol:"," ",R.jsx("span",{className:Zr[E.leadSuit]?.color,children:Zr[E.leadSuit]?.name})]})]}),R.jsxs("div",{className:"w-full bg-gray-900/98 border-t-2 border-fuchsia-500/20 p-4 md:p-6 rounded-t-[2.5rem] shadow-[0_-20px_50px_rgba(0,0,0,0.8)] backdrop-blur-2xl",children:[R.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-3 mb-4",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsxs("div",{className:`px-5 py-3 rounded-2xl flex items-center gap-3 border transition-all ${S.busted?"bg-red-950/40 border-red-500 shadow-red-900/20":"bg-fuchsia-950/40 border-fuchsia-500 shadow-fuchsia-900/20"}`,children:[R.jsx(Am,{className:S.busted?"text-red-500":"text-fuchsia-400",size:24}),R.jsxs("div",{className:"flex flex-col",children:[R.jsx("span",{className:`text-2xl font-black leading-none ${S.busted?"text-red-500":"text-fuchsia-100"}`,children:S.scoreTotal}),R.jsx("span",{className:"text-[8px] uppercase font-black tracking-widest text-gray-500",children:"Equilibrium"})]})]}),R.jsxs("div",{className:"bg-slate-900 border border-slate-700 px-4 py-2 rounded-xl flex items-center gap-2",children:[R.jsx(Kr,{size:16,className:"text-yellow-400"}),R.jsx("span",{className:"text-xl font-mono font-bold",children:S.chips})]})]}),L&&!J&&R.jsxs("div",{className:"flex bg-black/50 p-1.5 rounded-xl border border-gray-800 shadow-inner",children:[R.jsx("button",{onClick:()=>I("NORMAL"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${A==="NORMAL"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Signal"}),R.jsx("button",{onClick:()=>I("FACEDOWN"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${A==="FACEDOWN"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Override"})]})]}),R.jsxs("div",{className:"flex gap-3 overflow-x-auto pt-6 pb-8 px-4 justify-start lg:justify-center items-end h-64 scrollbar-hide scroll-smooth",children:[lt.map(et=>R.jsx("div",{className:`${L?"hover:translate-y-[-10px]":""} transition-transform duration-300 shrink-0`,children:R.jsx(Zd,{suit:et.suit,val:et.val,faceDown:A==="FACEDOWN",onClick:()=>L&&dt(et.originalIdx,A==="FACEDOWN"),disabled:!L,highlight:L})},et.originalIdx)),S.hand.length===0&&E.trick.length>0&&R.jsx("div",{className:"text-gray-600 font-black uppercase text-xs animate-pulse",children:"Syncing Pulse..."}),S.hand.length===0&&E.trick.length===0&&!J&&E.status!=="finished"&&R.jsx("div",{className:"text-fuchsia-600 font-black uppercase text-xs animate-pulse",children:"Protocol Initializing..."})]})]})]}),Gt&&R.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:R.jsxs("div",{className:"bg-gray-900 border border-gray-800 w-full max-w-md h-[60vh] rounded-2xl flex flex-col shadow-2xl overflow-hidden",children:[R.jsxs("div",{className:"p-4 bg-gray-950 flex justify-between items-center border-b border-gray-800",children:[R.jsx("span",{className:"font-serif font-black text-fuchsia-500 tracking-widest uppercase text-sm",children:"System_Logs"}),R.jsx("button",{onClick:()=>Zt(!1),children:R.jsx($T,{size:20,className:"text-gray-500"})})]}),R.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs].reverse().map((et,ct)=>R.jsx("div",{className:`text-[10px] font-mono p-2 border-l-2 bg-black/30 ${et.type==="success"?"border-fuchsia-500 text-fuchsia-300":et.type==="danger"?"border-red-500 text-red-300":"border-gray-700 text-gray-500"}`,children:et.text},ct))})]})}),E.status==="finished"&&R.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[200] flex flex-col items-center justify-center p-4 backdrop-blur-2xl",children:[R.jsxs("div",{className:"relative mb-10",children:[R.jsx(mx,{size:100,className:"text-yellow-400 drop-shadow-[0_0_30px_rgba(250,204,21,0.5)] animate-bounce"}),R.jsx("span",{className:"absolute -top-4 -right-4 text-fuchsia-400 animate-pulse",children:R.jsx(Kr,{size:32})})]}),R.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-black text-white mb-2 uppercase tracking-[0.4em] text-center",children:"SYNCHRONIZED"}),R.jsx("div",{className:"bg-fuchsia-950/40 border border-fuchsia-500/30 px-6 py-2 rounded-full mb-12",children:R.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs tracking-[0.2em] uppercase font-black",children:["Protocol_Victor:"," ",R.jsx("span",{className:"text-white ml-2",children:pt?.name})]})}),R.jsxs("div",{className:"w-full max-w-lg space-y-3 mb-16 overflow-y-auto max-h-[30vh]",children:[R.jsx("h3",{className:"text-center text-[10px] font-black text-gray-600 uppercase tracking-[0.3em] mb-4",children:"Unit Summary"}),E.players.map(et=>R.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${et.id===pt.id?"bg-fuchsia-900/30 border-fuchsia-500 shadow-lg shadow-fuchsia-900/20":"bg-black/40 border-gray-800 opacity-80"}`,children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(Tv,{size:18,className:et.id===pt.id?"text-fuchsia-400":"text-gray-600"}),R.jsx("span",{className:`font-black text-sm uppercase tracking-wider ${et.id===pt.id?"text-fuchsia-100":"text-gray-400"}`,children:et.name}),et.ready&&et.id!==E.hostId&&R.jsx(Kd,{size:14,className:"text-green-500 ml-2"})]}),R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(Kr,{size:14,className:"text-yellow-400"}),R.jsx("span",{className:"font-mono text-lg font-bold",children:et.chips})]})]},et.id))]}),R.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[$?R.jsxs(R.Fragment,{children:[!ht&&R.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-[10px] font-black uppercase tracking-widest animate-pulse mb-2",children:[R.jsx(Ev,{size:12})," Awaiting Signal from Observers..."]}),R.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[R.jsxs("button",{onClick:F,disabled:!ht,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 shadow-xl transition-all ${ht?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50"}`,children:[R.jsx(ux,{size:16})," Reboot"]}),R.jsxs("button",{onClick:()=>{const et=E.players.map(ct=>({...ct,ready:!1}));ki(On(Mn,"artifacts",Kn,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:et}),ft(!1)},disabled:!ht,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 border transition-all ${ht?"border-fuchsia-600 text-fuchsia-400 hover:bg-fuchsia-900/20":"border-gray-800 text-gray-600 cursor-not-allowed opacity-50"}`,children:[R.jsx(XT,{size:16})," Backroom"]})]})]}):R.jsx("button",{onClick:st,disabled:S?.ready,className:`w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 shadow-xl transition-all ${S?.ready?"bg-black/50 border border-green-500 text-green-500 cursor-default":"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20"}`,children:S?.ready?R.jsxs(R.Fragment,{children:[R.jsx(Kd,{size:20})," Signal_Acquired"]}):R.jsxs(R.Fragment,{children:[R.jsx(Ev,{size:20})," Transmit_Readiness"]})}),R.jsx("button",{onClick:Bt,className:"w-full bg-transparent hover:bg-red-950/20 text-gray-600 hover:text-red-400 py-4 rounded-xl font-bold uppercase tracking-[0.2em] text-[10px] transition-all",children:"Sever_Connection"})]})]}),R.jsx(bx,{})]})}return null}Lb.createRoot(document.getElementById("root")).render(R.jsx(fe.StrictMode,{children:R.jsx(Sx,{})}));
