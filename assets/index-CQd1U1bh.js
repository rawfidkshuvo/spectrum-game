(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},Sl={};var L_;function xb(){if(L_)return Sl;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Sl.Fragment=t,Sl.jsx=i,Sl.jsxs=i,Sl}var P_;function Nb(){return P_||(P_=1,Dd.exports=xb()),Dd.exports}var S=Nb(),Od={exports:{}},St={};var z_;function Db(){if(z_)return St;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,tt={};function mt(O,U,G){this.props=O,this.context=U,this.refs=tt,this.updater=G||et}mt.prototype.isReactComponent={},mt.prototype.setState=function(O,U){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,U,"setState")},mt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=mt.prototype;function ht(O,U,G){this.props=O,this.context=U,this.refs=tt,this.updater=G||et}var Ft=ht.prototype=new Tt;Ft.constructor=ht,it(Ft,mt.prototype),Ft.isPureReactComponent=!0;var Wt=Array.isArray;function Ot(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,U,G){var Z=G.ref;return{$$typeof:r,type:O,key:U,ref:Z!==void 0?Z:null,props:G}}function V(O,U){return I(O.type,U,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var U={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(G){return U[G]})}var R=/\/+/g;function re(O,U){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):U.toString(36)}function pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Ot,Ot):(O.status="pending",O.then(function(U){O.status==="pending"&&(O.status="fulfilled",O.value=U)},function(U){O.status==="pending"&&(O.status="rejected",O.reason=U)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,U,G,Z,rt){var ct=typeof O;(ct==="undefined"||ct==="boolean")&&(O=null);var _t=!1;if(O===null)_t=!0;else switch(ct){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(O.$$typeof){case r:case t:_t=!0;break;case E:return _t=O._init,Q(_t(O._payload),U,G,Z,rt)}}if(_t)return rt=rt(O),_t=Z===""?"."+re(O,0):Z,Wt(rt)?(G="",_t!=null&&(G=_t.replace(R,"$&/")+"/"),Q(rt,U,G,"",function(wt){return wt})):rt!=null&&(N(rt)&&(rt=V(rt,G+(rt.key==null||O&&O.key===rt.key?"":(""+rt.key).replace(R,"$&/")+"/")+_t)),U.push(rt)),1;_t=0;var xt=Z===""?".":Z+":";if(Wt(O))for(var W=0;W<O.length;W++)Z=O[W],ct=xt+re(Z,W),_t+=Q(Z,U,G,ct,rt);else if(W=F(O),typeof W=="function")for(O=W.call(O),W=0;!(Z=O.next()).done;)Z=Z.value,ct=xt+re(Z,W++),_t+=Q(Z,U,G,ct,rt);else if(ct==="object"){if(typeof O.then=="function")return Q(pe(O),U,G,Z,rt);throw U=String(O),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return _t}function st(O,U,G){if(O==null)return O;var Z=[],rt=0;return Q(O,Z,"","",function(ct){return U.call(G,ct,rt++)}),Z}function ft(O){if(O._status===-1){var U=O._result;U=U(),U.then(function(G){(O._status===0||O._status===-1)&&(O._status=1,O._result=G)},function(G){(O._status===0||O._status===-1)&&(O._status=2,O._result=G)}),O._status===-1&&(O._status=0,O._result=U)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},qt={map:st,forEach:function(O,U,G){st(O,function(){U.apply(this,arguments)},G)},count:function(O){var U=0;return st(O,function(){U++}),U},toArray:function(O){return st(O,function(U){return U})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return St.Activity=w,St.Children=qt,St.Component=mt,St.Fragment=i,St.Profiler=l,St.PureComponent=ht,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(O,U,G){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=it({},O.props),rt=O.key;if(U!=null)for(ct in U.key!==void 0&&(rt=""+U.key),U)!A.call(U,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&U.ref===void 0||(Z[ct]=U[ct]);var ct=arguments.length-2;if(ct===1)Z.children=G;else if(1<ct){for(var _t=Array(ct),xt=0;xt<ct;xt++)_t[xt]=arguments[xt+2];Z.children=_t}return I(O.type,rt,Z)},St.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},St.createElement=function(O,U,G){var Z,rt={},ct=null;if(U!=null)for(Z in U.key!==void 0&&(ct=""+U.key),U)A.call(U,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(rt[Z]=U[Z]);var _t=arguments.length-2;if(_t===1)rt.children=G;else if(1<_t){for(var xt=Array(_t),W=0;W<_t;W++)xt[W]=arguments[W+2];rt.children=xt}if(O&&O.defaultProps)for(Z in _t=O.defaultProps,_t)rt[Z]===void 0&&(rt[Z]=_t[Z]);return I(O,ct,rt)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:p,render:O}},St.isValidElement=N,St.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ft}},St.memo=function(O,U){return{$$typeof:_,type:O,compare:U===void 0?null:U}},St.startTransition=function(O){var U=x.T,G={};x.T=G;try{var Z=O(),rt=x.S;rt!==null&&rt(G,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Ot,Pt)}catch(ct){Pt(ct)}finally{U!==null&&G.types!==null&&(U.types=G.types),x.T=U}},St.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},St.use=function(O){return x.H.use(O)},St.useActionState=function(O,U,G){return x.H.useActionState(O,U,G)},St.useCallback=function(O,U){return x.H.useCallback(O,U)},St.useContext=function(O){return x.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,U){return x.H.useDeferredValue(O,U)},St.useEffect=function(O,U){return x.H.useEffect(O,U)},St.useEffectEvent=function(O){return x.H.useEffectEvent(O)},St.useId=function(){return x.H.useId()},St.useImperativeHandle=function(O,U,G){return x.H.useImperativeHandle(O,U,G)},St.useInsertionEffect=function(O,U){return x.H.useInsertionEffect(O,U)},St.useLayoutEffect=function(O,U){return x.H.useLayoutEffect(O,U)},St.useMemo=function(O,U){return x.H.useMemo(O,U)},St.useOptimistic=function(O,U){return x.H.useOptimistic(O,U)},St.useReducer=function(O,U,G){return x.H.useReducer(O,U,G)},St.useRef=function(O){return x.H.useRef(O)},St.useState=function(O){return x.H.useState(O)},St.useSyncExternalStore=function(O,U,G){return x.H.useSyncExternalStore(O,U,G)},St.useTransition=function(){return x.H.useTransition()},St.version="19.2.3",St}var j_;function Rm(){return j_||(j_=1,Od.exports=Db()),Od.exports}var le=Rm(),Md={exports:{}},Al={},Vd={exports:{}},kd={};var B_;function Ob(){return B_||(B_=1,(function(r){function t(Q,st){var ft=Q.length;Q.push(st);t:for(;0<ft;){var Pt=ft-1>>>1,qt=Q[Pt];if(0<l(qt,st))Q[Pt]=st,Q[ft]=qt,ft=Pt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var st=Q[0],ft=Q.pop();if(ft!==st){Q[0]=ft;t:for(var Pt=0,qt=Q.length,O=qt>>>1;Pt<O;){var U=2*(Pt+1)-1,G=Q[U],Z=U+1,rt=Q[Z];if(0>l(G,ft))Z<qt&&0>l(rt,G)?(Q[Pt]=rt,Q[Z]=ft,Pt=Z):(Q[Pt]=G,Q[U]=ft,Pt=U);else if(Z<qt&&0>l(rt,ft))Q[Pt]=rt,Q[Z]=ft,Pt=Z;else break t}}return st}function l(Q,st){var ft=Q.sortIndex-st.sortIndex;return ft!==0?ft:Q.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,w=null,M=3,F=!1,et=!1,it=!1,tt=!1,mt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Ft(Q){for(var st=i(_);st!==null;){if(st.callback===null)a(_);else if(st.startTime<=Q)a(_),st.sortIndex=st.expirationTime,t(y,st);else break;st=i(_)}}function Wt(Q){if(it=!1,Ft(Q),!et)if(i(y)!==null)et=!0,Ot||(Ot=!0,L());else{var st=i(_);st!==null&&pe(Wt,st.startTime-Q)}}var Ot=!1,x=-1,A=5,I=-1;function V(){return tt?!0:!(r.unstable_now()-I<A)}function N(){if(tt=!1,Ot){var Q=r.unstable_now();I=Q;var st=!0;try{t:{et=!1,it&&(it=!1,Tt(x),x=-1),F=!0;var ft=M;try{e:{for(Ft(Q),w=i(y);w!==null&&!(w.expirationTime>Q&&V());){var Pt=w.callback;if(typeof Pt=="function"){w.callback=null,M=w.priorityLevel;var qt=Pt(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof qt=="function"){w.callback=qt,Ft(Q),st=!0;break e}w===i(y)&&a(y),Ft(Q)}else a(y);w=i(y)}if(w!==null)st=!0;else{var O=i(_);O!==null&&pe(Wt,O.startTime-Q),st=!1}}break t}finally{w=null,M=ft,F=!1}st=void 0}}finally{st?L():Ot=!1}}}var L;if(typeof ht=="function")L=function(){ht(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,re=R.port2;R.port1.onmessage=N,L=function(){re.postMessage(null)}}else L=function(){mt(N,0)};function pe(Q,st){x=mt(function(){Q(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(Q){switch(M){case 1:case 2:case 3:var st=3;break;default:st=M}var ft=M;M=st;try{return Q()}finally{M=ft}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(Q,st){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=M;M=Q;try{return st()}finally{M=ft}},r.unstable_scheduleCallback=function(Q,st,ft){var Pt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,Q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ft+qt,Q={id:E++,callback:st,priorityLevel:Q,startTime:ft,expirationTime:qt,sortIndex:-1},ft>Pt?(Q.sortIndex=ft,t(_,Q),i(y)===null&&Q===i(_)&&(it?(Tt(x),x=-1):it=!0,pe(Wt,ft-Pt))):(Q.sortIndex=qt,t(y,Q),et||F||(et=!0,Ot||(Ot=!0,L()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var st=M;return function(){var ft=M;M=st;try{return Q.apply(this,arguments)}finally{M=ft}}}})(kd)),kd}var q_;function Mb(){return q_||(q_=1,Vd.exports=Ob()),Vd.exports}var Ud={exports:{}},sn={};var H_;function Vb(){if(H_)return sn;H_=1;var r=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,sn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},sn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},sn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},sn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},sn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,w=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:F}):E==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},sn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},sn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,w=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},sn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},sn.requestFormReset=function(y){a.d.r(y)},sn.unstable_batchedUpdates=function(y,_){return y(_)},sn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},sn.useFormStatus=function(){return d.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var G_;function kb(){if(G_)return Ud.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=Vb(),Ud.exports}var F_;function Ub(){if(F_)return Al;F_=1;var r=Mb(),t=Rm(),i=kb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case mt:return"Profiler";case tt:return"StrictMode";case Wt:return"Suspense";case Ot:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case ht:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:re(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return re(e(n))}catch{}}return null}var pe=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],qt=-1;function O(e){return{current:e}}function U(e){0>qt||(e.current=Pt[qt],Pt[qt]=null,qt--)}function G(e,n){qt++,Pt[qt]=e.current,e.current=n}var Z=O(null),rt=O(null),ct=O(null),_t=O(null);function xt(e,n){switch(G(ct,n),G(rt,e),G(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(Z),G(Z,e)}function W(){U(Z),U(rt),U(ct)}function wt(e){e.memoizedState!==null&&G(_t,e);var n=Z.current,s=o_(n,e.type);n!==s&&(G(rt,e),G(Z,s))}function de(e){rt.current===e&&(U(Z),U(rt)),_t.current===e&&(U(_t),vl._currentValue=ft)}var nn,An;function gt(e){if(nn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);nn=n&&n[1]||"",An=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nn+e+An}var ye=!1;function un(e,n){if(!e||ye)return"";ye=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var Y=`
`+C[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?gt(s):""}function Le(e,n){switch(e.tag){case 26:case 27:case 5:return gt(e.type);case 16:return gt("Lazy");case 13:return e.child!==n&&n!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return un(e.type,!1);case 11:return un(e.type.render,!1);case 1:return un(e.type,!0);case 31:return gt("Activity");default:return""}}function mi(e){try{var n="",s=null;do n+=Le(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var jt=Object.prototype.hasOwnProperty,ce=r.unstable_scheduleCallback,Un=r.unstable_cancelCallback,bs=r.unstable_shouldYield,Tr=r.unstable_requestPaint,Fe=r.unstable_now,Xt=r.unstable_getCurrentPriorityLevel,Qe=r.unstable_ImmediatePriority,Ss=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,So=r.unstable_LowPriority,pi=r.unstable_IdlePriority,la=r.log,su=r.unstable_setDisableYieldValue,Jn=null,Ye=null;function Ln(e){if(typeof la=="function"&&su(e),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Jn,e)}catch{}}var Ee=Math.clz32?Math.clz32:au,ru=Math.log,ua=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/ua|0)|0}var yi=256,br=262144,we=4194304;function _i(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=_i(o):(g&=T,g!==0?h=_i(g):s||(s=T&~e,s!==0&&(h=_i(s))))):(T=o&~f,T!==0?h=_i(T):g!==0?h=_i(g):s||(s=o&~e,s!==0&&(h=_i(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function Ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var Y=31-Ee(s),X=1<<Y;T[Y]=0,C[Y]=-1;var B=j[Y];if(B!==null)for(j[Y]=null,Y=0;Y<B.length;Y++){var H=B[Y];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&Ar(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Ar(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ee(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Ao(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Ee(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function wo(e,n){var s=n&-n;return s=(s&42)!==0?1:wr(s),(s&(e.suspendedLanes|n))!==0?0:s}function wr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function ti(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var ei=Math.random().toString(36).slice(2),Re="__reactFiber$"+ei,Be="__reactProps$"+ei,Ti="__reactContainer$"+ei,ca="__reactEvents$"+ei,Uh="__reactListeners$"+ei,uu="__reactHandles$"+ei,cu="__reactResources$"+ei,bi="__reactMarker$"+ei;function ha(e){delete e[Re],delete e[Be],delete e[ca],delete e[Uh],delete e[uu]}function Si(e){var n=e[Re];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ti]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=m_(e);e!==null;){if(s=e[Re])return s;e=m_(e)}return n}e=s,s=e.parentNode}return null}function Pn(e){if(e=e[Re]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function wn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ai(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[bi]=!0}var Ro=new Set,Io={};function wi(e,n){Ri(e,n),Ri(e+"Capture",n)}function Ri(e,n){for(Io[e]=n,e=0;e<n.length;e++)Ro.add(n[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},No={};function hu(e){return jt.call(No,e)?!0:jt.call(xo,e)?!1:Co.test(e)?No[e]=!0:(xo[e]=!0,!1)}function fa(e,n,s){if(hu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Rn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Do(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $t(e){if(!e._valueTracker){var n=As(e)?"checked":"value";e._valueTracker=Do(e,n,""+e[n])}}function Rr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=As(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function dn(e){return e.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Oo(e,g,qe(n)):s!=null?Oo(e,g,qe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+qe(T):e.removeAttribute("name")}function fu(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){$t(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),$t(e)}function Oo(e,n,s){n==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ws(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function Rs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(pe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),$t(e)}function mn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Mo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Mo(e,f,n[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return Is.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var ko=null;function zn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Ci=null;function Cr(e){var n=Pn(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Rr(o)}break t;case"textarea":du(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ws(e,!!s.multiple,n,!1)}}}var pa=!1;function xs(e,n,s){if(pa)return e(n,s);pa=!0;try{var o=e(n);return o}finally{if(pa=!1,(Cs!==null||Ci!==null)&&(lc(),Cs&&(n=Cs,e=Ci,Ci=Cs=null,Cr(n),e)))for(n=0;n<e.length;n++)Cr(e[n])}}function ii(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Be]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xr=!1;if(jn)try{var te={};Object.defineProperty(te,"passive",{get:function(){xr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{xr=!1}var xi=null,Uo=null,Nr=null;function Lo(){if(Nr)return Nr;var e,n=Uo,s=n.length,o,h="value"in xi?xi.value:xi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Nr=h.slice(e,1<o?1-o:void 0)}function Dr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function si(){return!1}function Ke(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ki:si,this.isPropagationStopped=si,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),n}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Ke(Xi),Ns=w({},Xi,{view:0,detail:0}),Po=Ke(Ns),Ds,ya,Di,_a=w({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Ds=e.screenX-Di.screenX,ya=e.screenY-Di.screenY):ya=Ds=0,Di=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),zo=Ke(_a),Or=w({},_a,{dataTransfer:0}),pu=Ke(Or),yu=w({},Ns,{relatedTarget:0}),Mr=Ke(yu),jo=w({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Ke(jo),va=w({},Xi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=Ke(va),Eu=w({},Xi,{data:0}),Oi=Ke(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function Os(){return Au}var cn=w({},Ns,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Dr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(e){return e.type==="keypress"?Dr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=Ke(cn),Ru=w({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$i=Ke(Ru),u=w({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),m=Ke(u),v=w({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ke(v),P=w({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ke(P),nt=w({},Xi,{newState:0,oldState:0}),Rt=Ke(nt),Te=[9,13,27,32],Qt=jn&&"CompositionEvent"in window,he=null;jn&&"documentMode"in document&&(he=document.documentMode);var Bn=jn&&"TextEvent"in window&&!he,Mi=jn&&(!Qt||he&&8<he&&11>=he),ri=" ",ai=!1;function Vr(e,n){switch(e){case"keyup":return Te.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function WT(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return e=n.data,e===ri&&ai?null:e;default:return null}}function t1(e,n){if(Ta)return e==="compositionend"||!Qt&&Vr(e,n)?(e=Lo(),Nr=Uo=xi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var e1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!e1[e.type]:n==="textarea"}function _g(e,n,s,o){Cs?Ci?Ci.push(o):Ci=[o]:Cs=o,n=gc(n,"onChange"),0<n.length&&(s=new Ni("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Bo=null,qo=null;function n1(e){t_(e,0)}function Iu(e){var n=wn(e);if(Rr(n))return e}function vg(e,n){if(e==="change")return n}var Eg=!1;if(jn){var Lh;if(jn){var Ph="oninput"in document;if(!Ph){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Ph=typeof Tg.oninput=="function"}Lh=Ph}else Lh=!1;Eg=Lh&&(!document.documentMode||9<document.documentMode)}function bg(){Bo&&(Bo.detachEvent("onpropertychange",Sg),qo=Bo=null)}function Sg(e){if(e.propertyName==="value"&&Iu(qo)){var n=[];_g(n,qo,e,zn(e)),xs(n1,n)}}function i1(e,n,s){e==="focusin"?(bg(),Bo=n,qo=s,Bo.attachEvent("onpropertychange",Sg)):e==="focusout"&&bg()}function s1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(qo)}function r1(e,n){if(e==="click")return Iu(n)}function a1(e,n){if(e==="input"||e==="change")return Iu(n)}function o1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var In=typeof Object.is=="function"?Object.is:o1;function Ho(e,n){if(In(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!jt.call(n,h)||!In(e[h],n[h]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,n){var s=Ag(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ag(s)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ii(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ii(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var l1=jn&&"documentMode"in document&&11>=document.documentMode,ba=null,jh=null,Go=null,Bh=!1;function Cg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bh||ba==null||ba!==Ii(o)||(o=ba,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Go&&Ho(Go,o)||(Go=o,o=gc(jh,"onSelect"),0<o.length&&(n=new Ni("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ba)))}function kr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Sa={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},qh={},xg={};jn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ur(e){if(qh[e])return qh[e];if(!Sa[e])return e;var n=Sa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in xg)return qh[e]=n[s];return e}var Ng=Ur("animationend"),Dg=Ur("animationiteration"),Og=Ur("animationstart"),u1=Ur("transitionrun"),c1=Ur("transitionstart"),h1=Ur("transitioncancel"),Mg=Ur("transitionend"),Vg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function oi(e,n){Vg.set(e,n),wi(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qn=[],Aa=0,Gh=0;function xu(){for(var e=Aa,n=Gh=Aa=0;n<e;){var s=qn[n];qn[n++]=null;var o=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&kg(s,h,f)}}function Nu(e,n,s,o){qn[Aa++]=e,qn[Aa++]=n,qn[Aa++]=s,qn[Aa++]=o,Gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,n,s,o){return Nu(e,n,s,o),Du(e)}function Lr(e,n){return Nu(e,null,null,n),Du(e)}function kg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ee(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Du(e){if(50<fl)throw fl=0,ed=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function f1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,s,o){return new f1(e,n,s,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zi(e,n){var s=e.alternate;return s===null?(s=Cn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ug(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Qh(e)&&(g=1);else if(typeof e=="string")g=yb(e,s,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Cn(31,s,n,h),e.elementType=I,e.lanes=f,e;case it:return Pr(s.children,h,f,n);case tt:g=8,h|=24;break;case mt:return e=Cn(12,s,n,h|2),e.elementType=mt,e.lanes=f,e;case Wt:return e=Cn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case Ot:return e=Cn(19,s,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case Tt:g=9;break t;case Ft:g=11;break t;case x:g=14;break t;case A:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Cn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Pr(e,n,s,o){return e=Cn(7,e,o,n),e.lanes=s,e}function Yh(e,n,s){return e=Cn(6,e,null,n),e.lanes=s,e}function Lg(e){var n=Cn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,s){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pg=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var s=Pg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:mi(n)},Pg.set(e,n),n)}return{value:e,source:n,stack:mi(n)}}var Ra=[],Ia=0,Mu=null,Fo=0,Gn=[],Fn=0,Ms=null,Vi=1,ki="";function Ji(e,n){Ra[Ia++]=Fo,Ra[Ia++]=Mu,Mu=e,Fo=n}function zg(e,n,s){Gn[Fn++]=Vi,Gn[Fn++]=ki,Gn[Fn++]=Ms,Ms=e;var o=Vi;e=ki;var h=32-Ee(o)-1;o&=~(1<<h),s+=1;var f=32-Ee(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Vi=1<<32-Ee(n)+h|s<<h|o,ki=f+e}else Vi=1<<f|s<<h|o,ki=e}function Xh(e){e.return!==null&&(Ji(e,1),zg(e,1,0))}function $h(e){for(;e===Mu;)Mu=Ra[--Ia],Ra[Ia]=null,Fo=Ra[--Ia],Ra[Ia]=null;for(;e===Ms;)Ms=Gn[--Fn],Gn[Fn]=null,ki=Gn[--Fn],Gn[Fn]=null,Vi=Gn[--Fn],Gn[Fn]=null}function jg(e,n){Gn[Fn++]=Vi,Gn[Fn++]=ki,Gn[Fn++]=Ms,Vi=n.id,ki=n.overflow,Ms=e}var Xe=null,ae=null,zt=!1,Vs=null,Qn=!1,Zh=Error(a(519));function ks(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Hn(n,e)),Zh}function Bg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Re]=e,n[Be]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<ml.length;s++)Dt(ml[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||s_(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||ks(e,!0)}function qg(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Xe=Xe.return}}function Ca(e){if(e!==Xe)return!1;if(!zt)return qg(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&ae&&ks(e),qg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=d_(e)}else n===27?(n=ae,Xs(e.type)?(e=Td,Td=null,ae=e):ae=n):ae=Xe?Kn(e.stateNode.nextSibling):null;return!0}function zr(){ae=Xe=null,zt=!1}function Jh(){var e=Vs;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Vs=null),e}function Qo(e){Vs===null?Vs=[e]:Vs.push(e)}var Wh=O(null),jr=null,Wi=null;function Us(e,n,s){G(Wh,n._currentValue),n._currentValue=s}function ts(e){e._currentValue=Wh.current,U(Wh)}function tf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function ef(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),tf(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),tf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function xa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;In(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===_t.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&ef(n,e,s,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!In(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Br(e){jr=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Hg(jr,e)}function ku(e,n){return jr===null&&Br(e),Hg(e,n)}function Hg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Wi===null){if(e===null)throw Error(a(308));Wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Wi=Wi.next=n;return s}var d1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},m1=r.unstable_scheduleCallback,g1=r.unstable_NormalPriority,xe={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new d1,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&m1(g1,function(){e.controller.abort()})}var Ko=null,sf=0,Na=0,Da=null;function p1(e,n){if(Ko===null){var s=Ko=[];sf=0,Na=od(),Da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return sf++,n.then(Gg,Gg),n}function Gg(){if(--sf===0&&Ko!==null){Da!==null&&(Da.status="fulfilled");var e=Ko;Ko=null,Na=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function y1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fg=Q.S;Q.S=function(e,n){Cy=Fe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&p1(e,n),Fg!==null&&Fg(e,n)};var qr=O(null);function rf(){var e=qr.current;return e!==null?e:se.pooledCache}function Uu(e,n){n===null?G(qr,qr.current):G(qr,n.pool)}function Qg(){var e=rf();return e===null?null:{parent:xe._currentValue,pool:e}}var Oa=Error(a(460)),af=Error(a(474)),Lu=Error(a(542)),Pu={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ni,ni),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e}throw Gr=n,Oa}}function Hr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Gr=s,Oa):s}}var Gr=null;function Xg(){if(Gr===null)throw Error(a(459));var e=Gr;return Gr=null,e}function $g(e){if(e===Oa||e===Lu)throw Error(a(483))}var Ma=null,Xo=0;function zu(e){var n=Xo;return Xo+=1,Ma===null&&(Ma=[]),Kg(Ma,e,n)}function $o(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zg(e){function n(k,D){if(e){var z=k.deletions;z===null?(k.deletions=[D],k.flags|=16):z.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Zi(k,D),k.index=0,k.sibling=null,k}function f(k,D,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<D?(k.flags|=67108866,D):z):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,z,K){return D===null||D.tag!==6?(D=Yh(z,k.mode,K),D.return=k,D):(D=h(D,z),D.return=k,D)}function C(k,D,z,K){var dt=z.type;return dt===it?Y(k,D,z.props.children,K,z.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Hr(dt)===D.type)?(D=h(D,z.props),$o(D,z),D.return=k,D):(D=Ou(z.type,z.key,z.props,null,k.mode,K),$o(D,z),D.return=k,D)}function j(k,D,z,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Kh(z,k.mode,K),D.return=k,D):(D=h(D,z.children||[]),D.return=k,D)}function Y(k,D,z,K,dt){return D===null||D.tag!==7?(D=Pr(z,k.mode,K,dt),D.return=k,D):(D=h(D,z),D.return=k,D)}function X(k,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,k.mode,z),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return z=Ou(D.type,D.key,D.props,null,k.mode,z),$o(z,D),z.return=k,z;case et:return D=Kh(D,k.mode,z),D.return=k,D;case A:return D=Hr(D),X(k,D,z)}if(pe(D)||L(D))return D=Pr(D,k.mode,z,null),D.return=k,D;if(typeof D.then=="function")return X(k,zu(D),z);if(D.$$typeof===ht)return X(k,ku(k,D),z);ju(k,D)}return null}function B(k,D,z,K){var dt=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:T(k,D,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case F:return z.key===dt?C(k,D,z,K):null;case et:return z.key===dt?j(k,D,z,K):null;case A:return z=Hr(z),B(k,D,z,K)}if(pe(z)||L(z))return dt!==null?null:Y(k,D,z,K,null);if(typeof z.then=="function")return B(k,D,zu(z),K);if(z.$$typeof===ht)return B(k,D,ku(k,z),K);ju(k,z)}return null}function H(k,D,z,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(z)||null,T(D,k,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case F:return k=k.get(K.key===null?z:K.key)||null,C(D,k,K,dt);case et:return k=k.get(K.key===null?z:K.key)||null,j(D,k,K,dt);case A:return K=Hr(K),H(k,D,z,K,dt)}if(pe(K)||L(K))return k=k.get(z)||null,Y(D,k,K,dt,null);if(typeof K.then=="function")return H(k,D,z,zu(K),dt);if(K.$$typeof===ht)return H(k,D,z,ku(D,K),dt);ju(D,K)}return null}function ot(k,D,z,K){for(var dt=null,Ht=null,lt=D,Ct=D=0,Vt=null;lt!==null&&Ct<z.length;Ct++){lt.index>Ct?(Vt=lt,lt=null):Vt=lt.sibling;var Gt=B(k,lt,z[Ct],K);if(Gt===null){lt===null&&(lt=Vt);break}e&&lt&&Gt.alternate===null&&n(k,lt),D=f(Gt,D,Ct),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt,lt=Vt}if(Ct===z.length)return s(k,lt),zt&&Ji(k,Ct),dt;if(lt===null){for(;Ct<z.length;Ct++)lt=X(k,z[Ct],K),lt!==null&&(D=f(lt,D,Ct),Ht===null?dt=lt:Ht.sibling=lt,Ht=lt);return zt&&Ji(k,Ct),dt}for(lt=o(lt);Ct<z.length;Ct++)Vt=H(lt,k,Ct,z[Ct],K),Vt!==null&&(e&&Vt.alternate!==null&&lt.delete(Vt.key===null?Ct:Vt.key),D=f(Vt,D,Ct),Ht===null?dt=Vt:Ht.sibling=Vt,Ht=Vt);return e&&lt.forEach(function(tr){return n(k,tr)}),zt&&Ji(k,Ct),dt}function yt(k,D,z,K){if(z==null)throw Error(a(151));for(var dt=null,Ht=null,lt=D,Ct=D=0,Vt=null,Gt=z.next();lt!==null&&!Gt.done;Ct++,Gt=z.next()){lt.index>Ct?(Vt=lt,lt=null):Vt=lt.sibling;var tr=B(k,lt,Gt.value,K);if(tr===null){lt===null&&(lt=Vt);break}e&&lt&&tr.alternate===null&&n(k,lt),D=f(tr,D,Ct),Ht===null?dt=tr:Ht.sibling=tr,Ht=tr,lt=Vt}if(Gt.done)return s(k,lt),zt&&Ji(k,Ct),dt;if(lt===null){for(;!Gt.done;Ct++,Gt=z.next())Gt=X(k,Gt.value,K),Gt!==null&&(D=f(Gt,D,Ct),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt);return zt&&Ji(k,Ct),dt}for(lt=o(lt);!Gt.done;Ct++,Gt=z.next())Gt=H(lt,k,Ct,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&lt.delete(Gt.key===null?Ct:Gt.key),D=f(Gt,D,Ct),Ht===null?dt=Gt:Ht.sibling=Gt,Ht=Gt);return e&&lt.forEach(function(Cb){return n(k,Cb)}),zt&&Ji(k,Ct),dt}function ie(k,D,z,K){if(typeof z=="object"&&z!==null&&z.type===it&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case F:t:{for(var dt=z.key;D!==null;){if(D.key===dt){if(dt=z.type,dt===it){if(D.tag===7){s(k,D.sibling),K=h(D,z.props.children),K.return=k,k=K;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Hr(dt)===D.type){s(k,D.sibling),K=h(D,z.props),$o(K,z),K.return=k,k=K;break t}s(k,D);break}else n(k,D);D=D.sibling}z.type===it?(K=Pr(z.props.children,k.mode,K,z.key),K.return=k,k=K):(K=Ou(z.type,z.key,z.props,null,k.mode,K),$o(K,z),K.return=k,k=K)}return g(k);case et:t:{for(dt=z.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){s(k,D.sibling),K=h(D,z.children||[]),K.return=k,k=K;break t}else{s(k,D);break}else n(k,D);D=D.sibling}K=Kh(z,k.mode,K),K.return=k,k=K}return g(k);case A:return z=Hr(z),ie(k,D,z,K)}if(pe(z))return ot(k,D,z,K);if(L(z)){if(dt=L(z),typeof dt!="function")throw Error(a(150));return z=dt.call(z),yt(k,D,z,K)}if(typeof z.then=="function")return ie(k,D,zu(z),K);if(z.$$typeof===ht)return ie(k,D,ku(k,z),K);ju(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(s(k,D.sibling),K=h(D,z),K.return=k,k=K):(s(k,D),K=Yh(z,k.mode,K),K.return=k,k=K),g(k)):s(k,D)}return function(k,D,z,K){try{Xo=0;var dt=ie(k,D,z,K);return Ma=null,dt}catch(lt){if(lt===Oa||lt===Lu)throw lt;var Ht=Cn(29,lt,null,k.mode);return Ht.lanes=K,Ht.return=k,Ht}}}var Fr=Zg(!0),Jg=Zg(!1),Ls=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),kg(e,null,s),n}return Nu(e,o,n,s),Du(e)}function Zo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ao(e,s)}}function uf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var cf=!1;function Jo(){if(cf){var e=Da;if(e!==null)throw e}}function Wo(e,n,s,o){cf=!1;var h=e.updateQueue;Ls=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==g&&(T===null?Y.firstBaseUpdate=j:T.next=j,Y.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,Y=j=C=null,T=f;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(Mt&B)===B:(o&B)===B){B!==0&&B===Na&&(cf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,yt=T;B=n;var ie=s;switch(yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){X=ot.call(ie,X,B);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,B=typeof ot=="function"?ot.call(ie,X,B):ot,B==null)break t;X=w({},X,B);break t;case 2:Ls=!0}}B=T.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(j=Y=H,C=X):Y=Y.next=H,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Y===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Gs|=g,e.lanes=g,e.memoizedState=X}}function Wg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function tp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Wg(s[e],n)}var Va=O(null),Bu=O(0);function ep(e,n){e=us,G(Bu,e),G(Va,n),us=e|n.baseLanes}function hf(){G(Bu,us),G(Va,Va.current)}function ff(){us=Bu.current,U(Va),U(Bu)}var xn=O(null),Yn=null;function js(e){var n=e.alternate;G(be,be.current&1),G(xn,e),Yn===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(Yn=e)}function df(e){G(be,be.current),G(xn,e),Yn===null&&(Yn=e)}function np(e){e.tag===22?(G(be,be.current),G(xn,e),Yn===null&&(Yn=e)):Bs()}function Bs(){G(be,be.current),G(xn,xn.current)}function Nn(e){U(xn),Yn===e&&(Yn=null),U(be)}var be=O(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vd(s)||Ed(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var es=0,It=null,ee=null,Ne=null,Hu=!1,ka=!1,Qr=!1,Gu=0,tl=0,Ua=null,_1=0;function _e(){throw Error(a(321))}function mf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!In(e[s],n[s]))return!1;return!0}function gf(e,n,s,o,h,f){return es=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?zp:Nf,Qr=!1,f=s(o,h),Qr=!1,ka&&(f=sp(n,s,o,h)),ip(e),f}function ip(e){Q.H=il;var n=ee!==null&&ee.next!==null;if(es=0,Ne=ee=It=null,Hu=!1,tl=0,Ua=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&Vu(e)&&(De=!0))}function sp(e,n,s,o){It=e;var h=0;do{if(ka&&(Ua=null),tl=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,Ne=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=jp,f=n(s,o)}while(ka);return f}function v1(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?el(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(It.flags|=1024),n}function pf(){var e=Gu!==0;return Gu=0,e}function yf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function _f(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}es=0,Ne=ee=It=null,ka=!1,tl=Gu=0,Ua=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?It.memoizedState=Ne=e:Ne=Ne.next=e,Ne}function Se(){if(ee===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ne===null?It.memoizedState:Ne.next;if(n!==null)Ne=n,ee=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?It.memoizedState=Ne=e:Ne=Ne.next=e}return Ne}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var n=tl;return tl+=1,Ua===null&&(Ua=[]),e=Kg(Ua,e,n),n=It,(Ne===null?n.memoizedState:Ne.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?zp:Nf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===ht)return $e(e)}throw Error(a(438,String(e)))}function vf(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=It.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fu(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function ns(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=Se();return Ef(n,ee,e)}function Ef(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,C=null,j=n,Y=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Mt&X)===X:(es&X)===X){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Na&&(Y=!0);else if((es&B)===B){j=j.next,B===Na&&(Y=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=X,g=f):C=C.next=X,It.lanes|=B,Gs|=B;X=j.action,Qr&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=B,g=f):C=C.next=B,It.lanes|=X,Gs|=X;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=T,!In(f,e.memoizedState)&&(De=!0,Y&&(s=Da,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Tf(e){var n=Se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);In(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rp(e,n,s){var o=It,h=Se(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!In((ee||h).memoizedState,s);if(g&&(h.memoizedState=s,De=!0),h=h.queue,Af(lp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ne!==null&&Ne.memoizedState.tag&1){if(o.flags|=2048,La(9,{destroy:void 0},op.bind(null,o,h,s,n),null),se===null)throw Error(a(349));f||(es&127)!==0||ap(o,n,s)}return s}function ap(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Fu(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function op(e,n,s,o){n.value=s,n.getSnapshot=o,up(n)&&cp(e)}function lp(e,n,s){return s(function(){up(n)&&cp(e)})}function up(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!In(e,s)}catch{return!0}}function cp(e){var n=Lr(e,2);n!==null&&vn(n,e,2)}function bf(e){var n=hn();if(typeof e=="function"){var s=e;if(e=s(),Qr){Ln(!0);try{s()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:e},n}function hp(e,n,s,o){return e.baseState=s,Ef(e,ee,typeof o=="function"?o:ns)}function E1(e,n,s,o,h){if($u(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,fp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function fp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var T=s(h,o),C=Q.S;C!==null&&C(g,T),dp(e,n,T)}catch(j){Sf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=s(h,o),dp(e,n,f)}catch(j){Sf(e,n,j)}}function dp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mp(e,n,o)},function(o){return Sf(e,n,o)}):mp(e,n,s)}function mp(e,n,s){n.status="fulfilled",n.value=s,gp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,fp(e,s)))}function Sf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,gp(n),n=n.next;while(n!==o)}e.action=null}function gp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pp(e,n){return n}function yp(e,n){if(zt){var s=se.formState;if(s!==null){t:{var o=It;if(zt){if(ae){e:{for(var h=ae,f=Qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=Kn(h.nextSibling),o=h.data==="F!";break t}}ks(o)}o=!1}o&&(n=s[0])}}return s=hn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},s.queue=o,s=Up.bind(null,It,o),o.dispatch=s,o=bf(!1),f=xf.bind(null,It,!1,o.queue),o=hn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=E1.bind(null,It,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function _p(e){var n=Se();return vp(n,ee,e)}function vp(e,n,s){if(n=Ef(e,n,pp)[0],e=Yu(ns)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(g){throw g===Oa?Lu:g}else o=n;n=Se();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,La(9,{destroy:void 0},T1.bind(null,h,s),null)),[o,f,e]}function T1(e,n){e.action=n}function Ep(e){var n=Se(),s=ee;if(s!==null)return vp(n,s,e);Se(),n=n.memoizedState,s=Se();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function La(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=It.updateQueue,n===null&&(n=Fu(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Tp(){return Se().memoizedState}function Ku(e,n,s,o){var h=hn();It.flags|=e,h.memoizedState=La(1|n,{destroy:void 0},s,o===void 0?null:o)}function Xu(e,n,s,o){var h=Se();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&mf(o,ee.memoizedState.deps)?h.memoizedState=La(n,f,s,o):(It.flags|=e,h.memoizedState=La(1|n,f,s,o))}function bp(e,n){Ku(8390656,8,e,n)}function Af(e,n){Xu(2048,8,e,n)}function b1(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Fu(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Sp(e){var n=Se().memoizedState;return b1({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(e,n){return Xu(4,2,e,n)}function wp(e,n){return Xu(4,4,e,n)}function Rp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,s){s=s!=null?s.concat([e]):null,Xu(4,4,Rp.bind(null,n,e),s)}function wf(){}function Cp(e,n){var s=Se();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function xp(e,n){var s=Se();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Qr){Ln(!0);try{e()}finally{Ln(!1)}}return s.memoizedState=[o,n],o}function Rf(e,n,s){return s===void 0||(es&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ny(),It.lanes|=e,Gs|=e,s)}function Np(e,n,s,o){return In(s,n)?s:Va.current!==null?(e=Rf(e,s,o),In(e,n)||(De=!0),e):(es&42)===0||(es&1073741824)!==0&&(Mt&261930)===0?(De=!0,e.memoizedState=s):(e=Ny(),It.lanes|=e,Gs|=e,n)}function Dp(e,n,s,o,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=Q.T,T={};Q.T=T,xf(e,!1,n,s);try{var C=h(),j=Q.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=y1(C,o);nl(e,n,Y,Mn(e))}else nl(e,n,o,Mn(e))}catch(X){nl(e,n,{then:function(){},status:"rejected",reason:X},Mn())}finally{st.p=f,g!==null&&T.types!==null&&(g.types=T.types),Q.T=g}}function S1(){}function If(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Op(e).queue;Dp(e,h,n,ft,s===null?S1:function(){return Mp(e),s(o)})}function Op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mp(e){var n=Op(e);n.next===null&&(n=e.alternate.memoizedState),nl(e,n.next.queue,{},Mn())}function Cf(){return $e(vl)}function Vp(){return Se().memoizedState}function kp(){return Se().memoizedState}function A1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Mn();e=Ps(s);var o=zs(n,e,s);o!==null&&(vn(o,n,s),Zo(o,n,s)),n={cache:nf()},e.payload=n;return}n=n.return}}function w1(e,n,s){var o=Mn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(e)?Lp(n,s):(s=Fh(e,n,s,o),s!==null&&(vn(s,e,o),Pp(s,n,o)))}function Up(e,n,s){var o=Mn();nl(e,n,s,o)}function nl(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(e))Lp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,In(T,g))return Nu(e,n,h,0),se===null&&xu(),!1}catch{}if(s=Fh(e,n,h,o),s!==null)return vn(s,e,o),Pp(s,n,o),!0}return!1}function xf(e,n,s,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(a(479))}else n=Fh(e,s,o,2),n!==null&&vn(n,e,2)}function $u(e){var n=e.alternate;return e===It||n!==null&&n===It}function Lp(e,n){ka=Hu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Pp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ao(e,s)}}var il={readContext:$e,use:Qu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};il.useEffectEvent=_e;var zp={readContext:$e,use:Qu,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:bp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ku(4194308,4,Rp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var s=hn();n=n===void 0?null:n;var o=e();if(Qr){Ln(!0);try{e()}finally{Ln(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=hn();if(s!==void 0){var h=s(n);if(Qr){Ln(!0);try{s(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=w1.bind(null,It,e),[o.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,s=Up.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:wf,useDeferredValue:function(e,n){var s=hn();return Rf(s,e,n)},useTransition:function(){var e=bf(!1);return e=Dp.bind(null,It,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=It,h=hn();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(Mt&127)!==0||ap(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,bp(lp.bind(null,o,f,e),[e]),o.flags|=2048,La(9,{destroy:void 0},op.bind(null,o,f,s,n),null),s},useId:function(){var e=hn(),n=se.identifierPrefix;if(zt){var s=ki,o=Vi;s=(o&~(1<<32-Ee(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=_1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:yp,useActionState:yp,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=xf.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return hn().memoizedState=A1.bind(null,It)},useEffectEvent:function(e){var n=hn(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Nf={readContext:$e,use:Qu,useCallback:Cp,useContext:$e,useEffect:Af,useImperativeHandle:Ip,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:xp,useReducer:Yu,useRef:Tp,useState:function(){return Yu(ns)},useDebugValue:wf,useDeferredValue:function(e,n){var s=Se();return Np(s,ee.memoizedState,e,n)},useTransition:function(){var e=Yu(ns)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Cf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var s=Se();return hp(s,ee,e,n)},useMemoCache:vf,useCacheRefresh:kp};Nf.useEffectEvent=Sp;var jp={readContext:$e,use:Qu,useCallback:Cp,useContext:$e,useEffect:Af,useImperativeHandle:Ip,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:xp,useReducer:Tf,useRef:Tp,useState:function(){return Tf(ns)},useDebugValue:wf,useDeferredValue:function(e,n){var s=Se();return ee===null?Rf(s,e,n):Np(s,ee.memoizedState,e,n)},useTransition:function(){var e=Tf(ns)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Cf,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var s=Se();return ee!==null?hp(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:vf,useCacheRefresh:kp};jp.useEffectEvent=Sp;function Df(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Of={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Mn(),h=Ps(o);h.payload=n,s!=null&&(h.callback=s),n=zs(e,h,o),n!==null&&(vn(n,e,o),Zo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Mn(),h=Ps(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=zs(e,h,o),n!==null&&(vn(n,e,o),Zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Mn(),o=Ps(s);o.tag=2,n!=null&&(o.callback=n),n=zs(e,o,s),n!==null&&(vn(n,e,s),Zo(n,e,s))}};function Bp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ho(s,o)||!Ho(h,f):!0}function qp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Hp(e){Cu(e)}function Gp(e){console.error(e)}function Fp(e){Cu(e)}function Zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,s){return s=Ps(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(e,n)},s}function Yp(e){return e=Ps(e),e.tag=3,e}function Kp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qp(n,s,o),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function R1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&xa(n,s,h,!0),s=xn.current,s!==null){switch(s.tag){case 31:case 13:return Yn===null?uc():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Pu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return s.flags|=65536,o===Pu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),sd(e,o,h)),!1}throw Error(a(435,s.tag))}return sd(e,o,h),uc(),!1}if(zt)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(a(422),{cause:o}),Qo(Hn(e,s)))):(o!==Zh&&(n=Error(a(423),{cause:o}),Qo(Hn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Hn(o,s),h=Mf(e.stateNode,o,h),uf(e,h),ve!==4&&(ve=2)),!1;var f=Error(a(520),{cause:o});if(f=Hn(f,s),hl===null?hl=[f]:hl.push(f),ve!==4&&(ve=2),n===null)return!0;o=Hn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Mf(s.stateNode,o,e),uf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yp(h),Kp(h,e,s,o),uf(s,h),!1}s=s.return}while(s!==null);return!1}var Vf=Error(a(461)),De=!1;function Ze(e,n,s,o){n.child=e===null?Jg(n,null,s,o):Fr(n,e.child,s,o)}function Xp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Br(n),o=gf(e,n,s,g,f,h),T=pf(),e!==null&&!De?(yf(e,n,h),is(e,n,h)):(zt&&T&&Xh(n),n.flags|=1,Ze(e,n,o,h),n.child)}function $p(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zp(e,n,f,o,h)):(e=Ou(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ho,s(g,o)&&e.ref===n.ref)return is(e,n,h)}return n.flags|=1,e=Zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Zp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,qf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,is(e,n,h)}return kf(e,n,s,o,h)}function Jp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?ep(n,f):hf(),np(n);else return o=n.lanes=536870912,Wp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Uu(n,f.cachePool),ep(n,f),Bs(),n.memoizedState=null):(e!==null&&Uu(n,null),hf(),Bs());return Ze(e,n,h,s),n.child}function sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(e,n,s,o,h){var f=rf();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Uu(n,null),hf(),np(n),e!==null&&xa(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,s){return Fr(n,e.child,null,s),e=Ju(n,n.pendingProps),e.flags|=2,Nn(n),n.memoizedState=null,e}function I1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,sl(null,e);if(df(n),(e=ae)?(e=f_(e,Qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=Lg(e),s.return=n,n.child=s,Xe=n,ae=null)):e=null,e===null)throw ks(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||xa(e,n,s,!1),h=(s&e.childLanes)!==0,De||h){if(o=se,o!==null&&(g=wo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Lr(e,g),vn(o,e,g),Vf;uc(),n=ty(e,n,s)}else e=f.treeContext,ae=Kn(g.nextSibling),Xe=n,zt=!0,Vs=null,Qn=!1,e!==null&&jg(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=Zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function kf(e,n,s,o,h){return Br(n),s=gf(e,n,s,o,void 0,h),o=pf(),e!==null&&!De?(yf(e,n,h),is(e,n,h)):(zt&&o&&Xh(n),n.flags|=1,Ze(e,n,s,h),n.child)}function ey(e,n,s,o,h,f){return Br(n),n.updateQueue=null,s=sp(n,o,s,h),ip(e),o=pf(),e!==null&&!De?(yf(e,n,f),is(e,n,f)):(zt&&o&&Xh(n),n.flags|=1,Ze(e,n,s,f),n.child)}function ny(e,n,s,o,h){if(Br(n),n.stateNode===null){var f=wa,g=s.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$e(g):wa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Df(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Of.enqueueReplaceState(f,f.state,null),Wo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=Yr(s,T);f.props=C;var j=f.context,Y=s.contextType;g=wa,typeof Y=="object"&&Y!==null&&(g=$e(Y));var X=s.getDerivedStateFromProps;Y=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&qp(n,f,o,g),Ls=!1;var B=n.memoizedState;f.state=B,Wo(n,o,f,h),Jo(),j=n.memoizedState,T||B!==j||Ls?(typeof X=="function"&&(Df(n,s,X,o),j=n.memoizedState),(C=Ls||Bp(n,s,C,o,B,j,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),g=n.memoizedProps,Y=Yr(s,g),f.props=Y,X=n.pendingProps,B=f.context,j=s.contextType,C=wa,typeof j=="object"&&j!==null&&(C=$e(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&qp(n,f,o,C),Ls=!1,B=n.memoizedState,f.state=B,Wo(n,o,f,h),Jo();var H=n.memoizedState;g!==X||B!==H||Ls||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof T=="function"&&(Df(n,s,T,o),H=n.memoizedState),(Y=Ls||Bp(n,s,Y,o,B,H,C)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Fr(n,e.child,null,h),n.child=Fr(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=is(e,n,h),e}function iy(e,n,s,o){return zr(),n.flags|=256,Ze(e,n,s,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Qg()}}function Pf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=On),e}function sy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?js(n):Bs(),(e=ae)?(e=f_(e,Qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=Lg(e),s.return=n,n.child=s,Xe=n,ae=null)):e=null,e===null)throw ks(n);return Ed(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Bs(),h=n.mode,T=tc({mode:"hidden",children:T},h),o=Pr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Lf(s),o.childLanes=Pf(e,g,s),n.memoizedState=Uf,sl(null,o)):(js(n),zf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(js(n),n.flags&=-257,n=jf(e,n,s)):n.memoizedState!==null?(Bs(),n.child=e.child,n.flags|=128,n=null):(Bs(),T=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),T=Pr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Fr(n,e.child,null,s),o=n.child,o.memoizedState=Lf(s),o.childLanes=Pf(e,g,s),n.memoizedState=Uf,n=sl(null,o));else if(js(n),Ed(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Qo({value:o,source:null,stack:null}),n=jf(e,n,s)}else if(De||xa(e,n,s,!1),g=(s&e.childLanes)!==0,De||g){if(g=se,g!==null&&(o=wo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Lr(e,o),vn(g,e,o),Vf;vd(T)||uc(),n=jf(e,n,s)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ae=Kn(T.nextSibling),Xe=n,zt=!0,Vs=null,Qn=!1,e!==null&&jg(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Bs(),T=o.fallback,h=n.mode,C=e.child,j=C.sibling,o=Zi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=Zi(j,T):(T=Pr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,sl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Lf(s):(h=T.cachePool,h!==null?(C=xe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Qg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Pf(e,g,s),n.memoizedState=Uf,sl(e.child,o)):(js(n),s=e.child,e=s.sibling,s=Zi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function zf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=Cn(22,e,null,n),e.lanes=0,e}function jf(e,n,s){return Fr(n,e.child,null,s),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,s)}function Bf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ay(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=be.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,G(be,g),Ze(e,n,o,s),o=zt?Fo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,s,n);else if(e.tag===19)ry(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&qu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Bf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Bf(n,!0,s,null,f,o);break;case"together":Bf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function is(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Gs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(xa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Zi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Zi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function C1(e,n,s){switch(n.tag){case 3:xt(n,n.stateNode.containerInfo),Us(n,xe,e.memoizedState.cache),zr();break;case 27:case 5:wt(n);break;case 4:xt(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(js(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sy(e,n,s):(js(n),e=is(e,n,s),e!==null?e.sibling:null);js(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(xa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ay(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(be,be.current),o)break;return null;case 22:return n.lanes=0,Jp(e,n,s,n.pendingProps);case 24:Us(n,xe,e.memoizedState.cache)}return is(e,n,s)}function oy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!qf(e,s)&&(n.flags&128)===0)return De=!1,C1(e,n,s);De=(e.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&zg(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Hr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Yr(e,o),n.tag=1,n=ny(null,n,e,o,s)):(n.tag=0,n=kf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=Xp(null,n,e,o,s);break t}else if(h===x){n.tag=14,n=$p(null,n,e,o,s);break t}}throw n=re(e)||e,Error(a(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Yr(o,n.pendingProps),ny(e,n,o,h,s);case 3:t:{if(xt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Wo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Us(n,xe,o),o!==f.cache&&ef(n,[xe],s,!0),Jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,o,s);break t}else if(o!==h){h=Hn(Error(a(424)),n),Qo(h),n=iy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=Kn(e.firstChild),Xe=n,zt=!0,Vs=null,Qn=!0,s=Jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(zr(),o===h){n=is(e,n,s);break t}Ze(e,n,o,s)}n=n.child}return n;case 26:return Wu(e,n),e===null?(s=__(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=pc(ct.current).createElement(s),o[Re]=n,o[Be]=e,Je(o,s,e),Ie(o),n.stateNode=o):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return wt(n),e===null&&zt&&(o=n.stateNode=g_(n.type,n.pendingProps,ct.current),Xe=n,Qn=!0,h=ae,Xs(n.type)?(Td=h,ae=Kn(o.firstChild)):ae=h),Ze(e,n,n.pendingProps.children,s),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=ae)&&(o=sb(o,n.type,n.pendingProps,Qn),o!==null?(n.stateNode=o,Xe=n,ae=Kn(o.firstChild),Qn=!1,h=!0):h=!1),h||ks(n)),wt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,v1,null,null,s),vl._currentValue=h),Wu(e,n),Ze(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=ae)&&(s=rb(s,n.pendingProps,Qn),s!==null?(n.stateNode=s,Xe=n,ae=null,e=!0):e=!1),e||ks(n)),null;case 13:return sy(e,n,s);case 4:return xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Fr(n,null,o,s):Ze(e,n,o,s),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Us(n,n.type,o.value),Ze(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Br(n),h=$e(h),o=o(h),n.flags|=1,Ze(e,n,o,s),n.child;case 14:return $p(e,n,n.type,n.pendingProps,s);case 15:return Zp(e,n,n.type,n.pendingProps,s);case 19:return ay(e,n,s);case 31:return I1(e,n,s);case 22:return Jp(e,n,s,n.pendingProps);case 24:return Br(n),o=$e(xe),e===null?(h=rf(),h===null&&(h=se,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},of(n),Us(n,xe,h)):((e.lanes&s)!==0&&(lf(e,n),Wo(n,null,null,s),Jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,xe,o)):(o=f.cache,Us(n,xe,o),o!==h.cache&&ef(n,[xe],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ss(e){e.flags|=4}function Hf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw Gr=Pu,af}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(Vy())e.flags|=8192;else throw Gr=Pu,af}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ou():536870912,e.lanes|=n,Ba|=n)}function rl(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function x1(e,n,s){var o=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ts(xe),W(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ca(n)?ss(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ss(n),f!==null?(oe(n),ly(n,f)):(oe(n),Hf(n,h,null,o,s))):f?f!==e.memoizedState?(ss(n),oe(n),ly(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ss(n),oe(n),Hf(n,h,e,o,s)),null;case 27:if(de(n),s=ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}e=Z.current,Ca(n)?Bg(n):(e=g_(h,o,s),n.stateNode=e,ss(n))}return oe(n),null;case 5:if(de(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return oe(n),null}if(f=Z.current,Ca(n))Bg(n);else{var g=pc(ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Re]=n,f[Be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ss(n)}}return oe(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ss(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ct.current,Ca(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||s_(e.nodeValue,s)),e||ks(n,!0)}else e=pc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return oe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ca(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else s=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Nn(n),n):(Nn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Nn(n),n):(Nn(n),null)}return Nn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),oe(n),null);case 4:return W(),e===null&&hd(n.stateNode.containerInfo),oe(n),null;case 10:return ts(n.type),oe(n),null;case 19:if(U(be),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)rl(o,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,rl(o,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ug(s,e),s=s.sibling;return G(be,be.current&1|2),zt&&Ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Fe()>ac&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return oe(n),null}else 2*Fe()-o.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Fe(),e.sibling=null,s=be.current,G(be,h?s&1|2:s&1),zt&&Ji(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return Nn(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&U(qr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ts(xe),oe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function N1(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ts(xe),W(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return de(n),null;case 31:if(n.memoizedState!==null){if(Nn(n),n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(be),null;case 4:return W(),null;case 10:return ts(n.type),null;case 22:case 23:return Nn(n),ff(),e!==null&&U(qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ts(xe),null;case 25:return null;default:return null}}function uy(e,n){switch($h(n),n.tag){case 3:ts(xe),W();break;case 26:case 27:case 5:de(n);break;case 4:W();break;case 31:n.memoizedState!==null&&Nn(n);break;case 13:Nn(n);break;case 19:U(be);break;case 10:ts(n.type);break;case 22:case 23:Nn(n),ff(),e!==null&&U(qr);break;case 24:ts(xe)}}function al(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){Jt(n,n.return,T)}}function qs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=s,j=T;try{j()}catch(Y){Jt(h,C,Y)}}}o=o.next}while(o!==f)}}catch(Y){Jt(n,n.return,Y)}}function cy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{tp(n,s)}catch(o){Jt(e,e.return,o)}}}function hy(e,n,s){s.props=Yr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Jt(e,n,o)}}function ol(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Jt(e,n,h)}}function Ui(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Jt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Jt(e,n,h)}else s.current=null}function fy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Jt(e,e.return,h)}}function Gf(e,n,s){try{var o=e.stateNode;J1(o,e.type,s,n),o[Be]=n}catch(h){Jt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xs(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ni));else if(o!==4&&(o===27&&Xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,s),e=e.sibling;e!==null;)Qf(e,n,s),e=e.sibling}function nc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(nc(e,n,s),e=e.sibling;e!==null;)nc(e,n,s),e=e.sibling}function my(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,o,s),n[Re]=e,n[Be]=s}catch(f){Jt(e,e.return,f)}}var rs=!1,Oe=!1,Yf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,He=null;function D1(e,n){if(e=e.containerInfo,md=Sc,e=Ig(e),zh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,C=-1,j=0,Y=0,X=e,B=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(T=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===s&&++j===h&&(T=g),B===f&&++Y===o&&(C=g),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(gd={focusedElem:e,selectionRange:s},Sc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Yr(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Jt(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)_d(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function py(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:os(e,s),o&4&&al(5,s);break;case 1:if(os(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Jt(s,s.return,g)}else{var h=Yr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Jt(s,s.return,g)}}o&64&&cy(s),o&512&&ol(s,s.return);break;case 3:if(os(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{tp(e,n)}catch(g){Jt(s,s.return,g)}}break;case 27:n===null&&o&4&&my(s);case 26:case 5:os(e,s),n===null&&o&4&&fy(s),o&512&&ol(s,s.return);break;case 12:os(e,s);break;case 31:os(e,s),o&4&&vy(e,s);break;case 13:os(e,s),o&4&&Ey(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=j1.bind(null,s),ab(e,s))));break;case 22:if(o=s.memoizedState!==null||rs,!o){n=n!==null&&n.memoizedState!==null||Oe,h=rs;var f=Oe;rs=o,(Oe=n)&&!f?ls(e,s,(s.subtreeFlags&8772)!==0):os(e,s),rs=h,Oe=f}break;case 30:break;default:os(e,s)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,gn=!1;function as(e,n,s){for(s=s.child;s!==null;)_y(e,n,s),s=s.sibling}function _y(e,n,s){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Jn,s)}catch{}switch(s.tag){case 26:Oe||Ui(s,n),as(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Oe||Ui(s,n);var o=fe,h=gn;Xs(s.type)&&(fe=s.stateNode,gn=!1),as(e,n,s),pl(s.stateNode),fe=o,gn=h;break;case 5:Oe||Ui(s,n);case 6:if(o=fe,h=gn,fe=null,as(e,n,s),fe=o,gn=h,fe!==null)if(gn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(f){Jt(s,n,f)}else try{fe.removeChild(s.stateNode)}catch(f){Jt(s,n,f)}break;case 18:fe!==null&&(gn?(e=fe,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xa(e)):c_(fe,s.stateNode));break;case 4:o=fe,h=gn,fe=s.stateNode.containerInfo,gn=!0,as(e,n,s),fe=o,gn=h;break;case 0:case 11:case 14:case 15:qs(2,s,n),Oe||qs(4,s,n),as(e,n,s);break;case 1:Oe||(Ui(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&hy(s,n,o)),as(e,n,s);break;case 21:as(e,n,s);break;case 22:Oe=(o=Oe)||s.memoizedState!==null,as(e,n,s),Oe=o;break;default:as(e,n,s)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(s){Jt(n,n.return,s)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(s){Jt(n,n.return,s)}}function O1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gy),n;default:throw Error(a(435,e.tag))}}function ic(e,n){var s=O1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=B1.bind(null,e,o);o.then(h,h)}})}function pn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Xs(T.type)){fe=T.stateNode,gn=!1;break t}break;case 5:fe=T.stateNode,gn=!1;break t;case 3:case 4:fe=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(fe===null)throw Error(a(160));_y(f,g,h),fe=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var li=null;function Ty(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),yn(e),o&4&&(qs(3,e,e.return),al(3,e),qs(5,e,e.return));break;case 1:pn(n,e),yn(e),o&512&&(Oe||s===null||Ui(s,s.return)),o&64&&rs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=li;if(pn(n,e),yn(e),o&512&&(Oe||s===null||Ui(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,o,s),f[Re]=e,Ie(f),o=f;break t;case"link":var g=T_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Je(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,Ie(f),o=f}e.stateNode=o}else b_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?b_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,s.memoizedProps)}break;case 27:pn(n,e),yn(e),o&512&&(Oe||s===null||Ui(s,s.return)),s!==null&&o&4&&Gf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(pn(n,e),yn(e),o&512&&(Oe||s===null||Ui(s,s.return)),e.flags&32){h=e.stateNode;try{mn(h,"")}catch(ot){Jt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(pn(n,e),yn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){Jt(e,e.return,ot)}}break;case 3:if(vc=null,h=li,li=yc(n.containerInfo),pn(n,e),li=h,yn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ot){Jt(e,e.return,ot)}Yf&&(Yf=!1,by(e));break;case 4:o=li,li=yc(e.stateNode.containerInfo),pn(n,e),yn(e),li=o;break;case 12:pn(n,e),yn(e);break;case 31:pn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:pn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=Fe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=rs,Y=Oe;if(rs=j||h,Oe=Y||C,pn(n,e),Oe=Y,rs=j,yn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||rs||Oe||Kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){Jt(C,C.return,ot)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ot){Jt(C,C.return,ot)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?h_(H,!0):h_(C.stateNode,!1)}catch(ot){Jt(C,C.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ic(e,s))));break;case 19:pn(n,e),yn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:pn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Ff(e);nc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(mn(g,""),s.flags&=-33);var T=Ff(e);nc(e,T,g);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Ff(e);Qf(e,j,C);break;default:throw Error(a(161))}}catch(Y){Jt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function os(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function Kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Kr(n);break;case 1:Ui(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),Kr(n);break;case 27:pl(n.stateNode);case 26:case 5:Ui(n,n.return),Kr(n);break;case 22:n.memoizedState===null&&Kr(n);break;case 30:Kr(n);break;default:Kr(n)}e=e.sibling}}function ls(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ls(h,f,s),al(4,f);break;case 1:if(ls(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Jt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Wg(C[h],T)}catch(j){Jt(o,o.return,j)}}s&&g&64&&cy(f),ol(f,f.return);break;case 27:my(f);case 26:case 5:ls(h,f,s),s&&o===null&&g&4&&fy(f),ol(f,f.return);break;case 12:ls(h,f,s);break;case 31:ls(h,f,s),s&&g&4&&vy(h,f);break;case 13:ls(h,f,s),s&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&ls(h,f,s),ol(f,f.return);break;case 30:break;default:ls(h,f,s)}n=n.sibling}}function Kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Yo(s))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e))}function ui(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,s,o),n=n.sibling}function Sy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,s,o),h&2048&&al(9,n);break;case 1:ui(e,n,s,o);break;case 3:ui(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){ui(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Jt(n,n.return,C)}}else ui(e,n,s,o);break;case 31:ui(e,n,s,o);break;case 13:ui(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ui(e,n,s,o):ll(e,n):f._visibility&2?ui(e,n,s,o):(f._visibility|=2,Pa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:ui(e,n,s,o),h&2048&&Xf(n.alternate,n);break;default:ui(e,n,s,o)}}function Pa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,C=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Pa(f,g,T,C,h),al(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Pa(f,g,T,C,h):ll(f,g):(Y._visibility|=2,Pa(f,g,T,C,h)),h&&j&2048&&Kf(g.alternate,g);break;case 24:Pa(f,g,T,C,h),h&&j&2048&&Xf(g.alternate,g);break;default:Pa(f,g,T,C,h)}n=n.sibling}}function ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ll(s,o),h&2048&&Kf(o.alternate,o);break;case 24:ll(s,o),h&2048&&Xf(o.alternate,o);break;default:ll(s,o)}n=n.sibling}}var ul=8192;function za(e,n,s){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Ay(e,n,s),e=e.sibling}function Ay(e,n,s){switch(e.tag){case 26:za(e,n,s),e.flags&ul&&e.memoizedState!==null&&_b(s,li,e.memoizedState,e.memoizedProps);break;case 5:za(e,n,s);break;case 3:case 4:var o=li;li=yc(e.stateNode.containerInfo),za(e,n,s),li=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,za(e,n,s),ul=o):za(e,n,s));break;default:za(e,n,s)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,Iy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&qs(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):cl(e);break;default:cl(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,Iy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:qs(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function Iy(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(yy(o),o===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var M1={getCacheForType:function(e){var n=$e(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return $e(xe).controller.signal}},V1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,se=null,Nt=null,Mt=0,Zt=0,Dn=null,Hs=!1,ja=!1,$f=!1,us=0,ve=0,Gs=0,Xr=0,Zf=0,On=0,Ba=0,hl=null,_n=null,Jf=!1,rc=0,Cy=0,ac=1/0,oc=null,Fs=null,Pe=0,Qs=null,qa=null,cs=0,Wf=0,td=null,xy=null,fl=0,ed=null;function Mn(){return(Yt&2)!==0&&Mt!==0?Mt&-Mt:Q.T!==null?od():lu()}function Ny(){if(On===0)if((Mt&536870912)===0||zt){var e=br;br<<=1,(br&3932160)===0&&(br=262144),On=e}else On=536870912;return e=xn.current,e!==null&&(e.flags|=32),On}function vn(e,n,s){(e===se&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Ys(e,Mt,On,!1)),Sr(e,s),((Yt&2)===0||e!==se)&&(e===se&&((Yt&2)===0&&(Xr|=s),ve===4&&Ys(e,Mt,On,!1)),Li(e))}function Dy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=o?L1(e,n):id(e,n,!0),f=o;do{if(h===0){ja&&!o&&Ys(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!k1(s)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=hl;var C=T.current.memoizedState.isDehydrated;if(C&&(Ha(T,g).flags|=256),g=id(T,g,!1),g!==2){if($f&&!C){T.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break t}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ha(e,0),Ys(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(o,n,On,!Hs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Fe(),10<h)){if(Ys(o,n,On,!Hs),vi(o,0,!0)!==0)break t;cs=n,o.timeoutHandle=l_(Oy.bind(null,o,s,_n,oc,Jf,n,On,Xr,Ba,Hs,f,"Throttled",-0,0),h);break t}Oy(o,s,_n,oc,Jf,n,On,Xr,Ba,Hs,f,null,-0,0)}}break}while(!0);Li(e)}function Oy(e,n,s,o,h,f,g,T,C,j,Y,X,B,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},Ay(n,f,X);var ot=(f&62914560)===f?rc-Fe():(f&4194048)===f?Cy-Fe():0;if(ot=vb(X,ot),ot!==null){cs=f,e.cancelPendingCommit=ot(jy.bind(null,e,n,f,s,o,h,g,T,C,Y,X,null,B,H)),Ys(e,f,g,!j);return}}jy(e,n,f,s,o,h,g,T,C)}function k1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!In(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(e,n,s,o){n&=~Zf,n&=~Xr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ee(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Ar(e,s,n)}function lc(){return(Yt&6)===0?(dl(0),!1):!0}function nd(){if(Nt!==null){if(Zt===0)var e=Nt.return;else e=Nt,Wi=jr=null,_f(e),Ma=null,Xo=0,e=Nt;for(;e!==null;)uy(e.alternate,e),e=e.return;Nt=null}}function Ha(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,eb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),cs=0,nd(),se=e,Nt=s=Zi(e.current,null),Mt=n,Zt=0,Dn=null,Hs=!1,ja=Wn(e,n),$f=!1,Ba=On=Zf=Xr=Gs=ve=0,_n=hl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ee(o),f=1<<h;n|=e[h],o&=~f}return us=n,xu(),s}function My(e,n){It=null,Q.H=il,n===Oa||n===Lu?(n=Xg(),Zt=3):n===af?(n=Xg(),Zt=4):Zt=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Dn=n,Nt===null&&(ve=1,Zu(e,Hn(n,e.current)))}function Vy(){var e=xn.current;return e===null?!0:(Mt&4194048)===Mt?Yn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Yn:!1}function ky(){var e=Q.H;return Q.H=il,e===null?il:e}function Uy(){var e=Q.A;return Q.A=M1,e}function uc(){ve=4,Hs||(Mt&4194048)!==Mt&&xn.current!==null||(ja=!0),(Gs&134217727)===0&&(Xr&134217727)===0||se===null||Ys(se,Mt,On,!1)}function id(e,n,s){var o=Yt;Yt|=2;var h=ky(),f=Uy();(se!==e||Mt!==n)&&(oc=null,Ha(e,n)),n=!1;var g=ve;t:do try{if(Zt!==0&&Nt!==null){var T=Nt,C=Dn;switch(Zt){case 8:nd(),g=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var j=Zt;if(Zt=0,Dn=null,Ga(e,T,C,j),s&&ja){g=0;break t}break;default:j=Zt,Zt=0,Dn=null,Ga(e,T,C,j)}}U1(),g=ve;break}catch(Y){My(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Wi=jr=null,Yt=o,Q.H=h,Q.A=f,Nt===null&&(se=null,Mt=0,xu()),g}function U1(){for(;Nt!==null;)Ly(Nt)}function L1(e,n){var s=Yt;Yt|=2;var o=ky(),h=Uy();se!==e||Mt!==n?(oc=null,ac=Fe()+500,Ha(e,n)):ja=Wn(e,n);t:do try{if(Zt!==0&&Nt!==null){n=Nt;var f=Dn;e:switch(Zt){case 1:Zt=0,Dn=null,Ga(e,n,f,1);break;case 2:case 9:if(Yg(f)){Zt=0,Dn=null,Py(n);break}n=function(){Zt!==2&&Zt!==9||se!==e||(Zt=7),Li(e)},f.then(n,n);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Yg(f)?(Zt=0,Dn=null,Py(n)):(Zt=0,Dn=null,Ga(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var T=Nt;if(g?S_(g):T.stateNode.complete){Zt=0,Dn=null;var C=T.sibling;if(C!==null)Nt=C;else{var j=T.return;j!==null?(Nt=j,cc(j)):Nt=null}break e}}Zt=0,Dn=null,Ga(e,n,f,5);break;case 6:Zt=0,Dn=null,Ga(e,n,f,6);break;case 8:nd(),ve=6;break t;default:throw Error(a(462))}}P1();break}catch(Y){My(e,Y)}while(!0);return Wi=jr=null,Q.H=o,Q.A=h,Yt=s,Nt!==null?0:(se=null,Mt=0,xu(),ve)}function P1(){for(;Nt!==null&&!bs();)Ly(Nt)}function Ly(e){var n=oy(e.alternate,e,us);e.memoizedProps=e.pendingProps,n===null?cc(e):Nt=n}function Py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ey(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ey(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:_f(n);default:uy(s,n),n=Nt=Ug(n,us),n=oy(s,n,us)}e.memoizedProps=e.pendingProps,n===null?cc(e):Nt=n}function Ga(e,n,s,o){Wi=jr=null,_f(n),Ma=null,Xo=0;var h=n.return;try{if(R1(e,h,n,s,Mt)){ve=1,Zu(e,Hn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;ve=1,Zu(e,Hn(s,e.current)),Nt=null;return}n.flags&32768?(zt||o===1?e=!0:ja||(Mt&536870912)!==0?e=!1:(Hs=e=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Hs);return}e=n.return;var s=x1(n.alternate,n,us);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);ve===0&&(ve=5)}function zy(e,n){do{var s=N1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);ve=6,Nt=null}function jy(e,n,s,o,h,f,g,T,C){e.cancelPendingCommit=null;do hc();while(Pe!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,kh(e,s,f,g,T,C),e===se&&(Nt=se=null,Mt=0),qa=n,Qs=e,cs=s,Wf=f,td=h,xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,q1(gi,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=st.p,st.p=2,g=Yt,Yt|=4;try{D1(e,n,s)}finally{Yt=g,st.p=h,Q.T=o}}Pe=1,By(),qy(),Hy()}}function By(){if(Pe===1){Pe=0;var e=Qs,n=qa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=st.p;st.p=2;var h=Yt;Yt|=4;try{Ty(n,e);var f=gd,g=Ig(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(C!==null&&zh(T)){var j=C.start,Y=C.end;if(Y===void 0&&(Y=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(Y,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=T.textContent.length,yt=Math.min(C.start,ot),ie=C.end===void 0?yt:Math.min(C.end,ot);!H.extend&&yt>ie&&(g=ie,ie=yt,yt=g);var k=wg(T,yt),D=wg(T,ie);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var z=X.createRange();z.setStart(k.node,k.offset),H.removeAllRanges(),yt>ie?(H.addRange(z),H.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),H.addRange(z))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Sc=!!md,gd=md=null}finally{Yt=h,st.p=o,Q.T=s}}e.current=n,Pe=2}}function qy(){if(Pe===2){Pe=0;var e=Qs,n=qa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=st.p;st.p=2;var h=Yt;Yt|=4;try{py(e,n.alternate,n)}finally{Yt=h,st.p=o,Q.T=s}}Pe=3}}function Hy(){if(Pe===4||Pe===3){Pe=0,Tr();var e=Qs,n=qa,s=cs,o=xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,qa=Qs=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Fs=null),Yi(s),n=n.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=st.p,st.p=2,Q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,st.p=h}}(cs&3)!==0&&hc(),Li(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ed?fl++:(fl=0,ed=e):fl=0,dl(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Yo(n)))}function hc(){return By(),qy(),Hy(),Fy()}function Fy(){if(Pe!==5)return!1;var e=Qs,n=Wf;Wf=0;var s=Yi(cs),o=Q.T,h=st.p;try{st.p=32>s?32:s,Q.T=null,s=td,td=null;var f=Qs,g=cs;if(Pe=0,qa=Qs=null,cs=0,(Yt&6)!==0)throw Error(a(331));var T=Yt;if(Yt|=4,Ry(f.current),Sy(f,f.current,g,s),Yt=T,dl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Jn,f)}catch{}return!0}finally{st.p=h,Q.T=o,Gy(e,n)}}function Qy(e,n,s){n=Hn(s,n),n=Mf(e.stateNode,n,2),e=zs(e,n,2),e!==null&&(Sr(e,2),Li(e))}function Jt(e,n,s){if(e.tag===3)Qy(e,e,s);else for(;n!==null;){if(n.tag===3){Qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){e=Hn(s,e),s=Yp(2),o=zs(n,s,2),o!==null&&(Kp(s,o,n,e),Sr(o,2),Li(o));break}}n=n.return}}function sd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new V1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||($f=!0,h.add(s),e=z1.bind(null,e,n,s),n.then(e,e))}function z1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(Mt&s)===s&&(ve===4||ve===3&&(Mt&62914560)===Mt&&300>Fe()-rc?(Yt&2)===0&&Ha(e,0):Zf|=s,Ba===Mt&&(Ba=0)),Li(e)}function Yy(e,n){n===0&&(n=ou()),e=Lr(e,n),e!==null&&(Sr(e,n),Li(e))}function j1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(e,s)}function B1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(e,s)}function q1(e,n){return ce(e,n)}var fc=null,Fa=null,rd=!1,dc=!1,ad=!1,Ks=0;function Li(e){e!==Fa&&e.next===null&&(Fa===null?fc=Fa=e:Fa=Fa.next=e),dc=!0,rd||(rd=!0,G1())}function dl(e,n){if(!ad&&dc){ad=!0;do for(var s=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zy(o,f))}else f=Mt,f=vi(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Wn(o,f)||(s=!0,Zy(o,f));o=o.next}while(s);ad=!1}}function H1(){Ky()}function Ky(){dc=rd=!1;var e=0;Ks!==0&&tb()&&(e=Ks);for(var n=Fe(),s=null,o=fc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,s===null?fc=h:s.next=h,h===null&&(Fa=s)):(s=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}Pe!==0&&Pe!==5||dl(e),Ks!==0&&(Ks=0)}function Xy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Ee(f),T=1<<g,C=h[g];C===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Vh(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=se,s=Mt,s=vi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Un(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Wn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Un(o),Yi(s)){case 2:case 8:s=Ss;break;case 32:s=gi;break;case 268435456:s=pi;break;default:s=gi}return o=$y.bind(null,e),s=ce(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Un(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Pe!==0&&Pe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(hc()&&e.callbackNode!==s)return null;var o=Mt;return o=vi(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Xy(e,Fe()),e.callbackNode!=null&&e.callbackNode===s?$y.bind(null,e):null)}function Zy(e,n){if(hc())return null;Dy(e,n,!0)}function G1(){nb(function(){(Yt&6)!==0?ce(Qe,H1):Ky()})}function od(){if(Ks===0){var e=Na;e===0&&(e=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Ks=e}return Ks}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function Wy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function F1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Jy((h[Be]||null).action),g=o.submitter;g&&(n=(n=g[Be]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ni("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ks!==0){var C=g?Wy(h,g):new FormData(h);If(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?Wy(h,g):new FormData(h),If(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var ud=Hh[ld],Q1=ud.toLowerCase(),Y1=ud[0].toUpperCase()+ud.slice(1);oi(Q1,"on"+Y1)}oi(Ng,"onAnimationEnd"),oi(Dg,"onAnimationIteration"),oi(Og,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(u1,"onTransitionRun"),oi(c1,"onTransitionStart"),oi(h1,"onTransitionCancel"),oi(Mg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function t_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(Y){Cu(Y)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(Y){Cu(Y)}h.currentTarget=null,f=C}}}}function Dt(e,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var o=e+"__bubble";s.has(o)||(e_(n,e,2,!1),s.add(o))}function cd(e,n,s){var o=0;n&&(o|=4),e_(s,e,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[mc]){e[mc]=!0,Ro.forEach(function(s){s!=="selectionchange"&&(K1.has(s)||cd(s,!1,e),cd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,cd("selectionchange",!1,n))}}function e_(e,n,s,o){switch(N_(n)){case 2:var h=bb;break;case 8:h=Sb;break;default:h=Rd}s=h.bind(null,n,s,e),h=void 0,!xr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function fd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Si(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}T=T.parentNode}}o=o.return}xs(function(){var j=f,Y=zn(s),X=[];t:{var B=Vg.get(e);if(B!==void 0){var H=Ni,ot=e;switch(e){case"keypress":if(Dr(s)===0)break t;case"keydown":case"keyup":H=wu;break;case"focusin":ot="focus",H=Mr;break;case"focusout":ot="blur",H=Mr;break;case"beforeblur":case"afterblur":H=Mr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ng:case Dg:case Og:H=_u;break;case Mg:H=b;break;case"scroll":case"scrollend":H=Po;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=$i;break;case"toggle":case"beforetoggle":H=Rt}var yt=(n&4)!==0,ie=!yt&&(e==="scroll"||e==="scrollend"),k=yt?B!==null?B+"Capture":null:B;yt=[];for(var D=j,z;D!==null;){var K=D;if(z=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||z===null||k===null||(K=ii(D,k),K!=null&&yt.push(gl(D,K,z))),ie)break;D=D.return}0<yt.length&&(B=new H(B,ot,null,s,Y),X.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==ko&&(ot=s.relatedTarget||s.fromElement)&&(Si(ot)||ot[Ti]))break t;if((H||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=j,ot=ot?Si(ot):null,ot!==null&&(ie=c(ot),yt=ot.tag,ot!==ie||yt!==5&&yt!==27&&yt!==6)&&(ot=null)):(H=null,ot=j),H!==ot)){if(yt=zo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=$i,K="onPointerLeave",k="onPointerEnter",D="pointer"),ie=H==null?B:wn(H),z=ot==null?B:wn(ot),B=new yt(K,D+"leave",H,s,Y),B.target=ie,B.relatedTarget=z,K=null,Si(Y)===j&&(yt=new yt(k,D+"enter",ot,s,Y),yt.target=z,yt.relatedTarget=ie,K=yt),ie=K,H&&ot)e:{for(yt=X1,k=H,D=ot,z=0,K=k;K;K=yt(K))z++;K=0;for(var dt=D;dt;dt=yt(dt))K++;for(;0<z-K;)k=yt(k),z--;for(;0<K-z;)D=yt(D),K--;for(;z--;){if(k===D||D!==null&&k===D.alternate){yt=k;break e}k=yt(k),D=yt(D)}yt=null}else yt=null;H!==null&&n_(X,B,H,yt,!1),ot!==null&&ie!==null&&n_(X,ie,ot,yt,!0)}}t:{if(B=j?wn(j):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ht=vg;else if(yg(B))if(Eg)Ht=a1;else{Ht=s1;var lt=i1}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ma(j.elementType)&&(Ht=vg):Ht=r1;if(Ht&&(Ht=Ht(e,j))){_g(X,Ht,s,Y);break t}lt&&lt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Oo(B,"number",B.value)}switch(lt=j?wn(j):window,e){case"focusin":(yg(lt)||lt.contentEditable==="true")&&(ba=lt,jh=j,Go=null);break;case"focusout":Go=jh=ba=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Cg(X,s,Y);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":Cg(X,s,Y)}var Ct;if(Qt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Ta?Vr(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Mi&&s.locale!=="ko"&&(Ta||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Ta&&(Ct=Lo()):(xi=Y,Uo="value"in xi?xi.value:xi.textContent,Ta=!0)),lt=gc(j,Vt),0<lt.length&&(Vt=new Oi(Vt,e,null,s,Y),X.push({event:Vt,listeners:lt}),Ct?Vt.data=Ct:(Ct=Ea(s),Ct!==null&&(Vt.data=Ct)))),(Ct=Bn?WT(e,s):t1(e,s))&&(Vt=gc(j,"onBeforeInput"),0<Vt.length&&(lt=new Oi("onBeforeInput","beforeinput",null,s,Y),X.push({event:lt,listeners:Vt}),lt.data=Ct)),F1(X,e,j,s,Y)}t_(X,n)})}function gl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function gc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(e,s),h!=null&&o.unshift(gl(e,h,f)),h=ii(e,n),h!=null&&o.push(gl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function X1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=ii(s,f),j!=null&&g.unshift(gl(s,j,C))):h||(j=ii(s,f),j!=null&&g.push(gl(s,j,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var $1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace($1,`
`).replace(Z1,"")}function s_(e,n){return n=i_(n),i_(e)===n}function ne(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||mn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&mn(e,""+o);break;case"className":Rn(e,"class",o);break;case"tabIndex":Rn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(e,s,o);break;case"style":Vo(e,o,f);break;case"data":if(n!=="object"){Rn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ga(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ga(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ni);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ga(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),fa(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,fa(e,s,o))}}function dd(e,n,s,o,h,f){switch(s){case"style":Vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?mn(e,o):(typeof o=="number"||typeof o=="bigint")&&mn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):fa(e,s,o)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var T=f=g=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":C=Y;break;case"defaultChecked":j=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:ne(e,n,o,Y,s,null)}}fu(e,f,T,C,j,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:ne(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ws(e,!!o,n,!1):s!=null&&ws(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ne(e,n,g,T,s,null)}Rs(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,C,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)Dt(ml[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,j,o,s,null)}return;default:if(ma(n)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&dd(e,n,Y,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&ne(e,n,T,o,s,null))}function J1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,j=null,Y=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=s[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Y=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ne(e,n,B,H,o,X)}}da(e,g,T,C,j,Y,f,h);return;case"select":H=g=T=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&ne(e,n,h,f,o,C)}n=T,s=g,o=H,B!=null?ws(e,!!s,B,!1):!!o!=!!s&&(n!=null?ws(e,!!s,n,!0):ws(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}du(e,B,H);return;case"option":for(var ot in s)B=s[ot],s.hasOwnProperty(ot)&&B!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ne(e,n,ot,null,o,B));for(C in o)B=o[C],H=s[C],o.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null)&&(C==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ne(e,n,C,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)B=s[yt],s.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&ne(e,n,yt,null,o,B);for(j in o)if(B=o[j],H=s[j],o.hasOwnProperty(j)&&B!==H&&(B!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ne(e,n,j,B,o,H)}return;default:if(ma(n)){for(var ie in s)B=s[ie],s.hasOwnProperty(ie)&&B!==void 0&&!o.hasOwnProperty(ie)&&dd(e,n,ie,void 0,o,B);for(Y in o)B=o[Y],H=s[Y],!o.hasOwnProperty(Y)||B===H||B===void 0&&H===void 0||dd(e,n,Y,B,o,H);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,B);for(X in o)B=o[X],H=s[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||ne(e,n,X,B,o,H)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&r_(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>T)break;var Y=C.transferSize,X=C.initiatorType;Y&&r_(X)&&(C=C.responseEnd,g+=Y*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function tb(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(ib)}:l_;function ib(e){setTimeout(function(){throw e})}function Xs(e){return e==="head"}function c_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")pl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,pl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[bi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&pl(e.ownerDocument.body);s=h}while(s);Xa(n)}function h_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_d(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function sb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[bi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function rb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Kn(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kn(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ab(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function g_(e,n,s){switch(n=pc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var Xn=new Map,p_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hs=st.d;st.d={f:ob,r:lb,D:ub,C:cb,L:hb,m:fb,X:mb,S:db,M:gb};function ob(){var e=hs.f(),n=lc();return e||n}function lb(e){var n=Pn(e);n!==null&&n.tag===5&&n.type==="form"?Mp(n):hs.r(e)}var Qa=typeof document>"u"?null:document;function y_(e,n,s){var o=Qa;if(o&&typeof n=="string"&&n){var h=dn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Je(n,"link",e),Ie(n),o.head.appendChild(n)))}}function ub(e){hs.D(e),y_("dns-prefetch",e,null)}function cb(e,n){hs.C(e,n),y_("preconnect",e,n)}function hb(e,n,s){hs.L(e,n,s);var o=Qa;if(o&&e&&n){var h='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+dn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+dn(s.imageSizes)+'"]')):h+='[href="'+dn(e)+'"]';var f=h;switch(n){case"style":f=Ya(e);break;case"script":f=Ka(e)}Xn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Xn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),Je(n,"link",e),Ie(n),o.head.appendChild(n)))}}function fb(e,n){hs.m(e,n);var s=Qa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+dn(o)+'"][href="'+dn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ka(e)}if(!Xn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Xn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(_l(f)))return}o=s.createElement("link"),Je(o,"link",e),Ie(o),s.head.appendChild(o)}}}function db(e,n,s){hs.S(e,n,s);var o=Qa;if(o&&e){var h=Ai(o).hoistableStyles,f=Ya(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(yl(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Xn.get(f))&&bd(e,s);var C=g=o.createElement("link");Ie(C),Je(C,"link",e),C._p=new Promise(function(j,Y){C.onload=j,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function mb(e,n){hs.X(e,n);var s=Qa;if(s&&e){var o=Ai(s).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=w({src:e,async:!0},n),(n=Xn.get(h))&&Sd(e,n),f=s.createElement("script"),Ie(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function gb(e,n){hs.M(e,n);var s=Qa;if(s&&e){var o=Ai(s).hoistableScripts,h=Ka(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Xn.get(h))&&Sd(e,n),f=s.createElement("script"),Ie(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,n,s,o){var h=(h=ct.current)?yc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ya(s.href),s=Ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ya(s.href);var f=Ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(yl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(e,s),f||pb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ka(s),s=Ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ya(e){return'href="'+dn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function pb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Je(n,"link",s),Ie(n),e.head.appendChild(n))}function Ka(e){return'[src="'+dn(e)+'"]'}function _l(e){return"script[async]"+e}function E_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+dn(s.href)+'"]');if(o)return n.instance=o,Ie(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),Je(o,"style",h),_c(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ya(s.href);var f=e.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;o=v_(s),(h=Xn.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Je(f,"link",o),n.state.loading|=4,_c(f,s.precedence,e),n.instance=f;case"script":return f=Ka(s.src),(h=e.querySelector(_l(f)))?(n.instance=h,Ie(h),h):(o=s,(h=Xn.get(f))&&(o=w({},s),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,s.precedence,e));return n.instance}function _c(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function T_(e,n,s){if(vc===null){var o=new Map,h=vc=new Map;h.set(s,o)}else h=vc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[bi]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function b_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function yb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _b(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ya(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ie(f);return}f=n.ownerDocument||n,o=v_(o),(h=Xn.get(h))&&bd(o,h),f=f.createElement("link"),Ie(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ec.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function vb(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*W1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(Eb,e),Tc=null,Ec.call(e))}function Eb(e,n){if(!(n.state.loading&4)){var s=Tc.get(e);if(s)var o=s.get(null);else{s=new Map,Tc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Tb(e,n,s,o,h,f,g,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function A_(e,n,s,o,h,f,g,T,C,j,Y,X){return e=new Tb(e,n,s,g,C,j,Y,X,T),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},of(f),e}function w_(e){return e?(e=wa,e):wa}function R_(e,n,s,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=zs(e,o,n),s!==null&&(vn(s,e,n),Zo(s,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function wd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function C_(e){if(e.tag===13||e.tag===31){var n=Lr(e,67108864);n!==null&&vn(n,e,67108864),wd(e,67108864)}}function x_(e){if(e.tag===13||e.tag===31){var n=Mn();n=wr(n);var s=Lr(e,n);s!==null&&vn(s,e,n),wd(e,n)}}var Sc=!0;function bb(e,n,s,o){var h=Q.T;Q.T=null;var f=st.p;try{st.p=2,Rd(e,n,s,o)}finally{st.p=f,Q.T=h}}function Sb(e,n,s,o){var h=Q.T;Q.T=null;var f=st.p;try{st.p=8,Rd(e,n,s,o)}finally{st.p=f,Q.T=h}}function Rd(e,n,s,o){if(Sc){var h=Id(o);if(h===null)fd(e,n,o,Ac,s),D_(e,o);else if(wb(h,e,n,s,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<Ab.indexOf(e)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=_i(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-Ee(g);T.entanglements[1]|=C,g&=~C}Li(f),(Yt&6)===0&&(ac=Fe()+500,dl(0))}}break;case 31:case 13:T=Lr(f,2),T!==null&&vn(T,f,2),lc(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,s)}}function Id(e){return e=zn(e),Cd(e)}var Ac=null;function Cd(e){if(Ac=null,e=Si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xt()){case Qe:return 2;case Ss:return 8;case gi:case So:return 32;case pi:return 268435456;default:return 32}default:return 32}}var xd=!1,$s=null,Zs=null,Js=null,El=new Map,Tl=new Map,Ws=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function bl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Pn(n),n!==null&&C_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function wb(e,n,s,o,h){switch(n){case"focusin":return $s=bl($s,e,n,s,o,h),!0;case"dragenter":return Zs=bl(Zs,e,n,s,o,h),!0;case"mouseover":return Js=bl(Js,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,bl(El.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,bl(Tl.get(f)||null,e,n,s,o,h)),!0}return!1}function O_(e){var n=Si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ti(e.priority,function(){x_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,ti(e.priority,function(){x_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Id(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);ko=o,s.target.dispatchEvent(o),ko=null}else return n=Pn(s),n!==null&&C_(n),e.blockedOn=s,!1;n.shift()}return!0}function M_(e,n,s){wc(e)&&s.delete(n)}function Rb(){xd=!1,$s!==null&&wc($s)&&($s=null),Zs!==null&&wc(Zs)&&(Zs=null),Js!==null&&wc(Js)&&(Js=null),El.forEach(M_),Tl.forEach(M_)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rb)))}var Ic=null;function V_(e){Ic!==e&&(Ic=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||s)===null)continue;break}var f=Pn(s);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Xa(e){function n(C){return Rc(C,e)}$s!==null&&Rc($s,e),Zs!==null&&Rc(Zs,e),Js!==null&&Rc(Js,e),El.forEach(n),Tl.forEach(n);for(var s=0;s<Ws.length;s++){var o=Ws[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ws.length&&(s=Ws[0],s.blockedOn===null);)O_(s),s.blockedOn===null&&Ws.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Be]||null;if(typeof f=="function")g||V_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)T=g.formAction;else if(Cd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),V_(s)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}Cc.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Mn();R_(s,o,e,n,null,null)},Cc.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),lc(),n[Ti]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ws.length&&n!==0&&n<Ws[s].priority;s++);Ws.splice(s,0,e),s===0&&O_(e)}};var U_=t.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Ib={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{Jn=xc.inject(Ib),Ye=xc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Hp,f=Gp,g=Fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A_(e,1,!1,null,null,s,o,null,h,f,g,k_),e[Ti]=n.current,hd(e),new Nd(n)},Al.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Hp,g=Gp,T=Fp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=A_(e,1,!0,n,s??null,o,h,C,f,g,T,k_),n.context=w_(null),s=n.current,o=Mn(),o=wr(o),h=Ps(o),h.callback=null,zs(s,h,o),s=o,n.current.lanes=s,Sr(n,s),Li(n),e[Ti]=n.current,hd(e),new Cc(n)},Al.version="19.2.3",Al}var Q_;function Lb(){if(Q_)return Md.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Ub(),Md.exports}var Pb=Lb();const zb=()=>{};var Y_={};const Rv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},jb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,F=_&63;y||(F=64,d||(M=64)),a.push(i[E],i[w],i[M],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Rv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):jb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||w==null)throw new Bb;const M=c<<2|p>>4;if(a.push(M),_!==64){const F=p<<4&240|_>>2;if(a.push(F),w!==64){const et=_<<6&192|w;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(r){const t=Rv(r);return Iv.encodeByteArray(t,!0)},Xc=function(r){return qb(r).replace(/\./g,"")},Cv=function(r){try{return Iv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gb=()=>Hb().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Cv(r[1]);return t&&JSON.parse(t)},mh=()=>{try{return zb()||Gb()||Fb()||Qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},xv=r=>mh()?.emulatorHosts?.[r],Yb=r=>{const t=xv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Nv=()=>mh()?.config,Dv=r=>mh()?.[`_${r}`];class Kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ov(r){return(await fetch(r,{credentials:"include"})).ok}function Xb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const xl={};function $b(){const r={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?r.emulator.push(t):r.prod.push(t);return r}function Zb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let K_=!1;function Mv(r,t){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||xl[r]===t||xl[r]||K_)return;xl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=$b().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{K_=!0,d()},M}function E(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=Zb(a),F=i("text"),et=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),tt=document.getElementById(it)||document.createElement("a"),mt=i("preprendIcon"),Tt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ht=M.element;p(ht),E(tt,it);const Ft=_();y(Tt,mt),ht.append(Tt,et,tt,Ft),document.body.appendChild(ht)}c?(et.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function Wb(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iS(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function sS(){return!Wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rS(){try{return typeof indexedDB=="object"}catch{return!1}}function aS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const oS="FirebaseError";class Ts extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=oS,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?lS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ts(l,p,a)}}function lS(r,t){return r.replace(uS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const uS=/\{\$([^}]+)}/g;function cS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function fr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!fr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function Fl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function hS(r,t){const i=new fS(r,t);return i.subscribe.bind(i)}class fS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");dS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function fn(r){return r&&r._delegate?r._delegate:r}class ea{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zr="[DEFAULT]";class mS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Kb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pS(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gS(r){return r===Zr?void 0:r}function pS(r){return r.instantiationMode==="EAGER"}class yS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new mS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const _S={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},vS=kt.INFO,ES={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},TS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=ES[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=vS,this._logHandler=TS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_S[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const bS=(r,t)=>t.some(i=>r instanceof i);let $_,Z_;function SS(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AS(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,Jd=new WeakMap,kv=new WeakMap,Pd=new WeakMap,Cm=new WeakMap;function wS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(or(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Vv.set(i,r)}).catch(()=>{}),Cm.set(t,r),t}function RS(r){if(Jd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,t)}let Wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||kv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function IS(r){Wd=r(Wd)}function CS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(zd(this),t,...i);return kv.set(a,t.sort?t.sort():[t]),or(a)}:AS().includes(r)?function(...t){return r.apply(zd(this),t),or(Vv.get(this))}:function(...t){return or(r.apply(zd(this),t))}}function xS(r){return typeof r=="function"?CS(r):(r instanceof IDBTransaction&&RS(r),bS(r,SS())?new Proxy(r,Wd):r)}function or(r){if(r instanceof IDBRequest)return wS(r);if(Pd.has(r))return Pd.get(r);const t=xS(r);return t!==r&&(Pd.set(r,t),Cm.set(t,r)),t}const zd=r=>Cm.get(r);function NS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=or(d);return a&&d.addEventListener("upgradeneeded",y=>{a(or(d.result),y.oldVersion,y.newVersion,or(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const DS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],jd=new Map;function J_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=OS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||DS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return jd.set(t,c),c}IS(r=>({...r,get:(t,i,a)=>J_(t,i)||r.get(t,i,a),has:(t,i)=>!!J_(t,i)||r.has(t,i)}));class MS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function VS(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",W_="0.14.6";const gs=new Im("@firebase/app"),kS="@firebase/app-compat",US="@firebase/analytics-compat",LS="@firebase/analytics",PS="@firebase/app-check-compat",zS="@firebase/app-check",jS="@firebase/auth",BS="@firebase/auth-compat",qS="@firebase/database",HS="@firebase/data-connect",GS="@firebase/database-compat",FS="@firebase/functions",QS="@firebase/functions-compat",YS="@firebase/installations",KS="@firebase/installations-compat",XS="@firebase/messaging",$S="@firebase/messaging-compat",ZS="@firebase/performance",JS="@firebase/performance-compat",WS="@firebase/remote-config",tA="@firebase/remote-config-compat",eA="@firebase/storage",nA="@firebase/storage-compat",iA="@firebase/firestore",sA="@firebase/ai",rA="@firebase/firestore-compat",aA="firebase",oA="12.6.0";const em="[DEFAULT]",lA={[tm]:"fire-core",[kS]:"fire-core-compat",[LS]:"fire-analytics",[US]:"fire-analytics-compat",[zS]:"fire-app-check",[PS]:"fire-app-check-compat",[jS]:"fire-auth",[BS]:"fire-auth-compat",[qS]:"fire-rtdb",[HS]:"fire-data-connect",[GS]:"fire-rtdb-compat",[FS]:"fire-fn",[QS]:"fire-fn-compat",[YS]:"fire-iid",[KS]:"fire-iid-compat",[XS]:"fire-fcm",[$S]:"fire-fcm-compat",[ZS]:"fire-perf",[JS]:"fire-perf-compat",[WS]:"fire-rc",[tA]:"fire-rc-compat",[eA]:"fire-gcs",[nA]:"fire-gcs-compat",[iA]:"fire-fst",[rA]:"fire-fst-compat",[sA]:"fire-vertex","fire-js":"fire-js",[aA]:"fire-js-all"};const $c=new Map,uA=new Map,nm=new Map;function t0(r,t){try{r.container.addComponent(t)}catch(i){gs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ao(r){const t=r.name;if(nm.has(t))return gs.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,r);for(const i of $c.values())t0(i,r);for(const i of uA.values())t0(i,r);return!0}function xm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}const cA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Gl("app","Firebase",cA);class hA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const yo=oA;function Uv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw lr.create("bad-app-name",{appName:String(l)});if(i||(i=Nv()),!i)throw lr.create("no-options");const c=$c.get(l);if(c){if(fr(i,c.options)&&fr(a,c.config))return c;throw lr.create("duplicate-app",{appName:l})}const d=new yS(l);for(const y of nm.values())d.addComponent(y);const p=new hA(i,a,d);return $c.set(l,p),p}function Lv(r=em){const t=$c.get(r);if(!t&&r===em&&Nv())return Uv();if(!t)throw lr.create("no-app",{appName:r});return t}function ur(r,t,i){let a=lA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gs.warn(d.join(" "));return}ao(new ea(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const fA="firebase-heartbeat-database",dA=1,kl="firebase-heartbeat-store";let Bd=null;function Pv(){return Bd||(Bd=NS(fA,dA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw lr.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function mA(r){try{const i=(await Pv()).transaction(kl),a=await i.objectStore(kl).get(zv(r));return await i.done,a}catch(t){if(t instanceof Ts)gs.warn(t.message);else{const i=lr.create("idb-get",{originalErrorMessage:t?.message});gs.warn(i.message)}}}async function e0(r,t){try{const a=(await Pv()).transaction(kl,"readwrite");await a.objectStore(kl).put(t,zv(r)),await a.done}catch(i){if(i instanceof Ts)gs.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});gs.warn(a.message)}}}function zv(r){return`${r.name}!${r.options.appId}`}const gA=1024,pA=30;class yA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>pA){const l=EA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){gs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:i,unsentEntries:a}=_A(this._heartbeatsCache.heartbeats),l=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gs.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function _A(r,t=gA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class vA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rS()?aS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function i0(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function EA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function TA(r){ao(new ea("platform-logger",t=>new MS(t),"PRIVATE")),ao(new ea("heartbeat",t=>new yA(t),"PRIVATE")),ur(tm,W_,r),ur(tm,W_,"esm2020"),ur("fire-js","")}TA("");var bA="firebase",SA="12.7.0";ur(bA,SA,"app");function jv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AA=jv,Bv=new Gl("auth","Firebase",jv());const Zc=new Im("@firebase/auth");function wA(r,...t){Zc.logLevel<=kt.WARN&&Zc.warn(`Auth (${yo}): ${r}`,...t)}function zc(r,...t){Zc.logLevel<=kt.ERROR&&Zc.error(`Auth (${yo}): ${r}`,...t)}function ps(r,...t){throw Nm(r,...t)}function zi(r,...t){return Nm(r,...t)}function qv(r,t,i){const a={...AA(),[t]:i};return new Gl("auth","Firebase",a).create(t,{appName:r.name})}function ms(r){return qv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Bv.create(r,...t)}function Et(r,t,...i){if(!r)throw Nm(t,...i)}function fs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw zc(t),new Error(t)}function ys(r,t){r||fs(t)}function im(){return typeof self<"u"&&self.location?.href||""}function RA(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function IA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RA()||eS()||"connection"in navigator)?navigator.onLine:!0}function CA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ys(i>t,"Short delay should be less than long delay!"),this.isMobile=Jb()||nS()}get(){return IA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(r,t){ys(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Hv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],DA=new Ql(3e4,6e4);function Yl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function _o(r,t,i,a,l={}){return Gv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Fl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return tS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(_.credentials="include"),Hv.fetch()(await Fv(r,r.config.apiHost,i,p),_)})}async function Gv(r,t,i){r._canInitEmulator=!1;const a={...xA,...t};try{const l=new OA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw qv(r,E,_);ps(r,E)}}catch(l){if(l instanceof Ts)throw l;ps(r,"network-request-failed",{message:String(l)})}}async function Om(r,t,i,a,l={}){const c=await _o(r,t,i,a,l);return"mfaPendingCredential"in c&&ps(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Dm(r.config,l):`${r.config.apiScheme}://${l}`;return NA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class OA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(zi(this.auth,"network-request-failed")),DA.get())})}}function Nc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=zi(r,t,a);return l.customData._tokenResponse=i,l}async function MA(r,t){return _o(r,"POST","/v1/accounts:delete",t)}async function Jc(r,t){return _o(r,"POST","/v1/accounts:lookup",t)}function Nl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VA(r,t=!1){const i=fn(r),a=await i.getIdToken(t),l=Mm(a);Et(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Nl(qd(l.auth_time)),issuedAtTime:Nl(qd(l.iat)),expirationTime:Nl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(r){return Number(r)*1e3}function Mm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Cv(i);return l?JSON.parse(l):(zc("Failed to decode base64 JWT payload"),null)}catch(l){return zc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const t=Mm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ul(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ts&&kA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function kA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class UA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(r){const t=r.auth,i=await r.getIdToken(),a=await Ul(r,Jc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Qv(l.providerUserInfo):[],d=PA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function LA(r){const t=fn(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Qv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function zA(r,t){const i=await Gv(r,{},async()=>{const a=Fl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Fv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(y.credentials="include"),Hv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jA(r,t){return _o(r,"POST","/v2/accounts:revokeToken",Yl(r,t))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=r0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await zA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new eo;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Et(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return fs("not implemented")}}function er(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new UA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return VA(this,t)}reload(){return LA(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(ms(this.auth));const t=await this.getIdToken();return await Ul(this,MA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:F,providerData:et,stsTokenManager:it}=i;Et(w&&it,t,"internal-error");const tt=eo.fromJSON(this.name,it);Et(typeof w=="string",t,"internal-error"),er(a,t.name),er(l,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof F=="boolean",t,"internal-error"),er(c,t.name),er(d,t.name),er(p,t.name),er(y,t.name),er(_,t.name),er(E,t.name);const mt=new hi({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:_,lastLoginAt:E});return et&&Array.isArray(et)&&(mt.providerData=et.map(Tt=>({...Tt}))),y&&(mt._redirectEventId=y),mt}static async _fromIdTokenResponse(t,i,a=!1){const l=new eo;l.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Et(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Qv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new eo;p.updateFromIdToken(a);const y=new hi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const a0=new Map;function ds(r){ys(r instanceof Function,"Expected a class definition");let t=a0.get(r);return t?(ys(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,a0.set(r,t),t)}class Yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Yv.type="NONE";const o0=Yv;function jc(r,t,i){return`firebase:${r}:${t}:${i}`}class no{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=jc(this.userKey,l.apiKey,c),this.fullPersistenceKey=jc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Jc(this.auth,{idToken:t}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new no(ds(o0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ds(o0);const d=jc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let w;if(typeof E=="string"){const M=await Jc(t,{idToken:E}).catch(()=>{});if(!M)break;w=await hi._fromGetAccountInfoResponse(t,M,E)}else w=hi._fromJSON(t,E);_!==c&&(p=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new no(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new no(c,t,a))}}function l0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Wv(t))return"Blackberry";if(tE(t))return"Webos";if(Xv(t))return"Safari";if((t.includes("chrome/")||$v(t))&&!t.includes("edge/"))return"Chrome";if(Jv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Kv(r=ln()){return/firefox\//i.test(r)}function Xv(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function $v(r=ln()){return/crios\//i.test(r)}function Zv(r=ln()){return/iemobile/i.test(r)}function Jv(r=ln()){return/android/i.test(r)}function Wv(r=ln()){return/blackberry/i.test(r)}function tE(r=ln()){return/webos/i.test(r)}function Vm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BA(r=ln()){return Vm(r)&&!!window.navigator?.standalone}function qA(){return iS()&&document.documentMode===10}function eE(r=ln()){return Vm(r)||Jv(r)||tE(r)||Wv(r)||/windows phone/i.test(r)||Zv(r)}function nE(r,t=[]){let i;switch(r){case"Browser":i=l0(ln());break;case"Worker":i=`${l0(ln())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${a}`}class HA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function GA(r,t={}){return _o(r,"GET","/v2/passwordPolicy",Yl(r,t))}const FA=6;class QA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??FA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class YA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new HA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Jc(this,{idToken:t}),a=await hi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(ms(this));const i=t?fn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await GA(this),i=new QA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await jA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ds(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&wA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kl(r){return fn(r)}class u0{constructor(t){this.auth=t,this.observer=null,this.addObserver=hS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KA(r){km=r}function XA(r){return km.loadJS(r)}function $A(){return km.gapiScript}function ZA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function JA(r,t){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(fr(c,t??{}))return l;ps(l,"already-initialized")}return i.initialize({options:t})}function WA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ds);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function tw(r,t,i){const a=Kl(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=iE(t),{host:d,port:p}=ew(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(fr(_,a.config.emulator)&&fr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,po(d)?(Ov(`${c}//${d}${y}`),Mv("Auth",!0)):nw()}function iE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function ew(r){const t=iE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function nw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class sE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return fs("not implemented")}_getIdTokenResponse(t){return fs("not implemented")}_linkToIdToken(t,i){return fs("not implemented")}_getReauthenticationResolver(t){return fs("not implemented")}}async function io(r,t){return Om(r,"POST","/v1/accounts:signInWithIdp",Yl(r,t))}const iw="http://localhost";class na extends sE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new na(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ps("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new na(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return io(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,io(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,io(t,i)}buildRequest(){const t={requestUri:iw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Fl(i)}return t}}class rE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class nr extends Xl{constructor(){super("facebook.com")}static credential(t){return na._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ir extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return na._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class sr extends Xl{constructor(){super("github.com")}static credential(t){return na._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return na._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function sw(r,t){return Om(r,"POST","/v1/accounts:signUp",Yl(r,t))}class _s{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await hi._fromIdTokenResponse(t,a,l),d=h0(a);return new _s({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=h0(a);return new _s({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function rw(r){if($n(r.app))return Promise.reject(ms(r));const t=Kl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new _s({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await sw(t,{returnSecureToken:!0}),a=await _s._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class th extends Ts{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new th(t,i,a,l)}}function aE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,c,t,a):c})}async function aw(r,t,i=!1){const a=await Ul(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return _s._forOperation(r,"link",a)}async function ow(r,t,i=!1){const{auth:a}=r;if($n(a.app))return Promise.reject(ms(a));const l="reauthenticate";try{const c=await Ul(r,aE(a,l,t,r),i);Et(c.idToken,a,"internal-error");const d=Mm(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),_s._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ps(a,"user-mismatch"),c}}async function lw(r,t,i=!1){if($n(r.app))return Promise.reject(ms(r));const a="signIn",l=await aE(r,a,t),c=await _s._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function uw(r,t){return Om(r,"POST","/v1/accounts:signInWithCustomToken",Yl(r,t))}async function cw(r,t){if($n(r.app))return Promise.reject(ms(r));const i=Kl(r),a=await uw(i,{token:t,returnSecureToken:!0}),l=await _s._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function hw(r,t,i,a){return fn(r).onIdTokenChanged(t,i,a)}function fw(r,t,i){return fn(r).beforeAuthStateChanged(t,i)}function dw(r,t,i,a){return fn(r).onAuthStateChanged(t,i,a)}const eh="__sak";class oE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const mw=1e3,gw=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);qA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,gw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}lE.type="LOCAL";const pw=lE;class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}uE.type="SESSION";const cE=uE;function yw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new gh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await yw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Um(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class _w{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Um("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function vw(r){ji().location.href=r}function hE(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function Ew(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tw(){return navigator?.serviceWorker?.controller||null}function bw(){return hE()?self:null}const fE="firebaseLocalStorageDb",Sw=1,nh="firebaseLocalStorage",dE="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function Aw(){const r=indexedDB.deleteDatabase(fE);return new $l(r).toPromise()}function rm(){const r=indexedDB.open(fE,Sw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(nh,{keyPath:dE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(nh)?t(a):(a.close(),await Aw(),t(await rm()))})})}async function f0(r,t,i){const a=ph(r,!0).put({[dE]:t,value:i});return new $l(a).toPromise()}async function ww(r,t){const i=ph(r,!1).get(t),a=await new $l(i).toPromise();return a===void 0?null:a.value}function d0(r,t){const i=ph(r,!0).delete(t);return new $l(i).toPromise()}const Rw=800,Iw=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Iw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(bw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ew(),!this.activeServiceWorker)return;this.sender=new _w(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Tw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await f0(t,eh,"1"),await d0(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>ww(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ph(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const Cw=mE;new Ql(3e4,6e4);function xw(r,t){return t?ds(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Lm extends sE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,i){return io(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Nw(r){return lw(r.auth,new Lm(r),r.bypassAuthState)}function Dw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),ow(i,new Lm(r),r.bypassAuthState)}async function Ow(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),aw(i,new Lm(r),r.bypassAuthState)}class gE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Nw;case"linkViaPopup":case"linkViaRedirect":return Ow;case"reauthViaPopup":case"reauthViaRedirect":return Dw;default:ps(this.auth,"internal-error")}}resolve(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mw=new Ql(2e3,1e4);class to extends gE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const t=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Mw.get())};t()}}to.currentPopupAction=null;const Vw="pendingRedirect",Bc=new Map;class kw extends gE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const a=await Uw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uw(r,t){const i=zw(t),a=Pw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Lw(r,t){Bc.set(r._key(),t)}function Pw(r){return ds(r._redirectPersistence)}function zw(r){return jc(Vw,r.config.apiKey,r.name)}async function jw(r,t,i=!1){if($n(r.app))return Promise.reject(ms(r));const a=Kl(r),l=xw(a,t),d=await new kw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Bw=600*1e3;class qw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Hw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!pE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Bw&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(t))}saveEventToCache(t){this.cachedEventUids.add(m0(t)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function pE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Hw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(r);default:return!1}}async function Gw(r,t={}){return _o(r,"GET","/v1/projects",t)}const Fw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qw=/^https?/;async function Yw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Gw(r);for(const i of t)try{if(Kw(i))return}catch{}ps(r,"unauthorized-domain")}function Kw(r){const t=im(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Qw.test(i))return!1;if(Fw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Xw=new Ql(3e4,6e4);function g0(){const r=ji().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function $w(r){return new Promise((t,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(zi(r,"network-request-failed"))},timeout:Xw.get()})}if(ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ji().gapi?.load)a();else{const l=ZA("iframefcb");return ji()[l]=()=>{gapi.load?a():i(zi(r,"network-request-failed"))},XA(`${$A()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function Zw(r){return qc=qc||$w(r),qc}const Jw=new Ql(5e3,15e3),Ww="__/auth/iframe",t2="emulator/auth/iframe",e2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i2(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Dm(t,t2):`https://${r.config.authDomain}/${Ww}`,a={apiKey:t.apiKey,appName:r.name,v:yo},l=n2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Fl(a).slice(1)}`}async function s2(r){const t=await Zw(r),i=ji().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:i2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=zi(r,"network-request-failed"),p=ji().setTimeout(()=>{c(d)},Jw.get());function y(){ji().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const r2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a2=500,o2=600,l2="_blank",u2="http://localhost";class p0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c2(r,t,i,a=a2,l=o2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...r2,width:a.toString(),height:l.toString(),top:c,left:d},_=ln().toLowerCase();i&&(p=$v(_)?l2:i),Kv(_)&&(t=t||u2,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[F,et])=>`${M}${F}=${et},`,"");if(BA(_)&&p!=="_self")return h2(t||"",p),new p0(null);const w=window.open(t||"",p,E);Et(w,r,"popup-blocked");try{w.focus()}catch{}return new p0(w)}function h2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const f2="__/auth/handler",d2="emulator/auth/handler",m2=encodeURIComponent("fac");async function y0(r,t,i,a,l,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:yo,eventId:l};if(t instanceof rE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",cS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(t instanceof Xl){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${m2}=${encodeURIComponent(y)}`:"";return`${g2(r)}?${Fl(p).slice(1)}${_}`}function g2({config:r}){return r.emulator?Dm(r,d2):`https://${r.authDomain}/${f2}`}const Hd="webStorageSupport";class p2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=jw,this._overrideRedirectResult=Lw}async _openPopup(t,i,a,l){ys(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(t,i,a,im(),l);return c2(t,c,Um())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await y0(t,i,a,im(),l);return vw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ys(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await s2(t),a=new qw(t);return i.register("authEvent",l=>(Et(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},l=>{const c=l?.[0]?.[Hd];c!==void 0&&i(!!c),ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Yw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return eE()||Xv()||Vm()}}const y2=p2;var _0="@firebase/auth",v0="1.12.0";class _2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function v2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E2(r){ao(new ea("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nE(r)},_=new YA(a,l,c,y);return WA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ao(new ea("auth-internal",t=>{const i=Kl(t.getProvider("auth").getImmediate());return(a=>new _2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(_0,v0,v2(r)),ur(_0,v0,"esm2020")}const T2=300,b2=Dv("authIdTokenMaxAge")||T2;let E0=null;const S2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>b2)return;const l=i?.token;E0!==l&&(E0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function A2(r=Lv()){const t=xm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=JA(r,{popupRedirectResolver:y2,persistence:[Cw,pw,cE]}),a=Dv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=S2(c.toString());fw(i,d,()=>d(i.currentUser)),hw(i,p=>d(p))}}const l=xv("auth");return l&&tw(i,`http://${l}`),i}function w2(){return document.getElementsByTagName("head")?.[0]??document}KA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=zi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",w2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E2("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,yE;(function(){var r;function t(x,A){function I(){}I.prototype=A.prototype,x.F=A.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,N,L){for(var R=Array(arguments.length-2),re=2;re<arguments.length;re++)R[re-2]=arguments[re];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,A,I){I||(I=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=x.g[0],I=x.g[1],N=x.g[2];let L=x.g[3],R;R=A+(L^I&(N^L))+V[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+V[1]+3905402710&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+V[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+V[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+V[5]+1200080426&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+V[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+V[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+V[9]+2336552879&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+V[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(L^I&(N^L))+V[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=L+(N^A&(I^N))+V[13]+4254626195&4294967295,L=A+(R<<12&4294967295|R>>>20),R=N+(I^L&(A^I))+V[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(A^N&(L^A))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=A+(N^L&(I^N))+V[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+V[6]+3225465664&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+V[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+V[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+V[10]+38016083&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+V[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+V[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+V[14]+3275163606&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+V[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(N^L&(I^N))+V[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(A^I))+V[2]+4243563512&4294967295,L=A+(R<<9&4294967295|R>>>23),R=N+(A^I&(L^A))+V[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^A&(N^L))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=A+(I^N^L)+V[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+V[8]+2272392833&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+V[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+V[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+V[4]+1272893353&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+V[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+V[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+V[0]+3936430074&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+V[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(I^N^L)+V[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=L+(A^I^N)+V[12]+3873151461&4294967295,L=A+(R<<11&4294967295|R>>>21),R=N+(L^A^I)+V[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^A)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=A+(N^(I|~L))+V[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+V[7]+1126891415&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+V[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+V[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+V[3]+2399980690&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+V[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+V[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+V[15]+4264355552&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+V[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=A+(N^(I|~L))+V[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=L+(I^(A|~N))+V[11]+3174756917&4294967295,L=A+(R<<10&4294967295|R>>>22),R=N+(A^(L|~I))+V[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}a.prototype.v=function(x,A){A===void 0&&(A=x.length);const I=A-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<A;){if(N==0)for(;L<=I;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<A;)if(V[N++]=x.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<A;)if(V[N++]=x[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[A++]=this.g[I]>>>V&255;return x};function c(x,A){var I=p;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=A(x)}function d(x,A){this.h=A;const I=[];let V=!0;for(let N=x.length-1;N>=0;N--){const L=x[N]|0;V&&L==A||(I[N]=L,V=!1)}this.g=I}var p={};function y(x){return-128<=x&&x<128?c(x,function(A){return new d([A|0],A<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return tt(_(-x));const A=[];let I=1;for(let V=0;x>=I;V++)A[V]=x/I|0,I*=4294967296;return new d(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return tt(E(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let V=w;for(let L=0;L<x.length;L+=8){var N=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var w=y(0),M=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-tt(this).m();let x=0,A=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(et(this))return"0";if(it(this))return"-"+tt(this).toString(x);const A=_(Math.pow(x,6));var I=this;let V="";for(;;){const N=Ft(I,A).g;I=mt(I,N.j(A));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,et(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function et(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function it(x){return x.h==-1}r.l=function(x){return x=mt(this,x),it(x)?-1:et(x)?0:1};function tt(x){const A=x.g.length,I=[];for(let V=0;V<A;V++)I[V]=~x.g[V];return new d(I,~x.h).add(M)}r.abs=function(){return it(this)?tt(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let N=0;N<=A;N++){let L=V+(this.i(N)&65535)+(x.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,L&=65535,R&=65535,I[N]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function mt(x,A){return x.add(tt(A))}r.j=function(x){if(et(this)||et(x))return w;if(it(this))return it(x)?tt(this).j(tt(x)):tt(tt(this).j(x));if(it(x))return tt(this.j(tt(x)));if(this.l(F)<0&&x.l(F)<0)return _(this.m()*x.m());const A=this.g.length+x.g.length,I=[];for(var V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const L=this.i(V)>>>16,R=this.i(V)&65535,re=x.i(N)>>>16,pe=x.i(N)&65535;I[2*V+2*N]+=R*pe,Tt(I,2*V+2*N),I[2*V+2*N+1]+=L*pe,Tt(I,2*V+2*N+1),I[2*V+2*N+1]+=R*re,Tt(I,2*V+2*N+1),I[2*V+2*N+2]+=L*re,Tt(I,2*V+2*N+2)}for(x=0;x<A;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=A;x<2*A;x++)I[x]=0;return new d(I,0)};function Tt(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ht(x,A){this.g=x,this.h=A}function Ft(x,A){if(et(A))throw Error("division by zero");if(et(x))return new ht(w,w);if(it(x))return A=Ft(tt(x),A),new ht(tt(A.g),tt(A.h));if(it(A))return A=Ft(x,tt(A)),new ht(tt(A.g),A.h);if(x.g.length>30){if(it(x)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=A;V.l(x)<=0;)I=Wt(I),V=Wt(V);var N=Ot(I,1),L=Ot(V,1);for(V=Ot(V,2),I=Ot(I,2);!et(V);){var R=L.add(V);R.l(x)<=0&&(N=N.add(I),L=R),V=Ot(V,1),I=Ot(I,1)}return A=mt(x,N.j(A)),new ht(N,A)}for(N=w;x.l(A)>=0;){for(I=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(I),R=L.j(A);it(R)||R.l(x)>0;)I-=V,L=_(I),R=L.j(A);et(L)&&(L=M),N=N.add(L),x=mt(x,R)}return new ht(N,x)}r.B=function(x){return Ft(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<A;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function Wt(x){const A=x.g.length+1,I=[];for(let V=0;V<A;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Ot(x,A){const I=A>>5;A%=32;const V=x.g.length-I,N=[];for(let L=0;L<V;L++)N[L]=A>0?x.i(L+I)>>>A|x.i(L+I+1)<<32-A:x.i(L+I);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,yE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,cr=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,wl,vE,Hc,am,EE,TE,bE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var P=u[b];if(!(P in v))break t;v=v[P]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,P,q){for(var nt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)nt[Rt-2]=arguments[Rt];return m.prototype[P].apply(b,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function et(u,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=P[nt]}else u.push(P)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function mt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const b=ht.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ht=new it(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Ot=!1,x=new Tt,A=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(I)}};function I(){for(var u;u=mt();){try{u.h.call(u.g)}catch(v){tt(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(re,N),re.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function st(u,m,v,b,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=P,this.key=++Q,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(u,m){let v,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(v in b)u[v]=b[v];for(let q=0;q<U.length;q++)v=U[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function Z(u){this.src=u,this.g={},this.h=0}Z.prototype.add=function(u,m,v,b,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=ct(u,m,b,P);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new st(m,this.src,q,!!b,P),m.fa=v,u.push(m)),m};function rt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],P=Array.prototype.indexOf.call(b,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(b,P,1),q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ct(u,m,v,b){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return P}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),xt={};function W(u,m,v,b,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)W(u,m[q],v,b,P);return null}return v=mi(v),u&&u[pe]?u.J(m,v,p(b)?!!b.capture:!1,P):wt(u,m,v,!1,b,P)}function wt(u,m,v,b,P,q){if(!m)throw Error("Invalid event type");const nt=p(P)?!!P.capture:!!P;let Rt=un(u);if(Rt||(u[_t]=Rt=new Z(u)),v=Rt.add(m,v,b,nt,q),v.proxy)return v;if(b=de(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),b,P);else if(u.attachEvent)u.attachEvent(gt(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function de(){function u(v){return m.call(u.src,u.listener,v)}const m=ye;return u}function nn(u,m,v,b,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)nn(u,m[q],v,b,P);else b=p(b)?!!b.capture:!!b,v=mi(v),u&&u[pe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ct(m,v,b,P),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=un(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ct(m,v,b,P)),(v=u>-1?m[u]:null)&&An(v))}function An(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])rt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(gt(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=un(m))?(rt(v,u),v.h==0&&(v.src=null,m[_t]=null)):ft(u)}}}function gt(u){return u in xt?xt[u]:xt[u]="on"+u}function ye(u,m){if(u.da)u=!0;else{m=new re(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&An(u),u=v.call(b,m)}return u}function un(u){return u=u[_t],u instanceof Z?u:null}var Le="__closure_events_fn_"+(Math.random()*1e9>>>0);function mi(u){return typeof u=="function"?u:(u[Le]||(u[Le]=function(m){return u.handleEvent(m)}),u[Le])}function jt(){V.call(this),this.i=new Z(this),this.M=this,this.G=null}w(jt,V),jt.prototype[pe]=!0,jt.prototype.removeEventListener=function(u,m,v,b){nn(this,u,m,v,b)};function ce(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(b,u),G(m,P)}P=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],P=Un(q,b,!0,m)&&P;if(q=m.g=u,P=Un(q,b,!0,m)&&P,P=Un(q,b,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],P=Un(q,b,!1,m)&&P}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ft(v[b]);delete u.g[m],u.h--}}this.G=null},jt.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},jt.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Un(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const Rt=nt.listener,Te=nt.ha||nt.src;nt.fa&&rt(u.i,nt),P=Rt.call(Te,b)!==!1&&P}}return P&&!b.defaultPrevented}function bs(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Tr(u){u.g=bs(()=>{u.g=null,u.i&&(u.i=!1,Tr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fe extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xt(u){V.call(this),this.h=u,this.g={}}w(Xt,V);var Qe=[];function Ss(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&An(m)},u),u.g={}}Xt.prototype.N=function(){Xt.Z.N.call(this),Ss(this)},Xt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=d.JSON.stringify,So=d.JSON.parse,pi=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function la(){}function su(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ye(){N.call(this,"d")}w(Ye,N);function Ln(){N.call(this,"c")}w(Ln,N);var Ee={},ru=null;function ua(){return ru=ru||new jt}Ee.Ia="serverreachability";function au(u){N.call(this,Ee.Ia,u)}w(au,N);function yi(u){const m=ua();ce(m,new au(m))}Ee.STAT_EVENT="statevent";function br(u,m){N.call(this,Ee.STAT_EVENT,u),this.stat=m}w(br,N);function we(u){const m=ua();ce(m,new br(m,u))}Ee.Ja="timingevent";function _i(u,m){N.call(this,Ee.Ja,u),this.size=m}w(_i,N);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Vh(u,m,v,b,P,q){u.info(function(){if(u.g)if(q){var nt="",Rt=q.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var Te=Rt[Qt].split("=");if(Te.length>1){const he=Te[0];Te=Te[1];const Bn=he.split("_");nt=Bn.length>=2&&Bn[1]=="type"?nt+(he+"="+Te+"&"):nt+(he+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function ou(u,m,v,b,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+nt})}function Ei(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(b?" "+b:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return gi(q)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function wr(){}w(wr,la),wr.prototype.g=function(){return new XMLHttpRequest},wo=new wr;function Yi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Xt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Re={},Be={};function Ti(u,m,v){u.M=1,u.A=Rr(Ce(m)),u.u=v,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),bi(u),u.B=Ce(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ma(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ei,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Fe(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Qe[0]=P.toString()),P=Qe);for(let q=0;q<P.length;q++){const nt=W(v,P[q],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=si(this.g),Te=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Rt!=4||Te==7||(Te==8||Qt<=0?yi(3):yi(2)),Si(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var q=b;break e}}q=null}if(u=q)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,we(12),wn(this),Pn(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<v.length;)if(he=cu(this,v),he==Be){Rt==4&&(this.m=4,we(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Re){this.m=4,we(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,he,null),Ai(this,he);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(nt),nt.P=!0,we(11))}}else Ei(this.i,this.l,v,null),Ai(this,v);Rt==4&&wn(this),this.o&&!this.K&&(Rt==4?vu(this.j,this):(this.o=!1,bi(this)))}else Xi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),wn(this),Pn(this)}}}catch{}};function Uh(u){if(!uu(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const b=m.length,P=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),Pn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Be:(v=Number(m.substring(v,b)),isNaN(v)?Re:(b+=1,b+v>m.length?Be:(m=m.slice(b,b+v),u.C=b+v,m)))}ti.prototype.cancel=function(){this.K=!0,wn(this)};function bi(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(_(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(yi(),we(17)),wn(this),this.m=2,Pn(this)):ha(this,this.T-u)};function Pn(u){u.j.I==0||u.K||vu(u.j,u)}function wn(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ss(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ri(v.h,u))){if(!u.L&&Ri(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)va(v),Ds(v);else break t;Mr(v),we(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vi(_(v.Va,v),6e3));wi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Oi(v,11)}else if((u.L||v.g==u)&&va(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Qt=P[m];const he=Qt[0];if(!(he<=v.K))if(v.K=he,Qt=Qt[1],v.I==2)if(Qt[0]=="c"){v.M=Qt[1],v.ba=Qt[2];const Bn=Qt[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Mi=Qt[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const ri=Qt[5];ri!=null&&typeof ri=="number"&&ri>0&&(b=1.5*ri,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ai=u.g;if(ai){const Vr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var q=b.h;q.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Co(q,q.h),q.h=null))}if(b.G){const Ea=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,$t(b.J,b.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=u;if(b.na=bu(b,b.L?b.ba:null,b.W),nt.L){xo(b.h,nt);var Rt=nt,Te=b.O;Te&&(Rt.H=Te),Rt.D&&(Si(Rt),bi(Rt)),b.g=nt}else yu(b);v.i.length>0&&Di(v)}else Qt[0]!="stop"&&Qt[0]!="close"||Oi(v,7);else v.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Oi(v,7):Po(v):Qt[0]!="noop"&&v.l&&v.l.qa(Qt),v.A=0)}}yi(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function Ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function xo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let P,q=null;b>=0?(P=u[v].substring(0,b),q=u[v].substring(b+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Rn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Rn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Do(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),As(this,m[4]),this.h=Ii(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Rn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,da,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,da,!0),"@"),u.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ir(v,v.charAt(0)=="/"?Oo:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ir(v,du)),u.join("")},Rn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=m.h.lastIndexOf("/");P!=-1&&(b=m.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let nt=0;nt<P.length;){const Rt=P[nt++];Rt=="."?b&&nt==P.length&&q.push(""):Rt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&nt==P.length&&q.push("")):(q.push(Rt),b=!0)}b=q.join("/")}else b=P}return v?m.h=b:v=u.i.toString()!=="",v?Do(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new Rn(u)}function qe(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Do(u,m,v){m instanceof Rs?(u.i=m,ga(u.i,u.l)):(v||(m=Ir(m,ws)),u.i=new Rs(m,u.l))}function $t(u,m,v){u.i.set(m,v)}function Rr(u){return $t(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,dn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,fu=/[#\?:]/g,Oo=/[#\?]/g,ws=/[#\?@]/g,du=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function mn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Rs.prototype,r.add=function(u,m){mn(this),this.i=null,u=Is(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){mn(u),m=Is(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Mo(u,m){return mn(u),m=Is(u,m),u.g.has(m)}r.forEach=function(u,m){mn(this),this.g.forEach(function(v,b){v.forEach(function(P){u.call(m,P,b,this)},this)},this)};function Vo(u,m){mn(u);let v=[];if(typeof m=="string")Mo(u,m)&&(v=v.concat(u.g.get(Is(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return mn(this),this.i=null,u=Is(this,u),Mo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Vo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(Is(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const P=Yi(v);v=Vo(this,v);for(let q=0;q<v.length;q++){let nt=P;v[q]!==""&&(nt+="="+Yi(v[q])),u.push(nt)}}return this.i=u.join("&")};function gu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Is(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ga(u,m){m&&!u.j&&(mn(u),u.i=null,u.g.forEach(function(v,b){const P=b.toLowerCase();b!=P&&(mu(this,b),ma(this,P,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const b=new Image;b.onload=E(zn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(zn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(zn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(zn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function ko(u,m){const v=new Wn,b=new AbortController,P=setTimeout(()=>{b.abort(),zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(P),q.ok?zn(v,"TestPingServer: ok",!0,m):zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),zn(v,"TestPingServer: error",!1,m)})}function zn(u,m,v,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(v)}catch{}}function Cs(){this.g=new pi}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ci,la),Ci.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){jt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Cr,jt),r=Cr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?xs(this):ii(this),this.readyState==3&&pa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,xs(this))},r.Na=function(u){this.g&&(this.response=u,xs(this))},r.ga=function(){this.g&&xs(this)};function xs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let m="";return Pt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function xr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=jn(v),typeof u=="string"?v!=null&&Yi(v):$t(u,m,v))}function te(u){jt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(te,jt);var xi=/^https?$/i,Uo=["POST","PUT"];r=te.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Nr(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)v.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||b||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Nr(this,q)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),Ki(u)}function Lo(u){u.A||(u.A=!0,ce(u,"complete"),ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ce(this,"complete"),ce(this,"abort"),Ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ki(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},r.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(ce(u,"readystatechange"),si(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let nt=String(u.D).match(hu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!xi.test(nt?nt.toLowerCase():"")}v=b}if(v)ce(u,"complete"),ce(u,"success");else{u.o=6;try{var P=si(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Lo(u)}}finally{Ki(u)}}}}function Ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ce(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}r.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),So(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=lu(u[b]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}qt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ns.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){we(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Di(this)};function Po(u){if(ya(u),u.I==3){var m=u.V++,v=Ce(u.J);if($t(v,"SID",u.M),$t(v,"RID",m),$t(v,"TYPE","terminate"),Or(u,v),m=new ti(u,u.j,m),m.M=2,m.A=Rr(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}Tu(u)}function Ds(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function ya(u){Ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Io(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||A(),Ot||(Wt(),Ot=!0),x.add(m,u),u.D=0}}function _a(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ti(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),G(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=pu(this,P,m),v=Ce(this.J),$t(v,"RID",u),$t(v,"CVER",22),this.G&&$t(v,"X-HTTP-Session-Id",this.G),Or(this,v),q&&(this.R?m="headers="+Yi(jn(q))+"&"+m:this.u&&xr(v,this.u,q)),Co(this.h,P),this.Ra&&$t(v,"TYPE","init"),this.S?($t(v,"$req",m),$t(v,"SID","null"),P.U=!0,Ti(P,v,null)):Ti(P,v,m),this.I=2}}else this.I==3&&(u?zo(this,u):this.i.length==0||Io(this.h)||zo(this))};function zo(u,m){var v;m?v=m.l:v=u.V++;const b=Ce(u.J);$t(b,"SID",u.M),$t(b,"RID",v),$t(b,"AID",u.K),Or(u,b),u.u&&u.o&&xr(b,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,v),Ti(v,b,m)}function Or(u,m){u.H&&Pt(u.H,function(v,b){$t(m,b,v)}),u.l&&Pt({},function(v,b){$t(m,b,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let Rt=-1;for(;;){const Te=["count="+v];Rt==-1?v>0?(Rt=P[0].g,Te.push("ofs="+Rt)):Rt=0:Te.push("ofs="+Rt);let Qt=!0;for(let he=0;he<v;he++){var q=P[he].g;const Bn=P[he].map;if(q-=Rt,q<0)Rt=Math.max(0,P[he].g-100),Qt=!1;else try{q="req"+q+"_"||"";try{var nt=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Mi,ri]of nt){let ai=ri;p(ri)&&(ai=gi(ri)),Te.push(q+Mi+"="+encodeURIComponent(ai))}}catch(Mi){throw Te.push(q+"type="+encodeURIComponent("_badmap")),Mi}}catch{b&&b(Bn)}}if(Qt){nt=Te.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||A(),Ot||(Wt(),Ot=!0),x.add(m,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),Ds(this),_u(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);$t(m,"RID","rpc"),$t(m,"SID",u.M),$t(m,"AID",u.K),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&$t(m,"TO",u.ia),$t(m,"TYPE","xmlhttp"),Or(u,m),u.u&&u.o&&xr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Rr(Ce(m)),v.u=null,v.R=!0,ca(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ds(this),Mr(this),we(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){va(u),jo(u),u.g=null;var b=2}else if(Ri(u.h,m))v=m.G,xo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;b=ua(),ce(b,new _i(b,v)),Di(u)}else yu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(b==1&&_a(u,m)||b==2&&Mr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const P=!b;b=new Rn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(b,"https"),Rr(b),P?ni(b.toString(),v):ko(b.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var b=v instanceof Rn?Ce(v):new Rn(v);if(b.g!="")m&&(b.g=m+"."+b.g),As(b,b.u);else{var P=d.location;b=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Rn(null);b&&qe(q,b),m&&(q.g=m),P&&As(q,P),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&$t(b,v,m),$t(b,"VER",u.ka),Or(u,b),b}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Ci({ab:v})):new te(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Os(){}Os.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){jt.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $i(this)}w(cn,jt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Po(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gi(u),u=v);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Di(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,cn.Z.N.call(this)};function wu(u){Ye.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(wu,Ye);function Ru(){Ln.call(this),this.status=1}w(Ru,Ln);function $i(u){this.g=u}w($i,Au),$i.prototype.ra=function(){ce(this.g,"a")},$i.prototype.qa=function(u){ce(this.g,new wu(u))},$i.prototype.pa=function(u){ce(this.g,new Ru)},$i.prototype.oa=function(){ce(this.g,"b")},Os.prototype.createWebChannel=Os.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,bE=function(){return new Os},TE=function(){return ua()},EE=Ee,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Hc=Ar,Ao.COMPLETE="complete",vE=Ao,su.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",jt.prototype.listen=jt.prototype.J,wl=su,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,_E=te}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",S0="4.9.3";let an=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let vo="12.7.0";const ia=new Im("@firebase/firestore");function $a(){return ia.logLevel}function at(r,...t){if(ia.logLevel<=kt.DEBUG){const i=t.map(Pm);ia.debug(`Firestore (${vo}): ${r}`,...i)}}function vs(r,...t){if(ia.logLevel<=kt.ERROR){const i=t.map(Pm);ia.error(`Firestore (${vo}): ${r}`,...i)}}function oo(r,...t){if(ia.logLevel<=kt.WARN){const i=t.map(Pm);ia.warn(`Firestore (${vo}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,SE(r,a,i)}function SE(r,t,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function Kt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||SE(t,l,a)}function At(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Ts{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class AE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class R2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class I2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class C2{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Kt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new hr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new hr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string",31837,{l:a}),new AE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class x2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new x2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Kt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function O2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=O2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function om(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Gd(l)===Gd(c)?Ut(l,c):Gd(l)?1:-1}return Ut(r.length,t.length)}const M2=55296,V2=57343;function Gd(r){const t=r.charCodeAt(0);return t>=M2&&t<=V2}function lo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const w0="__name__";class Pi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Pi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Pi.isNumericId(t),l=Pi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Pi.extractNumericId(t).compare(Pi.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class me extends Pi{construct(t,i,a){return new me(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new me(i)}static emptyPath(){return new me([])}}const k2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Pi{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return k2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new tn([w0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ut(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ut(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(me.fromString(t))}static fromName(t){return new pt(me.fromString(t).popFirst(5))}static empty(){return new pt(me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return me.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new me(t.slice()))}}function U2(r,t,i){if(!i)throw new ut(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function L2(r,t,i,a){if(t===!0&&a===!0)throw new ut(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function R0(r){if(!pt.isDocumentKey(r))throw new ut(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function fi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jm(r);throw new ut(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function Zl(r,t){if(!wE(r))throw new ut(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(J.INVALID_ARGUMENT,i);return!0}const I0=-62135596800,C0=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*C0);return new ue(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<I0)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Zl(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-I0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Ve("string",ue._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ue(0,0))}static max(){return new bt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ll=-1;function P2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new dr(l,pt.empty(),t)}function z2(r){return new dr(r.readTime,r.key,Ll)}class dr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(bt.min(),pt.empty(),Ll)}static max(){return new dr(bt.max(),pt.empty(),Ll)}}function j2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const B2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==B2)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function H2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const Bm=-1;function _h(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function G2(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const RE="";function F2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=x0(t)),t=Q2(r.get(i),t);return x0(t)}function Q2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function x0(r){return r+RE+""}function N0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function vr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function IE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ge{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new ge(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=l??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new We(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(t){return new D0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class D0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kn{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new kn([])}unionWith(t){let i=new je(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new kn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const i=Y2.exec(r);if(Kt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function gr(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const xE="server_timestamp",NE="__type__",DE="__previous_value__",OE="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===xE}function vh(r){const t=r.mapValue.fields[DE];return qm(t)?vh(t):t}function Pl(r){const t=mr(r.mapValue.fields[OE].timestampValue);return new ue(t.seconds,t.nanos)}class K2{constructor(t,i,a,l,c,d,p,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const sh="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||sh}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const ME="__type__",X2="__max__",Mc={mapValue:{}},VE="__vector__",rh="value";function pr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:Z2(r)?9007199254740991:$2(r)?10:11:vt(28295,{value:r})}function Fi(r,t){if(r===t)return!0;const i=pr(r);if(i!==pr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=mr(l.timestampValue),p=mr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return gr(l.bytesValue).isEqual(gr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?ih(d)===ih(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return lo(r.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(N0(d)!==N0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Fi(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function jl(r,t){return(r.values||[]).find((i=>Fi(i,t)))!==void 0}function uo(r,t){if(r===t)return 0;const i=pr(r),a=pr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),y=Ae(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return O0(r.timestampValue,t.timestampValue);case 4:return O0(Pl(r),Pl(t));case 5:return om(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=gr(c),y=gr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Ut(p[_],y[_]);if(E!==0)return E}return Ut(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(Ae(c.latitude),Ae(d.latitude));return p!==0?p:Ut(Ae(c.longitude),Ae(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return M0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[rh]?.arrayValue,E=y[rh]?.arrayValue,w=Ut(_?.values?.length||0,E?.values?.length||0);return w!==0?w:M0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let w=0;w<y.length&&w<E.length;++w){const M=om(y[w],E[w]);if(M!==0)return M;const F=uo(p[y[w]],_[E[w]]);if(F!==0)return F}return Ut(y.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function O0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=mr(r),a=mr(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function M0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function co(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return gr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=lm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function Gc(r){switch(pr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(r);return t?16+Gc(t):16;case 5:return 2*r.stringValue.length;case 6:return gr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Gc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return vr(a.fields,((c,d)=>{l+=c.length+Gc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function um(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function V0(r){return!!r&&"nullValue"in r}function k0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function $2(r){return(r?.mapValue?.fields||{})[ME]?.stringValue===VE}function Dl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return vr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Dl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(r.arrayValue.values[i]);return t}return{...r}}function Z2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===X2}class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=tn.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Dl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){vr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Sn(Dl(this.value))}}function kE(r){const t=[];return vr(r.fields,((i,a)=>{const l=new tn([i]);if(Fc(a)){const c=kE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new kn(t)}class on{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new on(t,0,bt.min(),bt.min(),bt.min(),Sn.empty(),0)}static newFoundDocument(t,i,a,l){return new on(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new on(t,2,i,bt.min(),bt.min(),Sn.empty(),0)}static newUnknownDocument(t,i){return new on(t,3,i,bt.min(),bt.min(),Sn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,i){this.position=t,this.inclusive=i}}function U0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Fi(r.position[i],t.position[i]))return!1;return!0}class oh{constructor(t,i="asc"){this.field=t,this.dir=i}}function J2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class UE{}class ze extends UE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new tR(t,i,a):i==="array-contains"?new iR(t,a):i==="in"?new sR(t,a):i==="not-in"?new rR(t,a):i==="array-contains-any"?new aR(t,a):new ze(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new eR(t,a):new nR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends UE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Qi(t,i)}matches(t){return LE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(r){return r.op==="and"}function PE(r){return W2(r)&&LE(r)}function W2(r){for(const t of r.filters)if(t instanceof Qi)return!1;return!0}function cm(r){if(r instanceof ze)return r.field.canonicalString()+r.op.toString()+co(r.value);if(PE(r))return r.filters.map((t=>cm(t))).join(",");{const t=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${t})`}}function zE(r,t){return r instanceof ze?(function(a,l){return l instanceof ze&&a.op===l.op&&a.field.isEqual(l.field)&&Fi(a.value,l.value)})(r,t):r instanceof Qi?(function(a,l){return l instanceof Qi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&zE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function jE(r){return r instanceof ze?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(r):r instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(r):"Filter"}class tR extends ze{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class eR extends ze{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class nR extends ze{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function BE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class iR extends ze{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&jl(i.arrayValue,this.value)}}class sR extends ze{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class rR extends ze{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class aR extends ze{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class oR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function P0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new oR(r,t,i,a,l,c,d)}function Gm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>co(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>co(a))).join(",")),t.Te=i}return t.Te}function Fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!J2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!zE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!L0(r.startAt,t.startAt)&&L0(r.endAt,t.endAt)}function hm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lR(r,t,i,a,l,c,d,p){return new Eh(r,t,i,a,l,c,d,p)}function Th(r){return new Eh(r)}function z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uR(r){return r.collectionGroup!==null}function Ol(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new oh(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new oh(tn.keyField(),a))}return t.Ie}function Bi(r){const t=At(r);return t.Ee||(t.Ee=cR(t,Ol(r))),t.Ee}function cR(r,t){if(r.limitType==="F")return P0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new oh(l.field,c)}));const i=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return P0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function fm(r,t,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function bh(r,t){return Fm(Bi(r),Bi(t))&&r.limitType===t.limitType}function qE(r){return`${Gm(Bi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(Bi(r))}; limitType=${r.limitType})`}function Sh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Ol(a),l)||a.endAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Ol(a),l))})(r,t)}function hR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function HE(r){return(t,i)=>{let a=!1;for(const l of Ol(r)){const c=fR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function fR(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?uo(y,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class aa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){vr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const dR=new ge(pt.comparator);function Es(){return dR}const GE=new ge(pt.comparator);function Rl(...r){let t=GE;for(const i of r)t=t.insert(i.key,i);return t}function FE(r){let t=GE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Jr(){return Ml()}function QE(){return Ml()}function Ml(){return new aa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const mR=new ge(pt.comparator),gR=new je(pt.comparator);function Lt(...r){let t=gR;for(const i of r)t=t.add(i);return t}const pR=new je(Ut);function yR(){return pR}function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function YE(r){return{integerValue:""+r}}function KE(r,t){return G2(t)?YE(t):Qm(r,t)}class Ah{constructor(){this._=void 0}}function _R(r,t,i){return r instanceof lh?(function(l,c){const d={fields:{[NE]:{stringValue:xE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=vh(c)),c&&(d.fields[DE]=c),{mapValue:d}})(i,t):r instanceof ho?$E(r,t):r instanceof Bl?ZE(r,t):(function(l,c){const d=XE(l,c),p=j0(d)+j0(l.Ae);return um(d)&&um(l.Ae)?YE(p):Qm(l.serializer,p)})(r,t)}function vR(r,t,i){return r instanceof ho?$E(r,t):r instanceof Bl?ZE(r,t):i}function XE(r,t){return r instanceof ql?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class lh extends Ah{}class ho extends Ah{constructor(t){super(),this.elements=t}}function $E(r,t){const i=JE(t);for(const a of r.elements)i.some((l=>Fi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends Ah{constructor(t){super(),this.elements=t}}function ZE(r,t){let i=JE(t);for(const a of r.elements)i=i.filter((l=>!Fi(l,a)));return{arrayValue:{values:i}}}class ql extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function j0(r){return Ae(r.integerValue||r.doubleValue)}function JE(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class WE{constructor(t,i){this.field=t,this.transform=i}}function ER(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ho&&l instanceof ho||a instanceof Bl&&l instanceof Bl?lo(a.elements,l.elements,Fi):a instanceof ql&&l instanceof ql?Fi(a.Ae,l.Ae):a instanceof lh&&l instanceof lh})(r.transform,t.transform)}class TR{constructor(t,i){this.version=t,this.transformResults=i}}class di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class wh{}function tT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ym(r.key,di.none()):new Jl(r.key,r.data,di.none());{const i=r.data,a=Sn.empty();let l=new je(tn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Er(r.key,a,new kn(l.toArray()),di.none())}}function bR(r,t,i){r instanceof Jl?(function(l,c,d){const p=l.value.clone(),y=q0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Er?(function(l,c,d){if(!Qc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=q0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(eT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Vl(r,t,i,a){return r instanceof Jl?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const _=c.value.clone(),E=H0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Er?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const _=H0(c.fieldTransforms,y,d),E=d.data;return E.setAll(eT(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function SR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=XE(a.transform,l||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(a.field,c))}return i||null}function B0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>ER(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Jl extends wh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Er extends wh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function eT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function q0(r,t,i){const a=new Map;Kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,vR(d,p,i[l]))}return a}function H0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,_R(c,d,t))}return a}class Ym extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&bR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Vl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Vl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=QE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=tT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((i,a)=>B0(i,a)))&&lo(this.baseMutations,t.baseMutations,((i,a)=>B0(i,a)))}}class Km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Kt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return mR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Km(t,i,a,l)}}class RR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Me,Bt;function CR(r){switch(r){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function nT(r){if(r===void 0)return vs("GRPC error has no .code"),J.UNKNOWN;switch(r){case Me.OK:return J.OK;case Me.CANCELLED:return J.CANCELLED;case Me.UNKNOWN:return J.UNKNOWN;case Me.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Me.INTERNAL:return J.INTERNAL;case Me.UNAVAILABLE:return J.UNAVAILABLE;case Me.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Me.NOT_FOUND:return J.NOT_FOUND;case Me.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Me.ABORTED:return J.ABORTED;case Me.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Me.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=Me||(Me={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function xR(){return new TextEncoder}const NR=new cr([4294967295,4294967295],0);function G0(r){const t=xR().encode(r),i=new yE;return i.update(t),new Uint8Array(i.digest())}function F0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new cr([i,a],0),new cr([l,c],0)]}class Xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(a<0)throw new Il(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=cr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(cr.fromNumber(a)));return l.compare(NR)===1&&(l=new cr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=G0(t),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Xm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=G0(t),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Wl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Rh(bt.min(),l,new ge(Ut),Es(),Lt())}}class Wl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Wl(a,i,Lt(),Lt(),Lt())}}class Yc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class iT{constructor(t,i){this.targetId=t,this.Ce=i}}class sT{constructor(t,i,a=en.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Wl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.Je=Vc(),this.He=Vc(),this.Ye=new ge(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(a===0){const d=new pt(c.path);this.et(i,d,on.newNoDocument(d,bt.min()))}else Kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=gr(a).toUint8Array()}catch(y){if(y instanceof CE)return oo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(d,l,c)}catch(y){return oo(y instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,on.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Rh(t,i,this.Ye,this.je,a);return this.je=Es(),this.Je=Vc(),this.He=Vc(),this.Ye=new ge(Ut),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Vc(){return new ge(pt.comparator)}function Y0(){return new ge(pt.comparator)}const OR={asc:"ASCENDING",desc:"DESCENDING"},MR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class kR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(r,t){return r.useProto3Json||_h(t)?t:{value:t}}function uh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function UR(r,t){return uh(r,t.toTimestamp())}function qi(r){return Kt(!!r,49232),bt.fromTimestamp((function(i){const a=mr(i);return new ue(a.seconds,a.nanos)})(r))}function $m(r,t){return mm(r,t).canonicalString()}function mm(r,t){const i=(function(l){return new me(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function aT(r){const t=me.fromString(r);return Kt(hT(t),10190,{key:t.toString()}),t}function gm(r,t){return $m(r.databaseId,t.path)}function Fd(r,t){const i=aT(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(lT(i))}function oT(r,t){return $m(r.databaseId,t)}function LR(r){const t=aT(r);return t.length===4?me.emptyPath():lT(t)}function pm(r){return new me(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lT(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function K0(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function PR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),en.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),en.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?J.UNKNOWN:nT(_.code);return new ut(E,_.message||"")})(d);i=new sT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Fd(r,a.document.name),c=qi(a.document.updateTime),d=a.document.createTime?qi(a.document.createTime):bt.min(),p=new Sn({mapValue:{fields:a.document.fields}}),y=on.newFoundDocument(l,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Yc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Fd(r,a.document),c=a.readTime?qi(a.readTime):bt.min(),d=on.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Yc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Fd(r,a.document),c=a.removedTargetIds||[];i=new Yc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new IR(l,c),p=a.targetId;i=new iT(p,d)}}return i}function zR(r,t){let i;if(t instanceof Jl)i={update:K0(r,t.key,t.value)};else if(t instanceof Ym)i={delete:gm(r,t.key)};else if(t instanceof Er)i={update:K0(r,t.key,t.data),updateMask:KR(t.fieldMask)};else{if(!(t instanceof AR))return vt(16599,{Vt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:UR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function jR(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?qi(l.updateTime):qi(c);return d.isEqual(bt.min())&&(d=qi(c)),new TR(d,l.transformResults||[])})(i,t)))):[]}function BR(r,t){return{documents:[oT(r,t.path)]}}function qR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=oT(r,l);const c=(function(_){if(_.length!==0)return cT(Qi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:Ja(M.field),direction:FR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function HR(r){let t=LR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Kt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=uT(w);return M instanceof Qi&&PE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(et){return new oh(Wa(et.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,_h(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,F=w.values||[];return new ah(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,F=w.values||[];return new ah(F,M)})(i.endAt)),lR(t,l,d,c,p,"F",y,_)}function GR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function uT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return ze.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return ze.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return ze.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return ze.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ze.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((a=>uT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function FR(r){return OR[r]}function QR(r){return MR[r]}function YR(r){return VR[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return tn.fromServerFormat(r.fieldPath)}function cT(r){return r instanceof ze?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:QR(i.op),value:i.value}}})(r):r instanceof Qi?(function(i){const a=i.getFilters().map((l=>cT(l)));return a.length===1?a[0]:{compositeFilter:{op:YR(i.op),filters:a}}})(r):vt(54877,{filter:r})}function KR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function hT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ar{constructor(t,i,a,l,c=bt.min(),d=bt.min(),p=en.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class XR{constructor(t){this.yt=t}}function $R(r){const t=HR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}class ZR{constructor(){this.Cn=new JR}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(dr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class JR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new je(me.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new je(me.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(fT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class fo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const $0="LruGarbageCollector",WR=1048576;function Z0([r,t],[i,a]){const l=Ut(r,i);return l===0?Ut(t,a):l}class tI{constructor(t){this.Ir=t,this.buffer=new je(Z0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class eI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at($0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?at($0,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class nI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(yh.ce);const a=new tI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(X0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),$a()<=kt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function iI(r,t){return new nI(r,t)}class sI{constructor(){this.changes=new aa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class aI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Vl(a.mutation,l,kn.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=Jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Rl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Es();const d=Ml(),p=(function(){return Ml()})();return i.forEach(((y,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof Er)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Vl(E.mutation,_,E.mutation.getFieldMask(),ue.now())):d.set(_.key,kn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new rI(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ml();let l=new ge(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||kn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const w=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,w=QE();E.forEach((M=>{if(!c.has(M)){const F=tT(i.get(M),a.get(M));F!==null&&w.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):uR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Jr());let p=Ll,y=c;return d.next((_=>$.forEach(_,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((E=>({batchId:p,changes:FE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(w,M){return new Eh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,on.newInvalidDocument(E)))}));let p=Rl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Vl(E.mutation,_,kn.empty(),ue.now()),Sh(i,_)&&(p=p.insert(y,_))})),p}))}}class oI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:qi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:$R(l.bundledQuery),readTime:qi(l.readTime)}})(i)),$.resolve()}}class lI{constructor(){this.overlays=new ge(pt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Jr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Jr(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ge(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=Jr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new RR(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class uI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Zm{constructor(){this.Qr=new je(Ge.$r),this.Ur=new je(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new me([])),a=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new me([])),a=new Ge(i,t),l=new Ge(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class cI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(Ge.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(Ut);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new pt(c),0);let p=new je(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ge(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hI{constructor(t){this.ri=t,this.docs=(function(){return new ge(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let a=Es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():on.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Es();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||j2(z2(E),a)<=0||(l.has(E.key)||Sh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new fI(this)}getSize(t){return $.resolve(this.size)}}class fI extends sI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class dI{constructor(t){this.persistence=t,this.si=new aa((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=fo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class dT{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new uI,this.referenceDelegate=t(this),this.Pi=new dI(this),this.indexManager=new ZR,this.remoteDocumentCache=(function(l){return new hI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new XR(i),this.Ii=new oI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new lI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new cI(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new mI(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class mI extends q2{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.pi=new aa((a=>F2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=iI(this,i)}static mi(t,i){return new ch(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(t,i.fromCache,a,l)}}class gI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class pI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return sS()?8:H2(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new gI;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?($a()<=kt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):($a()<=kt.DEBUG&&at("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?($a()<=kt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(i))):$.resolve())}ys(t,i){if(z0(i))return $.resolve(null);let a=Bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),a=Bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return z0(i)||l.isEqual(bt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):($a()<=kt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(i)),this.vs(t,d,i,P2(l,Ll)).next((p=>p)))}))}Ds(t,i){let a=new je(HE(t));return i.forEach(((l,c)=>{Sh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return $a()<=kt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,dr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",yI=3e8;class _I{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ge(Ut),this.xs=new aa((c=>Gm(c)),Fm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function vI(r,t,i,a){return new _I(r,t,i,a)}async function mT(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function EI(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const w=_.batch,M=w.keys();let F=$.resolve();return M.forEach((et=>{F=F.next((()=>E.getEntry(y,et))).next((it=>{const tt=_.docVersions.get(et);Kt(tt!==null,48541),it.version.compareTo(tt)<0&&(w.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),E.addEntry(it)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function gT(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function TI(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,w)=>{const M=l.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?F=F.withResumeToken(en.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):E.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(E.resumeToken,a)),l=l.insert(w,F),(function(it,tt,mt){return it.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=yI?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(M,F,E)&&p.push(i.Pi.updateTargetData(c,F))}));let y=Es(),_=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(bI(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(bt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function bI(r,t,i){let a=Lt(),l=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function SI(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function AI(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new ar(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function ym(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;at(tg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function J0(r,t,i){const a=At(r);let l=bt.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const w=At(y),M=w.xs.get(E);return M!==void 0?$.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,E)})(a,d,Bi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Lt()))).next((p=>(wI(a,hR(t),p),{documents:p,Qs:c})))))}function wI(r,t,i){let a=r.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class W0{constructor(){this.activeTargetIds=yR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RI{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class II{Oo(t){}shutdown(){}}const tv="ConnectivityMonitor";class ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(tv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function _m(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Qd="RestConnection",CI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===sh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());at(Qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),E=po(_);return this.Jo(t,p,y,a,E).then((w=>(at(Qd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw oo(Qd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=CI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class NI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const rn="WebChannelConnection";class DI extends xI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=_m();return new Promise(((p,y)=>{const _=new _E;_.setWithCredentials(!0),_.listenOnce(vE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const w=_.getResponseJson();at(rn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Hc.TIMEOUT:at(rn,`RPC '${t}' ${d} timed out`),y(new ut(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(at(rn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const et=F?.error;if(et&&et.status&&et.message){const it=(function(mt){const Tt=mt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Tt)>=0?Tt:J.UNKNOWN})(et.status);y(new ut(it,et.message))}else y(new ut(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ut(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(rn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);at(rn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=bE(),p=TE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");at(rn,`Creating RPC '${t}' stream ${l}: ${E}`,y);const w=d.createWebChannel(E,y);this.I_(w);let M=!1,F=!1;const et=new NI({Yo:tt=>{F?at(rn,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(M||(at(rn,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),at(rn,`RPC '${t}' stream ${l} sending:`,tt),w.send(tt))},Zo:()=>w.close()}),it=(tt,mt,Tt)=>{tt.listen(mt,(ht=>{try{Tt(ht)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return it(w,wl.EventType.OPEN,(()=>{F||(at(rn,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),it(w,wl.EventType.CLOSE,(()=>{F||(F=!0,at(rn,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(w))})),it(w,wl.EventType.ERROR,(tt=>{F||(F=!0,oo(rn,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),et.a_(new ut(J.UNAVAILABLE,"The operation could not be completed")))})),it(w,wl.EventType.MESSAGE,(tt=>{if(!F){const mt=tt.data[0];Kt(!!mt,16349);const Tt=mt,ht=Tt?.error||Tt[0]?.error;if(ht){at(rn,`RPC '${t}' stream ${l} received error:`,ht);const Ft=ht.status;let Wt=(function(A){const I=Me[A];if(I!==void 0)return nT(I)})(Ft),Ot=ht.message;Wt===void 0&&(Wt=J.INTERNAL,Ot="Unknown error status: "+Ft+" with message "+ht.message),F=!0,et.a_(new ut(Wt,Ot)),w.close()}else at(rn,`RPC '${t}' stream ${l} received:`,mt),et.u_(mt)}})),it(p,EE.STAT_EVENT,(tt=>{tt.stat===am.PROXY?at(rn,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===am.NOPROXY&&at(rn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Yd(){return typeof document<"u"?document:null}function Ih(r){return new kR(r,!0)}class pT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class yT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OI extends yT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=PR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?qi(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=hm(y)?{documents:BR(c,y)}:{query:qR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=rT(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=GR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class MI extends yT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=jR(t.writeResults,t.commitTime),a=qi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>zR(this.serializer,a)))};this.q_(i)}}class VI{}class kI extends VI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class LI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{oa(this)&&(at(sa,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await tu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new UI(a,l)}}async function Ch(r){if(oa(r))for(const t of r.da)await t(!0)}async function tu(r){for(const t of r.da)await t(!1)}function _T(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sg(i)?ig(i):bo(i).O_()&&ng(i,t))}function eg(r,t){const i=At(r),a=bo(i);i.Ia.delete(t),a.O_()&&vT(i,t),i.Ia.size===0&&(a.O_()?a.L_():oa(i)&&i.Ra.set("Unknown"))}function ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}bo(r).Y_(t)}function vT(r,t){r.Va.Ue(t),bo(r).Z_(t)}function ig(r){r.Va=new DR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function sg(r){return oa(r)&&!bo(r).x_()&&r.Ia.size>0}function oa(r){return At(r).Ea.size===0}function ET(r){r.Va=void 0}async function PI(r){r.Ra.set("Online")}async function zI(r){r.Ia.forEach(((t,i)=>{ng(r,t)}))}async function jI(r,t){ET(r),sg(r)?(r.Ra.ha(t),ig(r)):r.Ra.set("Unknown")}async function BI(r,t,i){if(r.Ra.set("Online"),t instanceof sT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){at(sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await hh(r,a)}else if(t instanceof Yc?r.Va.Ze(t):t instanceof iT?r.Va.st(t):r.Va.tt(t),!i.isEqual(bt.min()))try{const a=await gT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),vT(c,y);const w=new ar(E.target,y,_,E.sequenceNumber);ng(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(sa,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,t,i){if(!To(t))throw t;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),i||(i=()=>gT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(sa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ch(r)}))}function TT(r,t){return t().catch((i=>hh(r,i,t)))}async function xh(r){const t=At(r),i=yr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bm;for(;qI(t);)try{const l=await SI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,HI(t,l)}catch(l){await hh(t,l)}bT(t)&&ST(t)}function qI(r){return oa(r)&&r.Ta.length<10}function HI(r,t){r.Ta.push(t);const i=yr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function bT(r){return oa(r)&&!yr(r).x_()&&r.Ta.length>0}function ST(r){yr(r).start()}async function GI(r){yr(r).ra()}async function FI(r){const t=yr(r);for(const i of r.Ta)t.ea(i.mutations)}async function QI(r,t,i){const a=r.Ta.shift(),l=Km.from(a,t,i);await TT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function YI(r,t){t&&yr(r).X_&&await(async function(a,l){if((function(d){return CR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();yr(a).B_(),await TT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(r,t),bT(r)&&ST(r)}async function iv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at(sa,"RemoteStore received new credentials");const a=oa(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function KI(r,t){const i=At(r);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new OI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:PI.bind(null,r),t_:zI.bind(null,r),r_:jI.bind(null,r),H_:BI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),sg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),ET(r))}))),r.ma}function yr(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new MI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GI.bind(null,r),r_:YI.bind(null,r),ta:FI.bind(null,r),na:QI.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(at(sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new rg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,t){if(vs("AsyncQueue",`${t}: ${r}`),To(r))return new ut(J.UNAVAILABLE,`${t}: ${r}`);throw r}class so{static emptySet(t){return new so(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Rl(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new so;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class sv{constructor(){this.ga=new ge(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class mo{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new mo(t,i,so.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class XI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class $I{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=rv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ut(J.ABORTED,"Firestore shutting down"))}}function rv(){return new aa((r=>qE(r)),bh)}async function AT(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new XI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ag(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&og(i)}async function wT(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function ZI(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&og(i)}function JI(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function og(r){r.Ca.forEach((t=>{t.next()}))}var vm,av;(av=vm||(vm={})).Ma="default",av.Cache="cache";class RT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new mo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class IT{constructor(t){this.key=t}}class CT{constructor(t){this.key=t}}class WI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=HE(t),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,w)=>{const M=l.get(E),F=Sh(this.query,w)?w:null,et=!!M&&this.mutatedKeys.has(M.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let tt=!1;M&&F?M.data.isEqual(F.data)?et!==it&&(a.track({type:3,doc:F}),tt=!0):this.su(M,F)||(a.track({type:2,doc:F}),tt=!0,(y&&this.eu(F,y)>0||_&&this.eu(F,_)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),tt=!0):M&&!F&&(a.track({type:1,doc:M}),tt=!0,(y||_)&&(p=!0)),tt&&(F?(d=d.add(F),c=it?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,w)=>(function(F,et){const it=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:tt})}};return it(F)-it(et)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new mo(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new CT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new IT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class tC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class eC{constructor(t){this.key=t,this.hu=!1}}class nC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((p=>qE(p)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new ge(pt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iC(r,t,i=!0){const a=VT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await xT(a,t,i,!0),l}async function sC(r,t){const i=VT(r);await xT(i,t,!0,!1)}async function xT(r,t,i,a){const l=await AI(r.localStore,Bi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await rC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&_T(r.remoteStore,l),p}async function rC(r,t,i,a,l){r.pu=(w,M,F)=>(async function(it,tt,mt,Tt){let ht=tt.view.ru(mt);ht.Cs&&(ht=await J0(it.localStore,tt.query,!1).then((({documents:x})=>tt.view.ru(x,ht))));const Ft=Tt&&Tt.targetChanges.get(tt.targetId),Wt=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,Ot=tt.view.applyChanges(ht,it.isPrimaryClient,Ft,Wt);return lv(it,tt.targetId,Ot.au),Ot.snapshot})(r,w,M,F);const c=await J0(r.localStore,t,!0),d=new WI(t,c.Qs),p=d.ru(c.documents),y=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);lv(r,i,_.au);const E=new tC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function aC(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!bh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&eg(a.remoteStore,l.targetId),Em(a,l.targetId)})).catch(Eo)):(Em(a,l.targetId),await ym(a.localStore,l.targetId,!0))}async function oC(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),eg(i.remoteStore,a.targetId))}async function lC(r,t,i){const a=gC(r);try{const l=await(function(d,p){const y=At(d),_=ue.now(),E=p.reduce(((F,et)=>F.add(et.key)),Lt());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let et=Es(),it=Lt();return y.Ns.getEntries(F,E).next((tt=>{et=tt,et.forEach(((mt,Tt)=>{Tt.isValidDocument()||(it=it.add(mt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,et))).next((tt=>{w=tt;const mt=[];for(const Tt of p){const ht=SR(Tt,w.get(Tt.key).overlayedDocument);ht!=null&&mt.push(new Er(Tt.key,ht,kE(ht.value.mapValue),di.exists(!0)))}return y.mutationQueue.addMutationBatch(F,_,mt,p)})).next((tt=>{M=tt;const mt=tt.applyToLocalDocumentSet(w,it);return y.documentOverlayCache.saveOverlays(F,tt.batchId,mt)}))})).then((()=>({batchId:M.batchId,changes:FE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ge(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await eu(a,l.changes),await xh(a.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");i.reject(c)}}async function NT(r,t){const i=At(r);try{const a=await TI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await eu(i,a,t)}catch(a){await Eo(a)}}function ov(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function uC(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ge(pt.comparator);d=d.insert(c,on.newNoDocument(c,bt.min()));const p=Lt().add(c),y=new Rh(bt.min(),new Map,new ge(Ut),d,p);await NT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ug(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(Eo)}async function cC(r,t){const i=At(r),a=t.batch.batchId;try{const l=await EI(i.localStore,t);OT(i,a,null),DT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await eu(i,l)}catch(l){await Eo(l)}}async function hC(r,t,i){const a=At(r);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Kt(w!==null,37113),E=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);OT(a,t,i),DT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await eu(a,l)}catch(l){await Eo(l)}}function DT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function OT(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||MT(r,a)}))}function MT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(eg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ug(r))}function lv(r,t,i){for(const a of i)a instanceof IT?(r.Ru.addReference(a.key,t),fC(r,a)):a instanceof CT?(at(lg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||MT(r,a.key)):vt(19791,{wu:a})}function fC(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(lg,"New document in limbo: "+i),r.Eu.add(a),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(me.fromString(t)),a=r.fu.next();r.Au.set(a,new eC(i)),r.du=r.du.insert(i,a),_T(r.remoteStore,new ar(Bi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function eu(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=Wm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(_,(M=>$.forEach(M.Es,(F=>E.persistence.referenceDelegate.addReference(w,M.targetId,F))).next((()=>$.forEach(M.ds,(F=>E.persistence.referenceDelegate.removeReference(w,M.targetId,F)))))))))}catch(w){if(!To(w))throw w;at(tg,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const F=E.Ms.get(M),et=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(et);E.Ms=E.Ms.insert(M,it)}}})(a.localStore,c))}async function dC(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(lg,"User change. New user:",t.toKey());const a=await mT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ut(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await eu(i,a.Ls)}}function mC(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function VT(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=mC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uC.bind(null,t),t.Pu.H_=ZI.bind(null,t.eventManager),t.Pu.yu=JI.bind(null,t.eventManager),t}function gC(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hC.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return vI(this.persistence,new pI,t.initialUser,this.serializer)}Cu(t){return new dT(Jm.mi,this.serializer)}Du(t){return new RI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class pC extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Kt(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new eI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new dT((a=>ch.mi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=dC.bind(null,this.syncEngine),await KI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new $I})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),a=(function(c){return new DI(c)})(t.databaseInfo);return(function(c,d,p,y){return new kI(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new LI(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return ev.v()?new ev:new II})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,E){const w=new nC(l,c,d,p,y,_);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(sa,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class kT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const _r="FirestoreClient";class yC{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=an.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),at(_r,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await mT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function uv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await _C(r);at(_r,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iv(t.remoteStore,l))),r._onlineComponents=t}async function _C(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(_r,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new fh)}}else at(_r,"Using default OfflineComponentProvider"),await Kd(r,new pC(void 0));return r._offlineComponents}async function UT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(_r,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(at(_r,"Using default OnlineComponentProvider"),await uv(r,new Tm))),r._onlineComponents}function vC(r){return UT(r).then((t=>t.syncEngine))}async function bm(r){const t=await UT(r),i=t.eventManager;return i.onListen=iC.bind(null,t.syncEngine),i.onUnlisten=aC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=sC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=oC.bind(null,t.syncEngine),i}function EC(r,t,i={}){const a=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new kT({next:M=>{E.Nu(),d.enqueueAndForget((()=>wT(c,w)));const F=M.docs.has(p);!F&&M.fromCache?_.reject(new ut(J.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&y&&y.source==="server"?_.reject(new ut(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new RT(Th(p.path),E,{includeMetadataChanges:!0,qa:!0});return AT(c,w)})(await bm(r),r.asyncQueue,t,i,a))),a.promise}function LT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const cv=new Map;const PT="firestore.googleapis.com",hv=!0;class fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PT,this.ssl=hv}else this.host=t.host,this.ssl=t.ssl??hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WR)throw new ut(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}L2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new R2;switch(a.type){case"firstParty":return new N2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(at("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function TC(r,t,i,a={}){r=fi(r,cg);const l=po(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Ov(`https://${p}`),Mv("Firestore",!0)),c.host!==PT&&c.host!==p&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!fr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=an.MOCK_USER;else{_=Xb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ut(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new an(w)}r._authCredentials=new I2(new AE(_,E))}}class Nh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Nh(this.firestore,t,this._query)}}class ke{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Zl(i,ke._jsonSchema))return new ke(t,a||null,new pt(me.fromString(i.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:Ve("string",ke._jsonSchemaVersion),referencePath:Ve("string")};class Hl extends Nh{constructor(t,i,a){super(t,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new pt(t))}withConverter(t){return new Hl(this.firestore,t,this._path)}}function En(r,t,...i){if(r=fn(r),arguments.length===1&&(t=zm.newId()),U2("doc","path",t),r instanceof cg){const a=me.fromString(t,...i);return R0(a),new ke(r,null,new pt(a))}{if(!(r instanceof ke||r instanceof Hl))throw new ut(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(me.fromString(t,...i));return R0(a),new ke(r.firestore,r instanceof Hl?r.converter:null,new pt(a))}}const dv="AsyncQueue";class mv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pT(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&at(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;at(dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=rg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function gv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function pv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ra extends cg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mv(t),this._firestoreClient=void 0,await t}}}function bC(r,t){const i=typeof r=="object"?r:Lv(),a=typeof r=="string"?r:sh,l=xm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Yb("firestore");c&&TC(l,...c)}return l}function hg(r){if(r._terminated)throw new ut(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SC(r),r._firestoreClient}function SC(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new K2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,LT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new yC(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(en.fromBase64String(t))}catch(i){throw new ut(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Zn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Zl(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ve("string",Zn._jsonSchemaVersion),bytes:Ve("string")};class Dh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nu{constructor(t){this._methodName=t}}class Hi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(t){if(Zl(t,Hi._jsonSchema))return new Hi(t.latitude,t.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Ve("string",Hi._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class Gi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Zl(t,Gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Gi(t.vectorValues);throw new ut(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Ve("string",Gi._jsonSchemaVersion),vectorValues:Ve("object")};const AC=/^__.*__$/;class wC{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,i,this.fieldTransforms):new Jl(t,this.data,i,this.fieldTransforms)}}class zT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Er(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function jT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Oh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Oh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return dh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(jT(this.Ac)&&AC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class RC{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(t)}Cc(t,i,a,l=!1){return new Oh({Ac:t,methodName:i,Dc:a,path:tn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BT(r){const t=r._freezeSettings(),i=Ih(r._databaseId);return new RC(r._databaseId,!!t.ignoreUndefinedProperties,i)}function IC(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);mg("Data must be an object, but it was:",d,a);const p=qT(a,d);let y,_;if(c.merge)y=new kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Sm(t,w,i);if(!d.contains(M))throw new ut(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);GT(E,M)||E.push(M)}y=new kn(E),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new wC(new Sn(p),y,_)}class Mh extends nu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mh}}function CC(r,t,i){return new Oh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fg extends nu{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=CC(this,t,!0),a=this.vc.map((c=>iu(c,i))),l=new ho(a);return new WE(t.path,l)}isEqual(t){return t instanceof fg&&fr(this.vc,t.vc)}}class dg extends nu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new ql(t.serializer,KE(t.serializer,this.Fc));return new WE(t.path,i)}isEqual(t){return t instanceof dg&&this.Fc===t.Fc}}function xC(r,t,i,a){const l=r.Cc(1,t,i);mg("Data must be an object, but it was:",l,a);const c=[],d=Sn.empty();vr(a,((y,_)=>{const E=gg(t,y,i);_=fn(_);const w=l.yc(E);if(_ instanceof Mh)c.push(E);else{const M=iu(_,w);M!=null&&(c.push(E),d.set(E,M))}}));const p=new kn(c);return new zT(d,p,l.fieldTransforms)}function NC(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Sm(t,a,i)],y=[l];if(c.length%2!=0)throw new ut(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Sm(t,c[M])),y.push(c[M+1]);const _=[],E=Sn.empty();for(let M=p.length-1;M>=0;--M)if(!GT(_,p[M])){const F=p[M];let et=y[M];et=fn(et);const it=d.yc(F);if(et instanceof Mh)_.push(F);else{const tt=iu(et,it);tt!=null&&(_.push(F),E.set(F,tt))}}const w=new kn(_);return new zT(E,w,d.fieldTransforms)}function iu(r,t){if(HT(r=fn(r)))return mg("Unsupported field value:",t,r),qT(r,t);if(r instanceof nu)return(function(a,l){if(!jT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=iu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=fn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return KE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ue.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof ue){const c=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:rT(l.serializer,a._byteString)};if(a instanceof ke){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Gi)return(function(d,p){return{mapValue:{fields:{[ME]:{stringValue:VE},[rh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${jm(a)}`)})(r,t)}function qT(r,t){const i={};return IE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(r,((a,l)=>{const c=iu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function HT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ue||r instanceof Hi||r instanceof Zn||r instanceof ke||r instanceof nu||r instanceof Gi)}function mg(r,t,i){if(!HT(i)||!wE(i)){const a=jm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Sm(r,t,i){if((t=fn(t))instanceof Dh)return t._internalPath;if(typeof t=="string")return gg(r,t);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const DC=new RegExp("[~\\*/\\[\\]]");function gg(r,t,i){if(t.search(DC)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dh(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ut(J.INVALID_ARGUMENT,p+r+y)}function GT(r,t){return r.some((i=>i.isEqual(t)))}class FT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new OC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(QT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class OC extends FT{data(){return super.data()}}function QT(r,t){return typeof t=="string"?gg(r,t):t instanceof Dh?t._internalPath:t._delegate._internalPath}function MC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VC{convertValue(t,i="none"){switch(pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return vr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[rh].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new Gi(i)}convertGeoPoint(t){return new Hi(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=vh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=mr(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=me.fromString(t);Kt(hT(a),9688,{name:t});const l=new zl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function kC(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ta extends FT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(QT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Ve("string",ta._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Kc extends ta{data(t={}){return super.data(t)}}class ro{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Kc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:UC(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function LC(r){r=fi(r,ke);const t=fi(r.firestore,ra);return EC(hg(t),r._key).then((i=>KT(t,r,i)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Ve("string",ro._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class YT extends VC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,i)}}function PC(r,t,i){r=fi(r,ke);const a=fi(r.firestore,ra),l=kC(r.converter,t);return pg(a,[IC(BT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,di.none())])}function ci(r,t,i,...a){r=fi(r,ke);const l=fi(r.firestore,ra),c=BT(l);let d;return d=typeof(t=fn(t))=="string"||t instanceof Dh?NC(c,"updateDoc",r._key,t,i,a):xC(c,"updateDoc",r._key,t),pg(l,[d.toMutation(r._key,di.exists(!0))])}function zC(r){return pg(fi(r.firestore,ra),[new Ym(r._key,di.none())])}function yv(r,...t){r=fn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||pv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ke)d=fi(r.firestore,ra),p=Th(r._key.path),c={next:y=>{t[a]&&t[a](KT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=fi(r,Nh);d=fi(y.firestore,ra),p=y._query;const _=new YT(d);c={next:E=>{t[a]&&t[a](new ro(d,_,y,E))},error:t[a+1],complete:t[a+2]},MC(r._query)}return(function(_,E,w,M){const F=new kT(M),et=new RT(E,F,w);return _.asyncQueue.enqueueAndForget((async()=>AT(await bm(_),et))),()=>{F.Nu(),_.asyncQueue.enqueueAndForget((async()=>wT(await bm(_),et)))}})(hg(d),p,l,c)}function pg(r,t){return(function(a,l){const c=new hr;return a.asyncQueue.enqueueAndForget((async()=>lC(await vC(a),l,c))),c.promise})(hg(r),t)}function KT(r,t,i){const a=i.docs.get(t._key),l=new YT(r);return new ta(r,l,t._key,a,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}function Uc(...r){return new fg("arrayUnion",r)}function jC(r){return new dg("increment",r)}(function(t,i=!0){(function(l){vo=l})(yo),ao(new ea("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ra(new C2(a.getProvider("auth-internal")),new D2(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),ur(b0,S0,t),ur(b0,S0,"esm2020")})();const BC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),_v=r=>{const t=qC(r);return t.charAt(0).toUpperCase()+t.slice(1)},XT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),HC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var GC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FC=le.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>le.createElement("svg",{ref:y,...GC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:XT("lucide",l),...!c&&!HC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>le.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Ue=(r,t)=>{const i=le.forwardRef(({className:a,...l},c)=>le.createElement(FC,{ref:c,iconNode:t,className:XT(`lucide-${BC(_v(r))}`,`lucide-${r}`,a),...l}));return i.displayName=_v(r),i};const QC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Am=Ue("activity",QC);const YC=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],KC=Ue("battery",YC);const XC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vv=Ue("book-open",XC);const $C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xd=Ue("circle-check-big",$C);const ZC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],JC=Ue("cpu",ZC);const WC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tx=Ue("eye-off",WC);const ex=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],nx=Ue("fast-forward",ex);const ix=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],sx=Ue("hammer",ix);const rx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ax=Ue("history",rx);const ox=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],$T=Ue("house",ox);const lx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wm=Ue("log-out",lx);const ux=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cx=Ue("rotate-ccw",ux);const hx=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],Ev=Ue("signal",hx);const fx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$r=Ue("sparkles",fx);const dx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],go=Ue("target",dx);const mx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gx=Ue("trash-2",mx);const px=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],yx=Ue("trophy",px);const _x=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tv=Ue("user",_x);const vx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZT=Ue("x",vx);const Ex=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Tx=Ue("zap",Ex),bx=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2f012b1619cb4ef46aa637"},JT=Uv(bx),$d=A2(JT),Tn=bC(JT),Vn=typeof __app_id<"u"?__app_id:"spectrum-fives",Sx="24",Wr={BLUE:{name:"Blue",color:"text-blue-400",bg:"bg-blue-900/40",border:"border-blue-500",icon:Am},GREEN:{name:"Green",color:"text-emerald-400",bg:"bg-emerald-900/40",border:"border-emerald-500",icon:JC},MAGENTA:{name:"Magenta",color:"text-fuchsia-400",bg:"bg-fuchsia-900/40",border:"border-fuchsia-500",icon:go},SILVER:{name:"Silver",color:"text-slate-200",bg:"bg-slate-700/40",border:"border-slate-400",icon:Tx}},Lc={BLUE:0,GREEN:1,MAGENTA:2,SILVER:3},bv=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},Ax=({type:r,message:t,subtext:i,icon:a})=>S.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:S.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-fuchsia-900/90 border-fuchsia-500 text-fuchsia-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-slate-900/90 border-slate-500 text-slate-100":""}
    `,children:[a&&S.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:S.jsx(a,{size:64,className:"animate-bounce text-fuchsia-400"})}),S.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&S.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Zd=()=>S.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-fuchsia-950/20 via-gray-950 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-fuchsia-900/5 mix-blend-overlay"}),S.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/carbon-fibre.png")'}})]}),Sv=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(go,{size:12,className:"text-fuchsia-500"}),S.jsx("span",{className:"text-[10px] font-black tracking-widest text-fuchsia-500 uppercase",children:"SPECTRUM"})]}),Av=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-serif",children:"Abort Frequency?"}),S.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"WARNING: As Host, shutting down the server will disconnect all users.":l?"Leaving now will destabilize the session for all observers!":"Disconnecting from the backroom..."}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Sync'd"}),l&&a&&S.jsxs("button",{onClick:t,className:"py-3 rounded font-bold bg-fuchsia-700 hover:bg-fuchsia-600 text-white flex items-center justify-center gap-2 transition-colors",children:[S.jsx($T,{size:18})," Return to Backroom"]}),S.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold flex items-center justify-center gap-2 transition-colors",children:[S.jsx(wm,{size:18})," ",a?"Shut Down Server":"Sever Connection"]})]})]})}),Pc=({suit:r,val:t,faceDown:i,onClick:a,disabled:l,highlight:c,small:d,tiny:p})=>{const y=i?Wr.MAGENTA:Wr[r]||Wr.MAGENTA,_=i?5:t,E=y.icon;if(p)return S.jsx("div",{className:`w-6 h-8 rounded border flex items-center justify-center ${y.bg} ${y.border} shadow-sm shrink-0`,title:r,children:S.jsx("span",{className:`text-[10px] font-black ${y.color}`,children:_})});const w=d?"w-16 h-24 p-2":"w-24 h-36 md:w-32 md:h-48 p-3";return S.jsxs("button",{onClick:a,disabled:l,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between overflow-hidden
        ${w} ${y.bg} ${y.border}
        ${c?"ring-4 ring-fuchsia-400 scale-105 z-10":""}
        ${l?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[i&&S.jsx("div",{className:"absolute inset-0 bg-fuchsia-600/10 flex items-center justify-center pointer-events-none",children:S.jsx(tx,{size:48,className:"text-fuchsia-500/10"})}),S.jsxs("div",{className:`w-full flex justify-between font-black ${d?"text-xs":"text-lg"} ${y.color}`,children:[S.jsx("span",{children:_}),S.jsx(go,{size:d?12:16,opacity:.3})]}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx(E,{size:d?20:32,className:`${y.color} mb-1`}),!d&&S.jsx("span",{className:`text-[8px] uppercase tracking-widest font-black ${y.color} opacity-60`,children:i?"MAGENTA 5":y.name})]}),S.jsx("div",{className:`w-full flex justify-start font-black ${d?"text-xs":"text-lg"} ${y.color} rotate-180`,children:S.jsx("span",{children:_})})]})},wv=({onClose:r})=>S.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-0 md:p-4",children:S.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border border-fuchsia-500/30 shadow-2xl flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-black text-fuchsia-500 uppercase tracking-widest font-serif",children:"SYSTEM OVERVIEW"}),S.jsx("span",{className:"text-gray-500 text-[10px] uppercase font-bold tracking-widest",children:"Spectrum Protocol"})]}),S.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",children:S.jsx(ZT,{})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-gray-300",children:[S.jsxs("div",{className:"bg-fuchsia-950/20 p-6 rounded-xl border border-fuchsia-500/20",children:[S.jsxs("h3",{className:"text-xl font-bold text-fuchsia-400 mb-2 flex items-center gap-2 font-serif",children:[S.jsx(go,{size:20})," Target: Equilibrium 25"]}),S.jsxs("p",{className:"text-sm md:text-base leading-relaxed opacity-80",children:["Win tricks to collect cards. Your cumulative score must reach"," ",S.jsx("strong",{children:"25"}),". Exceeding 25 causes a"," ",S.jsx("strong",{children:"System Overload (Bust)"}),"you lose chips and forfeit the round score."]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsx("h4",{className:"font-bold text-white uppercase text-[10px] tracking-widest border-b border-gray-800 pb-2",children:"Trick Mechanisms"}),S.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 shrink-0"})," ","Must follow lead suit if possible."]}),S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400 mt-1.5 shrink-0"})," ",S.jsx("strong",{children:"Silver"})," is always Trump."]}),S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Highest card of lead suit (or Trump) takes the trick."]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h4",{className:"font-bold text-fuchsia-400 uppercase text-[10px] tracking-widest border-b border-fuchsia-900/50 pb-2",children:"The Magenta 5 Override"}),S.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Any card can be played ",S.jsx("strong",{children:"Face-Down"})," as a Magenta 5."]}),S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Allowed only if unable to follow suit OR if it's your final card of that suit."]}),S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Only ",S.jsx("strong",{children:"one"})," Magenta 5 per trick."]})]})]})]})]}),S.jsx("div",{className:"p-6 bg-gray-950 border-t border-gray-800 text-center",children:S.jsx("button",{onClick:r,className:"w-full md:w-auto bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-16 py-4 rounded-xl font-bold uppercase tracking-widest shadow-lg shadow-fuchsia-900/20",children:"Engage"})})]})});function wx(){const[r,t]=le.useState(null),[i,a]=le.useState("menu"),[l,c]=le.useState(""),[d,p]=le.useState(""),[y,_]=le.useState(""),[E,w]=le.useState(null),[M,F]=le.useState(!1),[et,it]=le.useState(""),[tt,mt]=le.useState(!1),[Tt,ht]=le.useState(!1),[Ft,Wt]=le.useState(!1),[Ot,x]=le.useState(null),[A,I]=le.useState("NORMAL"),[V,N]=le.useState(!1);le.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await cw($d,__initial_auth_token):await rw($d))();const G=dw($d,t);return()=>G()},[]),le.useEffect(()=>{const U=localStorage.getItem("spectrum_roomId");U&&_(U)},[]),le.useEffect(()=>{if(!y||!r)return;const U=yv(En(Tn,"artifacts",Vn,"public","data","rooms",y),G=>{if(G.exists()){const Z=G.data();if(!Z.players.some(ct=>ct.id===r.uid)){_(""),a("menu"),localStorage.removeItem("spectrum_roomId"),it("Signal Lost: Kicked by Host");return}w(Z),Z.status==="playing"?a("game"):Z.status==="lobby"?a("lobby"):Z.status==="finished"&&a("game")}else _(""),a("menu"),localStorage.removeItem("spectrum_roomId"),it("Synchronicity Terminated (Room Closed)")});return()=>U()},[y,r]),le.useEffect(()=>{if(!E||!r||E.status!=="playing")return;if(E.hostId===r.uid&&E.trick.length===E.players.length){const G=setTimeout(()=>{Pt(E.trick,E.players,E.leadSuit)},1200);return()=>clearTimeout(G)}},[E?.trick?.length,r?.uid,E?.status]),le.useEffect(()=>{const U=yv(En(Tn,"game_hub_settings","config"),G=>{G.exists()&&G.data()[Sx]?.maintenance?N(!0):N(!1)});return()=>U()},[]);const L=(U,G,Z="",rt=null)=>{x({type:U,message:G,subtext:Z,icon:rt}),setTimeout(()=>x(null),2e3)},R=async()=>{if(!l)return it("Identifier Required");F(!0);const U=Math.random().toString(36).substring(2,7).toUpperCase(),G={roomId:U,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}],deck:[],trick:[],leadSuit:null,turnIndex:0,roundCount:1,logs:[],reserve:0};await PC(En(Tn,"artifacts",Vn,"public","data","rooms",U),G),localStorage.setItem("spectrum_roomId",U),_(U),F(!1)},re=async()=>{if(!d||!l)return it("Protocol Data Missing");F(!0);const U=En(Tn,"artifacts",Vn,"public","data","rooms",d),G=await LC(U);if(!G.exists()){it("Frequency not found"),F(!1);return}const Z=G.data();if(Z.status!=="lobby"){it("Session locked"),F(!1);return}if(Z.players.length>=4){it("Backroom Full"),F(!1);return}const rt=[...Z.players,{id:r.uid,name:l,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}];await ci(U,{players:rt}),localStorage.setItem("spectrum_roomId",d),_(d),F(!1)},pe=async()=>{if(!E||E.hostId!==r.uid)return;const U=E.players.length,G=U===3?9:13,Z=[];Object.keys(Wr).forEach(W=>{for(let wt=1;wt<=G;wt++)Z.push({suit:W,val:wt})});const rt=bv(Z),ct=Math.floor(rt.length/U),_t=E.players.map(W=>{const wt=[];for(let de=0;de<ct;de++)wt.push(rt.pop());return{...W,hand:wt,scorePile:[],scoreTotal:0,busted:!1,ready:!1}}),xt=E.status==="playing"||E.turnIndex===null;await ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{status:"playing",deck:rt,players:_t,trick:[],leadSuit:null,turnIndex:0,roundResult:null,roundCount:xt?jC(1):E.roundCount,logs:Uc({text:`Initialized Frequency Sync: Round ${xt?E.roundCount+1:E.roundCount}`,type:"neutral"})})},Q=async()=>{if(!E||E.hostId!==r.uid)return;const U=E.players.length,G=U===3?9:13,Z=[];Object.keys(Wr).forEach(xt=>{for(let W=1;W<=G;W++)Z.push({suit:xt,val:W})});const rt=bv(Z),ct=Math.floor(rt.length/U),_t=E.players.map(xt=>{const W=[];for(let wt=0;wt<ct;wt++)W.push(rt.pop());return{...xt,chips:5,hand:W,scorePile:[],scoreTotal:0,busted:!1,ready:!1}});await ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{status:"playing",deck:rt,players:_t,trick:[],leadSuit:null,turnIndex:0,roundCount:1,reserve:0,roundResult:null,logs:[{text:"--- GRID REBOOTED: COMMENCING NEW OPERATION ---",type:"neutral"}]}),ht(!1)},st=async()=>{if(!E)return;const U=E.players.map(G=>G.id===r.uid?{...G,ready:!0}:G);await ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{players:U})},ft=async(U,G)=>{if(!E||E.turnIndex===null||E.players[E.turnIndex].id!==r.uid)return;const Z=E.players[E.turnIndex],rt=Z.hand[U];if(E.trick.length>0&&!G&&Z.hand.some(ye=>ye.suit===E.leadSuit)&&rt.suit!==E.leadSuit){L("failure","DESYNC","Must maintain lead frequency!");return}if(G){const gt=Z.hand.some(Le=>Le.suit===E.leadSuit),ye=Z.hand.filter(Le=>Le.suit===E.leadSuit).length===1&&rt.suit===E.leadSuit;if(E.trick.some(Le=>Le.faceDown)){L("failure","JAMMED","One Magenta Override limit!");return}if(E.trick.length>0&&gt&&!ye){L("failure","INVALID MASK","Cannot mask if able to follow.");return}}const ct=[...E.players],_t=E.turnIndex;ct[_t].hand.splice(U,1);const xt={playerId:r.uid,playerName:Z.name,suit:rt.suit,val:rt.val,faceDown:G},W=[...E.trick,xt];let wt=E.leadSuit;E.trick.length===0&&(wt=G?"MAGENTA":rt.suit);const nn=W.length===E.players.length?-1:(E.turnIndex+1)%E.players.length,An=G?` ${Z.name} initiated MAGENTA_OVERRIDE (MASKED)`:` ${Z.name} transmitted signal: ${rt.suit} ${rt.val}`;await ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{players:ct,trick:W,leadSuit:wt,turnIndex:nn,logs:Uc({text:An,type:"neutral"})}),I("NORMAL")},Pt=async(U,G,Z)=>{let rt=U[0].playerId,ct=-1;const _t=U.filter(gt=>gt.suit==="SILVER"&&!gt.faceDown);if(_t.length>0)ct=Math.max(..._t.map(gt=>gt.val)),rt=_t.find(gt=>gt.val===ct).playerId;else{const gt=U.filter(ye=>ye.suit===Z&&!ye.faceDown||ye.faceDown&&Z==="MAGENTA");gt.length>0&&(ct=Math.max(...gt.map(ye=>ye.faceDown?5:ye.val)),rt=gt.find(ye=>(ye.faceDown?5:ye.val)===ct).playerId)}const xt=G.findIndex(gt=>gt.id===rt),W=U.find(gt=>gt.playerId===rt),wt=W.faceDown?5:W.val,de=[],nn=G.map((gt,ye)=>{if(ye===xt){const un=gt.scoreTotal+wt;return un>25&&de.push({text:` SYSTEM_OVERLOAD: ${gt.name} BUSTED at ${un} Equilibrium`,type:"danger"}),{...gt,scorePile:[...gt.scorePile,W],scoreTotal:un,busted:un>25}}return gt});if(nn.every(gt=>gt.hand.length===0)){const gt=JSON.parse(JSON.stringify(nn)),un=gt.length===3?[2,1,0]:[3,2,1,0],Le={};gt.filter(Xt=>!Xt.busted).forEach(Xt=>{const Qe=Math.abs(25-Xt.scoreTotal);Le[Qe]||(Le[Qe]=[]),Le[Qe].push(Xt.id)});const mi=Object.keys(Le).map(Number).sort((Xt,Qe)=>Xt-Qe);let jt=E.reserve||0;const ce=Le[mi[0]]||[],Un=ce.length===1;let bs=0;if(mi.forEach(Xt=>{const Qe=Le[Xt].length,Ss=un[bs]||0,gi=["1st","2nd","3rd","4th"][bs]||`${bs+1}th`;Le[Xt].forEach(So=>{const pi=gt.findIndex(la=>la.id===So);gt[pi].chips+=Ss,de.push({text:` ${gt[pi].name} placed ${gi} (${gt[pi].scoreTotal} pts) -> +${Ss} chips`,type:"success"}),Xt===0&&(Un?(gt[pi].chips+=1,de.push({text:` PERFECT_SYNC: ${gt[pi].name} hit 25! (+1 bonus)`,type:"success"})):(jt+=1,de.push({text:" TIE_OVERFLOW: Tied perfect score of 25. 1 bonus moved to Extra Chips tray.",type:"neutral"})))}),bs+=Qe}),gt.forEach((Xt,Qe)=>{Xt.busted&&(gt[Qe].chips-=1,jt+=1,de.push({text:` SYSTEM_BUST: ${Xt.name} (${Xt.scoreTotal} pts) forfeited 1 chip to Extra Chips tray.`,type:"danger"}))}),Un){const Xt=gt.findIndex(Qe=>Qe.id===ce[0]);jt>0&&(de.push({text:` RESERVE_ACQUIRED: ${gt[Xt].name} collected ${jt} Extra Chips!`,type:"success"}),gt[Xt].chips+=jt,jt=0)}else jt>0&&de.push({text:` TRAY_UPDATE: Extra Chips tray now at ${jt} units (Tied Winner Lock)`,type:"neutral"});const Tr=E.roundCount>=4;Tr&&!Un&&jt>0&&(de.push({text:` SYSTEM_FLUSH: ${jt} Extra Chips destroyed (No Clear Protocol Victor)`,type:"danger"}),jt=0);const Fe=Tr||gt.some(Xt=>Xt.chips>=25);await ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{players:gt,trick:[],leadSuit:null,status:Fe?"finished":"playing",turnIndex:null,reserve:jt,roundResult:{closest:ce.length>1?"MULTIPLE_UNITS":gt.find(Xt=>Xt.id===ce[0])?.name||"NONE",total:mi[0]!==void 0?25-mi[0]:0,reserve:jt},logs:Uc(...de,{text:`--- Calibration Phase ${E.roundCount} Finalized ---`,type:"neutral"})})}else await ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{players:nn,trick:[],leadSuit:null,turnIndex:xt,logs:Uc(...de,{text:` Trick secured by ${nn[xt].name} (+${wt})`,type:"success"})})},qt=async()=>{if(!y)return;const U=En(Tn,"artifacts",Vn,"public","data","rooms",y);try{if(E?.hostId===r.uid)await zC(U);else{const G=E.players.filter(Z=>Z.id!==r.uid);await ci(U,{players:G})}}catch(G){console.error(G)}localStorage.removeItem("spectrum_roomId"),_(""),a("menu"),ht(!1)},O=async U=>{if(!E||E.hostId!==r.uid)return;const G=E.players.filter(Z=>Z.id!==U);await ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{players:G})};if(V)return S.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(sx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"The system is running short of chips. Wait until new chips are built and delivered."})]}),S.jsx("div",{className:"h-8"}),S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:S.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:S.jsx("div",{className:"text-center pb-12 animate-pulse",children:S.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[S.jsx($r,{size:16})," Visit Gamehub...Try our other releases..."," ",S.jsx($r,{size:16})]})})})})]});if(!r)return S.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-fuchsia-500 font-serif",children:"BOOTING_PROTOCOL..."});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[S.jsx(Zd,{}),tt&&S.jsx(wv,{onClose:()=>mt(!1)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(go,{size:64,className:"text-fuchsia-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_20px_rgba(217,70,239,0.4)]"}),S.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-fuchsia-300 to-fuchsia-600 font-serif tracking-[0.2em]",children:"SPECTRUM"}),S.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"THE MAGENTA EQUILIBRIUM"})]}),S.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-md border border-fuchsia-500/20 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[et&&S.jsx("div",{className:"bg-red-900/40 text-red-200 p-3 mb-4 rounded border border-red-800 text-center text-xs",children:et}),S.jsx("input",{className:"w-full bg-black/60 border border-gray-700 p-3 rounded mb-4 text-white placeholder-gray-600 focus:border-fuchsia-500 outline-none transition-all uppercase font-mono tracking-widest text-sm",placeholder:"AGENT_IDENTIFIER",value:l,onChange:U=>c(U.target.value)}),S.jsxs("button",{onClick:R,disabled:M,className:"w-full bg-fuchsia-700 hover:bg-fuchsia-600 p-4 rounded-xl font-black mb-4 flex items-center justify-center gap-2 shadow-lg tracking-widest uppercase transition-all text-sm",children:[S.jsx(go,{size:18})," Establish Grid"]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[S.jsx("input",{className:"w-full sm:flex-1 bg-black/60 border border-gray-700 p-3 rounded text-white placeholder-gray-600 uppercase font-mono tracking-widest text-sm outline-none",placeholder:"ROOM_CODE",value:d,onChange:U=>p(U.target.value.toUpperCase())}),S.jsx("button",{onClick:re,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-700 px-6 py-3 rounded-xl font-bold text-xs uppercase tracking-widest",children:"Infiltrate"})]}),S.jsxs("button",{onClick:()=>mt(!0),className:"w-full text-[10px] text-gray-500 hover:text-fuchsia-400 flex items-center justify-center gap-2 uppercase tracking-widest",children:[S.jsx(vv,{size:14})," View Manual"]})]}),S.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Fives. A tribute game.",S.jsx("br",{}),"Developed by ",S.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-fuchsia-500 underline hover:text-fuchsia-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const U=E.hostId===r.uid;return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(Zd,{}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/95 backdrop-blur-xl p-8 rounded-2xl border border-fuchsia-900/30 shadow-2xl",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-800 pb-4",children:[S.jsxs("h2",{className:"text-xl font-serif text-fuchsia-500 tracking-wider",children:["Frequency: ",S.jsx("span",{className:"text-white font-mono",children:y})]}),S.jsx("button",{onClick:()=>ht(!0),className:"p-2 bg-red-900/20 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:S.jsx(wm,{size:16})})]}),S.jsx("div",{className:"space-y-3 mb-10",children:E.players.map(G=>S.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-xl border border-gray-800",children:[S.jsxs("span",{className:`font-black flex items-center gap-2 text-sm uppercase tracking-widest ${G.id===r.uid?"text-fuchsia-400":"text-gray-400"}`,children:[S.jsx(Tv,{size:14})," ",G.name," ",G.id===E.hostId&&S.jsx($r,{size:14,className:"text-yellow-500"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("span",{className:"text-green-500 text-[10px] font-black uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[S.jsx(Xd,{size:10})," Active"]}),U&&G.id!==E.hostId&&S.jsx("button",{onClick:()=>O(G.id),className:"p-1.5 text-gray-600 hover:text-red-500 hover:bg-red-900/20 rounded-lg transition-all",title:"Kick Player",children:S.jsx(gx,{size:16})})]})]},G.id))}),U?S.jsx("button",{onClick:pe,disabled:E.players.length<3,className:`w-full py-5 rounded-xl font-black uppercase tracking-[0.2em] transition-all shadow-xl ${E.players.length>=3?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:E.players.length<3?"Awaiting Data (3-4 Required)":"Commence Protocol"}):S.jsx("div",{className:"text-center text-fuchsia-500/50 animate-pulse font-serif italic text-sm",children:"Synchronizing with host authority..."})]}),Tt&&S.jsx(Av,{onCancel:()=>ht(!1),onConfirmLeave:qt,isHost:U}),S.jsx(Sv,{})]})}if(i==="game"&&E){const U=E.players.find(W=>W.id===r.uid);if(!U)return null;const G=E.turnIndex!==null&&E.turnIndex!==-1&&E.players[E.turnIndex]?.id===r.uid,Z=E.hostId===r.uid,rt=E.turnIndex===null&&E.status==="playing",ct=U?[...U.hand].map((W,wt)=>({...W,originalIdx:wt})).sort((W,wt)=>Lc[W.suit]!==Lc[wt.suit]?Lc[W.suit]-Lc[wt.suit]:W.val-wt.val):[],_t=E.players.filter(W=>W.id!==E.hostId).every(W=>W.ready),xt=[...E.players].sort((W,wt)=>wt.chips-W.chips)[0];return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[S.jsx(Zd,{}),Ot&&S.jsx(Ax,{...Ot}),tt&&S.jsx(wv,{onClose:()=>mt(!1)}),Tt&&S.jsx(Av,{onCancel:()=>ht(!1),onConfirmLeave:qt,onConfirmLobby:()=>{const W=E.players.map(wt=>({...wt,ready:!1}));ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:W}),ht(!1)},isHost:Z,inGame:!0}),S.jsxs("div",{className:"h-14 bg-gray-950/90 border-b border-fuchsia-900/30 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[S.jsxs("div",{className:"flex items-center gap-2 font-serif font-black text-fuchsia-500 tracking-[0.2em]",children:["SPECTRUM"," ",S.jsxs("span",{className:"text-[10px] text-gray-500 font-sans tracking-widest ml-1 opacity-70",children:["(ROUND ",E.roundCount,")"]})]}),S.jsxs("div",{className:"flex gap-2",children:[E.reserve>0&&S.jsxs("div",{className:"flex items-center gap-1.5 bg-fuchsia-900/40 px-3 py-1 rounded-full border border-fuchsia-500/30 mr-2 animate-in fade-in slide-in-from-right-4 duration-500",children:[S.jsx(KC,{size:12,className:"text-fuchsia-400"}),S.jsxs("span",{className:"text-[10px] font-black text-fuchsia-300 uppercase tracking-tighter",children:["EXTRA_CHIPS: ",E.reserve]})]}),S.jsx("button",{onClick:()=>mt(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400 transition-colors",children:S.jsx(vv,{size:18})}),S.jsx("button",{onClick:()=>Wt(!Ft),className:"p-2 hover:bg-gray-800 rounded text-gray-400 transition-colors",children:S.jsx(ax,{size:18})}),S.jsx("button",{onClick:()=>ht(!0),className:"p-2 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:S.jsx(wm,{size:18})})]})]}),S.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 w-full max-w-6xl mx-auto",children:[S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 w-full justify-center",children:E.players.map((W,wt)=>{if(W.id===r.uid)return null;const de=E.turnIndex===wt;return S.jsxs("div",{className:`bg-black/60 p-3 rounded-xl border-2 transition-all 
                  ${de?"border-fuchsia-500 scale-105 shadow-xl shadow-fuchsia-900/40 animate-pulse":"border-gray-800"} 
                  ${W.busted?"opacity-30 grayscale":""}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("span",{className:"font-black text-[10px] uppercase tracking-wider truncate max-w-[70px]",children:W.name}),S.jsxs("div",{className:"flex gap-1 items-center bg-gray-900 px-2 rounded-full border border-gray-700",children:[S.jsx($r,{size:8,className:"text-yellow-400"}),S.jsx("span",{className:"text-[10px] font-mono",children:W.chips})]})]}),S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsx("div",{className:"flex -space-x-3",children:W.hand.map((nn,An)=>S.jsx("div",{className:"w-4 h-6 bg-fuchsia-950 rounded border border-fuchsia-800"},An))}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:`text-[10px] font-black tracking-tighter ${W.busted?"text-red-500":"text-fuchsia-400"}`,children:["EQ: ",W.scoreTotal]}),S.jsx("div",{className:"flex flex-wrap gap-0.5 justify-end max-w-[80px]",children:W.scorePile.map((nn,An)=>S.jsx(Pc,{...nn,tiny:!0},An))})]})]})]},W.id)})}),S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[rt&&E.roundResult&&S.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 rounded-3xl border border-fuchsia-500/20 animate-in fade-in zoom-in duration-500",children:S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"bg-fuchsia-600 text-white text-[10px] font-black uppercase px-4 py-1 rounded-full mb-4 inline-block tracking-widest shadow-lg",children:"Phase Summary"}),S.jsx("h2",{className:"text-3xl font-serif font-black text-white mb-2 uppercase",children:E.roundResult.closest}),S.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs mb-2 uppercase tracking-tighter",children:["Achieved Equilibrium (",E.roundResult.total,"/25)"]}),E.roundResult.reserve>0&&S.jsxs("p",{className:"text-gray-500 font-mono text-[10px] mb-8 uppercase tracking-widest",children:["Extra Chips Tray: ",E.roundResult.reserve," units"]}),S.jsx("div",{className:"mt-8",children:Z?S.jsxs("button",{onClick:pe,className:"bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest flex items-center gap-2 shadow-xl shadow-fuchsia-900/30 transition-all",children:[S.jsx(nx,{size:20})," Initialize Phase"," ",E.roundCount+1]}):S.jsx("div",{className:"text-gray-500 font-black animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Awaiting host frequency shift..."})})]})}),S.jsxs("div",{className:"relative w-full max-w-md flex flex-wrap gap-4 justify-center items-center",children:[E.trick.map((W,wt)=>S.jsxs("div",{className:"animate-in zoom-in slide-in-from-bottom-4 duration-500",children:[S.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-black text-center mb-1 tracking-tighter truncate w-24",children:W.playerName}),S.jsx(Pc,{...W,small:!0})]},wt)),E.trick.length===0&&!rt&&S.jsxs("div",{className:"text-gray-800 uppercase tracking-[0.5em] font-black text-center opacity-40 select-none flex flex-col items-center",children:[S.jsx(Am,{size:64,className:"mb-4 text-fuchsia-900"}),"IDLE_GRID"]})]}),E.leadSuit&&!rt&&S.jsxs("div",{className:"mt-8 bg-gray-900/80 border border-fuchsia-500/20 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.2em] backdrop-blur-md",children:["Protocol:"," ",S.jsx("span",{className:Wr[E.leadSuit]?.color,children:Wr[E.leadSuit]?.name})]})]}),S.jsxs("div",{className:"w-full bg-gray-900/98 border-t-2 border-fuchsia-500/20 p-4 md:p-6 rounded-t-[2.5rem] shadow-[0_-20px_50px_rgba(0,0,0,0.8)] backdrop-blur-2xl",children:[S.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-3 mb-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:`px-5 py-3 rounded-2xl flex items-center gap-3 border transition-all ${U.busted?"bg-red-950/40 border-red-500 shadow-red-900/20":"bg-fuchsia-950/40 border-fuchsia-500 shadow-fuchsia-900/20"}`,children:[S.jsx(Am,{className:U.busted?"text-red-500":"text-fuchsia-400",size:24}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:`text-2xl font-black leading-none ${U.busted?"text-red-500":"text-fuchsia-100"}`,children:U.scoreTotal}),S.jsx("span",{className:"text-[8px] uppercase font-black tracking-widest text-gray-500",children:"Equilibrium"})]})]}),S.jsxs("div",{className:"bg-slate-900 border border-slate-700 px-4 py-2 rounded-xl flex items-center gap-2",children:[S.jsx($r,{size:16,className:"text-yellow-400"}),S.jsx("span",{className:"text-xl font-mono font-bold",children:U.chips})]}),S.jsxs("div",{className:"flex flex-col border-l border-gray-800 pl-4 ml-2",children:[S.jsx("span",{className:"text-[8px] uppercase text-gray-500 font-black mb-1",children:"Acquired"}),S.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[150px]",children:U.scorePile.map((W,wt)=>S.jsx(Pc,{...W,tiny:!0},wt))})]})]}),G&&!rt&&S.jsxs("div",{className:"flex bg-black/50 p-1.5 rounded-xl border border-gray-800 shadow-inner",children:[S.jsx("button",{onClick:()=>I("NORMAL"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${A==="NORMAL"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Signal"}),S.jsx("button",{onClick:()=>I("FACEDOWN"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${A==="FACEDOWN"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Override"})]})]}),S.jsxs("div",{className:"flex gap-3 overflow-x-auto pt-6 pb-8 px-4 justify-start lg:justify-center items-end h-64 scrollbar-hide scroll-smooth",children:[ct.map(W=>S.jsx("div",{className:`${G?"hover:translate-y-[-10px]":""} transition-transform duration-300 shrink-0`,children:S.jsx(Pc,{suit:W.suit,val:W.val,faceDown:A==="FACEDOWN",onClick:()=>G&&ft(W.originalIdx,A==="FACEDOWN"),disabled:!G,highlight:G})},W.originalIdx)),U.hand.length===0&&E.trick.length>0&&S.jsx("div",{className:"text-gray-600 font-black uppercase text-xs animate-pulse",children:"Syncing Pulse..."}),U.hand.length===0&&E.trick.length===0&&!rt&&E.status!=="finished"&&S.jsx("div",{className:"text-fuchsia-600 font-black uppercase text-xs animate-pulse",children:"Protocol Initializing..."})]})]})]}),Ft&&S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:S.jsxs("div",{className:"bg-gray-900 border border-gray-800 w-full max-w-md h-[60vh] rounded-2xl flex flex-col shadow-2xl overflow-hidden",children:[S.jsxs("div",{className:"p-4 bg-gray-950 flex justify-between items-center border-b border-gray-800",children:[S.jsx("span",{className:"font-serif font-black text-fuchsia-500 tracking-widest uppercase text-sm",children:"System_Logs"}),S.jsx("button",{onClick:()=>Wt(!1),children:S.jsx(ZT,{size:20,className:"text-gray-500"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs].reverse().map((W,wt)=>S.jsx("div",{className:`text-[10px] font-mono p-2 border-l-2 bg-black/30 ${W.type==="success"?"border-fuchsia-500 text-fuchsia-300":W.type==="danger"?"border-red-500 text-red-300":"border-gray-700 text-gray-500"}`,children:W.text},wt))})]})}),E.status==="finished"&&S.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[200] flex flex-col items-center justify-center p-4 backdrop-blur-2xl",children:[S.jsxs("div",{className:"relative mb-10",children:[S.jsx(yx,{size:100,className:"text-yellow-400 drop-shadow-[0_0_30px_rgba(250,204,21,0.5)] animate-bounce"}),S.jsx("span",{className:"absolute -top-4 -right-4 text-fuchsia-400 animate-pulse",children:S.jsx($r,{size:32})})]}),S.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-black text-white mb-2 uppercase tracking-[0.4em] text-center",children:"SYNCHRONIZED"}),S.jsx("div",{className:"bg-fuchsia-950/40 border border-fuchsia-500/30 px-6 py-2 rounded-full mb-12",children:S.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs tracking-[0.2em] uppercase font-black",children:["Protocol_Victor:"," ",S.jsx("span",{className:"text-white ml-2",children:xt?.name})]})}),S.jsxs("div",{className:"w-full max-w-lg space-y-3 mb-16 overflow-y-auto max-h-[30vh]",children:[S.jsx("h3",{className:"text-center text-[10px] font-black text-gray-600 uppercase tracking-[0.3em] mb-4",children:"Unit Summary"}),E.players.map(W=>S.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${W.id===xt.id?"bg-fuchsia-900/30 border-fuchsia-500 shadow-lg shadow-fuchsia-900/20":"bg-black/40 border-gray-800 opacity-80"}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(Tv,{size:18,className:W.id===xt.id?"text-fuchsia-400":"text-gray-600"}),S.jsx("span",{className:`font-black text-sm uppercase tracking-wider ${W.id===xt.id?"text-fuchsia-100":"text-gray-400"}`,children:W.name}),W.ready&&W.id!==E.hostId&&S.jsx(Xd,{size:14,className:"text-green-500 ml-2"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx($r,{size:14,className:"text-yellow-400"}),S.jsx("span",{className:"font-mono text-lg font-bold",children:W.chips})]})]},W.id))]}),S.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[Z?S.jsxs(S.Fragment,{children:[!_t&&S.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-[10px] font-black uppercase tracking-widest animate-pulse mb-2",children:[S.jsx(Ev,{size:12})," Awaiting Signal from Observers..."]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("button",{onClick:Q,disabled:!_t,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 shadow-xl transition-all ${_t?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50"}`,children:[S.jsx(cx,{size:16})," Reboot"]}),S.jsxs("button",{onClick:()=>{const W=E.players.map(wt=>({...wt,ready:!1}));ci(En(Tn,"artifacts",Vn,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:W}),ht(!1)},disabled:!_t,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 border transition-all ${_t?"border-fuchsia-600 text-fuchsia-400 hover:bg-fuchsia-900/20":"border-gray-800 text-gray-600 cursor-not-allowed opacity-50"}`,children:[S.jsx($T,{size:16})," Backroom"]})]})]}):S.jsx("button",{onClick:st,disabled:U?.ready,className:`w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 shadow-xl transition-all ${U?.ready?"bg-black/50 border border-green-500 text-green-500 cursor-default":"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20"}`,children:U?.ready?S.jsxs(S.Fragment,{children:[S.jsx(Xd,{size:20})," Signal_Acquired"]}):S.jsxs(S.Fragment,{children:[S.jsx(Ev,{size:20})," Transmit_Readiness"]})}),S.jsx("button",{onClick:qt,className:"w-full bg-transparent hover:bg-red-950/20 text-gray-600 hover:text-red-400 py-4 rounded-xl font-bold uppercase tracking-[0.2em] text-[10px] transition-all",children:"Sever_Connection"})]})]}),S.jsx(Sv,{})]})}return null}Pb.createRoot(document.getElementById("root")).render(S.jsx(le.StrictMode,{children:S.jsx(wx,{})}));
