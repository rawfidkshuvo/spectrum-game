(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Vb(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vd={exports:{}},Rl={};var P_;function kb(){if(P_)return Rl;P_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Rl.Fragment=t,Rl.jsx=i,Rl.jsxs=i,Rl}var z_;function Ub(){return z_||(z_=1,Vd.exports=kb()),Vd.exports}var b=Ub(),kd={exports:{}},xt={};var B_;function Lb(){if(B_)return xt;B_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,st={};function ht(O,K,nt){this.props=O,this.context=K,this.refs=st,this.updater=nt||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ht.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Rt(){}Rt.prototype=ht.prototype;function St(O,K,nt){this.props=O,this.context=K,this.refs=st,this.updater=nt||W}var te=St.prototype=new Rt;te.constructor=St,it(te,ht.prototype),te.isPureReactComponent=!0;var ge=Array.isArray;function Vt(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,K,nt){var at=nt.ref;return{$$typeof:s,type:O,key:K,ref:at!==void 0?at:null,props:nt}}function V(O,K){return I(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return K[nt]})}var R=/\/+/g;function Zt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Vt,Vt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,nt,at,_t){var Ct=typeof O;(Ct==="undefined"||Ct==="boolean")&&(O=null);var Lt=!1;if(O===null)Lt=!0;else switch(Ct){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(O.$$typeof){case s:case t:Lt=!0;break;case S:return Lt=O._init,H(Lt(O._payload),K,nt,at,_t)}}if(Lt)return _t=_t(O),Lt=at===""?"."+Zt(O,0):at,ge(_t)?(nt="",Lt!=null&&(nt=Lt.replace(R,"$&/")+"/"),H(_t,K,nt,"",function(gt){return gt})):_t!=null&&(N(_t)&&(_t=V(_t,nt+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Lt)),K.push(_t)),1;Lt=0;var Z=at===""?".":at+":";if(ge(O))for(var J=0;J<O.length;J++)at=O[J],Ct=Z+Zt(at,J),Lt+=H(at,K,nt,Ct,_t);else if(J=F(O),typeof J=="function")for(O=J.call(O),J=0;!(at=O.next()).done;)at=at.value,Ct=Z+Zt(at,J++),Lt+=H(at,K,nt,Ct,_t);else if(Ct==="object"){if(typeof O.then=="function")return H(Ce(O),K,nt,at,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function et(O,K,nt){if(O==null)return O;var at=[],_t=0;return H(O,at,"","",function(Ct){return K.call(nt,Ct,_t++)}),at}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Gt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xt={map:et,forEach:function(O,K,nt){et(O,function(){K.apply(this,arguments)},nt)},count:function(O){var K=0;return et(O,function(){K++}),K},toArray:function(O){return et(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xt.Activity=A,xt.Children=Xt,xt.Component=ht,xt.Fragment=i,xt.Profiler=l,xt.PureComponent=St,xt.StrictMode=a,xt.Suspense=g,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},xt.cache=function(O){return function(){return O.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(O,K,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=it({},O.props),_t=O.key;if(K!=null)for(Ct in K.key!==void 0&&(_t=""+K.key),K)!w.call(K,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&K.ref===void 0||(at[Ct]=K[Ct]);var Ct=arguments.length-2;if(Ct===1)at.children=nt;else if(1<Ct){for(var Lt=Array(Ct),Z=0;Z<Ct;Z++)Lt[Z]=arguments[Z+2];at.children=Lt}return I(O.type,_t,at)},xt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},xt.createElement=function(O,K,nt){var at,_t={},Ct=null;if(K!=null)for(at in K.key!==void 0&&(Ct=""+K.key),K)w.call(K,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=K[at]);var Lt=arguments.length-2;if(Lt===1)_t.children=nt;else if(1<Lt){for(var Z=Array(Lt),J=0;J<Lt;J++)Z[J]=arguments[J+2];_t.children=Z}if(O&&O.defaultProps)for(at in Lt=O.defaultProps,Lt)_t[at]===void 0&&(_t[at]=Lt[at]);return I(O,Ct,_t)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(O){return{$$typeof:y,render:O}},xt.isValidElement=N,xt.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ft}},xt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},xt.startTransition=function(O){var K=C.T,nt={};C.T=nt;try{var at=O(),_t=C.S;_t!==null&&_t(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Vt,Gt)}catch(Ct){Gt(Ct)}finally{K!==null&&nt.types!==null&&(K.types=nt.types),C.T=K}},xt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xt.use=function(O){return C.H.use(O)},xt.useActionState=function(O,K,nt){return C.H.useActionState(O,K,nt)},xt.useCallback=function(O,K){return C.H.useCallback(O,K)},xt.useContext=function(O){return C.H.useContext(O)},xt.useDebugValue=function(){},xt.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},xt.useEffect=function(O,K){return C.H.useEffect(O,K)},xt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},xt.useId=function(){return C.H.useId()},xt.useImperativeHandle=function(O,K,nt){return C.H.useImperativeHandle(O,K,nt)},xt.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},xt.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},xt.useMemo=function(O,K){return C.H.useMemo(O,K)},xt.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},xt.useReducer=function(O,K,nt){return C.H.useReducer(O,K,nt)},xt.useRef=function(O){return C.H.useRef(O)},xt.useState=function(O){return C.H.useState(O)},xt.useSyncExternalStore=function(O,K,nt){return C.H.useSyncExternalStore(O,K,nt)},xt.useTransition=function(){return C.H.useTransition()},xt.version="19.2.3",xt}var q_;function Im(){return q_||(q_=1,kd.exports=Lb()),kd.exports}var de=Im();const H_=Vb(de);var Ud={exports:{}},xl={},Ld={exports:{}},jd={};var G_;function jb(){return G_||(G_=1,(function(s){function t(H,et){var ft=H.length;H.push(et);t:for(;0<ft;){var Gt=ft-1>>>1,Xt=H[Gt];if(0<l(Xt,et))H[Gt]=et,H[ft]=Xt,ft=Gt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ft=H.pop();if(ft!==et){H[0]=ft;t:for(var Gt=0,Xt=H.length,O=Xt>>>1;Gt<O;){var K=2*(Gt+1)-1,nt=H[K],at=K+1,_t=H[at];if(0>l(nt,ft))at<Xt&&0>l(_t,nt)?(H[Gt]=_t,H[at]=ft,Gt=at):(H[Gt]=nt,H[K]=ft,Gt=K);else if(at<Xt&&0>l(_t,ft))H[Gt]=_t,H[at]=ft,Gt=at;else break t}}return et}function l(H,et){var ft=H.sortIndex-et.sortIndex;return ft!==0?ft:H.id-et.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var g=[],_=[],S=1,A=null,M=3,F=!1,W=!1,it=!1,st=!1,ht=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,St=typeof setImmediate<"u"?setImmediate:null;function te(H){for(var et=i(_);et!==null;){if(et.callback===null)a(_);else if(et.startTime<=H)a(_),et.sortIndex=et.expirationTime,t(g,et);else break;et=i(_)}}function ge(H){if(it=!1,te(H),!W)if(i(g)!==null)W=!0,Vt||(Vt=!0,k());else{var et=i(_);et!==null&&Ce(ge,et.startTime-H)}}var Vt=!1,C=-1,w=5,I=-1;function V(){return st?!0:!(s.unstable_now()-I<w)}function N(){if(st=!1,Vt){var H=s.unstable_now();I=H;var et=!0;try{t:{W=!1,it&&(it=!1,Rt(C),C=-1),F=!0;var ft=M;try{e:{for(te(H),A=i(g);A!==null&&!(A.expirationTime>H&&V());){var Gt=A.callback;if(typeof Gt=="function"){A.callback=null,M=A.priorityLevel;var Xt=Gt(A.expirationTime<=H);if(H=s.unstable_now(),typeof Xt=="function"){A.callback=Xt,te(H),et=!0;break e}A===i(g)&&a(g),te(H)}else a(g);A=i(g)}if(A!==null)et=!0;else{var O=i(_);O!==null&&Ce(ge,O.startTime-H),et=!1}}break t}finally{A=null,M=ft,F=!1}et=void 0}}finally{et?k():Vt=!1}}}var k;if(typeof St=="function")k=function(){St(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Zt=R.port2;R.port1.onmessage=N,k=function(){Zt.postMessage(null)}}else k=function(){ht(N,0)};function Ce(H,et){C=ht(function(){H(s.unstable_now())},et)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(H){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ft=M;M=et;try{return H()}finally{M=ft}},s.unstable_requestPaint=function(){st=!0},s.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ft=M;M=H;try{return et()}finally{M=ft}},s.unstable_scheduleCallback=function(H,et,ft){var Gt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Gt+ft:Gt):ft=Gt,H){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=ft+Xt,H={id:S++,callback:et,priorityLevel:H,startTime:ft,expirationTime:Xt,sortIndex:-1},ft>Gt?(H.sortIndex=ft,t(_,H),i(g)===null&&H===i(_)&&(it?(Rt(C),C=-1):it=!0,Ce(ge,ft-Gt))):(H.sortIndex=Xt,t(g,H),W||F||(W=!0,Vt||(Vt=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var et=M;return function(){var ft=M;M=et;try{return H.apply(this,arguments)}finally{M=ft}}}})(jd)),jd}var F_;function Pb(){return F_||(F_=1,Ld.exports=jb()),Ld.exports}var Pd={exports:{}},hn={};var Q_;function zb(){if(Q_)return hn;Q_=1;var s=Im();function t(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hn.createPortal=function(g,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(g,_,null,S)},hn.flushSync=function(g){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=_,a.p=S,a.d.f()}},hn.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(g,_))},hn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},hn.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,F=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:F}):S==="script"&&a.d.X(g,{crossOrigin:A,integrity:M,fetchPriority:F,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=y(_.as,_.crossOrigin);a.d.M(g,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(g)},hn.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,A=y(S,_.crossOrigin);a.d.L(g,S,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(g,_){if(typeof g=="string")if(_){var S=y(_.as,_.crossOrigin);a.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(g)},hn.requestFormReset=function(g){a.d.r(g)},hn.unstable_batchedUpdates=function(g,_){return g(_)},hn.useFormState=function(g,_,S){return d.H.useFormState(g,_,S)},hn.useFormStatus=function(){return d.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var K_;function Bb(){if(K_)return Pd.exports;K_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Pd.exports=zb(),Pd.exports}var Y_;function qb(){if(Y_)return xl;Y_=1;var s=Pb(),t=Im(),i=Bb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),st=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Rt=Symbol.for("react.consumer"),St=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Zt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ht:return"Profiler";case st:return"StrictMode";case ge:return"Suspense";case Vt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case St:return e.displayName||"Context";case Rt:return(e._context.displayName||"Context")+".Consumer";case te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Zt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Zt(e(n))}catch{}}return null}var Ce=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Gt=[],Xt=-1;function O(e){return{current:e}}function K(e){0>Xt||(e.current=Gt[Xt],Gt[Xt]=null,Xt--)}function nt(e,n){Xt++,Gt[Xt]=e.current,e.current=n}var at=O(null),_t=O(null),Ct=O(null),Lt=O(null);function Z(e,n){switch(nt(Ct,n),nt(_t,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?l_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=l_(n),e=u_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(at),nt(at,e)}function J(){K(at),K(_t),K(Ct)}function gt(e){e.memoizedState!==null&&nt(Lt,e);var n=at.current,r=u_(n,e.type);n!==r&&(nt(_t,e),nt(at,r))}function Et(e){_t.current===e&&(K(at),K(_t)),Lt.current===e&&(K(Lt),bl._currentValue=ft)}var Ee,Te;function jt(e){if(Ee===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ee=n&&n[1]||"",Te=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ee+e+Te}var rt=!1;function Tt(e,n){if(!e||rt)return"";rt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var x=p.split(`
`),P=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===P.length)for(o=x.length-1,h=P.length-1;1<=o&&0<=h&&x[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==P[h]){var G=`
`+x[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{rt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?jt(r):""}function le(e,n){switch(e.tag){case 26:case 27:case 5:return jt(e.type);case 16:return jt("Lazy");case 13:return e.child!==n&&n!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return Tt(e.type,!1);case 11:return Tt(e.type.render,!1);case 1:return Tt(e.type,!0);case 31:return jt("Activity");default:return""}}function ee(e){try{var n="",r=null;do n+=le(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ne=Object.prototype.hasOwnProperty,dt=s.unstable_scheduleCallback,ie=s.unstable_cancelCallback,bn=s.unstable_shouldYield,pe=s.unstable_requestPaint,ke=s.unstable_now,Mt=s.unstable_getCurrentPriorityLevel,Sn=s.unstable_ImmediatePriority,$i=s.unstable_UserBlockingPriority,ri=s.unstable_NormalPriority,Ji=s.unstable_LowPriority,Cs=s.unstable_IdlePriority,cn=s.log,At=s.unstable_setDisableYieldValue,se=null,Ke=null;function An(e){if(typeof cn=="function"&&At(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(se,e)}catch{}}var Ae=Math.clz32?Math.clz32:cu,Zi=Math.log,Ns=Math.LN2;function cu(e){return e>>>=0,e===0?32:31-(Zi(e)/Ns|0)|0}var Ti=256,Ir=262144,Ue=4194304;function bi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Si(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=bi(o):(p&=E,p!==0?h=bi(p):r||(r=E&~e,r!==0&&(h=bi(r))))):(E=o&~f,E!==0?h=bi(E):p!==0?h=bi(p):r||(r=o&~e,r!==0&&(h=bi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function ai(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Lh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var e=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),e}function Ai(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,P=e.hiddenUpdates;for(r=p&~r;0<r;){var G=31-Ae(r),Y=1<<G;E[G]=0,x[G]=-1;var z=P[G];if(z!==null)for(P[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}r&=~Y}o!==0&&Nr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Nr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ae(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function xo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ae(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function Io(e,n){var r=n&-n;return r=(r&42)!==0?1:Dr(r),(r&(e.suspendedLanes|n))!==0?0:r}function Dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fu(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:O_(e.type))}function oi(e,n){var r=et.p;try{return et.p=e,n()}finally{et.p=r}}var li=Math.random().toString(36).slice(2),Le="__reactFiber$"+li,Je="__reactProps$"+li,wi="__reactContainer$"+li,ma="__reactEvents$"+li,Ph="__reactListeners$"+li,du="__reactHandles$"+li,mu="__reactResources$"+li,Ri="__reactMarker$"+li;function ga(e){delete e[Le],delete e[Je],delete e[ma],delete e[Ph],delete e[du]}function xi(e){var n=e[Le];if(n)return n;for(var r=e.parentNode;r;){if(n=r[wi]||r[Le]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=p_(e);e!==null;){if(r=e[Le])return r;e=p_(e)}return n}e=r,r=e.parentNode}return null}function Fn(e){if(e=e[Le]||e[wi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ii(e){var n=e[mu];return n||(n=e[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function je(e){e[Ri]=!0}var Co=new Set,No={};function Ci(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(No[e]=n,e=0;e<n.length;e++)Co.add(n[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Mo={};function gu(e){return ne.call(Mo,e)?!0:ne.call(Oo,e)?!1:Do.test(e)?Mo[e]=!0:(Oo[e]=!0,!1)}function pa(e,n,r){if(gu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function kn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Pe(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ds(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function re(e){if(!e._valueTracker){var n=Ds(e)?"checked":"value";e._valueTracker=Vo(e,n,""+e[n])}}function Or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Ds(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mr=/[\n"\\]/g;function wn(e){return e.replace(Mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?ko(e,p,Ze(n)):r!=null?ko(e,p,Ze(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function pu(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){re(e);return}r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),re(e)}function ko(e,n,r){n==="number"&&Di(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Os(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function yu(e,n,r){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ze(r):""}function Ms(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ze(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),re(e)}function Rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||_u.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Lo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Uo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Uo(e,f,n[f])}function _a(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(e){return Vs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ui(){}var jo=null;function Qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ks=null,Oi=null;function Vr(e){var n=Fn(e);if(n&&(e=n.stateNode)){var r=e[Je]||null;t:switch(e=n.stateNode,n.type){case"input":if(ya(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+wn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Je]||null;if(!h)throw Error(a(90));ya(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Or(o)}break t;case"textarea":yu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Os(e,!!r.multiple,n,!1)}}}var Ea=!1;function Us(e,n,r){if(Ea)return e(n,r);Ea=!0;try{var o=e(n);return o}finally{if(Ea=!1,(ks!==null||Oi!==null)&&(fc(),ks&&(n=ks,e=Oi,Oi=ks=null,Vr(n),e)))for(n=0;n<e.length;n++)Vr(e[n])}}function ci(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Je]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Kn)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){kr=!0}}),window.addEventListener("test",ue,ue),window.removeEventListener("test",ue,ue)}catch{kr=!1}var Mi=null,Po=null,Ur=null;function zo(){if(Ur)return Ur;var e,n=Po,r=n.length,o,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return Ur=h.slice(e,1<o?1-o:void 0)}function Lr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function hi(){return!1}function en(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:hi,this.isPropagationStopped=hi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=en(es),Ls=A({},es,{view:0,detail:0}),Bo=en(Ls),js,Ta,ki,ba=A({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(js=e.screenX-ki.screenX,Ta=e.screenY-ki.screenY):Ta=js=0,ki=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),qo=en(ba),jr=A({},ba,{dataTransfer:0}),Eu=en(jr),Tu=A({},Ls,{relatedTarget:0}),Pr=en(Tu),Ho=A({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=en(Ho),Sa=A({},es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Su=en(Sa),Au=A({},es,{data:0}),Ui=en(Au),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xu[e])?!!n[e]:!1}function Ps(){return Iu}var _n=A({},Ls,{key:function(e){if(e.key){var n=wu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?Lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cu=en(_n),Nu=A({},ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=en(Nu),u=A({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=en(u),v=A({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=en(v),L=A({},ba,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=en(L),tt=A({},es,{newState:0,oldState:0}),Nt=en(tt),Ne=[9,13,27,32],$t=Kn&&"CompositionEvent"in window,be=null;Kn&&"documentMode"in document&&(be=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!be,Li=Kn&&(!$t||be&&8<be&&11>=be),fi=" ",di=!1;function zr(e,n){switch(e){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function s1(e,n){switch(e){case"compositionend":return Aa(n);case"keypress":return n.which!==32?null:(di=!0,fi);case"textInput":return e=n.data,e===fi&&di?null:e;default:return null}}function r1(e,n){if(wa)return e==="compositionend"||!$t&&zr(e,n)?(e=zo(),Ur=Po=Mi=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Li&&n.locale!=="ko"?null:n.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!a1[e.type]:n==="textarea"}function Eg(e,n,r,o){ks?Oi?Oi.push(o):Oi=[o]:ks=o,n=vc(n,"onChange"),0<n.length&&(r=new Vi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Go=null,Fo=null;function o1(e){n_(e,0)}function Du(e){var n=Vn(e);if(Or(n))return e}function Tg(e,n){if(e==="change")return n}var bg=!1;if(Kn){var zh;if(Kn){var Bh="oninput"in document;if(!Bh){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Bh=typeof Sg.oninput=="function"}zh=Bh}else zh=!1;bg=zh&&(!document.documentMode||9<document.documentMode)}function Ag(){Go&&(Go.detachEvent("onpropertychange",wg),Fo=Go=null)}function wg(e){if(e.propertyName==="value"&&Du(Fo)){var n=[];Eg(n,Fo,e,Qn(e)),Us(o1,n)}}function l1(e,n,r){e==="focusin"?(Ag(),Go=n,Fo=r,Go.attachEvent("onpropertychange",wg)):e==="focusout"&&Ag()}function u1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du(Fo)}function c1(e,n){if(e==="click")return Du(n)}function h1(e,n){if(e==="input"||e==="change")return Du(n)}function f1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Un=typeof Object.is=="function"?Object.is:f1;function Qo(e,n){if(Un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ne.call(n,h)||!Un(e[h],n[h]))return!1}return!0}function Rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xg(e,n){var r=Rg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Rg(r)}}function Ig(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ig(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Di(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Di(e.document)}return n}function qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var d1=Kn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Hh=null,Ko=null,Gh=!1;function Ng(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||Ra==null||Ra!==Di(o)||(o=Ra,"selectionStart"in o&&qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ko&&Qo(Ko,o)||(Ko=o,o=vc(Hh,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ra)))}function Br(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var xa={animationend:Br("Animation","AnimationEnd"),animationiteration:Br("Animation","AnimationIteration"),animationstart:Br("Animation","AnimationStart"),transitionrun:Br("Transition","TransitionRun"),transitionstart:Br("Transition","TransitionStart"),transitioncancel:Br("Transition","TransitionCancel"),transitionend:Br("Transition","TransitionEnd")},Fh={},Dg={};Kn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function qr(e){if(Fh[e])return Fh[e];if(!xa[e])return e;var n=xa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Dg)return Fh[e]=n[r];return e}var Og=qr("animationend"),Mg=qr("animationiteration"),Vg=qr("animationstart"),m1=qr("transitionrun"),g1=qr("transitionstart"),p1=qr("transitioncancel"),kg=qr("transitionend"),Ug=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function mi(e,n){Ug.set(e,n),Ci(n,[e])}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],Ia=0,Kh=0;function Mu(){for(var e=Ia,n=Kh=Ia=0;n<e;){var r=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Lg(r,h,f)}}function Vu(e,n,r,o){Xn[Ia++]=e,Xn[Ia++]=n,Xn[Ia++]=r,Xn[Ia++]=o,Kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Yh(e,n,r,o){return Vu(e,n,r,o),ku(e)}function Hr(e,n){return Vu(e,null,null,n),ku(e)}function Lg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ae(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function ku(e){if(50<gl)throw gl=0,sd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ca={};function y1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,n,r,o){return new y1(e,n,r,o)}function Xh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function is(e,n){var r=e.alternate;return r===null?(r=Ln(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function jg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uu(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Xh(e)&&(p=1);else if(typeof e=="string")p=bb(e,r,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Ln(31,r,n,h),e.elementType=I,e.lanes=f,e;case it:return Gr(r.children,h,f,n);case st:p=8,h|=24;break;case ht:return e=Ln(12,r,n,h|2),e.elementType=ht,e.lanes=f,e;case ge:return e=Ln(13,r,n,h),e.elementType=ge,e.lanes=f,e;case Vt:return e=Ln(19,r,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case St:p=10;break t;case Rt:p=9;break t;case te:p=11;break t;case C:p=14;break t;case w:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Ln(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Gr(e,n,r,o){return e=Ln(7,e,o,n),e.lanes=r,e}function $h(e,n,r){return e=Ln(6,e,null,n),e.lanes=r,e}function Pg(e){var n=Ln(18,null,null,0);return n.stateNode=e,n}function Jh(e,n,r){return n=Ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zg=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var r=zg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ee(n)},zg.set(e,n),n)}return{value:e,source:n,stack:ee(n)}}var Na=[],Da=0,Lu=null,Yo=0,Jn=[],Zn=0,zs=null,ji=1,Pi="";function ss(e,n){Na[Da++]=Yo,Na[Da++]=Lu,Lu=e,Yo=n}function Bg(e,n,r){Jn[Zn++]=ji,Jn[Zn++]=Pi,Jn[Zn++]=zs,zs=e;var o=ji;e=Pi;var h=32-Ae(o)-1;o&=~(1<<h),r+=1;var f=32-Ae(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ji=1<<32-Ae(n)+h|r<<h|o,Pi=f+e}else ji=1<<f|r<<h|o,Pi=e}function Zh(e){e.return!==null&&(ss(e,1),Bg(e,1,0))}function Wh(e){for(;e===Lu;)Lu=Na[--Da],Na[Da]=null,Yo=Na[--Da],Na[Da]=null;for(;e===zs;)zs=Jn[--Zn],Jn[Zn]=null,Pi=Jn[--Zn],Jn[Zn]=null,ji=Jn[--Zn],Jn[Zn]=null}function qg(e,n){Jn[Zn++]=ji,Jn[Zn++]=Pi,Jn[Zn++]=zs,ji=n.id,Pi=n.overflow,zs=e}var nn=null,ye=null,Ft=!1,Bs=null,Wn=!1,tf=Error(a(519));function qs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo($n(n,e)),tf}function Hg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Le]=e,n[Je]=o,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(r=0;r<yl.length;r++)Ut(yl[r],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),pu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),Ms(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||a_(n.textContent,r)?(o.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),o.onScroll!=null&&Ut("scroll",n),o.onScrollEnd!=null&&Ut("scrollend",n),o.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||qs(e,!0)}function Gg(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:nn=nn.return}}function Oa(e){if(e!==nn)return!1;if(!Ft)return Gg(e),Ft=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||vd(e.type,e.memoizedProps)),r=!r),r&&ye&&qs(e),Gg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ye=g_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ye=g_(e)}else n===27?(n=ye,nr(e.type)?(e=Ad,Ad=null,ye=e):ye=n):ye=nn?ei(e.stateNode.nextSibling):null;return!0}function Fr(){ye=nn=null,Ft=!1}function ef(){var e=Bs;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),Bs=null),e}function Xo(e){Bs===null?Bs=[e]:Bs.push(e)}var nf=O(null),Qr=null,rs=null;function Hs(e,n,r){nt(nf,n._currentValue),n._currentValue=r}function as(e){e._currentValue=nf.current,K(nf)}function sf(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function rf(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sf(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),sf(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ma(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Un(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}h=h.return}e!==null&&rf(n,e,r,o),n.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Kr(e){Qr=e,rs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function sn(e){return Fg(Qr,e)}function Pu(e,n){return Qr===null&&Kr(e),Fg(e,n)}function Fg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},rs===null){if(e===null)throw Error(a(308));rs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else rs=rs.next=n;return r}var _1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},v1=s.unstable_scheduleCallback,E1=s.unstable_NormalPriority,ze={$$typeof:St,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new _1,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&v1(E1,function(){e.controller.abort()})}var Jo=null,of=0,Va=0,ka=null;function T1(e,n){if(Jo===null){var r=Jo=[];of=0,Va=cd(),ka={status:"pending",value:void 0,then:function(o){r.push(o)}}}return of++,n.then(Qg,Qg),n}function Qg(){if(--of===0&&Jo!==null){ka!==null&&(ka.status="fulfilled");var e=Jo;Jo=null,Va=0,ka=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function b1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Kg=H.S;H.S=function(e,n){Ny=ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&T1(e,n),Kg!==null&&Kg(e,n)};var Yr=O(null);function lf(){var e=Yr.current;return e!==null?e:me.pooledCache}function zu(e,n){n===null?nt(Yr,Yr.current):nt(Yr,n.pool)}function Yg(){var e=lf();return e===null?null:{parent:ze._currentValue,pool:e}}var Ua=Error(a(460)),uf=Error(a(474)),Bu=Error(a(542)),qu={then:function(){}};function Xg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $g(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(ui,ui),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e;default:if(typeof n.status=="string")n.then(ui,ui);else{if(e=me,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e}throw $r=n,Ua}}function Xr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?($r=r,Ua):r}}var $r=null;function Jg(){if($r===null)throw Error(a(459));var e=$r;return $r=null,e}function Zg(e){if(e===Ua||e===Bu)throw Error(a(483))}var La=null,Zo=0;function Hu(e){var n=Zo;return Zo+=1,La===null&&(La=[]),$g(La,e,n)}function Wo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wg(e){function n(U,D){if(e){var j=U.deletions;j===null?(U.deletions=[D],U.flags|=16):j.push(D)}}function r(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=is(U,D),U.index=0,U.sibling=null,U}function f(U,D,j){return U.index=j,e?(j=U.alternate,j!==null?(j=j.index,j<D?(U.flags|=67108866,D):j):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,j,Q){return D===null||D.tag!==6?(D=$h(j,U.mode,Q),D.return=U,D):(D=h(D,j),D.return=U,D)}function x(U,D,j,Q){var mt=j.type;return mt===it?G(U,D,j.props.children,Q,j.key):D!==null&&(D.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Xr(mt)===D.type)?(D=h(D,j.props),Wo(D,j),D.return=U,D):(D=Uu(j.type,j.key,j.props,null,U.mode,Q),Wo(D,j),D.return=U,D)}function P(U,D,j,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Jh(j,U.mode,Q),D.return=U,D):(D=h(D,j.children||[]),D.return=U,D)}function G(U,D,j,Q,mt){return D===null||D.tag!==7?(D=Gr(j,U.mode,Q,mt),D.return=U,D):(D=h(D,j),D.return=U,D)}function Y(U,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,U.mode,j),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return j=Uu(D.type,D.key,D.props,null,U.mode,j),Wo(j,D),j.return=U,j;case W:return D=Jh(D,U.mode,j),D.return=U,D;case w:return D=Xr(D),Y(U,D,j)}if(Ce(D)||k(D))return D=Gr(D,U.mode,j,null),D.return=U,D;if(typeof D.then=="function")return Y(U,Hu(D),j);if(D.$$typeof===St)return Y(U,Pu(U,D),j);Gu(U,D)}return null}function z(U,D,j,Q){var mt=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:E(U,D,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===mt?x(U,D,j,Q):null;case W:return j.key===mt?P(U,D,j,Q):null;case w:return j=Xr(j),z(U,D,j,Q)}if(Ce(j)||k(j))return mt!==null?null:G(U,D,j,Q,null);if(typeof j.then=="function")return z(U,D,Hu(j),Q);if(j.$$typeof===St)return z(U,D,Pu(U,j),Q);Gu(U,j)}return null}function q(U,D,j,Q,mt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(j)||null,E(D,U,""+Q,mt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?j:Q.key)||null,x(D,U,Q,mt);case W:return U=U.get(Q.key===null?j:Q.key)||null,P(D,U,Q,mt);case w:return Q=Xr(Q),q(U,D,j,Q,mt)}if(Ce(Q)||k(Q))return U=U.get(j)||null,G(D,U,Q,mt,null);if(typeof Q.then=="function")return q(U,D,j,Hu(Q),mt);if(Q.$$typeof===St)return q(U,D,j,Pu(D,Q),mt);Gu(D,Q)}return null}function lt(U,D,j,Q){for(var mt=null,Kt=null,ut=D,Ot=D=0,zt=null;ut!==null&&Ot<j.length;Ot++){ut.index>Ot?(zt=ut,ut=null):zt=ut.sibling;var Yt=z(U,ut,j[Ot],Q);if(Yt===null){ut===null&&(ut=zt);break}e&&ut&&Yt.alternate===null&&n(U,ut),D=f(Yt,D,Ot),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt,ut=zt}if(Ot===j.length)return r(U,ut),Ft&&ss(U,Ot),mt;if(ut===null){for(;Ot<j.length;Ot++)ut=Y(U,j[Ot],Q),ut!==null&&(D=f(ut,D,Ot),Kt===null?mt=ut:Kt.sibling=ut,Kt=ut);return Ft&&ss(U,Ot),mt}for(ut=o(ut);Ot<j.length;Ot++)zt=q(ut,U,Ot,j[Ot],Q),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?Ot:zt.key),D=f(zt,D,Ot),Kt===null?mt=zt:Kt.sibling=zt,Kt=zt);return e&&ut.forEach(function(or){return n(U,or)}),Ft&&ss(U,Ot),mt}function yt(U,D,j,Q){if(j==null)throw Error(a(151));for(var mt=null,Kt=null,ut=D,Ot=D=0,zt=null,Yt=j.next();ut!==null&&!Yt.done;Ot++,Yt=j.next()){ut.index>Ot?(zt=ut,ut=null):zt=ut.sibling;var or=z(U,ut,Yt.value,Q);if(or===null){ut===null&&(ut=zt);break}e&&ut&&or.alternate===null&&n(U,ut),D=f(or,D,Ot),Kt===null?mt=or:Kt.sibling=or,Kt=or,ut=zt}if(Yt.done)return r(U,ut),Ft&&ss(U,Ot),mt;if(ut===null){for(;!Yt.done;Ot++,Yt=j.next())Yt=Y(U,Yt.value,Q),Yt!==null&&(D=f(Yt,D,Ot),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt);return Ft&&ss(U,Ot),mt}for(ut=o(ut);!Yt.done;Ot++,Yt=j.next())Yt=q(ut,U,Ot,Yt.value,Q),Yt!==null&&(e&&Yt.alternate!==null&&ut.delete(Yt.key===null?Ot:Yt.key),D=f(Yt,D,Ot),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt);return e&&ut.forEach(function(Mb){return n(U,Mb)}),Ft&&ss(U,Ot),mt}function fe(U,D,j,Q){if(typeof j=="object"&&j!==null&&j.type===it&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:t:{for(var mt=j.key;D!==null;){if(D.key===mt){if(mt=j.type,mt===it){if(D.tag===7){r(U,D.sibling),Q=h(D,j.props.children),Q.return=U,U=Q;break t}}else if(D.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Xr(mt)===D.type){r(U,D.sibling),Q=h(D,j.props),Wo(Q,j),Q.return=U,U=Q;break t}r(U,D);break}else n(U,D);D=D.sibling}j.type===it?(Q=Gr(j.props.children,U.mode,Q,j.key),Q.return=U,U=Q):(Q=Uu(j.type,j.key,j.props,null,U.mode,Q),Wo(Q,j),Q.return=U,U=Q)}return p(U);case W:t:{for(mt=j.key;D!==null;){if(D.key===mt)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){r(U,D.sibling),Q=h(D,j.children||[]),Q.return=U,U=Q;break t}else{r(U,D);break}else n(U,D);D=D.sibling}Q=Jh(j,U.mode,Q),Q.return=U,U=Q}return p(U);case w:return j=Xr(j),fe(U,D,j,Q)}if(Ce(j))return lt(U,D,j,Q);if(k(j)){if(mt=k(j),typeof mt!="function")throw Error(a(150));return j=mt.call(j),yt(U,D,j,Q)}if(typeof j.then=="function")return fe(U,D,Hu(j),Q);if(j.$$typeof===St)return fe(U,D,Pu(U,j),Q);Gu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(r(U,D.sibling),Q=h(D,j),Q.return=U,U=Q):(r(U,D),Q=$h(j,U.mode,Q),Q.return=U,U=Q),p(U)):r(U,D)}return function(U,D,j,Q){try{Zo=0;var mt=fe(U,D,j,Q);return La=null,mt}catch(ut){if(ut===Ua||ut===Bu)throw ut;var Kt=Ln(29,ut,null,U.mode);return Kt.lanes=Q,Kt.return=U,Kt}}}var Jr=Wg(!0),tp=Wg(!1),Gs=!1;function cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Jt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=ku(e),Lg(e,null,r),n}return Vu(e,o,n,r),ku(e)}function tl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,xo(e,r)}}function ff(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var df=!1;function el(){if(df){var e=ka;if(e!==null)throw e}}function nl(e,n,r,o){df=!1;var h=e.updateQueue;Gs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,P=x.next;x.next=null,p===null?f=P:p.next=P,p=x;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=x))}if(f!==null){var Y=h.baseState;p=0,G=P=x=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Pt&z)===z:(o&z)===z){z!==0&&z===Va&&(df=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,yt=E;z=n;var fe=r;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){Y=lt.call(fe,Y,z);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,z=typeof lt=="function"?lt.call(fe,Y,z):lt,z==null)break t;Y=A({},Y,z);break t;case 2:Gs=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=q,x=Y):G=G.next=q,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(x=Y),h.baseState=x,h.firstBaseUpdate=P,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Js|=p,e.lanes=p,e.memoizedState=Y}}function ep(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function np(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)ep(r[e],n)}var ja=O(null),Fu=O(0);function ip(e,n){e=gs,nt(Fu,e),nt(ja,n),gs=e|n.baseLanes}function mf(){nt(Fu,gs),nt(ja,ja.current)}function gf(){gs=Fu.current,K(ja),K(Fu)}var jn=O(null),ti=null;function Ks(e){var n=e.alternate;nt(De,De.current&1),nt(jn,e),ti===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(ti=e)}function pf(e){nt(De,De.current),nt(jn,e),ti===null&&(ti=e)}function sp(e){e.tag===22?(nt(De,De.current),nt(jn,e),ti===null&&(ti=e)):Ys()}function Ys(){nt(De,De.current),nt(jn,jn.current)}function Pn(e){K(jn),ti===e&&(ti=null),K(De)}var De=O(0);function Qu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||bd(r)||Sd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=0,Dt=null,ce=null,Be=null,Ku=!1,Pa=!1,Zr=!1,Yu=0,il=0,za=null,S1=0;function xe(){throw Error(a(321))}function yf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Un(e[r],n[r]))return!1;return!0}function _f(e,n,r,o,h,f){return os=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Bp:Mf,Zr=!1,f=r(o,h),Zr=!1,Pa&&(f=ap(n,r,o,h)),rp(e),f}function rp(e){H.H=al;var n=ce!==null&&ce.next!==null;if(os=0,Be=ce=Dt=null,Ku=!1,il=0,za=null,n)throw Error(a(300));e===null||qe||(e=e.dependencies,e!==null&&ju(e)&&(qe=!0))}function ap(e,n,r,o){Dt=e;var h=0;do{if(Pa&&(za=null),il=0,Pa=!1,25<=h)throw Error(a(301));if(h+=1,Be=ce=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=qp,f=n(r,o)}while(Pa);return f}function A1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?sl(n):n,e=e.useState()[0],(ce!==null?ce.memoizedState:null)!==e&&(Dt.flags|=1024),n}function vf(){var e=Yu!==0;return Yu=0,e}function Ef(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Tf(e){if(Ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ku=!1}os=0,Be=ce=Dt=null,Pa=!1,il=Yu=0,za=null}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Dt.memoizedState=Be=e:Be=Be.next=e,Be}function Oe(){if(ce===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var n=Be===null?Dt.memoizedState:Be.next;if(n!==null)Be=n,ce=e;else{if(e===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},Be===null?Dt.memoizedState=Be=e:Be=Be.next=e}return Be}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var n=il;return il+=1,za===null&&(za=[]),e=$g(za,e,n),n=Dt,(Be===null?n.memoizedState:Be.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Bp:Mf),e}function $u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===St)return sn(e)}throw Error(a(438,String(e)))}function bf(e){var n=null,r=Dt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Dt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Xu(),Dt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function ls(e,n){return typeof n=="function"?n(e):n}function Ju(e){var n=Oe();return Sf(n,ce,e)}function Sf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,x=null,P=n,G=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Pt&Y)===Y:(os&Y)===Y){var z=P.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Va&&(G=!0);else if((os&z)===z){P=P.next,z===Va&&(G=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=Y,p=f):x=x.next=Y,Dt.lanes|=z,Js|=z;Y=P.action,Zr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},x===null?(E=x=z,p=f):x=x.next=z,Dt.lanes|=Y,Js|=Y;P=P.next}while(P!==null&&P!==n);if(x===null?p=f:x.next=E,!Un(f,e.memoizedState)&&(qe=!0,G&&(r=ka,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=Oe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Un(f,n.memoizedState)||(qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function op(e,n,r){var o=Dt,h=Oe(),f=Ft;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Un((ce||h).memoizedState,r);if(p&&(h.memoizedState=r,qe=!0),h=h.queue,xf(cp.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Be!==null&&Be.memoizedState.tag&1){if(o.flags|=2048,Ba(9,{destroy:void 0},up.bind(null,o,h,r,n),null),me===null)throw Error(a(349));f||(os&127)!==0||lp(o,n,r)}return r}function lp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Dt.updateQueue,n===null?(n=Xu(),Dt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function up(e,n,r,o){n.value=r,n.getSnapshot=o,hp(n)&&fp(e)}function cp(e,n,r){return r(function(){hp(n)&&fp(e)})}function hp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Un(e,r)}catch{return!0}}function fp(e){var n=Hr(e,2);n!==null&&Dn(n,e,2)}function wf(e){var n=vn();if(typeof e=="function"){var r=e;if(e=r(),Zr){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:e},n}function dp(e,n,r,o){return e.baseState=r,Sf(e,ce,typeof o=="function"?o:ls)}function w1(e,n,r,o,h){if(tc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,mp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function mp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=r(h,o),x=H.S;x!==null&&x(p,E),gp(e,n,E)}catch(P){Rf(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=r(h,o),gp(e,n,f)}catch(P){Rf(e,n,P)}}function gp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){pp(e,n,o)},function(o){return Rf(e,n,o)}):pp(e,n,r)}function pp(e,n,r){n.status="fulfilled",n.value=r,yp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,mp(e,r)))}function Rf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,yp(n),n=n.next;while(n!==o)}e.action=null}function yp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function _p(e,n){return n}function vp(e,n){if(Ft){var r=me.formState;if(r!==null){t:{var o=Dt;if(Ft){if(ye){e:{for(var h=ye,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ei(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ye=ei(h.nextSibling),o=h.data==="F!";break t}}qs(o)}o=!1}o&&(n=r[0])}}return r=vn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_p,lastRenderedState:n},r.queue=o,r=jp.bind(null,Dt,o),o.dispatch=r,o=wf(!1),f=Of.bind(null,Dt,!1,o.queue),o=vn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=w1.bind(null,Dt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Ep(e){var n=Oe();return Tp(n,ce,e)}function Tp(e,n,r){if(n=Sf(e,n,_p)[0],e=Ju(ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=sl(n)}catch(p){throw p===Ua?Bu:p}else o=n;n=Oe();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Dt.flags|=2048,Ba(9,{destroy:void 0},R1.bind(null,h,r),null)),[o,f,e]}function R1(e,n){e.action=n}function bp(e){var n=Oe(),r=ce;if(r!==null)return Tp(n,r,e);Oe(),n=n.memoizedState,r=Oe();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ba(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Xu(),Dt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Sp(){return Oe().memoizedState}function Zu(e,n,r,o){var h=vn();Dt.flags|=e,h.memoizedState=Ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function Wu(e,n,r,o){var h=Oe();o=o===void 0?null:o;var f=h.memoizedState.inst;ce!==null&&o!==null&&yf(o,ce.memoizedState.deps)?h.memoizedState=Ba(n,f,r,o):(Dt.flags|=e,h.memoizedState=Ba(1|n,f,r,o))}function Ap(e,n){Zu(8390656,8,e,n)}function xf(e,n){Wu(2048,8,e,n)}function x1(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Xu(),Dt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function wp(e){var n=Oe().memoizedState;return x1({ref:n,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Rp(e,n){return Wu(4,2,e,n)}function xp(e,n){return Wu(4,4,e,n)}function Ip(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cp(e,n,r){r=r!=null?r.concat([e]):null,Wu(4,4,Ip.bind(null,n,e),r)}function If(){}function Np(e,n){var r=Oe();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&yf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Dp(e,n){var r=Oe();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&yf(n,o[1]))return o[0];if(o=e(),Zr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function Cf(e,n,r){return r===void 0||(os&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Oy(),Dt.lanes|=e,Js|=e,r)}function Op(e,n,r,o){return Un(r,n)?r:ja.current!==null?(e=Cf(e,r,o),Un(e,n)||(qe=!0),e):(os&42)===0||(os&1073741824)!==0&&(Pt&261930)===0?(qe=!0,e.memoizedState=r):(e=Oy(),Dt.lanes|=e,Js|=e,n)}function Mp(e,n,r,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,Of(e,!1,n,r);try{var x=h(),P=H.S;if(P!==null&&P(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var G=b1(x,o);rl(e,n,G,qn(e))}else rl(e,n,o,qn(e))}catch(Y){rl(e,n,{then:function(){},status:"rejected",reason:Y},qn())}finally{et.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function I1(){}function Nf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Vp(e).queue;Mp(e,h,n,ft,r===null?I1:function(){return kp(e),r(o)})}function Vp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function kp(e){var n=Vp(e);n.next===null&&(n=e.alternate.memoizedState),rl(e,n.next.queue,{},qn())}function Df(){return sn(bl)}function Up(){return Oe().memoizedState}function Lp(){return Oe().memoizedState}function C1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=qn();e=Fs(r);var o=Qs(n,e,r);o!==null&&(Dn(o,n,r),tl(o,n,r)),n={cache:af()},e.payload=n;return}n=n.return}}function N1(e,n,r){var o=qn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},tc(e)?Pp(n,r):(r=Yh(e,n,r,o),r!==null&&(Dn(r,e,o),zp(r,n,o)))}function jp(e,n,r){var o=qn();rl(e,n,r,o)}function rl(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(tc(e))Pp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,Un(E,p))return Vu(e,n,h,0),me===null&&Mu(),!1}catch{}if(r=Yh(e,n,h,o),r!==null)return Dn(r,e,o),zp(r,n,o),!0}return!1}function Of(e,n,r,o){if(o={lane:2,revertLane:cd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(n)throw Error(a(479))}else n=Yh(e,r,o,2),n!==null&&Dn(n,e,2)}function tc(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function Pp(e,n){Pa=Ku=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function zp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,xo(e,r)}}var al={readContext:sn,use:$u,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useLayoutEffect:xe,useInsertionEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useSyncExternalStore:xe,useId:xe,useHostTransitionStatus:xe,useFormState:xe,useActionState:xe,useOptimistic:xe,useMemoCache:xe,useCacheRefresh:xe};al.useEffectEvent=xe;var Bp={readContext:sn,use:$u,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:sn,useEffect:Ap,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Zu(4194308,4,Ip.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Zu(4194308,4,e,n)},useInsertionEffect:function(e,n){Zu(4,2,e,n)},useMemo:function(e,n){var r=vn();n=n===void 0?null:n;var o=e();if(Zr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=vn();if(r!==void 0){var h=r(n);if(Zr){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=N1.bind(null,Dt,e),[o.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:function(e){e=wf(e);var n=e.queue,r=jp.bind(null,Dt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:If,useDeferredValue:function(e,n){var r=vn();return Cf(r,e,n)},useTransition:function(){var e=wf(!1);return e=Mp.bind(null,Dt,e.queue,!0,!1),vn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Dt,h=vn();if(Ft){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),me===null)throw Error(a(349));(Pt&127)!==0||lp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ap(cp.bind(null,o,f,e),[e]),o.flags|=2048,Ba(9,{destroy:void 0},up.bind(null,o,f,r,n),null),r},useId:function(){var e=vn(),n=me.identifierPrefix;if(Ft){var r=Pi,o=ji;r=(o&~(1<<32-Ae(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Yu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=S1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Df,useFormState:vp,useActionState:vp,useOptimistic:function(e){var n=vn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Of.bind(null,Dt,!0,r),r.dispatch=n,[e,n]},useMemoCache:bf,useCacheRefresh:function(){return vn().memoizedState=C1.bind(null,Dt)},useEffectEvent:function(e){var n=vn(),r={impl:e};return n.memoizedState=r,function(){if((Jt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Mf={readContext:sn,use:$u,useCallback:Np,useContext:sn,useEffect:xf,useImperativeHandle:Cp,useInsertionEffect:Rp,useLayoutEffect:xp,useMemo:Dp,useReducer:Ju,useRef:Sp,useState:function(){return Ju(ls)},useDebugValue:If,useDeferredValue:function(e,n){var r=Oe();return Op(r,ce.memoizedState,e,n)},useTransition:function(){var e=Ju(ls)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:sl(e),n]},useSyncExternalStore:op,useId:Up,useHostTransitionStatus:Df,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var r=Oe();return dp(r,ce,e,n)},useMemoCache:bf,useCacheRefresh:Lp};Mf.useEffectEvent=wp;var qp={readContext:sn,use:$u,useCallback:Np,useContext:sn,useEffect:xf,useImperativeHandle:Cp,useInsertionEffect:Rp,useLayoutEffect:xp,useMemo:Dp,useReducer:Af,useRef:Sp,useState:function(){return Af(ls)},useDebugValue:If,useDeferredValue:function(e,n){var r=Oe();return ce===null?Cf(r,e,n):Op(r,ce.memoizedState,e,n)},useTransition:function(){var e=Af(ls)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:sl(e),n]},useSyncExternalStore:op,useId:Up,useHostTransitionStatus:Df,useFormState:bp,useActionState:bp,useOptimistic:function(e,n){var r=Oe();return ce!==null?dp(r,ce,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Lp};qp.useEffectEvent=wp;function Vf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=qn(),h=Fs(o);h.payload=n,r!=null&&(h.callback=r),n=Qs(e,h,o),n!==null&&(Dn(n,e,o),tl(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=qn(),h=Fs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Qs(e,h,o),n!==null&&(Dn(n,e,o),tl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=qn(),o=Fs(r);o.tag=2,n!=null&&(o.callback=n),n=Qs(e,o,r),n!==null&&(Dn(n,e,r),tl(n,e,r))}};function Hp(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Qo(r,o)||!Qo(h,f):!0}function Gp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&kf.enqueueReplaceState(n,n.state,null)}function Wr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Fp(e){Ou(e)}function Qp(e){console.error(e)}function Kp(e){Ou(e)}function ec(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Yp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(e,n,r){return r=Fs(r),r.tag=3,r.payload={element:null},r.callback=function(){ec(e,n)},r}function Xp(e){return e=Fs(e),e.tag=3,e}function $p(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Yp(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Yp(n,r,o),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function D1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ma(n,r,h,!0),r=jn.current,r!==null){switch(r.tag){case 31:case 13:return ti===null?dc():r.alternate===null&&Ie===0&&(Ie=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===qu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),od(e,o,h)),!1;case 22:return r.flags|=65536,o===qu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),od(e,o,h)),!1}throw Error(a(435,r.tag))}return od(e,o,h),dc(),!1}if(Ft)return n=jn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==tf&&(e=Error(a(422),{cause:o}),Xo($n(e,r)))):(o!==tf&&(n=Error(a(423),{cause:o}),Xo($n(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,r),h=Uf(e.stateNode,o,h),ff(e,h),Ie!==4&&(Ie=2)),!1;var f=Error(a(520),{cause:o});if(f=$n(f,r),ml===null?ml=[f]:ml.push(f),Ie!==4&&(Ie=2),n===null)return!0;o=$n(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Uf(r.stateNode,o,e),ff(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Xp(h),$p(h,e,r,o),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(a(461)),qe=!1;function rn(e,n,r,o){n.child=e===null?tp(n,null,r,o):Jr(n,e.child,r,o)}function Jp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Kr(n),o=_f(e,n,r,p,f,h),E=vf(),e!==null&&!qe?(Ef(e,n,h),us(e,n,h)):(Ft&&E&&Zh(n),n.flags|=1,rn(e,n,o,h),n.child)}function Zp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Wp(e,n,f,o,h)):(e=Uu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ff(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qo,r(p,o)&&e.ref===n.ref)return us(e,n,h)}return n.flags|=1,e=is(f,o),e.ref=n.ref,e.return=n,n.child=e}function Wp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Qo(f,o)&&e.ref===n.ref)if(qe=!1,n.pendingProps=o=f,Ff(e,h))(e.flags&131072)!==0&&(qe=!0);else return n.lanes=e.lanes,us(e,n,h)}return jf(e,n,r,o,h)}function ty(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ey(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,f!==null?f.cachePool:null),f!==null?ip(n,f):mf(),sp(n);else return o=n.lanes=536870912,ey(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(zu(n,f.cachePool),ip(n,f),Ys(),n.memoizedState=null):(e!==null&&zu(n,null),mf(),Ys());return rn(e,n,h,r),n.child}function ol(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ey(e,n,r,o,h){var f=lf();return f=f===null?null:{parent:ze._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&zu(n,null),mf(),sp(n),e!==null&&Ma(e,n,o,!0),n.childLanes=h,null}function nc(e,n){return n=sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ny(e,n,r){return Jr(n,e.child,null,r),e=nc(n,n.pendingProps),e.flags|=2,Pn(n),n.memoizedState=null,e}function O1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ft){if(o.mode==="hidden")return e=nc(n,o),n.lanes=536870912,ol(null,e);if(pf(n),(e=ye)?(e=m_(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zs!==null?{id:ji,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Pg(e),r.return=n,n.child=r,nn=n,ye=null)):e=null,e===null)throw qs(n);return n.lanes=536870912,null}return nc(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=ny(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(qe||Ma(e,n,r,!1),h=(r&e.childLanes)!==0,qe||h){if(o=me,o!==null&&(p=Io(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Hr(e,p),Dn(o,e,p),Lf;dc(),n=ny(e,n,r)}else e=f.treeContext,ye=ei(p.nextSibling),nn=n,Ft=!0,Bs=null,Wn=!1,e!==null&&qg(n,e),n=nc(n,o),n.flags|=4096;return n}return e=is(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ic(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function jf(e,n,r,o,h){return Kr(n),r=_f(e,n,r,o,void 0,h),o=vf(),e!==null&&!qe?(Ef(e,n,h),us(e,n,h)):(Ft&&o&&Zh(n),n.flags|=1,rn(e,n,r,h),n.child)}function iy(e,n,r,o,h,f){return Kr(n),n.updateQueue=null,r=ap(n,o,r,h),rp(e),o=vf(),e!==null&&!qe?(Ef(e,n,f),us(e,n,f)):(Ft&&o&&Zh(n),n.flags|=1,rn(e,n,r,f),n.child)}function sy(e,n,r,o,h){if(Kr(n),n.stateNode===null){var f=Ca,p=r.contextType;typeof p=="object"&&p!==null&&(f=sn(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},cf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?sn(p):Ca,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Vf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&kf.enqueueReplaceState(f,f.state,null),nl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=Wr(r,E);f.props=x;var P=f.context,G=r.contextType;p=Ca,typeof G=="object"&&G!==null&&(p=sn(G));var Y=r.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==p)&&Gp(n,f,o,p),Gs=!1;var z=n.memoizedState;f.state=z,nl(n,o,f,h),el(),P=n.memoizedState,E||z!==P||Gs?(typeof Y=="function"&&(Vf(n,r,Y,o),P=n.memoizedState),(x=Gs||Hp(n,r,x,o,z,P,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,hf(e,n),p=n.memoizedProps,G=Wr(r,p),f.props=G,Y=n.pendingProps,z=f.context,P=r.contextType,x=Ca,typeof P=="object"&&P!==null&&(x=sn(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==x)&&Gp(n,f,o,x),Gs=!1,z=n.memoizedState,f.state=z,nl(n,o,f,h),el();var q=n.memoizedState;p!==Y||z!==q||Gs||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof E=="function"&&(Vf(n,r,E,o),q=n.memoizedState),(G=Gs||Hp(n,r,G,o,z,q,x)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=x,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ic(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Jr(n,e.child,null,h),n.child=Jr(n,null,r,h)):rn(e,n,r,h),n.memoizedState=f.state,e=n.child):e=us(e,n,h),e}function ry(e,n,r,o){return Fr(),n.flags|=256,rn(e,n,r,o),n.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Yg()}}function Bf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Bn),e}function ay(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(h?Ks(n):Ys(),(e=ye)?(e=m_(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zs!==null?{id:ji,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},r=Pg(e),r.return=n,n.child=r,nn=n,ye=null)):e=null,e===null)throw qs(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ys(),h=n.mode,E=sc({mode:"hidden",children:E},h),o=Gr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(e,p,r),n.memoizedState=Pf,ol(null,o)):(Ks(n),qf(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Ks(n),n.flags&=-257,n=Hf(e,n,r)):n.memoizedState!==null?(Ys(),n.child=e.child,n.flags|=128,n=null):(Ys(),E=o.fallback,h=n.mode,o=sc({mode:"visible",children:o.children},h),E=Gr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Jr(n,e.child,null,r),o=n.child,o.memoizedState=zf(r),o.childLanes=Bf(e,p,r),n.memoizedState=Pf,n=ol(null,o));else if(Ks(n),Sd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Xo({value:o,source:null,stack:null}),n=Hf(e,n,r)}else if(qe||Ma(e,n,r,!1),p=(r&e.childLanes)!==0,qe||p){if(p=me,p!==null&&(o=Io(p,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Hr(e,o),Dn(p,e,o),Lf;bd(E)||dc(),n=Hf(e,n,r)}else bd(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ye=ei(E.nextSibling),nn=n,Ft=!0,Bs=null,Wn=!1,e!==null&&qg(n,e),n=qf(n,o.children),n.flags|=4096);return n}return h?(Ys(),E=o.fallback,h=n.mode,x=e.child,P=x.sibling,o=is(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,P!==null?E=is(P,E):(E=Gr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,ol(null,o),o=n.child,E=e.child.memoizedState,E===null?E=zf(r):(h=E.cachePool,h!==null?(x=ze._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Yg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Bf(e,p,r),n.memoizedState=Pf,ol(e.child,o)):(Ks(n),r=e.child,e=r.sibling,r=is(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function qf(e,n){return n=sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sc(e,n){return e=Ln(22,e,null,n),e.lanes=0,e}function Hf(e,n,r){return Jr(n,e.child,null,r),e=qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function oy(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),sf(e.return,n,r)}function Gf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function ly(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=De.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(De,p),rn(e,n,o,r),o=Ft?Yo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oy(e,r,n);else if(e.tag===19)oy(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Qu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Gf(n,!0,r,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function us(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Js|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ma(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=is(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=is(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function M1(e,n,r){switch(n.tag){case 3:Z(n,n.stateNode.containerInfo),Hs(n,ze,e.memoizedState.cache),Fr();break;case 27:case 5:gt(n);break;case 4:Z(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ks(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ay(e,n,r):(Ks(n),e=us(e,n,r),e!==null?e.sibling:null);Ks(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ma(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ly(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(De,De.current),o)break;return null;case 22:return n.lanes=0,ty(e,n,r,n.pendingProps);case 24:Hs(n,ze,e.memoizedState.cache)}return us(e,n,r)}function uy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)qe=!0;else{if(!Ff(e,r)&&(n.flags&128)===0)return qe=!1,M1(e,n,r);qe=(e.flags&131072)!==0}else qe=!1,Ft&&(n.flags&1048576)!==0&&Bg(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Xr(n.elementType),n.type=e,typeof e=="function")Xh(e)?(o=Wr(e,o),n.tag=1,n=sy(null,n,e,o,r)):(n.tag=0,n=jf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===te){n.tag=11,n=Jp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Zp(null,n,e,o,r);break t}}throw n=Zt(e)||e,Error(a(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Wr(o,n.pendingProps),sy(e,n,o,h,r);case 3:t:{if(Z(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,hf(e,n),nl(n,o,null,r);var p=n.memoizedState;if(o=p.cache,Hs(n,ze,o),o!==f.cache&&rf(n,[ze],r,!0),el(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(e,n,o,r);break t}else if(o!==h){h=$n(Error(a(424)),n),Xo(h),n=ry(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ye=ei(e.firstChild),nn=n,Ft=!0,Bs=null,Wn=!0,r=tp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fr(),o===h){n=us(e,n,r);break t}rn(e,n,o,r)}n=n.child}return n;case 26:return ic(e,n),e===null?(r=E_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ft||(r=n.type,e=n.pendingProps,o=Ec(Ct.current).createElement(r),o[Le]=n,o[Je]=e,an(o,r,e),je(o),n.stateNode=o):n.memoizedState=E_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return gt(n),e===null&&Ft&&(o=n.stateNode=y_(n.type,n.pendingProps,Ct.current),nn=n,Wn=!0,h=ye,nr(n.type)?(Ad=h,ye=ei(o.firstChild)):ye=h),rn(e,n,n.pendingProps.children,r),ic(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((h=o=ye)&&(o=ub(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,nn=n,ye=ei(o.firstChild),Wn=!1,h=!0):h=!1),h||qs(n)),gt(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,vd(h,f)?o=null:p!==null&&vd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(e,n,A1,null,null,r),bl._currentValue=h),ic(e,n),rn(e,n,o,r),n.child;case 6:return e===null&&Ft&&((e=r=ye)&&(r=cb(r,n.pendingProps,Wn),r!==null?(n.stateNode=r,nn=n,ye=null,e=!0):e=!1),e||qs(n)),null;case 13:return ay(e,n,r);case 4:return Z(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Jr(n,null,o,r):rn(e,n,o,r),n.child;case 11:return Jp(e,n,n.type,n.pendingProps,r);case 7:return rn(e,n,n.pendingProps,r),n.child;case 8:return rn(e,n,n.pendingProps.children,r),n.child;case 12:return rn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Hs(n,n.type,o.value),rn(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Kr(n),h=sn(h),o=o(h),n.flags|=1,rn(e,n,o,r),n.child;case 14:return Zp(e,n,n.type,n.pendingProps,r);case 15:return Wp(e,n,n.type,n.pendingProps,r);case 19:return ly(e,n,r);case 31:return O1(e,n,r);case 22:return ty(e,n,r,n.pendingProps);case 24:return Kr(n),o=sn(ze),e===null?(h=lf(),h===null&&(h=me,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},cf(n),Hs(n,ze,h)):((e.lanes&r)!==0&&(hf(e,n),nl(n,null,null,r),el()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,ze,o)):(o=f.cache,Hs(n,ze,o),o!==h.cache&&rf(n,[ze],r,!0))),rn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cs(e){e.flags|=4}function Qf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Uy())e.flags|=8192;else throw $r=qu,uf}else e.flags&=-16777217}function cy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!w_(n))if(Uy())e.flags|=8192;else throw $r=qu,uf}function rc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?hu():536870912,e.lanes|=n,Fa|=n)}function ll(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function _e(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function V1(e,n,r){var o=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(n),null;case 1:return _e(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),as(ze),J(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Oa(n)?cs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ef())),_e(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(cs(n),f!==null?(_e(n),cy(n,f)):(_e(n),Qf(n,h,null,o,r))):f?f!==e.memoizedState?(cs(n),_e(n),cy(n,f)):(_e(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&cs(n),_e(n),Qf(n,h,e,o,r)),null;case 27:if(Et(n),r=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&cs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return _e(n),null}e=at.current,Oa(n)?Hg(n):(e=y_(h,o,r),n.stateNode=e,cs(n))}return _e(n),null;case 5:if(Et(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&cs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return _e(n),null}if(f=at.current,Oa(n))Hg(n);else{var p=Ec(Ct.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Le]=n,f[Je]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(an(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&cs(n)}}return _e(n),Qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&cs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ct.current,Oa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=nn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Le]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||a_(e.nodeValue,r)),e||qs(n,!0)}else e=Ec(e).createTextNode(o),e[Le]=n,n.stateNode=e}return _e(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=Oa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Le]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),e=!1}else r=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return _e(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Oa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Le]=n}else Fr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_e(n),h=!1}else h=ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),rc(n,n.updateQueue),_e(n),null);case 4:return J(),e===null&&md(n.stateNode.containerInfo),_e(n),null;case 10:return as(n.type),_e(n),null;case 19:if(K(De),o=n.memoizedState,o===null)return _e(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ll(o,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Qu(e),f!==null){for(n.flags|=128,ll(o,!1),e=f.updateQueue,n.updateQueue=e,rc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)jg(r,e),r=r.sibling;return nt(De,De.current&1|2),Ft&&ss(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ke()>cc&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304)}else{if(!h)if(e=Qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,rc(n,e),ll(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ft)return _e(n),null}else 2*ke()-o.renderingStartTime>cc&&r!==536870912&&(n.flags|=128,h=!0,ll(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ke(),e.sibling=null,r=De.current,nt(De,h?r&1|2:r&1),Ft&&ss(n,o.treeForkCount),e):(_e(n),null);case 22:case 23:return Pn(n),gf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(_e(n),n.subtreeFlags&6&&(n.flags|=8192)):_e(n),r=n.updateQueue,r!==null&&rc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&K(Yr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),as(ze),_e(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function k1(e,n){switch(Wh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return as(ze),J(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Et(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));Fr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Fr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(De),null;case 4:return J(),null;case 10:return as(n.type),null;case 22:case 23:return Pn(n),gf(),e!==null&&K(Yr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return as(ze),null;case 25:return null;default:return null}}function hy(e,n){switch(Wh(n),n.tag){case 3:as(ze),J();break;case 26:case 27:case 5:Et(n);break;case 4:J();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:K(De);break;case 10:as(n.type);break;case 22:case 23:Pn(n),gf(),e!==null&&K(Yr);break;case 24:as(ze)}}function ul(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){oe(n,n.return,E)}}function Xs(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var x=r,P=E;try{P()}catch(G){oe(h,x,G)}}}o=o.next}while(o!==f)}}catch(G){oe(n,n.return,G)}}function fy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{np(n,r)}catch(o){oe(e,e.return,o)}}}function dy(e,n,r){r.props=Wr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){oe(e,n,o)}}function cl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){oe(e,n,h)}}function zi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){oe(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){oe(e,n,h)}else r.current=null}function my(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){oe(e,e.return,h)}}function Kf(e,n,r){try{var o=e.stateNode;ib(o,e.type,r,n),o[Je]=n}catch(h){oe(e,e.return,h)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nr(e.type)||e.tag===4}function Yf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ui));else if(o!==4&&(o===27&&nr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Xf(e,n,r),e=e.sibling;e!==null;)Xf(e,n,r),e=e.sibling}function ac(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&nr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ac(e,n,r),e=e.sibling;e!==null;)ac(e,n,r),e=e.sibling}function py(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);an(n,o,r),n[Le]=e,n[Je]=r}catch(f){oe(e,e.return,f)}}var hs=!1,He=!1,$f=!1,yy=typeof WeakSet=="function"?WeakSet:Set,We=null;function U1(e,n){if(e=e.containerInfo,yd=xc,e=Cg(e),qh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,x=-1,P=0,G=0,Y=e,z=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(x=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===r&&++P===h&&(E=p),z===f&&++G===o&&(x=p),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}r=E===-1||x===-1?null:{start:E,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:e,selectionRange:r},xc=!1,We=n;We!==null;)if(n=We,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,We=e;else for(;We!==null;){switch(n=We,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Wr(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){oe(r,r.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Td(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,We=e;break}We=n.return}}function _y(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ds(e,r),o&4&&ul(5,r);break;case 1:if(ds(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){oe(r,r.return,p)}else{var h=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){oe(r,r.return,p)}}o&64&&fy(r),o&512&&cl(r,r.return);break;case 3:if(ds(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{np(e,n)}catch(p){oe(r,r.return,p)}}break;case 27:n===null&&o&4&&py(r);case 26:case 5:ds(e,r),n===null&&o&4&&my(r),o&512&&cl(r,r.return);break;case 12:ds(e,r);break;case 31:ds(e,r),o&4&&Ty(e,r);break;case 13:ds(e,r),o&4&&by(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=F1.bind(null,r),hb(e,r))));break;case 22:if(o=r.memoizedState!==null||hs,!o){n=n!==null&&n.memoizedState!==null||He,h=hs;var f=He;hs=o,(He=n)&&!f?ms(e,r,(r.subtreeFlags&8772)!==0):ds(e,r),hs=h,He=f}break;case 30:break;default:ds(e,r)}}function vy(e){var n=e.alternate;n!==null&&(e.alternate=null,vy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ga(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Se=null,xn=!1;function fs(e,n,r){for(r=r.child;r!==null;)Ey(e,n,r),r=r.sibling}function Ey(e,n,r){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:He||zi(r,n),fs(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:He||zi(r,n);var o=Se,h=xn;nr(r.type)&&(Se=r.stateNode,xn=!1),fs(e,n,r),vl(r.stateNode),Se=o,xn=h;break;case 5:He||zi(r,n);case 6:if(o=Se,h=xn,Se=null,fs(e,n,r),Se=o,xn=h,Se!==null)if(xn)try{(Se.nodeType===9?Se.body:Se.nodeName==="HTML"?Se.ownerDocument.body:Se).removeChild(r.stateNode)}catch(f){oe(r,n,f)}else try{Se.removeChild(r.stateNode)}catch(f){oe(r,n,f)}break;case 18:Se!==null&&(xn?(e=Se,f_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Wa(e)):f_(Se,r.stateNode));break;case 4:o=Se,h=xn,Se=r.stateNode.containerInfo,xn=!0,fs(e,n,r),Se=o,xn=h;break;case 0:case 11:case 14:case 15:Xs(2,r,n),He||Xs(4,r,n),fs(e,n,r);break;case 1:He||(zi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&dy(r,n,o)),fs(e,n,r);break;case 21:fs(e,n,r);break;case 22:He=(o=He)||r.memoizedState!==null,fs(e,n,r),He=o;break;default:fs(e,n,r)}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wa(e)}catch(r){oe(n,n.return,r)}}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wa(e)}catch(r){oe(n,n.return,r)}}function L1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new yy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new yy),n;default:throw Error(a(435,e.tag))}}function oc(e,n){var r=L1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=Q1.bind(null,e,o);o.then(h,h)}})}function In(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){Se=E.stateNode,xn=!1;break t}break;case 5:Se=E.stateNode,xn=!1;break t;case 3:case 4:Se=E.stateNode.containerInfo,xn=!0;break t}E=E.return}if(Se===null)throw Error(a(160));Ey(f,p,h),Se=null,xn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,e),n=n.sibling}var gi=null;function Sy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:In(n,e),Cn(e),o&4&&(Xs(3,e,e.return),ul(3,e),Xs(5,e,e.return));break;case 1:In(n,e),Cn(e),o&512&&(He||r===null||zi(r,r.return)),o&64&&hs&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=gi;if(In(n,e),Cn(e),o&512&&(He||r===null||zi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ri]||f[Le]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,o,r),f[Le]=e,je(f),o=f;break t;case"link":var p=S_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),an(f,o,r),h.head.appendChild(f);break;case"meta":if(p=S_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),an(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Le]=e,je(f),o=f}e.stateNode=o}else A_(h,e.type,e.stateNode);else e.stateNode=b_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?A_(h,e.type,e.stateNode):b_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,r.memoizedProps)}break;case 27:In(n,e),Cn(e),o&512&&(He||r===null||zi(r,r.return)),r!==null&&o&4&&Kf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(In(n,e),Cn(e),o&512&&(He||r===null||zi(r,r.return)),e.flags&32){h=e.stateNode;try{Rn(h,"")}catch(lt){oe(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,r!==null?r.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(In(n,e),Cn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){oe(e,e.return,lt)}}break;case 3:if(Sc=null,h=gi,gi=Tc(n.containerInfo),In(n,e),gi=h,Cn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(lt){oe(e,e.return,lt)}$f&&($f=!1,Ay(e));break;case 4:o=gi,gi=Tc(e.stateNode.containerInfo),In(n,e),Cn(e),gi=o;break;case 12:In(n,e),Cn(e);break;case 31:In(n,e),Cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 13:In(n,e),Cn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(uc=ke()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 22:h=e.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,P=hs,G=He;if(hs=P||h,He=G||x,In(n,e),He=G,hs=P,Cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||hs||He||ta(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=x.stateNode;var Y=x.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){oe(x,x.return,lt)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(lt){oe(x,x.return,lt)}}}else if(n.tag===18){if(r===null){x=n;try{var q=x.stateNode;h?d_(q,!0):d_(x.stateNode,!1)}catch(lt){oe(x,x.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,oc(e,r))));break;case 19:In(n,e),Cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,oc(e,o)));break;case 30:break;case 21:break;default:In(n,e),Cn(e)}}function Cn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(gy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(e);ac(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(Rn(p,""),r.flags&=-33);var E=Yf(e);ac(e,E,p);break;case 3:case 4:var x=r.stateNode.containerInfo,P=Yf(e);Xf(e,P,x);break;default:throw Error(a(161))}}catch(G){oe(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ds(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(e,n.alternate,n),n=n.sibling}function ta(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Xs(4,n,n.return),ta(n);break;case 1:zi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dy(n,n.return,r),ta(n);break;case 27:vl(n.stateNode);case 26:case 5:zi(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}e=e.sibling}}function ms(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ms(h,f,r),ul(4,f);break;case 1:if(ms(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){oe(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)ep(x[h],E)}catch(P){oe(o,o.return,P)}}r&&p&64&&fy(f),cl(f,f.return);break;case 27:py(f);case 26:case 5:ms(h,f,r),r&&o===null&&p&4&&my(f),cl(f,f.return);break;case 12:ms(h,f,r);break;case 31:ms(h,f,r),r&&p&4&&Ty(h,f);break;case 13:ms(h,f,r),r&&p&4&&by(h,f);break;case 22:f.memoizedState===null&&ms(h,f,r),cl(f,f.return);break;case 30:break;default:ms(h,f,r)}n=n.sibling}}function Jf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&$o(r))}function Zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$o(e))}function pi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(e,n,r,o),n=n.sibling}function wy(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,r,o),h&2048&&ul(9,n);break;case 1:pi(e,n,r,o);break;case 3:pi(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$o(e)));break;case 12:if(h&2048){pi(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){oe(n,n.return,x)}}else pi(e,n,r,o);break;case 31:pi(e,n,r,o);break;case 13:pi(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(e,n,r,o):hl(e,n):f._visibility&2?pi(e,n,r,o):(f._visibility|=2,qa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(p,n);break;case 24:pi(e,n,r,o),h&2048&&Zf(n.alternate,n);break;default:pi(e,n,r,o)}}function qa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,x=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:qa(f,p,E,x,h),ul(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?qa(f,p,E,x,h):hl(f,p):(G._visibility|=2,qa(f,p,E,x,h)),h&&P&2048&&Jf(p.alternate,p);break;case 24:qa(f,p,E,x,h),h&&P&2048&&Zf(p.alternate,p);break;default:qa(f,p,E,x,h)}n=n.sibling}}function hl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:hl(r,o),h&2048&&Jf(o.alternate,o);break;case 24:hl(r,o),h&2048&&Zf(o.alternate,o);break;default:hl(r,o)}n=n.sibling}}var fl=8192;function Ha(e,n,r){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Ry(e,n,r),e=e.sibling}function Ry(e,n,r){switch(e.tag){case 26:Ha(e,n,r),e.flags&fl&&e.memoizedState!==null&&Sb(r,gi,e.memoizedState,e.memoizedProps);break;case 5:Ha(e,n,r);break;case 3:case 4:var o=gi;gi=Tc(e.stateNode.containerInfo),Ha(e,n,r),gi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=fl,fl=16777216,Ha(e,n,r),fl=o):Ha(e,n,r));break;default:Ha(e,n,r)}}function xy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];We=o,Cy(o,e)}xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Xs(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,lc(e)):dl(e);break;default:dl(e)}}function lc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];We=o,Cy(o,e)}xy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Xs(8,n,n.return),lc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,lc(n));break;default:lc(n)}e=e.sibling}}function Cy(e,n){for(;We!==null;){var r=We;switch(r.tag){case 0:case 11:case 15:Xs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$o(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,We=o;else t:for(r=e;We!==null;){o=We;var h=o.sibling,f=o.return;if(vy(o),o===r){We=null;break t}if(h!==null){h.return=f,We=h;break t}We=f}}}var j1={getCacheForType:function(e){var n=sn(ze),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return sn(ze).controller.signal}},P1=typeof WeakMap=="function"?WeakMap:Map,Jt=0,me=null,kt=null,Pt=0,ae=0,zn=null,$s=!1,Ga=!1,Wf=!1,gs=0,Ie=0,Js=0,ea=0,td=0,Bn=0,Fa=0,ml=null,Nn=null,ed=!1,uc=0,Ny=0,cc=1/0,hc=null,Zs=null,Ye=0,Ws=null,Qa=null,ps=0,nd=0,id=null,Dy=null,gl=0,sd=null;function qn(){return(Jt&2)!==0&&Pt!==0?Pt&-Pt:H.T!==null?cd():fu()}function Oy(){if(Bn===0)if((Pt&536870912)===0||Ft){var e=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),Bn=e}else Bn=536870912;return e=jn.current,e!==null&&(e.flags|=32),Bn}function Dn(e,n,r){(e===me&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(Ka(e,0),tr(e,Pt,Bn,!1)),Cr(e,r),((Jt&2)===0||e!==me)&&(e===me&&((Jt&2)===0&&(ea|=r),Ie===4&&tr(e,Pt,Bn,!1)),Bi(e))}function My(e,n,r){if((Jt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||ai(e,n),h=o?q1(e,n):ad(e,n,!0),f=o;do{if(h===0){Ga&&!o&&tr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!z1(r)){h=ad(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ml;var x=E.current.memoizedState.isDehydrated;if(x&&(Ka(E,p).flags|=256),p=ad(E,p,!1),p!==2){if(Wf&&!x){E.errorRecoveryDisabledLanes|=f,ea|=f,h=4;break t}f=Nn,Nn=h,f!==null&&(Nn===null?Nn=f:Nn.push.apply(Nn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ka(e,0),tr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:tr(o,n,Bn,!$s);break t;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-ke(),10<h)){if(tr(o,n,Bn,!$s),Si(o,0,!0)!==0)break t;ps=n,o.timeoutHandle=c_(Vy.bind(null,o,r,Nn,hc,ed,n,Bn,ea,Fa,$s,f,"Throttled",-0,0),h);break t}Vy(o,r,Nn,hc,ed,n,Bn,ea,Fa,$s,f,null,-0,0)}}break}while(!0);Bi(e)}function Vy(e,n,r,o,h,f,p,E,x,P,G,Y,z,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Ry(n,f,Y);var lt=(f&62914560)===f?uc-ke():(f&4194048)===f?Ny-ke():0;if(lt=Ab(Y,lt),lt!==null){ps=f,e.cancelPendingCommit=lt(qy.bind(null,e,n,f,r,o,h,p,E,x,G,Y,null,z,q)),tr(e,f,p,!P);return}}qy(e,n,f,r,o,h,p,E,x)}function z1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(e,n,r,o){n&=~td,n&=~ea,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Ae(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&Nr(e,r,n)}function fc(){return(Jt&6)===0?(pl(0),!1):!0}function rd(){if(kt!==null){if(ae===0)var e=kt.return;else e=kt,rs=Qr=null,Tf(e),La=null,Zo=0,e=kt;for(;e!==null;)hy(e.alternate,e),e=e.return;kt=null}}function Ka(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,ab(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ps=0,rd(),me=e,kt=r=is(e.current,null),Pt=n,ae=0,zn=null,$s=!1,Ga=ai(e,n),Wf=!1,Fa=Bn=td=ea=Js=Ie=0,Nn=ml=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Ae(o),f=1<<h;n|=e[h],o&=~f}return gs=n,Mu(),r}function ky(e,n){Dt=null,H.H=al,n===Ua||n===Bu?(n=Jg(),ae=3):n===uf?(n=Jg(),ae=4):ae=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,kt===null&&(Ie=1,ec(e,$n(n,e.current)))}function Uy(){var e=jn.current;return e===null?!0:(Pt&4194048)===Pt?ti===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===ti:!1}function Ly(){var e=H.H;return H.H=al,e===null?al:e}function jy(){var e=H.A;return H.A=j1,e}function dc(){Ie=4,$s||(Pt&4194048)!==Pt&&jn.current!==null||(Ga=!0),(Js&134217727)===0&&(ea&134217727)===0||me===null||tr(me,Pt,Bn,!1)}function ad(e,n,r){var o=Jt;Jt|=2;var h=Ly(),f=jy();(me!==e||Pt!==n)&&(hc=null,Ka(e,n)),n=!1;var p=Ie;t:do try{if(ae!==0&&kt!==null){var E=kt,x=zn;switch(ae){case 8:rd(),p=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(n=!0);var P=ae;if(ae=0,zn=null,Ya(e,E,x,P),r&&Ga){p=0;break t}break;default:P=ae,ae=0,zn=null,Ya(e,E,x,P)}}B1(),p=Ie;break}catch(G){ky(e,G)}while(!0);return n&&e.shellSuspendCounter++,rs=Qr=null,Jt=o,H.H=h,H.A=f,kt===null&&(me=null,Pt=0,Mu()),p}function B1(){for(;kt!==null;)Py(kt)}function q1(e,n){var r=Jt;Jt|=2;var o=Ly(),h=jy();me!==e||Pt!==n?(hc=null,cc=ke()+500,Ka(e,n)):Ga=ai(e,n);t:do try{if(ae!==0&&kt!==null){n=kt;var f=zn;e:switch(ae){case 1:ae=0,zn=null,Ya(e,n,f,1);break;case 2:case 9:if(Xg(f)){ae=0,zn=null,zy(n);break}n=function(){ae!==2&&ae!==9||me!==e||(ae=7),Bi(e)},f.then(n,n);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:Xg(f)?(ae=0,zn=null,zy(n)):(ae=0,zn=null,Ya(e,n,f,7));break;case 5:var p=null;switch(kt.tag){case 26:p=kt.memoizedState;case 5:case 27:var E=kt;if(p?w_(p):E.stateNode.complete){ae=0,zn=null;var x=E.sibling;if(x!==null)kt=x;else{var P=E.return;P!==null?(kt=P,mc(P)):kt=null}break e}}ae=0,zn=null,Ya(e,n,f,5);break;case 6:ae=0,zn=null,Ya(e,n,f,6);break;case 8:rd(),Ie=6;break t;default:throw Error(a(462))}}H1();break}catch(G){ky(e,G)}while(!0);return rs=Qr=null,H.H=o,H.A=h,Jt=r,kt!==null?0:(me=null,Pt=0,Mu(),Ie)}function H1(){for(;kt!==null&&!bn();)Py(kt)}function Py(e){var n=uy(e.alternate,e,gs);e.memoizedProps=e.pendingProps,n===null?mc(e):kt=n}function zy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=iy(r,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=iy(r,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Tf(n);default:hy(r,n),n=kt=jg(n,gs),n=uy(r,n,gs)}e.memoizedProps=e.pendingProps,n===null?mc(e):kt=n}function Ya(e,n,r,o){rs=Qr=null,Tf(n),La=null,Zo=0;var h=n.return;try{if(D1(e,h,n,r,Pt)){Ie=1,ec(e,$n(r,e.current)),kt=null;return}}catch(f){if(h!==null)throw kt=h,f;Ie=1,ec(e,$n(r,e.current)),kt=null;return}n.flags&32768?(Ft||o===1?e=!0:Ga||(Pt&536870912)!==0?e=!1:($s=e=!0,(o===2||o===9||o===3||o===6)&&(o=jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),By(n,e)):mc(n)}function mc(e){var n=e;do{if((n.flags&32768)!==0){By(n,$s);return}e=n.return;var r=V1(n.alternate,n,gs);if(r!==null){kt=r;return}if(n=n.sibling,n!==null){kt=n;return}kt=n=e}while(n!==null);Ie===0&&(Ie=5)}function By(e,n){do{var r=k1(e.alternate,e);if(r!==null){r.flags&=32767,kt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){kt=e;return}kt=e=r}while(e!==null);Ie=6,kt=null}function qy(e,n,r,o,h,f,p,E,x){e.cancelPendingCommit=null;do gc();while(Ye!==0);if((Jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,jh(e,r,f,p,E,x),e===me&&(kt=me=null,Pt=0),Qa=n,Ws=e,ps=r,nd=f,id=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K1(ri,function(){return Ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=et.p,et.p=2,p=Jt,Jt|=4;try{U1(e,n,r)}finally{Jt=p,et.p=h,H.T=o}}Ye=1,Hy(),Gy(),Fy()}}function Hy(){if(Ye===1){Ye=0;var e=Ws,n=Qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=Jt;Jt|=4;try{Sy(n,e);var f=_d,p=Cg(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ig(E.ownerDocument.documentElement,E)){if(x!==null&&qh(E)){var P=x.start,G=x.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),lt=E.textContent.length,yt=Math.min(x.start,lt),fe=x.end===void 0?yt:Math.min(x.end,lt);!q.extend&&yt>fe&&(p=fe,fe=yt,yt=p);var U=xg(E,yt),D=xg(E,fe);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var j=Y.createRange();j.setStart(U.node,U.offset),q.removeAllRanges(),yt>fe?(q.addRange(j),q.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),q.addRange(j))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}xc=!!yd,_d=yd=null}finally{Jt=h,et.p=o,H.T=r}}e.current=n,Ye=2}}function Gy(){if(Ye===2){Ye=0;var e=Ws,n=Qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=et.p;et.p=2;var h=Jt;Jt|=4;try{_y(e,n.alternate,n)}finally{Jt=h,et.p=o,H.T=r}}Ye=3}}function Fy(){if(Ye===4||Ye===3){Ye=0,pe();var e=Ws,n=Qa,r=ps,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ye=5:(Ye=0,Qa=Ws=null,Qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Zs=null),Wi(r),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(ps&3)!==0&&gc(),Bi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===sd?gl++:(gl=0,sd=e):gl=0,pl(0)}}function Qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,$o(n)))}function gc(){return Hy(),Gy(),Fy(),Ky()}function Ky(){if(Ye!==5)return!1;var e=Ws,n=nd;nd=0;var r=Wi(ps),o=H.T,h=et.p;try{et.p=32>r?32:r,H.T=null,r=id,id=null;var f=Ws,p=ps;if(Ye=0,Qa=Ws=null,ps=0,(Jt&6)!==0)throw Error(a(331));var E=Jt;if(Jt|=4,Iy(f.current),wy(f,f.current,p,r),Jt=E,pl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{et.p=h,H.T=o,Qy(e,n)}}function Yy(e,n,r){n=$n(r,n),n=Uf(e.stateNode,n,2),e=Qs(e,n,2),e!==null&&(Cr(e,2),Bi(e))}function oe(e,n,r){if(e.tag===3)Yy(e,e,r);else for(;n!==null;){if(n.tag===3){Yy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zs===null||!Zs.has(o))){e=$n(r,e),r=Xp(2),o=Qs(n,r,2),o!==null&&($p(r,o,n,e),Cr(o,2),Bi(o));break}}n=n.return}}function od(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new P1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Wf=!0,h.add(r),e=G1.bind(null,e,n,r),n.then(e,e))}function G1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,me===e&&(Pt&r)===r&&(Ie===4||Ie===3&&(Pt&62914560)===Pt&&300>ke()-uc?(Jt&2)===0&&Ka(e,0):td|=r,Fa===Pt&&(Fa=0)),Bi(e)}function Xy(e,n){n===0&&(n=hu()),e=Hr(e,n),e!==null&&(Cr(e,n),Bi(e))}function F1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Xy(e,r)}function Q1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Xy(e,r)}function K1(e,n){return dt(e,n)}var pc=null,Xa=null,ld=!1,yc=!1,ud=!1,er=0;function Bi(e){e!==Xa&&e.next===null&&(Xa===null?pc=Xa=e:Xa=Xa.next=e),yc=!0,ld||(ld=!0,X1())}function pl(e,n){if(!ud&&yc){ud=!0;do for(var r=!1,o=pc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ae(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Wy(o,f))}else f=Pt,f=Si(o,o===me?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ai(o,f)||(r=!0,Wy(o,f));o=o.next}while(r);ud=!1}}function Y1(){$y()}function $y(){yc=ld=!1;var e=0;er!==0&&rb()&&(e=er);for(var n=ke(),r=null,o=pc;o!==null;){var h=o.next,f=Jy(o,n);f===0?(o.next=null,r===null?pc=h:r.next=h,h===null&&(Xa=r)):(r=o,(e!==0||(f&3)!==0)&&(yc=!0)),o=h}Ye!==0&&Ye!==5||pl(e),er!==0&&(er=0)}function Jy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ae(f),E=1<<p,x=h[p];x===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Lh(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=me,r=Pt,r=Si(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ie(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ai(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&ie(o),Wi(r)){case 2:case 8:r=$i;break;case 32:r=ri;break;case 268435456:r=Cs;break;default:r=ri}return o=Zy.bind(null,e),r=dt(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&ie(o),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(gc()&&e.callbackNode!==r)return null;var o=Pt;return o=Si(e,e===me?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(My(e,o,n),Jy(e,ke()),e.callbackNode!=null&&e.callbackNode===r?Zy.bind(null,e):null)}function Wy(e,n){if(gc())return null;My(e,n,!0)}function X1(){ob(function(){(Jt&6)!==0?dt(Sn,Y1):$y()})}function cd(){if(er===0){var e=Va;e===0&&(e=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),er=e}return er}function t_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:va(""+e)}function e_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function $1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=t_((h[Je]||null).action),p=o.submitter;p&&(n=(n=p[Je]||null)?t_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(er!==0){var x=p?e_(h,p):new FormData(h);Nf(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=p?e_(h,p):new FormData(h),Nf(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var hd=0;hd<Qh.length;hd++){var fd=Qh[hd],J1=fd.toLowerCase(),Z1=fd[0].toUpperCase()+fd.slice(1);mi(J1,"on"+Z1)}mi(Og,"onAnimationEnd"),mi(Mg,"onAnimationIteration"),mi(Vg,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(m1,"onTransitionRun"),mi(g1,"onTransitionStart"),mi(p1,"onTransitionCancel"),mi(kg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function n_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],x=E.instance,P=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=x}else for(p=0;p<o.length;p++){if(E=o[p],x=E.instance,P=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(G){Ou(G)}h.currentTarget=null,f=x}}}}function Ut(e,n){var r=n[ma];r===void 0&&(r=n[ma]=new Set);var o=e+"__bubble";r.has(o)||(i_(n,e,2,!1),r.add(o))}function dd(e,n,r){var o=0;n&&(o|=4),i_(r,e,o,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function md(e){if(!e[_c]){e[_c]=!0,Co.forEach(function(r){r!=="selectionchange"&&(W1.has(r)||dd(r,!1,e),dd(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_c]||(n[_c]=!0,dd("selectionchange",!1,n))}}function i_(e,n,r,o){switch(O_(n)){case 2:var h=xb;break;case 8:h=Ib;break;default:h=Cd}r=h.bind(null,n,r,e),h=void 0,!kr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function gd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=xi(E),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){o=f=p;continue t}E=E.parentNode}}o=o.return}Us(function(){var P=f,G=Qn(r),Y=[];t:{var z=Ug.get(e);if(z!==void 0){var q=Vi,lt=e;switch(e){case"keypress":if(Lr(r)===0)break t;case"keydown":case"keyup":q=Cu;break;case"focusin":lt="focus",q=Pr;break;case"focusout":lt="blur",q=Pr;break;case"beforeblur":case"afterblur":q=Pr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Og:case Mg:case Vg:q=bu;break;case kg:q=T;break;case"scroll":case"scrollend":q=Bo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ns;break;case"toggle":case"beforetoggle":q=Nt}var yt=(n&4)!==0,fe=!yt&&(e==="scroll"||e==="scrollend"),U=yt?z!==null?z+"Capture":null:z;yt=[];for(var D=P,j;D!==null;){var Q=D;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||U===null||(Q=ci(D,U),Q!=null&&yt.push(_l(D,Q,j))),fe)break;D=D.return}0<yt.length&&(z=new q(z,lt,null,r,G),Y.push({event:z,listeners:yt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==jo&&(lt=r.relatedTarget||r.fromElement)&&(xi(lt)||lt[wi]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=P,lt=lt?xi(lt):null,lt!==null&&(fe=c(lt),yt=lt.tag,lt!==fe||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(yt=qo,Q="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(yt=ns,Q="onPointerLeave",U="onPointerEnter",D="pointer"),fe=q==null?z:Vn(q),j=lt==null?z:Vn(lt),z=new yt(Q,D+"leave",q,r,G),z.target=fe,z.relatedTarget=j,Q=null,xi(G)===P&&(yt=new yt(U,D+"enter",lt,r,G),yt.target=j,yt.relatedTarget=fe,Q=yt),fe=Q,q&&lt)e:{for(yt=tb,U=q,D=lt,j=0,Q=U;Q;Q=yt(Q))j++;Q=0;for(var mt=D;mt;mt=yt(mt))Q++;for(;0<j-Q;)U=yt(U),j--;for(;0<Q-j;)D=yt(D),Q--;for(;j--;){if(U===D||D!==null&&U===D.alternate){yt=U;break e}U=yt(U),D=yt(D)}yt=null}else yt=null;q!==null&&s_(Y,z,q,yt,!1),lt!==null&&fe!==null&&s_(Y,fe,lt,yt,!0)}}t:{if(z=P?Vn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Kt=Tg;else if(vg(z))if(bg)Kt=h1;else{Kt=u1;var ut=l1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&_a(P.elementType)&&(Kt=Tg):Kt=c1;if(Kt&&(Kt=Kt(e,P))){Eg(Y,Kt,r,G);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&ko(z,"number",z.value)}switch(ut=P?Vn(P):window,e){case"focusin":(vg(ut)||ut.contentEditable==="true")&&(Ra=ut,Hh=P,Ko=null);break;case"focusout":Ko=Hh=Ra=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Ng(Y,r,G);break;case"selectionchange":if(d1)break;case"keydown":case"keyup":Ng(Y,r,G)}var Ot;if($t)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else wa?zr(e,r)&&(zt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(zt="onCompositionStart");zt&&(Li&&r.locale!=="ko"&&(wa||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&wa&&(Ot=zo()):(Mi=G,Po="value"in Mi?Mi.value:Mi.textContent,wa=!0)),ut=vc(P,zt),0<ut.length&&(zt=new Ui(zt,e,null,r,G),Y.push({event:zt,listeners:ut}),Ot?zt.data=Ot:(Ot=Aa(r),Ot!==null&&(zt.data=Ot)))),(Ot=Yn?s1(e,r):r1(e,r))&&(zt=vc(P,"onBeforeInput"),0<zt.length&&(ut=new Ui("onBeforeInput","beforeinput",null,r,G),Y.push({event:ut,listeners:zt}),ut.data=Ot)),$1(Y,e,P,r,G)}n_(Y,n)})}function _l(e,n,r){return{instance:e,listener:n,currentTarget:r}}function vc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ci(e,r),h!=null&&o.unshift(_l(e,h,f)),h=ci(e,n),h!=null&&o.push(_l(e,h,f))),e.tag===3)return o;e=e.return}return[]}function tb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function s_(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,x=E.alternate,P=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||P===null||(x=P,h?(P=ci(r,f),P!=null&&p.unshift(_l(r,P,x))):h||(P=ci(r,f),P!=null&&p.push(_l(r,P,x)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var eb=/\r\n?/g,nb=/\u0000|\uFFFD/g;function r_(e){return(typeof e=="string"?e:""+e).replace(eb,`
`).replace(nb,"")}function a_(e,n){return n=r_(n),r_(e)===n}function he(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Rn(e,""+o);break;case"className":kn(e,"class",o);break;case"tabIndex":kn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(e,r,o);break;case"style":Lo(e,o,f);break;case"data":if(n!=="object"){kn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=va(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&he(e,n,"name",h.name,h,null),he(e,n,"formEncType",h.formEncType,h,null),he(e,n,"formMethod",h.formMethod,h,null),he(e,n,"formTarget",h.formTarget,h,null)):(he(e,n,"encType",h.encType,h,null),he(e,n,"method",h.method,h,null),he(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=va(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=ui);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=va(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),pa(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=vu.get(r)||r,pa(e,r,o))}}function pd(e,n,r,o,h,f){switch(r){case"style":Lo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?Rn(e,o):(typeof o=="number"||typeof o=="bigint")&&Rn(e,""+o);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Je]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):pa(e,r,o)}}}function an(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:he(e,n,f,p,r,null)}}h&&he(e,n,"srcSet",r.srcSet,r,null),o&&he(e,n,"src",r.src,r,null);return;case"input":Ut("invalid",e);var E=f=p=h=null,x=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var G=r[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":x=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:he(e,n,o,G,r,null)}}pu(e,f,E,x,P,p,h,!1);return;case"select":Ut("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:he(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?Os(e,!!o,n,!1):r!=null&&Os(e,!!o,r,!0);return;case"textarea":Ut("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:he(e,n,p,E,r,null)}Ms(e,o,h,f);return;case"option":for(x in r)r.hasOwnProperty(x)&&(o=r[x],o!=null)&&(x==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":he(e,n,x,o,r,null));return;case"dialog":Ut("beforetoggle",e),Ut("toggle",e),Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(o=0;o<yl.length;o++)Ut(yl[o],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:he(e,n,P,o,r,null)}return;default:if(_a(n)){for(G in r)r.hasOwnProperty(G)&&(o=r[G],o!==void 0&&pd(e,n,G,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&he(e,n,E,o,r,null))}function ib(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,x=null,P=null,G=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=Y;default:o.hasOwnProperty(q)||he(e,n,q,null,o,Y)}}for(var z in o){var q=o[z];if(Y=r[z],o.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":G=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&he(e,n,z,q,o,Y)}}ya(e,p,E,x,P,G,f,h);return;case"select":q=p=E=z=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:o.hasOwnProperty(f)||he(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==x&&he(e,n,h,f,o,x)}n=E,r=p,o=q,z!=null?Os(e,!!r,z,!1):!!o!=!!r&&(n!=null?Os(e,!!r,n,!0):Os(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:he(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&he(e,n,p,h,o,f)}yu(e,z,q);return;case"option":for(var lt in r)z=r[lt],r.hasOwnProperty(lt)&&z!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:he(e,n,lt,null,o,z));for(x in o)z=o[x],q=r[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null)&&(x==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":he(e,n,x,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)z=r[yt],r.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt)&&he(e,n,yt,null,o,z);for(P in o)if(z=o[P],q=r[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:he(e,n,P,z,o,q)}return;default:if(_a(n)){for(var fe in r)z=r[fe],r.hasOwnProperty(fe)&&z!==void 0&&!o.hasOwnProperty(fe)&&pd(e,n,fe,void 0,o,z);for(G in o)z=o[G],q=r[G],!o.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||pd(e,n,G,z,o,q);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&he(e,n,U,null,o,z);for(Y in o)z=o[Y],q=r[Y],!o.hasOwnProperty(Y)||z===q||z==null&&q==null||he(e,n,Y,z,o,q)}function o_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&o_(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],P=x.startTime;if(P>E)break;var G=x.transferSize,Y=x.initiatorType;G&&o_(Y)&&(x=x.responseEnd,p+=G*(x<E?1:(E-P)/(x-P)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yd=null,_d=null;function Ec(e){return e.nodeType===9?e:e.ownerDocument}function l_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ed=null;function rb(){var e=window.event;return e&&e.type==="popstate"?e===Ed?!1:(Ed=e,!0):(Ed=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,ob=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(e){return h_.resolve(null).then(e).catch(lb)}:c_;function lb(e){setTimeout(function(){throw e})}function nr(e){return e==="head"}function f_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Wa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")vl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,vl(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&vl(e.ownerDocument.body);r=h}while(r);Wa(n)}function d_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Td(r),ga(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ub(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function cb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=ei(e.nextSibling),e===null))return null;return e}function m_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ei(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function g_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return ei(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function p_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function y_(e,n,r){switch(n=Ec(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function vl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ga(e)}var ni=new Map,__=new Set;function Tc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ys=et.d;et.d={f:fb,r:db,D:mb,C:gb,L:pb,m:yb,X:vb,S:_b,M:Eb};function fb(){var e=ys.f(),n=fc();return e||n}function db(e){var n=Fn(e);n!==null&&n.tag===5&&n.type==="form"?kp(n):ys.r(e)}var $a=typeof document>"u"?null:document;function v_(e,n,r){var o=$a;if(o&&typeof n=="string"&&n){var h=wn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),__.has(h)||(__.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),an(n,"link",e),je(n),o.head.appendChild(n)))}}function mb(e){ys.D(e),v_("dns-prefetch",e,null)}function gb(e,n){ys.C(e,n),v_("preconnect",e,n)}function pb(e,n,r){ys.L(e,n,r);var o=$a;if(o&&e&&n){var h='link[rel="preload"][as="'+wn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+wn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+wn(r.imageSizes)+'"]')):h+='[href="'+wn(e)+'"]';var f=h;switch(n){case"style":f=Ja(e);break;case"script":f=Za(e)}ni.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),ni.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(El(f))||n==="script"&&o.querySelector(Tl(f))||(n=o.createElement("link"),an(n,"link",e),je(n),o.head.appendChild(n)))}}function yb(e,n){ys.m(e,n);var r=$a;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(e)}if(!ni.has(f)&&(e=A({rel:"modulepreload",href:e},n),ni.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(f)))return}o=r.createElement("link"),an(o,"link",e),je(o),r.head.appendChild(o)}}}function _b(e,n,r){ys.S(e,n,r);var o=$a;if(o&&e){var h=Ii(o).hoistableStyles,f=Ja(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(El(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=ni.get(f))&&wd(e,r);var x=p=o.createElement("link");je(x),an(x,"link",e),x._p=new Promise(function(P,G){x.onload=P,x.onerror=G}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function vb(e,n){ys.X(e,n);var r=$a;if(r&&e){var o=Ii(r).hoistableScripts,h=Za(e),f=o.get(h);f||(f=r.querySelector(Tl(h)),f||(e=A({src:e,async:!0},n),(n=ni.get(h))&&Rd(e,n),f=r.createElement("script"),je(f),an(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Eb(e,n){ys.M(e,n);var r=$a;if(r&&e){var o=Ii(r).hoistableScripts,h=Za(e),f=o.get(h);f||(f=r.querySelector(Tl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=ni.get(h))&&Rd(e,n),f=r.createElement("script"),je(f),an(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function E_(e,n,r,o){var h=(h=Ct.current)?Tc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ja(r.href),r=Ii(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ja(r.href);var f=Ii(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(El(e)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ni.set(e,r),f||Tb(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(r),r=Ii(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ja(e){return'href="'+wn(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function T_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function Tb(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),an(n,"link",r),je(n),e.head.appendChild(n))}function Za(e){return'[src="'+wn(e)+'"]'}function Tl(e){return"script[async]"+e}function b_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+wn(r.href)+'"]');if(o)return n.instance=o,je(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),je(o),an(o,"style",h),bc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Ja(r.href);var f=e.querySelector(El(h));if(f)return n.state.loading|=4,n.instance=f,je(f),f;o=T_(r),(h=ni.get(h))&&wd(o,h),f=(e.ownerDocument||e).createElement("link"),je(f);var p=f;return p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),an(f,"link",o),n.state.loading|=4,bc(f,r.precedence,e),n.instance=f;case"script":return f=Za(r.src),(h=e.querySelector(Tl(f)))?(n.instance=h,je(h),h):(o=r,(h=ni.get(f))&&(o=A({},r),Rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),je(h),an(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,bc(o,r.precedence,e));return n.instance}function bc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Sc=null;function S_(e,n,r){if(Sc===null){var o=new Map,h=Sc=new Map;h.set(r,o)}else h=Sc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[Ri]||f[Le]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function A_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function bb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sb(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ja(o.href),f=n.querySelector(El(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ac.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,je(f);return}f=n.ownerDocument||n,o=T_(o),(h=ni.get(h))&&wd(o,h),f=f.createElement("link"),je(f);var p=f;p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),an(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Ac.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var xd=0;function Ab(e,n){return e.stylesheets&&e.count===0&&Rc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&xd===0&&(xd=62500*sb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Rc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>xd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function Rc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,n.forEach(wb,e),wc=null,Ac.call(e))}function wb(e,n){if(!(n.state.loading&4)){var r=wc.get(e);if(r)var o=r.get(null);else{r=new Map,wc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=Ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var bl={$$typeof:St,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function Rb(e,n,r,o,h,f,p,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function R_(e,n,r,o,h,f,p,E,x,P,G,Y){return e=new Rb(e,n,r,p,x,P,G,Y,E),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),e.current=f,f.stateNode=e,n=af(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},cf(f),e}function x_(e){return e?(e=Ca,e):Ca}function I_(e,n,r,o,h,f){h=x_(h),o.context===null?o.context=h:o.pendingContext=h,o=Fs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Qs(e,o,n),r!==null&&(Dn(r,e,n),tl(r,e,n))}function C_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Id(e,n){C_(e,n),(e=e.alternate)&&C_(e,n)}function N_(e){if(e.tag===13||e.tag===31){var n=Hr(e,67108864);n!==null&&Dn(n,e,67108864),Id(e,67108864)}}function D_(e){if(e.tag===13||e.tag===31){var n=qn();n=Dr(n);var r=Hr(e,n);r!==null&&Dn(r,e,n),Id(e,n)}}var xc=!0;function xb(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Cd(e,n,r,o)}finally{et.p=f,H.T=h}}function Ib(e,n,r,o){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Cd(e,n,r,o)}finally{et.p=f,H.T=h}}function Cd(e,n,r,o){if(xc){var h=Nd(o);if(h===null)gd(e,n,o,Ic,r),M_(e,o);else if(Nb(h,e,n,r,o))o.stopPropagation();else if(M_(e,o),n&4&&-1<Cb.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=bi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var x=1<<31-Ae(p);E.entanglements[1]|=x,p&=~x}Bi(f),(Jt&6)===0&&(cc=ke()+500,pl(0))}}break;case 31:case 13:E=Hr(f,2),E!==null&&Dn(E,f,2),fc(),Id(f,2)}if(f=Nd(o),f===null&&gd(e,n,o,Ic,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(e,n,o,null,r)}}function Nd(e){return e=Qn(e),Dd(e)}var Ic=null;function Dd(e){if(Ic=null,e=xi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=y(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ic=e,null}function O_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case Sn:return 2;case $i:return 8;case ri:case Ji:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var Od=!1,ir=null,sr=null,rr=null,Sl=new Map,Al=new Map,ar=[],Cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(e,n){switch(e){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function wl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Nb(e,n,r,o,h){switch(n){case"focusin":return ir=wl(ir,e,n,r,o,h),!0;case"dragenter":return sr=wl(sr,e,n,r,o,h),!0;case"mouseover":return rr=wl(rr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return Sl.set(f,wl(Sl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,wl(Al.get(f)||null,e,n,r,o,h)),!0}return!1}function V_(e){var n=xi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,oi(e.priority,function(){D_(r)});return}}else if(n===31){if(n=y(r),n!==null){e.blockedOn=n,oi(e.priority,function(){D_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Nd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);jo=o,r.target.dispatchEvent(o),jo=null}else return n=Fn(r),n!==null&&N_(n),e.blockedOn=r,!1;n.shift()}return!0}function k_(e,n,r){Cc(e)&&r.delete(n)}function Db(){Od=!1,ir!==null&&Cc(ir)&&(ir=null),sr!==null&&Cc(sr)&&(sr=null),rr!==null&&Cc(rr)&&(rr=null),Sl.forEach(k_),Al.forEach(k_)}function Nc(e,n){e.blockedOn===n&&(e.blockedOn=null,Od||(Od=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Db)))}var Dc=null;function U_(e){Dc!==e&&(Dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Dd(o||r)===null)continue;break}var f=Fn(r);f!==null&&(e.splice(n,3),n-=3,Nf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Wa(e){function n(x){return Nc(x,e)}ir!==null&&Nc(ir,e),sr!==null&&Nc(sr,e),rr!==null&&Nc(rr,e),Sl.forEach(n),Al.forEach(n);for(var r=0;r<ar.length;r++){var o=ar[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)V_(r),r.blockedOn===null&&ar.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Je]||null;if(typeof f=="function")p||U_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Je]||null)E=p.formAction;else if(Dd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),U_(r)}}}function L_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Md(e){this._internalRoot=e}Oc.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=qn();I_(r,o,e,n,null,null)},Oc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;I_(e.current,2,null,e,null,null),fc(),n[wi]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=fu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<ar.length&&n!==0&&n<ar[r].priority;r++);ar.splice(r,0,e),r===0&&V_(e)}};var j_=t.version;if(j_!=="19.2.3")throw Error(a(527,j_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Ob={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{se=Mc.inject(Ob),Ke=Mc}catch{}}return xl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Fp,f=Qp,p=Kp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=R_(e,1,!1,null,null,r,o,null,h,f,p,L_),e[wi]=n.current,md(e),new Md(n)},xl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Fp,p=Qp,E=Kp,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=R_(e,1,!0,n,r??null,o,h,x,f,p,E,L_),n.context=x_(null),r=n.current,o=qn(),o=Dr(o),h=Fs(o),h.callback=null,Qs(r,h,o),r=o,n.current.lanes=r,Cr(n,r),Bi(n),e[wi]=n.current,md(e),new Oc(n)},xl.version="19.2.3",xl}var X_;function Hb(){if(X_)return Ud.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ud.exports=qb(),Ud.exports}var Gb=Hb();const Fb=()=>{};var $_={};const Dv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Qb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,S=c>>2,A=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,F=_&63;g||(F=64,d||(M=64)),a.push(i[S],i[A],i[M],i[F])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Dv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):Qb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||A==null)throw new Kb;const M=c<<2|y>>4;if(a.push(M),_!==64){const F=y<<4&240|_>>2;if(a.push(F),A!==64){const W=_<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Kb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yb=function(s){const t=Dv(s);return Ov.encodeByteArray(t,!0)},Wc=function(s){return Yb(s).replace(/\./g,"")},Mv=function(s){try{return Ov.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $b=()=>Xb().__FIREBASE_DEFAULTS__,Jb=()=>{if(typeof process>"u"||typeof $_>"u")return;const s=$_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Zb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Mv(s[1]);return t&&JSON.parse(t)},_h=()=>{try{return Fb()||$b()||Jb()||Zb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vv=s=>_h()?.emulatorHosts?.[s],Wb=s=>{const t=Vv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},kv=()=>_h()?.config,Uv=s=>_h()?.[`_${s}`];class tS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(s){return(await fetch(s,{credentials:"include"})).ok}function eS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const Vl={};function nS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Vl))Vl[t]?s.emulator.push(t):s.prod.push(t);return s}function iS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let J_=!1;function jv(s,t){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Vl[s]===t||Vl[s]||J_)return;Vl[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=nS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{J_=!0,d()},M}function S(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=iS(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),st=document.getElementById(it)||document.createElement("a"),ht=i("preprendIcon"),Rt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const St=M.element;y(St),S(st,it);const te=_();g(Rt,ht),St.append(Rt,W,st,te),document.body.appendChild(St)}c?(W.innerText="Preview backend disconnected.",Rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function rS(){const s=_h()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function lS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uS(){const s=yn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function cS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hS(){try{return typeof indexedDB=="object"}catch{return!1}}function fS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const dS="FirebaseError";class Is extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=dS,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?mS(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Is(l,y,a)}}function mS(s,t){return s.replace(gS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const gS=/\{\$([^}]+)}/g;function pS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function vr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(Z_(c)&&Z_(d)){if(!vr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Z_(s){return s!==null&&typeof s=="object"}function Jl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yS(s,t){const i=new _S(s,t);return i.subscribe.bind(i)}class _S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");vS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=zd),l.error===void 0&&(l.error=zd),l.complete===void 0&&(l.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function Tn(s){return s&&s._delegate?s._delegate:s}class aa{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ia="[DEFAULT]";class ES{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new tS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bS(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(s){return s===ia?void 0:s}function bS(s){return s.instantiationMode==="EAGER"}class SS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ES(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const AS={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},wS=Bt.INFO,RS={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},xS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=RS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=wS,this._logHandler=xS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?AS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const IS=(s,t)=>t.some(i=>s instanceof i);let W_,t0;function CS(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NS(){return t0||(t0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,tm=new WeakMap,zv=new WeakMap,Bd=new WeakMap,Nm=new WeakMap;function DS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(mr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Pv.set(i,s)}).catch(()=>{}),Nm.set(t,s),t}function OS(s){if(tm.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});tm.set(s,t)}let em={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return tm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||zv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function MS(s){em=s(em)}function VS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(qd(this),t,...i);return zv.set(a,t.sort?t.sort():[t]),mr(a)}:NS().includes(s)?function(...t){return s.apply(qd(this),t),mr(Pv.get(this))}:function(...t){return mr(s.apply(qd(this),t))}}function kS(s){return typeof s=="function"?VS(s):(s instanceof IDBTransaction&&OS(s),IS(s,CS())?new Proxy(s,em):s)}function mr(s){if(s instanceof IDBRequest)return DS(s);if(Bd.has(s))return Bd.get(s);const t=kS(s);return t!==s&&(Bd.set(s,t),Nm.set(t,s)),t}const qd=s=>Nm.get(s);function US(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),y=mr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(mr(d.result),g.oldVersion,g.newVersion,mr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const LS=["get","getKey","getAll","getAllKeys","count"],jS=["put","add","delete","clear"],Hd=new Map;function e0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Hd.get(t))return Hd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=jS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||LS.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&g.done]))[0]};return Hd.set(t,c),c}MS(s=>({...s,get:(t,i,a)=>e0(t,i)||s.get(t,i,a),has:(t,i)=>!!e0(t,i)||s.has(t,i)}));class PS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(zS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function zS(s){return s.getComponent()?.type==="VERSION"}const nm="@firebase/app",n0="0.14.7";const bs=new Cm("@firebase/app"),BS="@firebase/app-compat",qS="@firebase/analytics-compat",HS="@firebase/analytics",GS="@firebase/app-check-compat",FS="@firebase/app-check",QS="@firebase/auth",KS="@firebase/auth-compat",YS="@firebase/database",XS="@firebase/data-connect",$S="@firebase/database-compat",JS="@firebase/functions",ZS="@firebase/functions-compat",WS="@firebase/installations",tA="@firebase/installations-compat",eA="@firebase/messaging",nA="@firebase/messaging-compat",iA="@firebase/performance",sA="@firebase/performance-compat",rA="@firebase/remote-config",aA="@firebase/remote-config-compat",oA="@firebase/storage",lA="@firebase/storage-compat",uA="@firebase/firestore",cA="@firebase/ai",hA="@firebase/firestore-compat",fA="firebase",dA="12.8.0";const im="[DEFAULT]",mA={[nm]:"fire-core",[BS]:"fire-core-compat",[HS]:"fire-analytics",[qS]:"fire-analytics-compat",[FS]:"fire-app-check",[GS]:"fire-app-check-compat",[QS]:"fire-auth",[KS]:"fire-auth-compat",[YS]:"fire-rtdb",[XS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[JS]:"fire-fn",[ZS]:"fire-fn-compat",[WS]:"fire-iid",[tA]:"fire-iid-compat",[eA]:"fire-fcm",[nA]:"fire-fcm-compat",[iA]:"fire-perf",[sA]:"fire-perf-compat",[rA]:"fire-rc",[aA]:"fire-rc-compat",[oA]:"fire-gcs",[lA]:"fire-gcs-compat",[uA]:"fire-fst",[hA]:"fire-fst-compat",[cA]:"fire-vertex","fire-js":"fire-js",[fA]:"fire-js-all"};const th=new Map,gA=new Map,sm=new Map;function i0(s,t){try{s.container.addComponent(t)}catch(i){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ho(s){const t=s.name;if(sm.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,s);for(const i of th.values())i0(i,s);for(const i of gA.values())i0(i,s);return!0}function Dm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function ii(s){return s==null?!1:s.settings!==void 0}const pA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new $l("app","Firebase",pA);class yA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const To=dA;function Bv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw gr.create("bad-app-name",{appName:String(l)});if(i||(i=kv()),!i)throw gr.create("no-options");const c=th.get(l);if(c){if(vr(i,c.options)&&vr(a,c.config))return c;throw gr.create("duplicate-app",{appName:l})}const d=new SS(l);for(const g of sm.values())d.addComponent(g);const y=new yA(i,a,d);return th.set(l,y),y}function qv(s=im){const t=th.get(s);if(!t&&s===im&&kv())return Bv();if(!t)throw gr.create("no-app",{appName:s});return t}function pr(s,t,i){let a=mA[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(d.join(" "));return}ho(new aa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const _A="firebase-heartbeat-database",vA=1,zl="firebase-heartbeat-store";let Gd=null;function Hv(){return Gd||(Gd=US(_A,vA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw gr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function EA(s){try{const i=(await Hv()).transaction(zl),a=await i.objectStore(zl).get(Gv(s));return await i.done,a}catch(t){if(t instanceof Is)bs.warn(t.message);else{const i=gr.create("idb-get",{originalErrorMessage:t?.message});bs.warn(i.message)}}}async function s0(s,t){try{const a=(await Hv()).transaction(zl,"readwrite");await a.objectStore(zl).put(t,Gv(s)),await a.done}catch(i){if(i instanceof Is)bs.warn(i.message);else{const a=gr.create("idb-set",{originalErrorMessage:i?.message});bs.warn(a.message)}}}function Gv(s){return`${s.name}!${s.options.appId}`}const TA=1024,bA=30;class SA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new wA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=r0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>bA){const l=RA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=r0(),{heartbeatsToSend:i,unsentEntries:a}=AA(this._heartbeatsCache.heartbeats),l=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return bs.warn(t),""}}}function r0(){return new Date().toISOString().substring(0,10)}function AA(s,t=TA){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),a0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),a0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class wA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hS()?fS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await EA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return s0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return s0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function a0(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function RA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function xA(s){ho(new aa("platform-logger",t=>new PS(t),"PRIVATE")),ho(new aa("heartbeat",t=>new SA(t),"PRIVATE")),pr(nm,n0,s),pr(nm,n0,"esm2020"),pr("fire-js","")}xA("");var IA="firebase",CA="12.8.0";pr(IA,CA,"app");function Fv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NA=Fv,Qv=new $l("auth","Firebase",Fv());const eh=new Cm("@firebase/auth");function DA(s,...t){eh.logLevel<=Bt.WARN&&eh.warn(`Auth (${To}): ${s}`,...t)}function Hc(s,...t){eh.logLevel<=Bt.ERROR&&eh.error(`Auth (${To}): ${s}`,...t)}function Ss(s,...t){throw Om(s,...t)}function Hi(s,...t){return Om(s,...t)}function Kv(s,t,i){const a={...NA(),[t]:i};return new $l("auth","Firebase",a).create(t,{appName:s.name})}function Ts(s){return Kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Om(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Qv.create(s,...t)}function bt(s,t,...i){if(!s)throw Om(t,...i)}function _s(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Hc(t),new Error(t)}function As(s,t){s||_s(t)}function rm(){return typeof self<"u"&&self.location?.href||""}function OA(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function MA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OA()||oS()||"connection"in navigator)?navigator.onLine:!0}function VA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,As(i>t,"Short delay should be less than long delay!"),this.isMobile=sS()||lS()}get(){return MA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mm(s,t){As(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Yv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LA=new Zl(3e4,6e4);function Wl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function bo(s,t,i,a,l={}){return Xv(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=Jl({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:g,...c};return aS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(_.credentials="include"),Yv.fetch()(await $v(s,s.config.apiHost,i,y),_)})}async function Xv(s,t,i){s._canInitEmulator=!1;const a={...kA,...t};try{const l=new jA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Vc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,_]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw Vc(s,"user-disabled",d);const S=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Kv(s,S,_);Ss(s,S)}}catch(l){if(l instanceof Is)throw l;Ss(s,"network-request-failed",{message:String(l)})}}async function Vm(s,t,i,a,l={}){const c=await bo(s,t,i,a,l);return"mfaPendingCredential"in c&&Ss(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function $v(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Mm(s.config,l):`${s.config.apiScheme}://${l}`;return UA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Hi(this.auth,"network-request-failed")),LA.get())})}}function Vc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Hi(s,t,a);return l.customData._tokenResponse=i,l}async function PA(s,t){return bo(s,"POST","/v1/accounts:delete",t)}async function nh(s,t){return bo(s,"POST","/v1/accounts:lookup",t)}function kl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zA(s,t=!1){const i=Tn(s),a=await i.getIdToken(t),l=km(a);bt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:kl(Fd(l.auth_time)),issuedAtTime:kl(Fd(l.iat)),expirationTime:kl(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function km(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Mv(i);return l?JSON.parse(l):(Hc("Failed to decode base64 JWT payload"),null)}catch(l){return Hc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function l0(s){const t=km(s);return bt(t,"internal-error"),bt(typeof t.exp<"u","internal-error"),bt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Is&&BA(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function BA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class qA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const t=s.auth,i=await s.getIdToken(),a=await Bl(s,nh(t,{idToken:i}));bt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Jv(l.providerUserInfo):[],d=GA(s.providerData,c),y=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=y?g:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function HA(s){const t=Tn(s);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GA(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Jv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function FA(s,t){const i=await Xv(s,{},async()=>{const a=Jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await $v(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return s.emulatorConfig&&Eo(s.emulatorConfig.host)&&(g.credentials="include"),Yv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function QA(s,t){return bo(s,"POST","/v2/accounts:revokeToken",Wl(s,t))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){bt(t.idToken,"internal-error"),bt(typeof t.idToken<"u","internal-error"),bt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):l0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){bt(t.length!==0,"internal-error");const i=l0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(bt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await FA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ro;return a&&(bt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(bt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(bt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return _s("not implemented")}}function lr(s,t){bt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class yi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new qA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return bt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return zA(this,t)}reload(){return HA(this)}_assign(t){this!==t&&(bt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new yi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Ts(this.auth));const t=await this.getIdToken();return await Bl(this,PA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:it}=i;bt(A&&it,t,"internal-error");const st=ro.fromJSON(this.name,it);bt(typeof A=="string",t,"internal-error"),lr(a,t.name),lr(l,t.name),bt(typeof M=="boolean",t,"internal-error"),bt(typeof F=="boolean",t,"internal-error"),lr(c,t.name),lr(d,t.name),lr(y,t.name),lr(g,t.name),lr(_,t.name),lr(S,t.name);const ht=new yi({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:st,createdAt:_,lastLoginAt:S});return W&&Array.isArray(W)&&(ht.providerData=W.map(Rt=>({...Rt}))),g&&(ht._redirectEventId=g),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new ro;l.updateFromServerResponse(i);const c=new yi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];bt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Jv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new ro;y.updateFromIdToken(a);const g=new yi({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const u0=new Map;function vs(s){As(s instanceof Function,"Expected a class definition");let t=u0.get(s);return t?(As(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,u0.set(s,t),t)}class Zv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Zv.type="NONE";const c0=Zv;function Gc(s,t,i){return`firebase:${s}:${t}:${i}`}class ao{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Gc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Gc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nh(this.auth,{idToken:t}).catch(()=>{});return i?yi._fromGetAccountInfoResponse(this.auth,i,t):null}return yi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ao(vs(c0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||vs(c0);const d=Gc(a,t.config.apiKey,t.name);let y=null;for(const _ of i)try{const S=await _._get(d);if(S){let A;if(typeof S=="string"){const M=await nh(t,{idToken:S}).catch(()=>{});if(!M)break;A=await yi._fromGetAccountInfoResponse(t,M,S)}else A=yi._fromJSON(t,S);_!==c&&(y=A),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new ao(c,t,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ao(c,t,a))}}function h0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sE(t))return"Blackberry";if(rE(t))return"Webos";if(tE(t))return"Safari";if((t.includes("chrome/")||eE(t))&&!t.includes("edge/"))return"Chrome";if(iE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Wv(s=yn()){return/firefox\//i.test(s)}function tE(s=yn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function eE(s=yn()){return/crios\//i.test(s)}function nE(s=yn()){return/iemobile/i.test(s)}function iE(s=yn()){return/android/i.test(s)}function sE(s=yn()){return/blackberry/i.test(s)}function rE(s=yn()){return/webos/i.test(s)}function Um(s=yn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function KA(s=yn()){return Um(s)&&!!window.navigator?.standalone}function YA(){return uS()&&document.documentMode===10}function aE(s=yn()){return Um(s)||iE(s)||rE(s)||sE(s)||/windows phone/i.test(s)||nE(s)}function oE(s,t=[]){let i;switch(s){case"Browser":i=h0(yn());break;case"Worker":i=`${h0(yn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${To}/${a}`}class XA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const g=t(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $A(s,t={}){return bo(s,"GET","/v2/passwordPolicy",Wl(s,t))}const JA=6;class ZA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??JA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class WA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new XA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nh(this,{idToken:t}),a=await yi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=VA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(Ts(this));const i=t?Tn(t):null;return i&&bt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&bt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await $A(this),i=new ZA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $l("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await QA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&vs(t)||this._popupRedirectResolver;bt(i,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(bt(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=t.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=t.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=oE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&DA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function tu(s){return Tn(s)}class f0{constructor(t){this.auth=t,this.observer=null,this.addObserver=yS(i=>this.observer=i)}get next(){return bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tw(s){Lm=s}function ew(s){return Lm.loadJS(s)}function nw(){return Lm.gapiScript}function iw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function sw(s,t){const i=Dm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(vr(c,t??{}))return l;Ss(l,"already-initialized")}return i.initialize({options:t})}function rw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function aw(s,t,i){const a=tu(s);bt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=lE(t),{host:d,port:y}=ow(t),g=y===null?"":`:${y}`,_={url:`${c}//${d}${g}/`},S=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){bt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),bt(vr(_,a.config.emulator)&&vr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,Eo(d)?(Lv(`${c}//${d}${g}`),jv("Auth",!0)):lw()}function lE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function ow(s){const t=lE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:d0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:d0(d)}}}function d0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function lw(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class uE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(t){return _s("not implemented")}_linkToIdToken(t,i){return _s("not implemented")}_getReauthenticationResolver(t){return _s("not implemented")}}async function oo(s,t){return Vm(s,"POST","/v1/accounts:signInWithIdp",Wl(s,t))}const uw="http://localhost";class oa extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ss("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new oa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return oo(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,oo(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,oo(t,i)}buildRequest(){const t={requestUri:uw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Jl(i)}return t}}class cE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class eu extends cE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ur extends eu{constructor(){super("facebook.com")}static credential(t){return oa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch{return null}}}ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";ur.PROVIDER_ID="facebook.com";class cr extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return oa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";class hr extends eu{constructor(){super("github.com")}static credential(t){return oa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hr.credential(t.oauthAccessToken)}catch{return null}}}hr.GITHUB_SIGN_IN_METHOD="github.com";hr.PROVIDER_ID="github.com";class fr extends eu{constructor(){super("twitter.com")}static credential(t,i){return oa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return fr.credential(i,a)}catch{return null}}}fr.TWITTER_SIGN_IN_METHOD="twitter.com";fr.PROVIDER_ID="twitter.com";async function cw(s,t){return Vm(s,"POST","/v1/accounts:signUp",Wl(s,t))}class ws{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await yi._fromIdTokenResponse(t,a,l),d=m0(a);return new ws({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=m0(a);return new ws({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function m0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function hw(s){if(ii(s.app))return Promise.reject(Ts(s));const t=tu(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ws({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await cw(t,{returnSecureToken:!0}),a=await ws._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class sh extends Is{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new sh(t,i,a,l)}}function hE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,t,a):c})}async function fw(s,t,i=!1){const a=await Bl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ws._forOperation(s,"link",a)}async function dw(s,t,i=!1){const{auth:a}=s;if(ii(a.app))return Promise.reject(Ts(a));const l="reauthenticate";try{const c=await Bl(s,hE(a,l,t,s),i);bt(c.idToken,a,"internal-error");const d=km(c.idToken);bt(d,a,"internal-error");const{sub:y}=d;return bt(s.uid===y,a,"user-mismatch"),ws._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ss(a,"user-mismatch"),c}}async function mw(s,t,i=!1){if(ii(s.app))return Promise.reject(Ts(s));const a="signIn",l=await hE(s,a,t),c=await ws._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function gw(s,t){return Vm(s,"POST","/v1/accounts:signInWithCustomToken",Wl(s,t))}async function pw(s,t){if(ii(s.app))return Promise.reject(Ts(s));const i=tu(s),a=await gw(i,{token:t,returnSecureToken:!0}),l=await ws._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function yw(s,t,i,a){return Tn(s).onIdTokenChanged(t,i,a)}function _w(s,t,i){return Tn(s).beforeAuthStateChanged(t,i)}function vw(s,t,i,a){return Tn(s).onAuthStateChanged(t,i,a)}const rh="__sak";class fE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ew=1e3,Tw=10;class dE extends fE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);YA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Tw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}dE.type="LOCAL";const bw=dE;class mE extends fE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}mE.type="SESSION";const gE=mE;function Sw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new vh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),g=await Sw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function jm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class Aw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const _=jm("",20);l.port1.start();const S=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(S),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function ww(s){Gi().location.href=s}function pE(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function Rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xw(){return navigator?.serviceWorker?.controller||null}function Iw(){return pE()?self:null}const yE="firebaseLocalStorageDb",Cw=1,ah="firebaseLocalStorage",_E="fbase_key";class nu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,t){return s.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function Nw(){const s=indexedDB.deleteDatabase(yE);return new nu(s).toPromise()}function om(){const s=indexedDB.open(yE,Cw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:_E})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?t(a):(a.close(),await Nw(),t(await om()))})})}async function g0(s,t,i){const a=Eh(s,!0).put({[_E]:t,value:i});return new nu(a).toPromise()}async function Dw(s,t){const i=Eh(s,!1).get(t),a=await new nu(i).toPromise();return a===void 0?null:a.value}function p0(s,t){const i=Eh(s,!0).delete(t);return new nu(i).toPromise()}const Ow=800,Mw=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Mw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rw(),!this.activeServiceWorker)return;this.sender=new Aw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await om();return await g0(t,rh,"1"),await p0(t,rh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>g0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Dw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>p0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new nu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const Vw=vE;new Zl(3e4,6e4);function kw(s,t){return t?vs(t):(bt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Pm extends uE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return oo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Uw(s){return mw(s.auth,new Pm(s),s.bypassAuthState)}function Lw(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),dw(i,new Pm(s),s.bypassAuthState)}async function jw(s){const{auth:t,user:i}=s;return bt(i,t,"internal-error"),fw(i,new Pm(s),s.bypassAuthState)}class EE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return jw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:Ss(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pw=new Zl(2e3,1e4);class so extends EE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return bt(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Pw.get())};t()}}so.currentPopupAction=null;const zw="pendingRedirect",Fc=new Map;class Bw extends EE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Fc.get(this.auth._key());if(!t){try{const a=await qw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Fc.set(this.auth._key(),t)}return this.bypassAuthState||Fc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qw(s,t){const i=Fw(t),a=Gw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Hw(s,t){Fc.set(s._key(),t)}function Gw(s){return vs(s._redirectPersistence)}function Fw(s){return Gc(zw,s.config.apiKey,s.name)}async function Qw(s,t,i=!1){if(ii(s.app))return Promise.reject(Ts(s));const a=tu(s),l=kw(a,t),d=await new Bw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Kw=600*1e3;class Yw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!TE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Hi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(t))}saveEventToCache(t){this.cachedEventUids.add(y0(t)),this.lastProcessedEventTime=Date.now()}}function y0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function TE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Xw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(s);default:return!1}}async function $w(s,t={}){return bo(s,"GET","/v1/projects",t)}const Jw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zw=/^https?/;async function Ww(s){if(s.config.emulator)return;const{authorizedDomains:t}=await $w(s);for(const i of t)try{if(t2(i))return}catch{}Ss(s,"unauthorized-domain")}function t2(s){const t=rm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Zw.test(i))return!1;if(Jw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const e2=new Zl(3e4,6e4);function _0(){const s=Gi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function n2(s){return new Promise((t,i)=>{function a(){_0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_0(),i(Hi(s,"network-request-failed"))},timeout:e2.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)a();else{const l=iw("iframefcb");return Gi()[l]=()=>{gapi.load?a():i(Hi(s,"network-request-failed"))},ew(`${nw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Qc=null,t})}let Qc=null;function i2(s){return Qc=Qc||n2(s),Qc}const s2=new Zl(5e3,15e3),r2="__/auth/iframe",a2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u2(s){const t=s.config;bt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Mm(t,a2):`https://${s.config.authDomain}/${r2}`,a={apiKey:t.apiKey,appName:s.name,v:To},l=l2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Jl(a).slice(1)}`}async function c2(s){const t=await i2(s),i=Gi().gapi;return bt(i,s,"internal-error"),t.open({where:document.body,url:u2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Hi(s,"network-request-failed"),y=Gi().setTimeout(()=>{c(d)},s2.get());function g(){Gi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,d2=600,m2="_blank",g2="http://localhost";class v0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p2(s,t,i,a=f2,l=d2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...h2,width:a.toString(),height:l.toString(),top:c,left:d},_=yn().toLowerCase();i&&(y=eE(_)?m2:i),Wv(_)&&(t=t||g2,g.scrollbars="yes");const S=Object.entries(g).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(KA(_)&&y!=="_self")return y2(t||"",y),new v0(null);const A=window.open(t||"",y,S);bt(A,s,"popup-blocked");try{A.focus()}catch{}return new v0(A)}function y2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const _2="__/auth/handler",v2="emulator/auth/handler",E2=encodeURIComponent("fac");async function E0(s,t,i,a,l,c){bt(s.config.authDomain,s,"auth-domain-config-required"),bt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:To,eventId:l};if(t instanceof cE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",pS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof eu){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const g=await s._getAppCheckToken(),_=g?`#${E2}=${encodeURIComponent(g)}`:"";return`${T2(s)}?${Jl(y).slice(1)}${_}`}function T2({config:s}){return s.emulator?Mm(s,v2):`https://${s.authDomain}/${_2}`}const Qd="webStorageSupport";class b2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=Qw,this._overrideRedirectResult=Hw}async _openPopup(t,i,a,l){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await E0(t,i,a,rm(),l);return p2(t,c,jm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await E0(t,i,a,rm(),l);return ww(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(As(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await c2(t),a=new Yw(t);return i.register("authEvent",l=>(bt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},l=>{const c=l?.[0]?.[Qd];c!==void 0&&i(!!c),Ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ww(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return aE()||tE()||Um()}}const S2=b2;var T0="@firebase/auth",b0="1.12.0";class A2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function w2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(s){ho(new aa("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;bt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oE(s)},_=new WA(a,l,c,g);return rw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ho(new aa("auth-internal",t=>{const i=tu(t.getProvider("auth").getImmediate());return(a=>new A2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(T0,b0,w2(s)),pr(T0,b0,"esm2020")}const x2=300,I2=Uv("authIdTokenMaxAge")||x2;let S0=null;const C2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>I2)return;const l=i?.token;S0!==l&&(S0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function N2(s=qv()){const t=Dm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=sw(s,{popupRedirectResolver:S2,persistence:[Vw,bw,gE]}),a=Uv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=C2(c.toString());_w(i,d,()=>d(i.currentUser)),yw(i,y=>d(y))}}const l=Vv("auth");return l&&aw(i,`http://${l}`),i}function D2(){return document.getElementsByTagName("head")?.[0]??document}tw({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Hi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",D2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");var A0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yr,bE;(function(){var s;function t(C,w){function I(){}I.prototype=w.prototype,C.F=w.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,N,k){for(var R=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)R[Zt-2]=arguments[Zt];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=C.g[0],I=C.g[1],N=C.g[2];let k=C.g[3],R;R=w+(k^I&(N^k))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(N^w&(I^N))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(I^k&(w^I))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(w^N&(k^w))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(k^I&(N^k))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(N^w&(I^N))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(I^k&(w^I))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(w^N&(k^w))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(k^I&(N^k))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(N^w&(I^N))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(I^k&(w^I))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(w^N&(k^w))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(k^I&(N^k))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=k+(N^w&(I^N))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(I^k&(w^I))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=I+(w^N&(k^w))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=w+(N^k&(I^N))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(w^I))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(k^w))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(N^k))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(I^N))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(w^I))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(k^w))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(N^k))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(I^N))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(w^I))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(k^w))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(N^k))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(I^N))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=k+(I^N&(w^I))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^I&(k^w))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=I+(k^w&(N^k))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=w+(I^N^k)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^N)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^I)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^w)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^k)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^N)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^I)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^w)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^k)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^N)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^I)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^w)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(I^N^k)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=k+(w^I^N)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^I)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=I+(N^k^w)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=w+(N^(I|~k))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~N))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~I))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~w))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~k))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~N))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~I))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~w))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~k))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~N))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~I))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~w))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=w+(N^(I|~k))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=k+(I^(w|~N))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~I))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=I+(k^(N|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const I=w-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=I;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(V[N++]=C.charCodeAt(k++),N==this.blockSize){l(this,V),N=0;break}}else for(;k<w;)if(V[N++]=C[k++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[w++]=this.g[I]>>>V&255;return C};function c(C,w){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=w(C)}function d(C,w){this.h=w;const I=[];let V=!0;for(let N=C.length-1;N>=0;N--){const k=C[N]|0;V&&k==w||(I[N]=k,V=!1)}this.g=I}var y={};function g(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return st(_(-C));const w=[];let I=1;for(let V=0;C>=I;V++)w[V]=C/I|0,I*=4294967296;return new d(w,0)}function S(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return st(S(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=A;for(let k=0;k<C.length;k+=8){var N=Math.min(8,C.length-k);const R=parseInt(C.substring(k,k+N),w);N<8?(N=_(Math.pow(w,N)),V=V.j(N).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=g(0),M=g(1),F=g(16777216);s=d.prototype,s.m=function(){if(it(this))return-st(this).m();let C=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(it(this))return"-"+st(this).toString(C);const w=_(Math.pow(C,6));var I=this;let V="";for(;;){const N=te(I,w).g;I=ht(I,N.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,W(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function it(C){return C.h==-1}s.l=function(C){return C=ht(this,C),it(C)?-1:W(C)?0:1};function st(C){const w=C.g.length,I=[];for(let V=0;V<w;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return it(this)?st(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let N=0;N<=w;N++){let k=V+(this.i(N)&65535)+(C.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,I[N]=R<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,w){return C.add(st(w))}s.j=function(C){if(W(this)||W(C))return A;if(it(this))return it(C)?st(this).j(st(C)):st(st(this).j(C));if(it(C))return st(this.j(st(C)));if(this.l(F)<0&&C.l(F)<0)return _(this.m()*C.m());const w=this.g.length+C.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,Zt=C.i(N)>>>16,Ce=C.i(N)&65535;I[2*V+2*N]+=R*Ce,Rt(I,2*V+2*N),I[2*V+2*N+1]+=k*Ce,Rt(I,2*V+2*N+1),I[2*V+2*N+1]+=R*Zt,Rt(I,2*V+2*N+1),I[2*V+2*N+2]+=k*Zt,Rt(I,2*V+2*N+2)}for(C=0;C<w;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=w;C<2*w;C++)I[C]=0;return new d(I,0)};function Rt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function St(C,w){this.g=C,this.h=w}function te(C,w){if(W(w))throw Error("division by zero");if(W(C))return new St(A,A);if(it(C))return w=te(st(C),w),new St(st(w.g),st(w.h));if(it(w))return w=te(C,st(w)),new St(st(w.g),w.h);if(C.g.length>30){if(it(C)||it(w))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=w;V.l(C)<=0;)I=ge(I),V=ge(V);var N=Vt(I,1),k=Vt(V,1);for(V=Vt(V,2),I=Vt(I,2);!W(V);){var R=k.add(V);R.l(C)<=0&&(N=N.add(I),k=R),V=Vt(V,1),I=Vt(I,1)}return w=ht(C,N.j(w)),new St(N,w)}for(N=A;C.l(w)>=0;){for(I=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(I),R=k.j(w);it(R)||R.l(C)>0;)I-=V,k=_(I),R=k.j(w);W(k)&&(k=M),N=N.add(k),C=ht(C,R)}return new St(N,C)}s.B=function(C){return te(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function ge(C){const w=C.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Vt(C,w){const I=w>>5;w%=32;const V=C.g.length-I,N=[];for(let k=0;k<V;k++)N[k]=w>0?C.i(k+I)>>>w|C.i(k+I+1)<<32-w:C.i(k+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,yr=d}).apply(typeof A0<"u"?A0:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SE,Nl,AE,Kc,lm,wE,RE,xE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)tt[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Rt{constructor(){this.h=this.g=null}add(m,v){const T=St.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var St=new it(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,Vt=!1,C=new Rt,w=()=>{const u=Promise.resolve(void 0);ge=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){st(v)}var m=St;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Zt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Zt,N),Zt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Zt.Z.h.call(this)},Zt.prototype.h=function(){Zt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Gt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Ct(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Z={};function J(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)J(u,m[B],v,T,L);return null}return v=ee(v),u&&u[Ce]?u.J(m,v,y(T)?!!T.capture:!1,L):gt(u,m,v,!1,T,L)}function gt(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=y(L)?!!L.capture:!!L;let Nt=Tt(u);if(Nt||(u[Lt]=Nt=new at(u)),v=Nt.add(m,v,T,tt,B),v.proxy)return v;if(T=Et(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(jt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Et(){function u(v){return m.call(u.src,u.listener,v)}const m=rt;return u}function Ee(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ee(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=ee(v),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Ct(m,v,T,L),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Tt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,T,L)),(v=u>-1?m[u]:null)&&Te(v))}function Te(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(jt(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=Tt(m))?(_t(v,u),v.h==0&&(v.src=null,m[Lt]=null)):ft(u)}}}function jt(u){return u in Z?Z[u]:Z[u]="on"+u}function rt(u,m){if(u.da)u=!0;else{m=new Zt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Te(u),u=v.call(T,m)}return u}function Tt(u){return u=u[Lt],u instanceof at?u:null}var le="__closure_events_fn_"+(Math.random()*1e9>>>0);function ee(u){return typeof u=="function"?u:(u[le]||(u[le]=function(m){return u.handleEvent(m)}),u[le])}function ne(){V.call(this),this.i=new at(this),this.M=this,this.G=null}A(ne,V),ne.prototype[Ce]=!0,ne.prototype.removeEventListener=function(u,m,v,T){Ee(this,u,m,v,T)};function dt(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),nt(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=ie(B,T,!0,m)&&L;if(B=m.g=u,L=ie(B,T,!0,m)&&L,L=ie(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=ie(B,T,!1,m)&&L}ne.prototype.N=function(){if(ne.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},ne.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ne.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ie(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const Nt=tt.listener,Ne=tt.ha||tt.src;tt.fa&&_t(u.i,tt),L=Nt.call(Ne,T)!==!1&&L}}return L&&!T.defaultPrevented}function bn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function pe(u){u.g=bn(()=>{u.g=null,u.i&&(u.i=!1,pe(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ke extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(u){V.call(this),this.h=u,this.g={}}A(Mt,V);var Sn=[];function $i(u){Gt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Te(m)},u),u.g={}}Mt.prototype.N=function(){Mt.Z.N.call(this),$i(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=d.JSON.stringify,Ji=d.JSON.parse,Cs=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function cn(){}function At(){}var se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){N.call(this,"d")}A(Ke,N);function An(){N.call(this,"c")}A(An,N);var Ae={},Zi=null;function Ns(){return Zi=Zi||new ne}Ae.Ia="serverreachability";function cu(u){N.call(this,Ae.Ia,u)}A(cu,N);function Ti(u){const m=Ns();dt(m,new cu(m))}Ae.STAT_EVENT="statevent";function Ir(u,m){N.call(this,Ae.STAT_EVENT,u),this.stat=m}A(Ir,N);function Ue(u){const m=Ns();dt(m,new Ir(m,u))}Ae.Ja="timingevent";function bi(u,m){N.call(this,Ae.Ja,u),this.size=m}A(bi,N);function Si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Lh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",Nt=B.split("&");for(let $t=0;$t<Nt.length;$t++){var Ne=Nt[$t].split("=");if(Ne.length>1){const be=Ne[0];Ne=Ne[1];const Yn=be.split("_");tt=Yn.length>=2&&Yn[1]=="type"?tt+(be+"="+Ne+"&"):tt+(be+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function hu(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function Ai(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(T?" "+T:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}ai.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return ri(B)}catch{return m}}var Nr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Io;function Dr(){}A(Dr,cn),Dr.prototype.g=function(){return new XMLHttpRequest},Io=new Dr;function Wi(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function oi(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new Mt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Le={},Je={};function wi(u,m,v){u.M=1,u.A=Or(Pe(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ri(u),u.B=Pe(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),_a(v.i,"t",T),u.C=0,v=u.j.L,u.h=new li,u.g=xu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ke(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Sn[0]=L.toString()),L=Sn);for(let B=0;B<L.length;B++){const tt=J(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ti(),Lh(u.i,u.v,u.B,u.l,u.S,u.u)}oi.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},oi.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=hi(this.g),Ne=this.g.ya(),$t=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Nt!=4||Ne==7||(Ne==8||$t<=0?Ti(3):Ti(2)),xi(this);var m=this.g.ca();this.X=m;var v=Ph(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ii(this,u);else{this.o=!1,this.m=3,Ue(12),Vn(this),Fn(this);break t}}if(this.R){u=!0;let be;for(;!this.K&&this.C<v.length;)if(be=mu(this,v),be==Je){Nt==4&&(this.m=4,Ue(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(be==Le){this.m=4,Ue(15),Ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,be,null),Ii(this,be);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Ue(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,v,"[Invalid Chunked Response]"),Vn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(tt),tt.P=!0,Ue(11))}}else Ai(this.i,this.l,v,null),Ii(this,v);Nt==4&&Vn(this),this.o&&!this.K&&(Nt==4?Su(this.j,this):(this.o=!1,Ri(this)))}else es(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ue(12)):(this.m=0,Ue(13)),Vn(this),Fn(this)}}}catch{}};function Ph(u){if(!du(u))return u.g.la();const m=en(u.g);if(m==="")return"";let v="";const T=m.length,L=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Je:(v=Number(m.substring(v,T)),isNaN(v)?Le:(T+=1,T+v>m.length?Je:(m=m.slice(T,T+v),u.C=T+v,m)))}oi.prototype.cancel=function(){this.K=!0,Vn(this)};function Ri(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Si(_(u.aa,u),m)}function xi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}oi.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(Ti(),Ue(17)),Vn(this),this.m=2,Fn(this)):ga(this,this.T-u)};function Fn(u){u.j.I==0||u.K||Su(u.j,u)}function Vn(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$i(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ii(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),js(v);else break t;Pr(v),Ue(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Si(_(v.Va,v),6e3));Ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ui(v,11)}else if((u.L||v.g==u)&&Sa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let $t=L[m];const be=$t[0];if(!(be<=v.K))if(v.K=be,$t=$t[1],v.I==2)if($t[0]=="c"){v.M=$t[1],v.ba=$t[2];const Yn=$t[3];Yn!=null&&(v.ka=Yn,v.j.info("VER="+v.ka));const Li=$t[4];Li!=null&&(v.za=Li,v.j.info("SVER="+v.za));const fi=$t[5];fi!=null&&typeof fi=="number"&&fi>0&&(T=1.5*fi,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const di=u.g;if(di){const zr=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zr){var B=T.h;B.g||zr.indexOf("spdy")==-1&&zr.indexOf("quic")==-1&&zr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Do(B,B.h),B.h=null))}if(T.G){const Aa=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(T.wa=Aa,re(T.J,T.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=Ru(T,T.L?T.ba:null,T.W),tt.L){Oo(T.h,tt);var Nt=tt,Ne=T.O;Ne&&(Nt.H=Ne),Nt.D&&(xi(Nt),Ri(Nt)),T.g=tt}else Tu(T);v.i.length>0&&ki(v)}else $t[0]!="stop"&&$t[0]!="close"||Ui(v,7);else v.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ui(v,7):Bo(v):$t[0]!="noop"&&v.l&&v.l.qa($t),v.A=0)}}Ti(4)}catch{}}var je=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Oo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,Ze(this,u.j),this.o=u.o,this.g=u.g,Ds(this,u.u),this.h=u.h,Vo(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Ze(this,m[1]||"",!0),this.o=Di(m[2]||""),this.g=Di(m[3]||"",!0),Ds(this,m[4]),this.h=Di(m[5]||"",!0),Vo(this,m[6]||"",!0),this.m=Di(m[7]||"")):(this.l=!1,this.i=new Ms(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Mr(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Mr(m,ya,!0),"@"),u.push(Wi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Mr(v,v.charAt(0)=="/"?ko:pu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Mr(v,yu)),u.join("")},kn.prototype.resolve=function(u){const m=Pe(this);let v=!!u.j;v?Ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)Ds(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const Nt=L[tt++];Nt=="."?T&&tt==L.length&&B.push(""):Nt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(Nt),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?Vo(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Pe(u){return new kn(u)}function Ze(u,m,v){u.j=v?Di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vo(u,m,v){m instanceof Ms?(u.i=m,va(u.i,u.l)):(v||(m=Mr(m,Os)),u.i=new Ms(m,u.l))}function re(u,m,v){u.i.set(m,v)}function Or(u){return re(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,wn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function wn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,pu=/[#\?:]/g,ko=/[#\?]/g,Os=/[#\?@]/g,yu=/#/g;function Ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Rn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ms.prototype,s.add=function(u,m){Rn(this),this.i=null,u=Vs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){Rn(u),m=Vs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Uo(u,m){return Rn(u),m=Vs(u,m),u.g.has(m)}s.forEach=function(u,m){Rn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Lo(u,m){Rn(u);let v=[];if(typeof m=="string")Uo(u,m)&&(v=v.concat(u.g.get(Vs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return Rn(this),this.i=null,u=Vs(this,u),Uo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Lo(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Vs(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Wi(v);v=Lo(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Wi(v[B])),u.push(tt)}}return this.i=u.join("&")};function vu(u){const m=new Ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Vs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(Rn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(_u(this,T),_a(this,L,v))},u)),u.j=m}function ui(u,m){const v=new ai;if(d.Image){const T=new Image;T.onload=S(Qn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Qn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Qn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Qn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function jo(u,m){const v=new ai,T=new AbortController,L=setTimeout(()=>{T.abort(),Qn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Qn(v,"TestPingServer: ok",!0,m):Qn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Qn(v,"TestPingServer: error",!1,m)})}function Qn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ks(){this.g=new Cs}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Oi,cn),Oi.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(u,m){ne.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Vr,ne),s=Vr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Us(this):ci(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Us(this))},s.Na=function(u){this.g&&(this.response=u,Us(this))},s.ga=function(){this.g&&Us(this)};function Us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Gt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function kr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Kn(v),typeof u=="string"?v!=null&&Wi(v):re(u,m,v))}function ue(u){ne.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(ue,ne);var Mi=/^https?$/i,Po=["POST","PUT"];s=ue.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Io.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ur(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ur(this,B)}};function Ur(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),ts(u)}function zo(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,dt(this,"complete"),dt(this,"abort"),ts(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),ue.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},s.Xa=function(){Lr(this)};function Lr(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(dt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(gu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Mi.test(tt?tt.toLowerCase():"")}v=T}if(v)dt(u,"complete"),dt(u,"success");else{u.o=6;try{var L=hi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zo(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||dt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ji(m)}};function en(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=fu(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Xt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ls(u){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vi("baseRetryDelayMs",5e3,u),this.Za=Vi("retryDelaySeedMs",1e4,u),this.Ta=Vi("forwardChannelMaxRetries",2,u),this.va=Vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ls.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){Ue(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Ru(this,null,this.W),ki(this)};function Bo(u){if(Ta(u),u.I==3){var m=u.V++,v=Pe(u.J);if(re(v,"SID",u.M),re(v,"RID",m),re(v,"TYPE","terminate"),jr(u,v),m=new oi(u,u.j,m),m.M=2,m.A=Or(Pe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ri(m)}wu(u)}function js(u){u.g&&(Ho(u),u.g.cancel(),u.g=null)}function Ta(u){js(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;ge||w(),Vt||(ge(),Vt=!0),C.add(m,u),u.D=0}}function ba(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Si(_(u.Ea,u,m),Au(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new oi(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),nt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Eu(this,L,m),v=Pe(this.J),re(v,"RID",u),re(v,"CVER",22),this.G&&re(v,"X-HTTP-Session-Id",this.G),jr(this,v),B&&(this.R?m="headers="+Wi(Kn(B))+"&"+m:this.u&&kr(v,this.u,B)),Do(this.h,L),this.Ra&&re(v,"TYPE","init"),this.S?(re(v,"$req",m),re(v,"SID","null"),L.U=!0,wi(L,v,null)):wi(L,v,m),this.I=2}}else this.I==3&&(u?qo(this,u):this.i.length==0||No(this.h)||qo(this))};function qo(u,m){var v;m?v=m.l:v=u.V++;const T=Pe(u.J);re(T,"SID",u.M),re(T,"RID",v),re(T,"AID",u.K),jr(u,T),u.u&&u.o&&kr(T,u.u,u.o),v=new oi(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),wi(v,T,m)}function jr(u,m){u.H&&Gt(u.H,function(v,T){re(m,T,v)}),u.l&&Gt({},function(v,T){re(m,T,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Nt=-1;for(;;){const Ne=["count="+v];Nt==-1?v>0?(Nt=L[0].g,Ne.push("ofs="+Nt)):Nt=0:Ne.push("ofs="+Nt);let $t=!0;for(let be=0;be<v;be++){var B=L[be].g;const Yn=L[be].map;if(B-=Nt,B<0)Nt=Math.max(0,L[be].g-100),$t=!1;else try{B="req"+B+"_"||"";try{var tt=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Li,fi]of tt){let di=fi;y(fi)&&(di=ri(fi)),Ne.push(B+Li+"="+encodeURIComponent(di))}}catch(Li){throw Ne.push(B+"type="+encodeURIComponent("_badmap")),Li}}catch{T&&T(Yn)}}if($t){tt=Ne.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ge||w(),Vt||(ge(),Vt=!0),C.add(m,u),u.A=0}}function Pr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Si(_(u.Da,u),Au(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Si(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ue(10),js(this),bu(this))};function Ho(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new oi(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Pe(u.na);re(m,"RID","rpc"),re(m,"SID",u.M),re(m,"AID",u.K),re(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&re(m,"TO",u.ia),re(m,"TYPE","xmlhttp"),jr(u,m),u.u&&u.o&&kr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Or(Pe(m)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,js(this),Pr(this),Ue(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){Sa(u),Ho(u),u.g=null;var T=2}else if(Ni(u.h,m))v=m.G,Oo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Ns(),dt(T,new bi(T,v)),ki(u)}else Tu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ba(u,m)||T==2&&Pr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function Au(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ui(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new kn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ze(T,"https"),Or(T),L?ui(T.toString(),v):jo(T.toString(),v)}else Ue(2);u.I=0,u.l&&u.l.pa(m),wu(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ue(2)):(this.j.info("Failed to ping google.com"),Ue(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Ru(u,m,v){var T=v instanceof kn?Pe(v):new kn(v);if(T.g!="")m&&(T.g=m+"."+T.g),Ds(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new kn(null);T&&Ze(B,T),m&&(B.g=m),L&&Ds(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&re(T,v,m),re(T,"VER",u.ka),jr(u,T),T}function xu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ue(new Oi({ab:v})):new ue(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Iu(){}s=Iu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){ne.call(this),this.g=new Ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ns(this)}A(_n,ne),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Bo(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ri(u),u=v);m.i.push(new je(m.Ya++,u)),m.I==3&&ki(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,_n.Z.N.call(this)};function Cu(u){Ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Cu,Ke);function Nu(){An.call(this),this.status=1}A(Nu,An);function ns(u){this.g=u}A(ns,Iu),ns.prototype.ra=function(){dt(this.g,"a")},ns.prototype.qa=function(u){dt(this.g,new Cu(u))},ns.prototype.pa=function(u){dt(this.g,new Nu)},ns.prototype.oa=function(){dt(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,xE=function(){return new Ps},RE=function(){return Ns()},wE=Ae,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,Kc=Nr,xo.COMPLETE="complete",AE=xo,At.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",ne.prototype.listen=ne.prototype.J,Nl=At,ue.prototype.listenOnce=ue.prototype.K,ue.prototype.getLastError=ue.prototype.Ha,ue.prototype.getLastErrorCode=ue.prototype.ya,ue.prototype.getStatus=ue.prototype.ca,ue.prototype.getResponseJson=ue.prototype.La,ue.prototype.getResponseText=ue.prototype.la,ue.prototype.send=ue.prototype.ea,ue.prototype.setWithCredentials=ue.prototype.Fa,SE=ue}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});let gn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let So="12.8.0";function O2(s){So=s}const la=new Cm("@firebase/firestore");function to(){return la.logLevel}function ot(s,...t){if(la.logLevel<=Bt.DEBUG){const i=t.map(zm);la.debug(`Firestore (${So}): ${s}`,...i)}}function Rs(s,...t){if(la.logLevel<=Bt.ERROR){const i=t.map(zm);la.error(`Firestore (${So}): ${s}`,...i)}}function fo(s,...t){if(la.logLevel<=Bt.WARN){const i=t.map(zm);la.warn(`Firestore (${So}): ${s}`,...i)}}function zm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,IE(s,a,i)}function IE(s,t,i){let a=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Rs(a),new Error(a)}function Wt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||IE(t,l,a)}function It(s,t){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _r{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class CE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class M2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(gn.UNAUTHENTICATED)))}shutdown(){}}class V2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class k2{constructor(t){this.t=t,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;t.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Wt(typeof a.accessToken=="string",31837,{l:a}),new CE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new gn(t)}}class U2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class L2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new U2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new w0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function P2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=P2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function qt(s,t){return s<t?-1:s>t?1:0}function um(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Kd(l)===Kd(c)?qt(l,c):Kd(l)?1:-1}return qt(s.length,t.length)}const z2=55296,B2=57343;function Kd(s){const t=s.charCodeAt(0);return t>=z2&&t<=B2}function mo(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const R0="__name__";class qi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return qi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof qi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=qi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return qt(t.length,i.length)}static compareSegments(t,i){const a=qi.isNumericId(t),l=qi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?qi.extractNumericId(t).compare(qi.extractNumericId(i)):um(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return yr.fromString(t.substring(4,t.length-2))}}class we extends qi{construct(t,i,a){return new we(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new we(i)}static emptyPath(){return new we([])}}const q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends qi{construct(t,i,a){return new ln(t,i,a)}static isValidIdentifier(t){return q2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new ln([R0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new ct($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ct($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new ct($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ln(i)}static emptyPath(){return new ln([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(we.fromString(t))}static fromName(t){return new pt(we.fromString(t).popFirst(5))}static empty(){return new pt(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&we.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return we.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new we(t.slice()))}}function H2(s,t,i){if(!i)throw new ct($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function G2(s,t,i,a){if(t===!0&&a===!0)throw new ct($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function x0(s){if(!pt.isDocumentKey(s))throw new ct($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function NE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function _i(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(s);throw new ct($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Fe(s,t){const i={typeString:s};return t&&(i.value=t),i}function iu(s,t){if(!NE(s))throw new ct($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct($.INVALID_ARGUMENT,i);return!0}const I0=-62135596800,C0=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(t){return ve.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*C0);return new ve(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<I0)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C0}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(iu(t,ve._jsonSchema))return new ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-I0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:Fe("string",ve._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new ve(0,0))}static max(){return new wt(new ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function F2(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=wt.fromTimestamp(a===1e9?new ve(i+1,0):new ve(i,a));return new Er(l,pt.empty(),t)}function Q2(s){return new Er(s.readTime,s.key,ql)}class Er{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Er(wt.min(),pt.empty(),ql)}static max(){return new Er(wt.max(),pt.empty(),ql)}}function K2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:qt(s.largestBatchId,t.largestBatchId))}const Y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ao(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==Y2)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const _=g;i(t[_]).next((S=>{d[_]=S,++y,y===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function $2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wo(s){return s.name==="IndexedDbTransactionError"}class Th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Th.ce=-1;const Hm=-1;function bh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function J2(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const DE="";function Z2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=N0(t)),t=W2(s.get(i),t);return N0(t)}function W2(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case DE:i+="";break;default:i+=c}}return i}function N0(s){return s+DE+""}function D0(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Rr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function OE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class Re{constructor(t,i){this.comparator=t,this.root=i||on.EMPTY}insert(t,i){return new Re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(t){return new Re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Uc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Uc(this.root,t,this.comparator,!0)}}class Uc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class on{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??on.RED,this.left=l??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new on(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return on.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new on(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $e{constructor(t){this.comparator=t,this.data=new Re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(t){return new O0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof $e)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new $e(this.comparator);return i.data=t,i}}class O0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(t){this.fields=t,t.sort(ln.comparator)}static empty(){return new Gn([])}unionWith(t){let i=new $e(ln.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Gn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return mo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class ME extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ME("Invalid base64 string: "+c):c}})(t);return new un(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new un(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}un.EMPTY_BYTE_STRING=new un("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(s){if(Wt(!!s,39018),typeof s=="string"){let t=0;const i=tR.exec(s);if(Wt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Me(s.seconds),nanos:Me(s.nanos)}}function Me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?un.fromBase64String(s):un.fromUint8Array(s)}const VE="server_timestamp",kE="__type__",UE="__previous_value__",LE="__local_write_time__";function Gm(s){return(s?.mapValue?.fields||{})[kE]?.stringValue===VE}function Sh(s){const t=s.mapValue.fields[UE];return Gm(t)?Sh(t):t}function Hl(s){const t=Tr(s.mapValue.fields[LE].timestampValue);return new ve(t.seconds,t.nanos)}class eR{constructor(t,i,a,l,c,d,y,g,_,S,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=S,this.apiKey=A}}const lh="(default)";class Gl{constructor(t,i){this.projectId=t,this.database=i||lh}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof Gl&&t.projectId===this.projectId&&t.database===this.database}}function nR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ct($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(s.options.projectId,t)}const jE="__type__",iR="__max__",Lc={mapValue:{}},PE="__vector__",uh="value";function Sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Gm(s)?4:rR(s)?9007199254740991:sR(s)?10:11:vt(28295,{value:s})}function Yi(s,t){if(s===t)return!0;const i=Sr(s);if(i!==Sr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Hl(s).isEqual(Hl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Tr(l.timestampValue),y=Tr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return br(l.bytesValue).isEqual(br(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Me(l.geoPointValue.latitude)===Me(c.geoPointValue.latitude)&&Me(l.geoPointValue.longitude)===Me(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Me(l.integerValue)===Me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Me(l.doubleValue),y=Me(c.doubleValue);return d===y?oh(d)===oh(y):isNaN(d)&&isNaN(y)}return!1})(s,t);case 9:return mo(s.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(D0(d)!==D0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Yi(d[g],y[g])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Fl(s,t){return(s.values||[]).find((i=>Yi(i,t)))!==void 0}function go(s,t){if(s===t)return 0;const i=Sr(s),a=Sr(t);if(i!==a)return qt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=Me(c.integerValue||c.doubleValue),g=Me(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(s,t);case 3:return M0(s.timestampValue,t.timestampValue);case 4:return M0(Hl(s),Hl(t));case 5:return um(s.stringValue,t.stringValue);case 6:return(function(c,d){const y=br(c),g=br(d);return y.compareTo(g)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let _=0;_<y.length&&_<g.length;_++){const S=qt(y[_],g[_]);if(S!==0)return S}return qt(y.length,g.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=qt(Me(c.latitude),Me(d.latitude));return y!==0?y:qt(Me(c.longitude),Me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return V0(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},_=y[uh]?.arrayValue,S=g[uh]?.arrayValue,A=qt(_?.values?.length||0,S?.values?.length||0);return A!==0?A:V0(_,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Lc.mapValue&&d===Lc.mapValue)return 0;if(c===Lc.mapValue)return 1;if(d===Lc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),_=d.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let A=0;A<g.length&&A<S.length;++A){const M=um(g[A],S[A]);if(M!==0)return M;const F=go(y[g[A]],_[S[A]]);if(F!==0)return F}return qt(g.length,S.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function M0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return qt(s,t);const i=Tr(s),a=Tr(t),l=qt(i.seconds,a.seconds);return l!==0?l:qt(i.nanos,a.nanos)}function V0(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=go(i[l],a[l]);if(c)return c}return qt(i.length,a.length)}function po(s){return cm(s)}function cm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Tr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return br(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=cm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function Yc(s){switch(Sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sh(s);return t?16+Yc(t):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Yc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Rr(a.fields,((c,d)=>{l+=c.length+Yc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function hm(s){return!!s&&"integerValue"in s}function Fm(s){return!!s&&"arrayValue"in s}function k0(s){return!!s&&"nullValue"in s}function U0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Xc(s){return!!s&&"mapValue"in s}function sR(s){return(s?.mapValue?.fields||{})[jE]?.stringValue===PE}function Ul(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Rr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ul(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return t}return{...s}}function rR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ul(i)}setAll(t){let i=ln.emptyPath(),a={},l=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Ul(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Rr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Mn(Ul(this.value))}}function zE(s){const t=[];return Rr(s.fields,((i,a)=>{const l=new ln([i]);if(Xc(a)){const c=zE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Gn(t)}class pn{constructor(t,i,a,l,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new pn(t,0,wt.min(),wt.min(),wt.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,l){return new pn(t,1,i,wt.min(),a,l,0)}static newNoDocument(t,i){return new pn(t,2,i,wt.min(),wt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new pn(t,3,i,wt.min(),wt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(t,i){this.position=t,this.inclusive=i}}function L0(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=go(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function j0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Yi(s.position[i],t.position[i]))return!1;return!0}class hh{constructor(t,i="asc"){this.field=t,this.dir=i}}function aR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class BE{}class Xe extends BE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new lR(t,i,a):i==="array-contains"?new hR(t,a):i==="in"?new fR(t,a):i==="not-in"?new dR(t,a):i==="array-contains-any"?new mR(t,a):new Xe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new uR(t,a):new cR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(go(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends BE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Xi(t,i)}matches(t){return qE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(s){return s.op==="and"}function HE(s){return oR(s)&&qE(s)}function oR(s){for(const t of s.filters)if(t instanceof Xi)return!1;return!0}function fm(s){if(s instanceof Xe)return s.field.canonicalString()+s.op.toString()+po(s.value);if(HE(s))return s.filters.map((t=>fm(t))).join(",");{const t=s.filters.map((i=>fm(i))).join(",");return`${s.op}(${t})`}}function GE(s,t){return s instanceof Xe?(function(a,l){return l instanceof Xe&&a.op===l.op&&a.field.isEqual(l.field)&&Yi(a.value,l.value)})(s,t):s instanceof Xi?(function(a,l){return l instanceof Xi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&GE(d,l.filters[y])),!0):!1})(s,t):void vt(19439)}function FE(s){return s instanceof Xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(s):s instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(FE).join(" ,")+"}"})(s):"Filter"}class lR extends Xe{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class uR extends Xe{constructor(t,i){super(t,"in",i),this.keys=QE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class cR extends Xe{constructor(t,i){super(t,"not-in",i),this.keys=QE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function QE(s,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class hR extends Xe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&Fl(i.arrayValue,this.value)}}class fR extends Xe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class dR extends Xe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class mR extends Xe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Fl(this.value.arrayValue,a)))}}class gR{constructor(t,i=null,a=[],l=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function P0(s,t=null,i=[],a=[],l=null,c=null,d=null){return new gR(s,t,i,a,l,c,d)}function Qm(s){const t=It(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>fm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),bh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>po(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>po(a))).join(",")),t.Te=i}return t.Te}function Km(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!aR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!GE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!j0(s.startAt,t.startAt)&&j0(s.endAt,t.endAt)}function dm(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(t,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function pR(s,t,i,a,l,c,d,y){return new Ah(s,t,i,a,l,c,d,y)}function wh(s){return new Ah(s)}function z0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function yR(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function _R(s){return s.collectionGroup!==null}function Ll(s){const t=It(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new $e(ln.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new hh(c,a))})),i.has(ln.keyField().canonicalString())||t.Ie.push(new hh(ln.keyField(),a))}return t.Ie}function Fi(s){const t=It(s);return t.Ee||(t.Ee=vR(t,Ll(s))),t.Ee}function vR(s,t){if(s.limitType==="F")return P0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hh(l.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return P0(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function mm(s,t,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Rh(s,t){return Km(Fi(s),Fi(t))&&s.limitType===t.limitType}function KE(s){return`${Qm(Fi(s))}|lt:${s.limitType}`}function eo(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>FE(l))).join(", ")}]`),bh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${a})`})(Fi(s))}; limitType=${s.limitType})`}function xh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Ll(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const _=L0(d,y,g);return d.inclusive?_<=0:_<0})(a.startAt,Ll(a),l)||a.endAt&&!(function(d,y,g){const _=L0(d,y,g);return d.inclusive?_>=0:_>0})(a.endAt,Ll(a),l))})(s,t)}function ER(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function YE(s){return(t,i)=>{let a=!1;for(const l of Ll(s)){const c=TR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function TR(s,t,i){const a=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,y){const g=d.data.field(c),_=y.data.field(c);return g!==null&&_!==null?go(g,_):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:s.dir})}}class fa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Rr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}const bR=new Re(pt.comparator);function xs(){return bR}const XE=new Re(pt.comparator);function Dl(...s){let t=XE;for(const i of s)t=t.insert(i.key,i);return t}function $E(s){let t=XE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function sa(){return jl()}function JE(){return jl()}function jl(){return new fa((s=>s.toString()),((s,t)=>s.isEqual(t)))}const SR=new Re(pt.comparator),AR=new $e(pt.comparator);function Ht(...s){let t=AR;for(const i of s)t=t.add(i);return t}const wR=new $e(qt);function RR(){return wR}function Ym(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function ZE(s){return{integerValue:""+s}}function WE(s,t){return J2(t)?ZE(t):Ym(s,t)}class Ih{constructor(){this._=void 0}}function xR(s,t,i){return s instanceof fh?(function(l,c){const d={fields:{[kE]:{stringValue:VE},[LE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Gm(c)&&(c=Sh(c)),c&&(d.fields[UE]=c),{mapValue:d}})(i,t):s instanceof yo?eT(s,t):s instanceof Ql?nT(s,t):(function(l,c){const d=tT(l,c),y=B0(d)+B0(l.Ae);return hm(d)&&hm(l.Ae)?ZE(y):Ym(l.serializer,y)})(s,t)}function IR(s,t,i){return s instanceof yo?eT(s,t):s instanceof Ql?nT(s,t):i}function tT(s,t){return s instanceof Kl?(function(a){return hm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class fh extends Ih{}class yo extends Ih{constructor(t){super(),this.elements=t}}function eT(s,t){const i=iT(t);for(const a of s.elements)i.some((l=>Yi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ql extends Ih{constructor(t){super(),this.elements=t}}function nT(s,t){let i=iT(t);for(const a of s.elements)i=i.filter((l=>!Yi(l,a)));return{arrayValue:{values:i}}}class Kl extends Ih{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function B0(s){return Me(s.integerValue||s.doubleValue)}function iT(s){return Fm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class sT{constructor(t,i){this.field=t,this.transform=i}}function CR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof yo&&l instanceof yo||a instanceof Ql&&l instanceof Ql?mo(a.elements,l.elements,Yi):a instanceof Kl&&l instanceof Kl?Yi(a.Ae,l.Ae):a instanceof fh&&l instanceof fh})(s.transform,t.transform)}class NR{constructor(t,i){this.version=t,this.transformResults=i}}class vi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function $c(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ch{}function rT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Xm(s.key,vi.none()):new su(s.key,s.data,vi.none());{const i=s.data,a=Mn.empty();let l=new $e(ln.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new xr(s.key,a,new Gn(l.toArray()),vi.none())}}function DR(s,t,i){s instanceof su?(function(l,c,d){const y=l.value.clone(),g=H0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):s instanceof xr?(function(l,c,d){if(!$c(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=H0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(aT(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Pl(s,t,i,a){return s instanceof su?(function(c,d,y,g){if(!$c(c.precondition,d))return y;const _=c.value.clone(),S=G0(c.fieldTransforms,g,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof xr?(function(c,d,y,g){if(!$c(c.precondition,d))return y;const _=G0(c.fieldTransforms,g,d),S=d.data;return S.setAll(aT(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,y){return $c(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,t,i)}function OR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=tT(a.transform,l||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function q0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&mo(a,l,((c,d)=>CR(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class su extends Ch{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class xr extends Ch{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function H0(s,t,i){const a=new Map;Wt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=t.data.field(c.field);a.set(c.field,IR(d,y,i[l]))}return a}function G0(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,xR(c,d,t))}return a}class Xm extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MR extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&DR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Pl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Pl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=JE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=rT(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(wt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&mo(this.mutations,t.mutations,((i,a)=>q0(i,a)))&&mo(this.baseMutations,t.baseMutations,((i,a)=>q0(i,a)))}}class $m{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Wt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return SR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new $m(t,i,a,l)}}class kR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class UR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ge,Qt;function LR(s){switch(s){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function oT(s){if(s===void 0)return Rs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Ge.OK:return $.OK;case Ge.CANCELLED:return $.CANCELLED;case Ge.UNKNOWN:return $.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return $.INTERNAL;case Ge.UNAVAILABLE:return $.UNAVAILABLE;case Ge.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ge.NOT_FOUND:return $.NOT_FOUND;case Ge.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ge.ABORTED:return $.ABORTED;case Ge.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ge.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:s})}}(Qt=Ge||(Ge={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function jR(){return new TextEncoder}const PR=new yr([4294967295,4294967295],0);function F0(s){const t=jR().encode(s),i=new bE;return i.update(t),new Uint8Array(i.digest())}function Q0(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new yr([i,a],0),new yr([l,c],0)]}class Jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ol(`Invalid padding: ${i}`);if(a<0)throw new Ol(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=yr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(yr.fromNumber(a)));return l.compare(PR)===1&&(l=new yr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=F0(t),[a,l]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=F0(t),[a,l]=Q0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,ru.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Nh(wt.min(),l,new Re(qt),xs(),Ht())}}class ru{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new ru(a,i,Ht(),Ht(),Ht())}}class Jc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class lT{constructor(t,i){this.targetId=t,this.Ce=i}}class uT{constructor(t,i,a=un.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class K0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),i=Ht(),a=Ht();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new ru(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Y0()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zR{constructor(t){this.Ge=t,this.ze=new Map,this.je=xs(),this.He=jc(),this.Je=jc(),this.Ze=new Re(qt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(a===0){const d=new pt(c.path);this.et(i,d,pn.newNoDocument(d,wt.min()))}else Wt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),g=y?this.ct(y,t,d):1;if(g!==0){this.it(i);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=br(a).toUint8Array()}catch(g){if(g instanceof ME)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Jm(d,l,c)}catch(g){return fo(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&dm(y.target)){const g=new pt(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,pn.newNoDocument(g,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ht();this.Je.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Nh(t,i,this.Ze,this.je,a);return this.je=xs(),this.He=jc(),this.Je=jc(),this.Ze=new Re(qt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new K0,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new $e(qt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new $e(qt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new K0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function jc(){return new Re(pt.comparator)}function Y0(){return new Re(pt.comparator)}const BR={asc:"ASCENDING",desc:"DESCENDING"},qR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HR={and:"AND",or:"OR"};class GR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gm(s,t){return s.useProto3Json||bh(t)?t:{value:t}}function dh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function FR(s,t){return dh(s,t.toTimestamp())}function Qi(s){return Wt(!!s,49232),wt.fromTimestamp((function(i){const a=Tr(i);return new ve(a.seconds,a.nanos)})(s))}function Zm(s,t){return pm(s,t).canonicalString()}function pm(s,t){const i=(function(l){return new we(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function hT(s){const t=we.fromString(s);return Wt(pT(t),10190,{key:t.toString()}),t}function ym(s,t){return Zm(s.databaseId,t.path)}function Yd(s,t){const i=hT(t);if(i.get(1)!==s.databaseId.projectId)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(dT(i))}function fT(s,t){return Zm(s.databaseId,t)}function QR(s){const t=hT(s);return t.length===4?we.emptyPath():dT(t)}function _m(s){return new we(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function dT(s){return Wt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function X0(s,t,i){return{name:ym(s,t),fields:i.value.mapValue.fields}}function KR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Wt(S===void 0||typeof S=="string",58123),un.fromBase64String(S||"")):(Wt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),un.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:oT(_.code);return new ct(S,_.message||"")})(d);i=new uT(a,l,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Yd(s,a.document.name),c=Qi(a.document.updateTime),d=a.document.createTime?Qi(a.document.createTime):wt.min(),y=new Mn({mapValue:{fields:a.document.fields}}),g=pn.newFoundDocument(l,c,d,y),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Jc(_,S,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Yd(s,a.document),c=a.readTime?Qi(a.readTime):wt.min(),d=pn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Jc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Yd(s,a.document),c=a.removedTargetIds||[];i=new Jc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new UR(l,c),y=a.targetId;i=new lT(y,d)}}return i}function YR(s,t){let i;if(t instanceof su)i={update:X0(s,t.key,t.value)};else if(t instanceof Xm)i={delete:ym(s,t.key)};else if(t instanceof xr)i={update:X0(s,t.key,t.data),updateMask:ix(t.fieldMask)};else{if(!(t instanceof MR))return vt(16599,{dt:t.type});i={verify:ym(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof fh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof yo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Kl)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:FR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function XR(s,t){return s&&s.length>0?(Wt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Qi(l.updateTime):Qi(c);return d.isEqual(wt.min())&&(d=Qi(c)),new NR(d,l.transformResults||[])})(i,t)))):[]}function $R(s,t){return{documents:[fT(s,t.path)]}}function JR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=fT(s,l);const c=(function(_){if(_.length!==0)return gT(Xi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:no(M.field),direction:tx(M.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=gm(s,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function ZR(s){let t=QR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Wt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const M=mT(A);return M instanceof Xi&&HE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new hh(io(W.field),(function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(A){let M;return M=typeof A=="object"?A.value:A,bh(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(A){const M=!!A.before,F=A.values||[];return new ch(F,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,F=A.values||[];return new ch(F,M)})(i.endAt)),pR(t,l,d,c,y,"F",g,_)}function WR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function mT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return Xe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return Xe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return Xe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return Xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Xe.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>mT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function tx(s){return BR[s]}function ex(s){return qR[s]}function nx(s){return HR[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return ln.fromServerFormat(s.fieldPath)}function gT(s){return s instanceof Xe?(function(i){if(i.op==="=="){if(U0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(k0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(k0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:ex(i.op),value:i.value}}})(s):s instanceof Xi?(function(i){const a=i.getFilters().map((l=>gT(l)));return a.length===1?a[0]:{compositeFilter:{op:nx(i.op),filters:a}}})(s):vt(54877,{filter:s})}function ix(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function pT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function yT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class dr{constructor(t,i,a,l,c=wt.min(),d=wt.min(),y=un.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(t){return new dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class sx{constructor(t){this.yt=t}}function rx(s){const t=ZR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?mm(t,t.limit,"L"):t}class ax{constructor(){this.Sn=new ox}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Er.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Er.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class ox{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new $e(we.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new $e(we.comparator)).toArray()}}const $0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class On{static withCacheSize(t){return new On(t,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(_T,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class _o{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new _o(0)}static ar(){return new _o(-1)}}const J0="LruGarbageCollector",lx=1048576;function Z0([s,t],[i,a]){const l=qt(s,i);return l===0?qt(t,a):l}class ux{constructor(t){this.Pr=t,this.buffer=new $e(Z0),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class cx{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(J0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wo(i)?ot(J0,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Ar(3e5)}))}}class hx{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(Th.ce);const a=new ux(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve($0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$0):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,y,g,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,y=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),to()<=Bt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function fx(s,t){return new hx(s,t)}class dx{constructor(){this.changes=new fa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class mx{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class gx{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Pl(a.mutation,l,Gn.empty(),ve.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ht()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ht()){const l=sa();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Dl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=sa();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ht())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,l){let c=xs();const d=jl(),y=(function(){return jl()})();return i.forEach(((g,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof xr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),Pl(S.mutation,_,S.mutation.getFieldMask(),ve.now())):d.set(_.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,c).next((g=>(g.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>y.set(_,new mx(S,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=jl();let l=new Re(((d,y)=>d-y)),c=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const _=i.get(g);if(_===null)return;let S=a.get(g)||Gn.empty();S=y.applyToLocalView(_,S),a.set(g,S);const A=(l.get(y.batchId)||Ht()).add(g);l=l.insert(y.batchId,A)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),_=g.key,S=g.value,A=JE();S.forEach((M=>{if(!c.has(M)){const F=rT(i.get(M),a.get(M));F!==null&&A.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return yR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):_R(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(sa());let y=ql,g=c;return d.next((_=>X.forEach(_,((S,A)=>(y<A.largestBatchId&&(y=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((M=>{g=g.insert(S,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,g,_,Ht()))).next((S=>({batchId:y,changes:$E(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Dl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(t,c).next((y=>X.forEach(y,(g=>{const _=(function(A,M){return new Ah(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((g,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,pn.newInvalidDocument(S)))}));let y=Dl();return d.forEach(((g,_)=>{const S=c.get(g);S!==void 0&&Pl(S.mutation,_,Gn.empty(),ve.now()),xh(i,_)&&(y=y.insert(g,_))})),y}))}}class px{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Qi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:rx(l.bundledQuery),readTime:Qi(l.readTime)}})(i)),X.resolve()}}class yx{constructor(){this.overlays=new Re(pt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=sa();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=sa(),c=i.length+1,d=new pt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,_=g.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new Re(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=c.get(_.largestBatchId);S===null&&(S=sa(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const y=sa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,S)=>y.set(_,S))),!(y.size()>=l)););return X.resolve(y)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kR(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ht(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class _x{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Wm{constructor(){this.kr=new $e(tn.Kr),this.qr=new $e(tn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new tn(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new tn(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new pt(new we([])),a=new tn(i,t),l=new tn(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new pt(new we([])),a=new tn(i,t),l=new tn(i,t+1);let c=Ht();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new tn(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class tn{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return pt.comparator(t.key,i.key)||qt(t.Hr,i.Hr)}static Ur(t,i){return qt(t.Hr,i.Hr)||pt.comparator(t.key,i.key)}}class vx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new $e(tn.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new VR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Jr=this.Jr.add(new tn(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Hm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new tn(i,0),l=new tn(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const y=this.Zr(d.Hr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new $e(qt);return i.forEach((l=>{const c=new tn(l,0),d=new tn(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(y=>{a=a.add(y.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new tn(new pt(c),0);let y=new $e(qt);return this.Jr.forEachWhile((g=>{const _=g.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(g.Hr)),!0)}),d),X.resolve(this.Yr(y))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Wt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new tn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new tn(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Ex{constructor(t){this.ti=t,this.docs=(function(){return new Re(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(t,i){let a=xs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():pn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=xs();const d=i.path,y=new pt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:_,value:{document:S}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||K2(Q2(S),a)<=0||(l.has(S.key)||xh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Tx(this)}getSize(t){return X.resolve(this.size)}}class Tx extends dx{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class bx{constructor(t){this.persistence=t,this.ri=new fa((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ii=0,this.si=new Wm,this.targetCount=0,this.oi=_o._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new _o(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class vT{constructor(t,i){this._i={},this.overlays={},this.ai=new Th(0),this.ui=!1,this.ui=!0,this.ci=new _x,this.referenceDelegate=t(this),this.li=new bx(this),this.indexManager=new ax,this.remoteDocumentCache=(function(l){return new Ex(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new sx(i),this.Pi=new px(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new yx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new vx(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new Sx(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class Sx extends X2{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Ri=new Wm,this.Ai=null}static Vi(t){return new tg(t)}get di(){if(this.Ai)return this.Ai;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=pt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,wt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class mh{constructor(t,i){this.persistence=t,this.fi=new fa((a=>Z2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=fx(this,i)}static Vi(t,i){return new mh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((y=>{y||(a++,c.removeEntry(d,wt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Yc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class eg{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Ht(),l=Ht();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new eg(t,i.fromCache,a,l)}}class Ax{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class wx{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return cS()?8:$2(yn())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ax;return this.ys(t,i,d).next((y=>{if(c.result=y,this.As)return this.ws(t,i,d,y.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(to()<=Bt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(to()<=Bt.DEBUG&&ot("QueryEngine","Query:",eo(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(to()<=Bt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(i))):X.resolve())}gs(t,i){if(z0(i))return X.resolve(null);let a=Fi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mm(i,null,"F"),a=Fi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ht(...c);return this.fs.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((g=>{const _=this.bs(i,y);return this.Ss(i,_,d,g.readTime)?this.gs(t,mm(i,null,"F")):this.Ds(t,_,i,g)}))))})))))}ps(t,i,a,l){return z0(i)||l.isEqual(wt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(to()<=Bt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),eo(i)),this.Ds(t,d,i,F2(l,ql)).next((y=>y)))}))}bs(t,i){let a=new $e(YE(t));return i.forEach(((l,c)=>{xh(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return to()<=Bt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",eo(i)),this.fs.getDocumentsMatchingQuery(t,i,Er.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ng="LocalStore",Rx=3e8;class xx{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new Re(qt),this.Fs=new fa((c=>Qm(c)),Km),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new gx(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function Ix(s,t,i,a){return new xx(s,t,i,a)}async function ET(s,t){const i=It(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Ht();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}for(const _ of c){y.push(_.batchId);for(const S of _.mutations)g=g.add(S.key)}return i.localDocuments.getDocuments(a,g).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Cx(s,t){const i=It(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,g,_,S){const A=_.batch,M=A.keys();let F=X.resolve();return M.forEach((W=>{F=F.next((()=>S.getEntry(g,W))).next((it=>{const st=_.docVersions.get(W);Wt(st!==null,48541),it.version.compareTo(st)<0&&(A.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),S.addEntry(it)))}))})),F.next((()=>y.mutationQueue.removeMutationBatch(g,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Ht();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(g=g.add(y.batch.mutations[_].key));return g})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function TT(s){const t=It(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function Nx(s,t){const i=It(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const y=[];t.targetChanges.forEach(((S,A)=>{const M=l.get(A);if(!M)return;y.push(i.li.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,A))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?F=F.withResumeToken(un.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,a)),l=l.insert(A,F),(function(it,st,ht){return it.resumeToken.approximateByteSize()===0||st.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Rx?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(M,F,S)&&y.push(i.li.updateTargetData(c,F))}));let g=xs(),_=Ht();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),y.push(Dx(c,d,t.documentUpdates).next((S=>{g=S.Bs,_=S.Ls}))),!a.isEqual(wt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(S)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(i.vs=l,c)))}function Dx(s,t,i){let a=Ht(),l=Ht();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=xs();return i.forEach(((y,g)=>{const _=c.get(y);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(wt.min())?(t.removeEntry(y,g.readTime),d=d.insert(y,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(g),d=d.insert(y,g)):ot(ng,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",g.version)})),{Bs:d,Ls:l}}))}function Ox(s,t){const i=It(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Mx(s,t){const i=It(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new dr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function vm(s,t,i){const a=It(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!wo(d))throw d;ot(ng,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function W0(s,t,i){const a=It(s);let l=wt.min(),c=Ht();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,S){const A=It(g),M=A.Fs.get(S);return M!==void 0?X.resolve(A.vs.get(M)):A.li.getTargetData(_,S)})(a,d,Fi(t)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:wt.min(),i?c:Ht()))).next((y=>(Vx(a,ER(t),y),{documents:y,ks:c})))))}function Vx(s,t,i){let a=s.Ms.get(t)||wt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class tv{constructor(){this.activeTargetIds=RR()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kx{constructor(){this.vo=new tv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new tv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ux{Mo(t){}shutdown(){}}const ev="ConnectivityMonitor";class nv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(ev,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(ev,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Em(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Xd="RestConnection",Lx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jx{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===lh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=Em(),y=this.Qo(t,i.toUriEncodedString());ot(Xd,`Sending RPC '${t}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,l,c);const{host:_}=new URL(y),S=Eo(_);return this.zo(t,y,g,a,S).then((A=>(ot(Xd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw fo(Xd,`RPC '${t}' ${d} failed with error: `,A,"url: ",y,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=Lx[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class Px{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const fn="WebChannelConnection",Il=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class lo extends jx{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!lo.c_){const t=RE();Il(t,wE.STAT_EVENT,(i=>{i.stat===lm.PROXY?ot(fn,"STAT_EVENT: detected buffering proxy"):i.stat===lm.NOPROXY&&ot(fn,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(t,i,a,l,c){const d=Em();return new Promise(((y,g)=>{const _=new SE;_.setWithCredentials(!0),_.listenOnce(AE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Kc.NO_ERROR:const A=_.getResponseJson();ot(fn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),y(A);break;case Kc.TIMEOUT:ot(fn,`RPC '${t}' ${d} timed out`),g(new ct($.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const M=_.getStatus();if(ot(fn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const it=(function(ht){const Rt=ht.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Rt)>=0?Rt:$.UNKNOWN})(W.status);g(new ct(it,W.message))}else g(new ct($.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ct($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(fn,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);ot(fn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=Em(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const _=c.join("");ot(fn,`Creating RPC '${t}' stream ${l}: ${_}`,y);const S=d.createWebChannel(_,y);this.I_(S);let A=!1,M=!1;const F=new Px({Ho:W=>{M?ot(fn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(A||(ot(fn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),A=!0),ot(fn,`RPC '${t}' stream ${l} sending:`,W),S.send(W))},Jo:()=>S.close()});return Il(S,Nl.EventType.OPEN,(()=>{M||(ot(fn,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),Il(S,Nl.EventType.CLOSE,(()=>{M||(M=!0,ot(fn,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(S))})),Il(S,Nl.EventType.ERROR,(W=>{M||(M=!0,fo(fn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),F.o_(new ct($.UNAVAILABLE,"The operation could not be completed")))})),Il(S,Nl.EventType.MESSAGE,(W=>{if(!M){const it=W.data[0];Wt(!!it,16349);const st=it,ht=st?.error||st[0]?.error;if(ht){ot(fn,`RPC '${t}' stream ${l} received error:`,ht);const Rt=ht.status;let St=(function(Vt){const C=Ge[Vt];if(C!==void 0)return oT(C)})(Rt),te=ht.message;St===void 0&&(St=$.INTERNAL,te="Unknown error status: "+Rt+" with message "+ht.message),M=!0,F.o_(new ct(St,te)),S.close()}else ot(fn,`RPC '${t}' stream ${l} received:`,it),F.__(it)}})),lo.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xE()}}function zx(s){return new lo(s)}function $d(){return typeof document<"u"?document:null}function Dh(s){return new GR(s,!0)}lo.c_=!1;class bT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const iv="PersistentStream";class ST{constructor(t,i,a,l,c,d,y,g){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Rs(i.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(iv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(ot(iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Bx extends ST{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=KR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return wt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?Qi(d.readTime):wt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=dm(g)?{documents:$R(c,g)}:{query:JR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=cT(c,d.resumeToken);const _=gm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(wt.min())>0){y.readTime=dh(c,d.snapshotVersion.toTimestamp());const _=gm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,t);const a=WR(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.K_(i)}}class qx extends ST{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=XR(t.writeResults,t.commitTime),a=Qi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=_m(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>YR(this.serializer,a)))};this.K_(i)}}class Hx{}class Gx extends Hx{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,pm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct($.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(t,pm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Fx(s,t,i,a){return new Gx(s,t,i,a)}class Qx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class Kx{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{da(this)&&(ot(ua,"Restarting streams for network reachability change."),await(async function(g){const _=It(g);_.Ea.add(4),await au(_),_.Va.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Va=new Qx(a,l)}}async function Oh(s){if(da(s))for(const t of s.Ra)await t(!0)}async function au(s){for(const t of s.Ra)await t(!1)}function AT(s,t){const i=It(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ag(i)?rg(i):Ro(i).O_()&&sg(i,t))}function ig(s,t){const i=It(s),a=Ro(i);i.Ia.delete(t),a.O_()&&wT(i,t),i.Ia.size===0&&(a.O_()?a.L_():da(i)&&i.Va.set("Unknown"))}function sg(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ro(s).Z_(t)}function wT(s,t){s.da.$e(t),Ro(s).X_(t)}function rg(s){s.da=new zR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ro(s).start(),s.Va.ua()}function ag(s){return da(s)&&!Ro(s).x_()&&s.Ia.size>0}function da(s){return It(s).Ea.size===0}function RT(s){s.da=void 0}async function Yx(s){s.Va.set("Online")}async function Xx(s){s.Ia.forEach(((t,i)=>{sg(s,t)}))}async function $x(s,t){RT(s),ag(s)?(s.Va.ha(t),rg(s)):s.Va.set("Unknown")}async function Jx(s,t,i){if(s.Va.set("Online"),t instanceof uT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.da.removeTarget(y))})(s,t)}catch(a){ot(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await gh(s,a)}else if(t instanceof Jc?s.da.Xe(t):t instanceof lT?s.da.st(t):s.da.tt(t),!i.isEqual(wt.min()))try{const a=await TT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.da.Tt(d);return y.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,_)=>{const S=c.Ia.get(g);if(!S)return;c.Ia.set(g,S.withResumeToken(un.EMPTY_BYTE_STRING,S.snapshotVersion)),wT(c,g);const A=new dr(S.target,g,_,S.sequenceNumber);sg(c,A)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){ot(ua,"Failed to raise snapshot:",a),await gh(s,a)}}async function gh(s,t,i){if(!wo(t))throw t;s.Ea.add(1),await au(s),s.Va.set("Offline"),i||(i=()=>TT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Oh(s)}))}function xT(s,t){return t().catch((i=>gh(s,i,t)))}async function Mh(s){const t=It(s),i=Ar(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hm;for(;Zx(t);)try{const l=await Ox(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,Wx(t,l)}catch(l){await gh(t,l)}IT(t)&&CT(t)}function Zx(s){return da(s)&&s.Ta.length<10}function Wx(s,t){s.Ta.push(t);const i=Ar(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function IT(s){return da(s)&&!Ar(s).x_()&&s.Ta.length>0}function CT(s){Ar(s).start()}async function tI(s){Ar(s).ra()}async function eI(s){const t=Ar(s);for(const i of s.Ta)t.ea(i.mutations)}async function nI(s,t,i){const a=s.Ta.shift(),l=$m.from(a,t,i);await xT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Mh(s)}async function iI(s,t){t&&Ar(s).Y_&&await(async function(a,l){if((function(d){return LR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();Ar(a).B_(),await xT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Mh(a)}})(s,t),IT(s)&&CT(s)}async function sv(s,t){const i=It(s);i.asyncQueue.verifyOperationInProgress(),ot(ua,"RemoteStore received new credentials");const a=da(i);i.Ea.add(3),await au(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function sI(s,t){const i=It(s);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await au(i),i.Va.set("Unknown"))}function Ro(s){return s.ma||(s.ma=(function(i,a,l){const c=It(i);return c.sa(),new Bx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:Yx.bind(null,s),Yo:Xx.bind(null,s),t_:$x.bind(null,s),J_:Jx.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),ag(s)?rg(s):s.Va.set("Unknown")):(await s.ma.stop(),RT(s))}))),s.ma}function Ar(s){return s.fa||(s.fa=(function(i,a,l){const c=It(i);return c.sa(),new qx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:tI.bind(null,s),t_:iI.bind(null,s),ta:eI.bind(null,s),na:nI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await Mh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class og{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,y=new og(t,i,d,l,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(s,t){if(Rs("AsyncQueue",`${t}: ${s}`),wo(s))return new ct($.UNAVAILABLE,`${t}: ${s}`);throw s}class uo{static emptySet(t){return new uo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Dl(),this.sortedSet=new Re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof uo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new uo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class rv{constructor(){this.ga=new Re(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class vo{constructor(t,i,a,l,c,d,y,g,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new vo(t,i,uo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class rI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class aI{constructor(){this.queries=av(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=It(i),c=l.queries;l.queries=av(),c.forEach(((d,y)=>{for(const g of y.ba)g.onError(a)}))})(this,new ct($.ABORTED,"Firestore shutting down"))}}function av(){return new fa((s=>KE(s)),Rh)}async function NT(s,t){const i=It(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new rI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=lg(d,`Initialization of query '${eo(t.query)}' failed`);return void t.onError(y)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ug(i)}async function DT(s,t){const i=It(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function oI(s,t){const i=It(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.ba)y.Fa(l)&&(a=!0);d.wa=l}}a&&ug(i)}function lI(s,t,i){const a=It(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function ug(s){s.Ca.forEach((t=>{t.next()}))}var Tm,ov;(ov=Tm||(Tm={})).Ma="default",ov.Cache="cache";class OT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new vo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}class MT{constructor(t){this.key=t}}class VT{constructor(t){this.key=t}}class uI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ht(),this.mutatedKeys=Ht(),this.eu=YE(t),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new rv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const M=l.get(S),F=xh(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let st=!1;M&&F?M.data.isEqual(F.data)?W!==it&&(a.track({type:3,doc:F}),st=!0):this.su(M,F)||(a.track({type:2,doc:F}),st=!0,(g&&this.eu(F,g)>0||_&&this.eu(F,_)<0)&&(y=!0)):!M&&F?(a.track({type:0,doc:F}),st=!0):M&&!F&&(a.track({type:1,doc:M}),st=!0,(g||_)&&(y=!0)),st&&(F?(d=d.add(F),c=it?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(F,W){const it=st=>{switch(st){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:st})}};return it(F)-it(W)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Ya.size===0&&this.current&&!l?1:0,_=g!==this.Xa;return this.Xa=g,d.length!==0||_?{snapshot:new vo(this.query,t.tu,c,d,t.mutatedKeys,g===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Ht(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new VT(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new MT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Ht();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cg="SyncEngine";class cI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class hI{constructor(t){this.key=t,this.hu=!1}}class fI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((y=>KE(y)),Rh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Re(pt.comparator),this.Au=new Map,this.Vu=new Wm,this.du={},this.mu=new Map,this.fu=_o.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dI(s,t,i=!0){const a=zT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await kT(a,t,i,!0),l}async function mI(s,t){const i=zT(s);await kT(i,t,!0,!1)}async function kT(s,t,i,a){const l=await Mx(s.localStore,Fi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await gI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&AT(s.remoteStore,l),y}async function gI(s,t,i,a,l){s.pu=(A,M,F)=>(async function(it,st,ht,Rt){let St=st.view.ru(ht);St.Ss&&(St=await W0(it.localStore,st.query,!1).then((({documents:C})=>st.view.ru(C,St))));const te=Rt&&Rt.targetChanges.get(st.targetId),ge=Rt&&Rt.targetMismatches.get(st.targetId)!=null,Vt=st.view.applyChanges(St,it.isPrimaryClient,te,ge);return uv(it,st.targetId,Vt.au),Vt.snapshot})(s,A,M,F);const c=await W0(s.localStore,t,!0),d=new uI(t,c.ks),y=d.ru(c.documents),g=ru.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,g);uv(s,i,_.au);const S=new cI(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function pI(s,t,i){const a=It(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ig(a.remoteStore,l.targetId),bm(a,l.targetId)})).catch(Ao)):(bm(a,l.targetId),await vm(a.localStore,l.targetId,!0))}async function yI(s,t){const i=It(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ig(i.remoteStore,a.targetId))}async function _I(s,t,i){const a=wI(s);try{const l=await(function(d,y){const g=It(d),_=ve.now(),S=y.reduce(((F,W)=>F.add(W.key)),Ht());let A,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=xs(),it=Ht();return g.xs.getEntries(F,S).next((st=>{W=st,W.forEach(((ht,Rt)=>{Rt.isValidDocument()||(it=it.add(ht))}))})).next((()=>g.localDocuments.getOverlayedDocuments(F,W))).next((st=>{A=st;const ht=[];for(const Rt of y){const St=OR(Rt,A.get(Rt.key).overlayedDocument);St!=null&&ht.push(new xr(Rt.key,St,zE(St.value.mapValue),vi.exists(!0)))}return g.mutationQueue.addMutationBatch(F,_,ht,y)})).next((st=>{M=st;const ht=st.applyToLocalDocumentSet(A,it);return g.documentOverlayCache.saveOverlays(F,st.batchId,ht)}))})).then((()=>({batchId:M.batchId,changes:$E(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let _=d.du[d.currentUser.toKey()];_||(_=new Re(qt)),_=_.insert(y,g),d.du[d.currentUser.toKey()]=_})(a,l.batchId,i),await ou(a,l.changes),await Mh(a.remoteStore)}catch(l){const c=lg(l,"Failed to persist write");i.reject(c)}}async function UT(s,t){const i=It(s);try{const a=await Nx(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Wt(d.hu,14607):l.removedDocuments.size>0&&(Wt(d.hu,42227),d.hu=!1))})),await ou(i,a,t)}catch(a){await Ao(a)}}function lv(s,t,i){const a=It(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=It(d);g.onlineState=y;let _=!1;g.queries.forEach(((S,A)=>{for(const M of A.ba)M.va(y)&&(_=!0)})),_&&ug(g)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function vI(s,t,i){const a=It(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new Re(pt.comparator);d=d.insert(c,pn.newNoDocument(c,wt.min()));const y=Ht().add(c),g=new Nh(wt.min(),new Map,new Re(qt),d,y);await UT(a,g),a.Ru=a.Ru.remove(c),a.Au.delete(t),hg(a)}else await vm(a.localStore,t,!1).then((()=>bm(a,t,i))).catch(Ao)}async function EI(s,t){const i=It(s),a=t.batch.batchId;try{const l=await Cx(i.localStore,t);jT(i,a,null),LT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ou(i,l)}catch(l){await Ao(l)}}async function TI(s,t,i){const a=It(s);try{const l=await(function(d,y){const g=It(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return g.mutationQueue.lookupMutationBatch(_,y).next((A=>(Wt(A!==null,37113),S=A.keys(),g.mutationQueue.removeMutationBatch(_,A)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>g.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);jT(a,t,i),LT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await ou(a,l)}catch(l){await Ao(l)}}function LT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function jT(s,t,i){const a=It(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function bm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||PT(s,a)}))}function PT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(ig(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),hg(s))}function uv(s,t,i){for(const a of i)a instanceof MT?(s.Vu.addReference(a.key,t),bI(s,a)):a instanceof VT?(ot(cg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||PT(s,a.key)):vt(19791,{wu:a})}function bI(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ot(cg,"New document in limbo: "+i),s.Eu.add(a),hg(s))}function hg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(we.fromString(t)),a=s.fu.next();s.Au.set(a,new hI(i)),s.Ru=s.Ru.insert(i,a),AT(s.remoteStore,new dr(Fi(wh(i.path)),a,"TargetPurposeLimboResolution",Th.ce))}}async function ou(s,t,i){const a=It(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){l.push(_);const S=eg.Es(g.targetId,_);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(g,_){const S=It(g);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Ts,(F=>S.persistence.referenceDelegate.addReference(A,M.targetId,F))).next((()=>X.forEach(M.Is,(F=>S.persistence.referenceDelegate.removeReference(A,M.targetId,F)))))))))}catch(A){if(!wo(A))throw A;ot(ng,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const F=S.vs.get(M),W=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion(W);S.vs=S.vs.insert(M,it)}}})(a.localStore,c))}async function SI(s,t){const i=It(s);if(!i.currentUser.isEqual(t)){ot(cg,"User change. New user:",t.toKey());const a=await ET(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new ct($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await ou(i,a.Ns)}}function AI(s,t){const i=It(s),a=i.Au.get(t);if(a&&a.hu)return Ht().add(a.key);{let l=Ht();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function zT(s){const t=It(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=UT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=AI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vI.bind(null,t),t.Pu.J_=oI.bind(null,t.eventManager),t.Pu.yu=lI.bind(null,t.eventManager),t}function wI(s){const t=It(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TI.bind(null,t),t}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Ix(this.persistence,new wx,t.initialUser,this.serializer)}Cu(t){return new vT(tg.Vi,this.serializer)}Du(t){return new kx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class RI extends ph{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Wt(this.persistence.referenceDelegate instanceof mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new cx(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new vT((a=>mh.Vi(a,i)),this.serializer)}}class Sm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>lv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=SI.bind(null,this.syncEngine),await sI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new aI})()}createDatastore(t){const i=Dh(t.databaseInfo.databaseId),a=zx(t.databaseInfo);return Fx(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,y){return new Kx(a,l,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>lv(this.syncEngine,i,0)),(function(){return nv.v()?new nv:new Ux})())}createSyncEngine(t,i){return(function(l,c,d,y,g,_,S){const A=new fI(l,c,d,y,g,_);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=It(i);ot(ua,"RemoteStore shutting down."),a.Ea.add(5),await au(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sm.provider={build:()=>new Sm};class BT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Rs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const wr="FirestoreClient";class xI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=gn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(wr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(wr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Jd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(wr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await ET(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function cv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await II(s);ot(wr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>sv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>sv(t.remoteStore,l))),s._onlineComponents=t}async function II(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(wr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;fo("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new ph)}}else ot(wr,"Using default OfflineComponentProvider"),await Jd(s,new RI(void 0));return s._offlineComponents}async function qT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(wr,"Using user provided OnlineComponentProvider"),await cv(s,s._uninitializedComponentsProvider._online)):(ot(wr,"Using default OnlineComponentProvider"),await cv(s,new Sm))),s._onlineComponents}function CI(s){return qT(s).then((t=>t.syncEngine))}async function Am(s){const t=await qT(s),i=t.eventManager;return i.onListen=dI.bind(null,t.syncEngine),i.onUnlisten=pI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=mI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=yI.bind(null,t.syncEngine),i}function NI(s,t,i,a){const l=new BT(a),c=new OT(t,l,i);return s.asyncQueue.enqueueAndForget((async()=>NT(await Am(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>DT(await Am(s),c)))}}function DI(s,t,i={}){const a=new _r;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,_){const S=new BT({next:M=>{S.Nu(),d.enqueueAndForget((()=>DT(c,A)));const F=M.docs.has(y);!F&&M.fromCache?_.reject(new ct($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&g&&g.source==="server"?_.reject(new ct($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new OT(wh(y.path),S,{includeMetadataChanges:!0,Ka:!0});return NT(c,A)})(await Am(s),s.asyncQueue,t,i,a))),a.promise}function OI(s,t){const i=new _r;return s.asyncQueue.enqueueAndForget((async()=>_I(await CI(s),t,i))),i.promise}function HT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const MI="ComponentProvider",hv=new Map;function VI(s,t,i,a,l){return new eR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,HT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const GT="firestore.googleapis.com",fv=!0;class dv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=fv}else this.host=t.host,this.ssl=t.ssl??fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<lx)throw new ct($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}G2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new M2;switch(a.type){case"firstParty":return new L2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=hv.get(i);a&&(ot(MI,"Removing Datastore"),hv.delete(i),a.terminate())})(this),Promise.resolve()}}function kI(s,t,i,a={}){s=_i(s,fg);const l=Eo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${t}:${i}`;l&&(Lv(`https://${y}`),jv("Firestore",!0)),c.host!==GT&&c.host!==y&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!vr(g,d)&&(s._setSettings(g),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=gn.MOCK_USER;else{_=eS(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ct($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new gn(A)}s._authCredentials=new V2(new CE(_,S))}}class Vh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Vh(this.firestore,t,this._query)}}class Qe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qe(this.firestore,t,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(iu(i,Qe._jsonSchema))return new Qe(t,a||null,new pt(we.fromString(i.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:Fe("string",Qe._jsonSchemaVersion),referencePath:Fe("string")};class Yl extends Vh{constructor(t,i,a){super(t,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qe(this.firestore,null,new pt(t))}withConverter(t){return new Yl(this.firestore,t,this._path)}}function dn(s,t,...i){if(s=Tn(s),arguments.length===1&&(t=Bm.newId()),H2("doc","path",t),s instanceof fg){const a=we.fromString(t,...i);return x0(a),new Qe(s,null,new pt(a))}{if(!(s instanceof Qe||s instanceof Yl))throw new ct($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(we.fromString(t,...i));return x0(a),new Qe(s.firestore,s instanceof Yl?s.converter:null,new pt(a))}}const mv="AsyncQueue";class gv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bT(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&ot(mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;ot(mv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",pv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=og.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function pv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class ca extends fg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new gv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gv(t),this._firestoreClient=void 0,await t}}}function UI(s,t){const i=typeof s=="object"?s:qv(),a=typeof s=="string"?s:lh,l=Dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Wb("firestore");c&&kI(l,...c)}return l}function dg(s){if(s._terminated)throw new ct($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||LI(s),s._firestoreClient}function LI(s){const t=s._freezeSettings(),i=VI(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new xI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class si{constructor(t){this._byteString=t}static fromBase64String(t){try{return new si(un.fromBase64String(t))}catch(i){throw new ct($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new si(un.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(iu(t,si._jsonSchema))return si.fromBase64String(t.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Fe("string",si._jsonSchemaVersion),bytes:Fe("string")};class mg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class lu{constructor(t){this._methodName=t}}class Ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(t){if(iu(t,Ki._jsonSchema))return new Ki(t.latitude,t.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Fe("string",Ki._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};class Ei{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(iu(t,Ei._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ei(t.vectorValues);throw new ct($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:Fe("string",Ei._jsonSchemaVersion),vectorValues:Fe("object")};const jI=/^__.*__$/;class PI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new xr(t,this.data,this.fieldMask,i,this.fieldTransforms):new su(t,this.data,i,this.fieldTransforms)}}class FT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new xr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function QT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{dataSource:s})}}class kh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new kh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return yh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(QT(this.dataSource)&&jI.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class zI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Dh(t)}createContext(t,i,a,l=!1){return new kh({dataSource:t,methodName:i,targetDoc:a,path:ln.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KT(s){const t=s._freezeSettings(),i=Dh(s._databaseId);return new zI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function BI(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);yg("Data must be an object, but it was:",d,a);const y=YT(a,d);let g,_;if(c.merge)g=new Gn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const M=Xl(t,A,i);if(!d.contains(M))throw new ct($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);JT(S,M)||S.push(M)}g=new Gn(S),_=d.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,_=d.fieldTransforms;return new PI(new Mn(y),g,_)}class Uh extends lu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Uh}}function qI(s,t,i){return new kh({dataSource:3,targetDoc:t.settings.targetDoc,methodName:s._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class gg extends lu{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=qI(this,t,!0),a=this.Ac.map((c=>uu(c,i))),l=new yo(a);return new sT(t.path,l)}isEqual(t){return t instanceof gg&&vr(this.Ac,t.Ac)}}class pg extends lu{constructor(t,i){super(t),this.Vc=i}_toFieldTransform(t){const i=new Kl(t.serializer,WE(t.serializer,this.Vc));return new sT(t.path,i)}isEqual(t){return t instanceof pg&&this.Vc===t.Vc}}function HI(s,t,i,a){const l=s.createContext(1,t,i);yg("Data must be an object, but it was:",l,a);const c=[],d=Mn.empty();Rr(a,((g,_)=>{const S=$T(t,g,i);_=Tn(_);const A=l.childContextForFieldPath(S);if(_ instanceof Uh)c.push(S);else{const M=uu(_,A);M!=null&&(c.push(S),d.set(S,M))}}));const y=new Gn(c);return new FT(d,y,l.fieldTransforms)}function GI(s,t,i,a,l,c){const d=s.createContext(1,t,i),y=[Xl(t,a,i)],g=[l];if(c.length%2!=0)throw new ct($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Xl(t,c[M])),g.push(c[M+1]);const _=[],S=Mn.empty();for(let M=y.length-1;M>=0;--M)if(!JT(_,y[M])){const F=y[M];let W=g[M];W=Tn(W);const it=d.childContextForFieldPath(F);if(W instanceof Uh)_.push(F);else{const st=uu(W,it);st!=null&&(_.push(F),S.set(F,st))}}const A=new Gn(_);return new FT(S,A,d.fieldTransforms)}function uu(s,t){if(XT(s=Tn(s)))return yg("Unsupported field value:",t,s),YT(s,t);if(s instanceof lu)return(function(a,l){if(!QT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=uu(y,l.childContextForArray(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Tn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return WE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ve.fromDate(a);return{timestampValue:dh(l.serializer,c)}}if(a instanceof ve){const c=new ve(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:dh(l.serializer,c)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:cT(l.serializer,a._byteString)};if(a instanceof Qe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ei)return(function(d,y){const g=d instanceof Ei?d.toArray():d;return{mapValue:{fields:{[jE]:{stringValue:PE},[uh]:{arrayValue:{values:g.map((S=>{if(typeof S!="number")throw y.createError("VectorValues must only contain numeric values.");return Ym(y.serializer,S)}))}}}}}})(a,l);if(yT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${qm(a)}`)})(s,t)}function YT(s,t){const i={};return OE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Rr(s,((a,l)=>{const c=uu(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function XT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ve||s instanceof Ki||s instanceof si||s instanceof Qe||s instanceof lu||s instanceof Ei||yT(s))}function yg(s,t,i){if(!XT(i)||!NE(i)){const a=qm(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Xl(s,t,i){if((t=Tn(t))instanceof mg)return t._internalPath;if(typeof t=="string")return $T(s,t);throw yh("Field path arguments must be of type string or ",s,!1,void 0,i)}const FI=new RegExp("[~\\*/\\[\\]]");function $T(s,t,i){if(t.search(FI)>=0)throw yh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mg(...t.split("."))._internalPath}catch{throw yh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function yh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new ct($.INVALID_ARGUMENT,y+s+g)}function JT(s,t){return s.some((i=>i.isEqual(t)))}class QI{convertValue(t,i="none"){switch(Sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Rr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[uh].arrayValue?.values?.map((a=>Me(a.doubleValue)));return new Ei(i)}convertGeoPoint(t){return new Ki(Me(t.latitude),Me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Sh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const i=Tr(t);return new ve(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=we.fromString(t);Wt(pT(a),9688,{name:t});const l=new Gl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||Rs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class ZT extends QI{constructor(t){super(),this.firestore=t}convertBytes(t){return new si(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Qe(this.firestore,null,i)}}function zc(...s){return new gg("arrayUnion",s)}function KI(s){return new pg("increment",s)}const yv="@firebase/firestore",_v="4.10.0";function vv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class WT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Xl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class YI extends WT{data(){return super.data()}}function XI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function $I(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ra extends WT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Xl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Fe("string",ra._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class Zc extends ra{data(t={}){return super.data(t)}}class co{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ml(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Zc(this._firestore,this._userDataWriter,a.key,a,new Ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Zc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ml(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Zc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ml(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),S=d.indexOf(y.doc.key)),{type:JI(y.type),doc:g,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=co._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function JI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Fe("string",co._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};function ZI(s){s=_i(s,Qe);const t=_i(s.firestore,ca),i=dg(t);return DI(i,s._key).then((a=>t1(t,s,a)))}function WI(s,t,i){s=_i(s,Qe);const a=_i(s.firestore,ca),l=$I(s.converter,t),c=KT(a);return _g(a,[BI(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,vi.none())])}function Hn(s,t,i,...a){s=_i(s,Qe);const l=_i(s.firestore,ca),c=KT(l);let d;return d=typeof(t=Tn(t))=="string"||t instanceof mg?GI(c,"updateDoc",s._key,t,i,a):HI(c,"updateDoc",s._key,t),_g(l,[d.toMutation(s._key,vi.exists(!0))])}function tC(s){return _g(_i(s.firestore,ca),[new Xm(s._key,vi.none())])}function Ev(s,...t){s=Tn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||vv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,y;if(s instanceof Qe)d=_i(s.firestore,ca),y=wh(s._key.path),c={next:_=>{t[a]&&t[a](t1(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=_i(s,Vh);d=_i(_.firestore,ca),y=_._query;const S=new ZT(d);c={next:A=>{t[a]&&t[a](new co(d,S,_,A))},error:t[a+1],complete:t[a+2]},XI(s._query)}const g=dg(d);return NI(g,y,l,c)}function _g(s,t){const i=dg(s);return OI(i,t)}function t1(s,t,i){const a=i.docs.get(t._key),l=new ZT(s);return new ra(s,l,t._key,a,new Ml(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){O2(To),ho(new aa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ca(new k2(a.getProvider("auth-internal")),new j2(d,a.getProvider("app-check-internal")),nR(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),pr(yv,_v,t),pr(yv,_v,"esm2020")})();const e1=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const eC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const Tv=s=>{const t=nC(s);return t.charAt(0).toUpperCase()+t.slice(1)};var iC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sC=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const rC=de.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>de.createElement("svg",{ref:g,...iC,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:e1("lucide",l),...!c&&!sC(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,S])=>de.createElement(_,S)),...Array.isArray(c)?c:[c]]));const Ve=(s,t)=>{const i=de.forwardRef(({className:a,...l},c)=>de.createElement(rC,{ref:c,iconNode:t,className:e1(`lucide-${eC(Tv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=Tv(s),i};const aC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wm=Ve("activity",aC);const oC=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],bv=Ve("battery",oC);const lC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sv=Ve("book-open",lC);const uC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cl=Ve("circle-check-big",uC);const cC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hC=Ve("copy",cC);const fC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],dC=Ve("cpu",fC);const mC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gC=Ve("eye-off",mC);const pC=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],yC=Ve("fast-forward",pC);const _C=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],vC=Ve("hammer",_C);const EC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],TC=Ve("history",EC);const bC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Rm=Ve("house",bC);const SC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xm=Ve("log-out",SC);const AC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wC=Ve("rotate-ccw",AC);const RC=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],Av=Ve("signal",RC);const xC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],na=Ve("sparkles",xC);const IC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ha=Ve("target",IC);const CC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],NC=Ve("trash-2",CC);const DC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wv=Ve("trophy",DC);const OC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rv=Ve("user",OC);const MC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],n1=Ve("x",MC);const VC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kC=Ve("zap",VC),UC=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2f012b1619cb4ef46aa637"},i1=Bv(UC),Zd=N2(i1),mn=UI(i1),En=typeof __app_id<"u"?__app_id:"spectrum-game",LC="24",Es={BLUE:{name:"Blue",color:"text-blue-400",bg:"bg-blue-900/40",border:"border-blue-500",icon:wm},GREEN:{name:"Green",color:"text-emerald-400",bg:"bg-emerald-900/40",border:"border-emerald-500",icon:dC},MAGENTA:{name:"Magenta",color:"text-fuchsia-400",bg:"bg-fuchsia-900/40",border:"border-fuchsia-500",icon:ha},SILVER:{name:"Silver",color:"text-slate-200",bg:"bg-slate-700/40",border:"border-slate-400",icon:kC}},Bc={BLUE:0,GREEN:1,MAGENTA:2,SILVER:3},xv=s=>{let t=s.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[s[t],s[i]]=[s[i],s[t]];return s},jC=({type:s,message:t,subtext:i,icon:a})=>b.jsx("div",{className:"fixed inset-0 z-160 flex items-center justify-center pointer-events-none",children:b.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${s==="success"?"bg-fuchsia-900/90 border-fuchsia-500 text-fuchsia-100":""}
      ${s==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${s==="neutral"?"bg-slate-900/90 border-slate-500 text-slate-100":""}
    `,children:[a&&b.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:b.jsx(a,{size:64,className:"animate-bounce text-fuchsia-400"})}),b.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&b.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Wd=({isShaking:s})=>b.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${s?"animate-shake bg-red-900/20":""}`,children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((t,i)=>{const a=Object.keys(Es),l=Es[a[i%a.length]].icon;return b.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:b.jsx(l,{size:32})},i)})}),b.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),Iv=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(ha,{size:12,className:"text-fuchsia-500"}),b.jsx("span",{className:"text-[10px] font-black tracking-widest text-fuchsia-500 uppercase",children:"SPECTRUM"})]}),PC=()=>b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[b.jsx(ha,{size:22,className:"text-fuchsia-500"}),b.jsx("span",{className:"text-[20px] font-black tracking-widest text-fuchsia-500 uppercase",children:"SPECTRUM"})]}),Cv=({onConfirmLeave:s,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>b.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:b.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-serif",children:"Abort Frequency?"}),b.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"WARNING: As Host, shutting down the server will disconnect all users.":l?"Leaving now will destabilize the session for all observers!":"Disconnecting from the backroom..."}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Sync'd"}),l&&a&&b.jsxs("button",{onClick:t,className:"py-3 rounded font-bold bg-fuchsia-700 hover:bg-fuchsia-600 text-white flex items-center justify-center gap-2 transition-colors",children:[b.jsx(Rm,{size:18})," Return to Backroom"]}),b.jsxs("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold flex items-center justify-center gap-2 transition-colors",children:[b.jsx(xm,{size:18})," ",a?"Shut Down Server":"Sever Connection"]})]})]})}),qc=({suit:s,val:t,faceDown:i,onClick:a,disabled:l,highlight:c,small:d,tiny:y})=>{const g=i?Es.MAGENTA:Es[s]||Es.MAGENTA,_=i?5:t,S=g.icon;if(y)return b.jsx("div",{className:`w-6 h-8 rounded border flex items-center justify-center ${g.bg} ${g.border} shadow-sm shrink-0`,title:s,children:b.jsx("span",{className:`text-[10px] font-black ${g.color}`,children:_})});const A=d?"w-16 h-24 p-2":"w-24 h-36 md:w-32 md:h-48 p-3";return b.jsxs("button",{onClick:a,disabled:l,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between overflow-hidden
        ${A} ${g.bg} ${g.border}
        ${c?"ring-4 ring-fuchsia-400 scale-105 z-10":""}
        ${l?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[i&&b.jsx("div",{className:"absolute inset-0 bg-fuchsia-600/10 flex items-center justify-center pointer-events-none",children:b.jsx(gC,{size:48,className:"text-fuchsia-500/10"})}),b.jsxs("div",{className:`w-full flex justify-between font-black ${d?"text-xs":"text-lg"} ${g.color}`,children:[b.jsx("span",{children:_}),b.jsx(ha,{size:d?12:16,opacity:.3})]}),b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx(S,{size:d?20:32,className:`${g.color} mb-1`}),!d&&b.jsx("span",{className:`text-[8px] uppercase tracking-widest font-black ${g.color} opacity-60`,children:i?"MAGENTA 5":g.name})]}),b.jsx("div",{className:`w-full flex justify-start font-black ${d?"text-xs":"text-lg"} ${g.color} rotate-180`,children:b.jsx("span",{children:_})})]})},Nv=({onClose:s})=>b.jsx("div",{className:"fixed inset-0 bg-black/95 z-170 flex items-center justify-center p-0 md:p-4",children:b.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border border-fuchsia-500/30 shadow-2xl flex flex-col",children:[b.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("h2",{className:"text-2xl md:text-3xl font-black text-fuchsia-500 uppercase tracking-widest font-serif",children:"SYSTEM OVERVIEW"}),b.jsx("span",{className:"text-gray-500 text-[10px] uppercase font-bold tracking-widest",children:"Spectrum Protocol"})]}),b.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",children:b.jsx(n1,{})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-gray-300",children:[b.jsxs("div",{className:"bg-fuchsia-950/20 p-6 rounded-xl border border-fuchsia-500/20",children:[b.jsxs("h3",{className:"text-xl font-bold text-fuchsia-400 mb-2 flex items-center gap-2 font-serif",children:[b.jsx(ha,{size:20})," Target: Equilibrium 25"]}),b.jsxs("p",{className:"text-sm md:text-base leading-relaxed opacity-80",children:["Win tricks to collect cards. Your cumulative score must reach"," ",b.jsx("strong",{children:"25"}),". Exceeding 25 causes a"," ",b.jsx("strong",{children:"System Overload (Bust)"}),"you lose chips and forfeit the round score."]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsx("h4",{className:"font-bold text-white uppercase text-[10px] tracking-widest border-b border-gray-800 pb-2",children:"Trick Mechanisms"}),b.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[b.jsxs("li",{className:"flex gap-2",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 shrink-0"})," ","Must follow lead suit if possible."]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400 mt-1.5 shrink-0"})," ",b.jsx("strong",{children:"Silver"})," is always Trump."]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Highest card of lead suit (or Trump) takes the trick."]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h4",{className:"font-bold text-fuchsia-400 uppercase text-[10px] tracking-widest border-b border-fuchsia-900/50 pb-2",children:"The Magenta 5 Override"}),b.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[b.jsxs("li",{className:"flex gap-2",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Any card can be played ",b.jsx("strong",{children:"Face-Down"})," as a Magenta 5."]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Allowed only if unable to follow suit OR if it's your final card of that suit."]}),b.jsxs("li",{className:"flex gap-2",children:[b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Only ",b.jsx("strong",{children:"one"})," Magenta 5 per trick."]})]})]})]})]}),b.jsx("div",{className:"p-6 bg-gray-950 border-t border-gray-800 text-center",children:b.jsx("button",{onClick:s,className:"w-full md:w-auto bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-16 py-4 rounded-xl font-bold uppercase tracking-widest shadow-lg shadow-fuchsia-900/20",children:"Engage"})})]})});function zC(){const[s,t]=de.useState(null),[i,a]=de.useState("menu"),[l,c]=de.useState(""),[d,y]=de.useState(""),[g,_]=de.useState(null),[S,A]=de.useState(!1),[M,F]=de.useState(""),[W,it]=de.useState(!1),[st,ht]=de.useState(!1),[Rt,St]=de.useState(!1),[te,ge]=de.useState(null),[Vt,C]=de.useState("NORMAL"),[w,I]=de.useState(!1),[V,N]=de.useState(!1),[k,R]=de.useState(()=>localStorage.getItem("gameHub_playerName")||"");de.useEffect(()=>{k&&localStorage.setItem("gameHub_playerName",k)},[k]),de.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await pw(Zd,__initial_auth_token):await hw(Zd))();const J=vw(Zd,t);return()=>J()},[]),de.useEffect(()=>{const Z=localStorage.getItem("spectrum_roomId");Z&&y(Z)},[]),de.useEffect(()=>{if(!d||!s)return;const Z=Ev(dn(mn,"artifacts",En,"public","data","rooms",d),J=>{if(J.exists()){const gt=J.data();if(!gt.players.some(Ee=>Ee.id===s.uid)){y(""),a("menu"),localStorage.removeItem("spectrum_roomId"),F("Signal Lost: Kicked by Host");return}_(gt),gt.status==="playing"?a("game"):gt.status==="lobby"?a("lobby"):gt.status==="finished"&&a("game")}else y(""),a("menu"),localStorage.removeItem("spectrum_roomId"),F("Synchronicity Terminated (Room Closed)")});return()=>Z()},[d,s]),de.useEffect(()=>{if(!g||!s||g.status!=="playing")return;if(g.hostId===s.uid&&g.trick.length===g.players.length){const J=setTimeout(()=>{at(g.trick,g.players,g.leadSuit)},1200);return()=>clearTimeout(J)}},[g?.trick?.length,s?.uid,g?.status]),de.useEffect(()=>{const Z=Ev(dn(mn,"game_hub_settings","config"),J=>{J.exists()&&J.data()[LC]?.maintenance?I(!0):I(!1)});return()=>Z()},[]);const Zt=(Z,J,gt="",Et=null)=>{ge({type:Z,message:J,subtext:gt,icon:Et}),setTimeout(()=>ge(null),2e3)},Ce=async()=>{if(!k)return F("Identifier Required");A(!0);const Z="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let J="";for(let Et=0;Et<6;Et++)J+=Z.charAt(Math.floor(Math.random()*Z.length));const gt={roomId:J,hostId:s.uid,status:"lobby",players:[{id:s.uid,name:k,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}],deck:[],trick:[],leadSuit:null,turnIndex:0,roundCount:1,logs:[],reserve:0};await WI(dn(mn,"artifacts",En,"public","data","rooms",J),gt),localStorage.setItem("spectrum_roomId",J),y(J),A(!1)},H=async()=>{if(!l||!k)return F("Protocol Data Missing");A(!0);const Z=dn(mn,"artifacts",En,"public","data","rooms",l),J=await ZI(Z);if(!J.exists()){F("Frequency not found"),A(!1);return}const gt=J.data();if(gt.status!=="lobby"){F("Session locked"),A(!1);return}if(gt.players.length>=4){F("Backroom Full"),A(!1);return}const Et=[...gt.players,{id:s.uid,name:k,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}];await Hn(Z,{players:Et}),localStorage.setItem("spectrum_roomId",l),y(l),A(!1)},et=async()=>{if(!g||g.hostId!==s.uid)return;const Z=g.players.length,J=Z===3?9:13,gt=[];Object.keys(Es).forEach(Tt=>{for(let le=1;le<=J;le++)gt.push({suit:Tt,val:le})});const Et=xv(gt),Ee=Math.floor(Et.length/Z),Te=g.players.map(Tt=>{const le=[];for(let ee=0;ee<Ee;ee++)le.push(Et.pop());return{...Tt,hand:le,scorePile:[],scoreTotal:0,busted:!1,ready:!1}}),jt=g.status==="playing";let rt;jt?rt=((g.roundStarterIdx??0)+1)%Z:rt=Math.floor(Math.random()*Z),await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{status:"playing",deck:Et,players:Te,trick:[],leadSuit:null,turnIndex:rt,roundStarterIdx:rt,roundResult:null,roundCount:jt?KI(1):g.roundCount,logs:zc({text:`Initialized Frequency Sync: Round ${jt?g.roundCount+1:g.roundCount}`,type:"neutral"})})},ft=async()=>{if(!g||g.hostId!==s.uid)return;const Z=g.players.map(J=>({...J,chips:5,scoreTotal:0,scorePile:[],hand:[],history:[],busted:!1,ready:!1,roundRank:null}));await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{status:"lobby",roundCount:1,players:Z,deck:[],trick:[],roundResult:null,reserve:0,turnIndex:0,logs:[{text:"--- OPERATION COMPLETE: RETURNING TO BASE ---",type:"neutral"}]})},Gt=async()=>{if(!g||g.hostId!==s.uid)return;const Z=g.players.length,J=Z===3?9:13,gt=[];Object.keys(Es).forEach(rt=>{for(let Tt=1;Tt<=J;Tt++)gt.push({suit:rt,val:Tt})});const Et=xv(gt),Ee=Math.floor(Et.length/Z),Te=g.players.map(rt=>{const Tt=[];for(let le=0;le<Ee;le++)Tt.push(Et.pop());return{...rt,chips:5,hand:Tt,scorePile:[],scoreTotal:0,busted:!1,ready:!1}}),jt=Math.floor(Math.random()*Z);await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{status:"playing",deck:Et,players:Te,trick:[],leadSuit:null,turnIndex:jt,roundStarterIdx:jt,roundCount:1,reserve:0,roundResult:null,logs:[{text:"--- GRID REBOOTED: COMMENCING NEW OPERATION ---",type:"neutral"}]}),ht(!1)},Xt=async()=>{if(!g)return;const Z=g.players.map(J=>J.id===s.uid?{...J,ready:!0}:J);await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{players:Z})},O=async()=>{if(!g)return;const Z=g.players.map(J=>J.id===s.uid?{...J,ready:!0}:J);await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{players:Z})},K=async(Z,J)=>{if(!g||g.turnIndex===null||g.players[g.turnIndex].id!==s.uid)return;const gt=g.players[g.turnIndex],Et=gt.hand[Z];if(g.trick.length>0&&!J&&gt.hand.some(ie=>ie.suit===g.leadSuit)&&Et.suit!==g.leadSuit){Zt("failure","DESYNC","Must maintain lead frequency!");return}if(J){const dt=gt.hand.some(pe=>pe.suit===g.leadSuit),ie=gt.hand.filter(pe=>pe.suit===g.leadSuit).length===1&&Et.suit===g.leadSuit;if(g.trick.some(pe=>pe.faceDown)){Zt("failure","JAMMED","One Magenta Override limit!");return}if(g.trick.length>0&&dt&&!ie){Zt("failure","INVALID MASK","Cannot mask if able to follow.");return}}const Ee=[...g.players],Te=g.turnIndex;Ee[Te].hand.splice(Z,1);const jt={playerId:s.uid,playerName:gt.name,suit:Et.suit,val:Et.val,faceDown:J},rt=[...g.trick,jt];let Tt=g.leadSuit;g.trick.length===0&&(Tt=J?"MAGENTA":Et.suit);const ee=rt.length===g.players.length?-1:(g.turnIndex+1)%g.players.length,ne=J?` ${gt.name} initiated MAGENTA_OVERRIDE (MASKED)`:` ${gt.name} transmitted signal: ${Et.suit} ${Et.val}`;await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{players:Ee,trick:rt,leadSuit:Tt,turnIndex:ee,logs:zc({text:ne,type:"neutral"})}),C("NORMAL")},nt=({roundCount:Z,results:J,players:gt,isHost:Et,hostId:Ee,onReady:Te,onNextRound:jt,onFinalize:rt,myId:Tt})=>{const le=gt.filter(Mt=>Mt.id!==Ee),ee=le.every(Mt=>Mt.ready),ne=le.filter(Mt=>Mt.ready).length,dt=le.length,ie=gt.find(Mt=>Mt.id===Tt),bn=Array.from({length:Z},(Mt,Sn)=>Sn+1),pe=J.isFinal,ke=gt.find(Mt=>Mt.id===J.winnerId)||gt[0];return ke?.id,b.jsx("div",{className:"fixed inset-0 z-200 flex items-center justify-center p-4 bg-black/90 backdrop-blur-xl animate-in fade-in duration-500",children:b.jsxs("div",{className:`w-full max-w-5xl ${pe?"border-2 border-yellow-500/50 shadow-yellow-900/40":"border border-fuchsia-500/30"} bg-gray-900 rounded-3xl shadow-2xl flex flex-col overflow-hidden max-h-[90vh]`,children:[pe&&b.jsxs("div",{className:"bg-linear-to-b from-yellow-900/20 to-gray-900 p-8 text-center shrink-0 border-b border-gray-800 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),b.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in slide-in-from-top-10 duration-700",children:[b.jsx(wv,{size:64,className:"text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.6)] mb-4 animate-bounce"}),b.jsx("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-linear-to-b from-yellow-200 to-yellow-600 font-serif tracking-[0.2em] uppercase mb-2",children:ke.name}),b.jsx("div",{className:"inline-flex items-center gap-2 bg-yellow-950/40 border border-yellow-500/30 px-6 py-2 rounded-full",children:b.jsx("span",{className:"text-yellow-500 font-bold tracking-widest text-xs uppercase",children:"Mission Accomplished"})})]})]}),!pe&&b.jsxs("div",{className:"p-6 bg-gray-950 border-b border-gray-800 flex justify-between items-center shrink-0",children:[b.jsx("div",{children:b.jsxs("h2",{className:"text-2xl font-black text-white font-serif tracking-widest uppercase",children:["Phase ",Z," Report"]})}),b.jsxs("div",{className:"flex gap-4",children:[J.reserve>0&&b.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-fuchsia-900/20 rounded-full border border-fuchsia-500/20",children:[b.jsx(bv,{size:16,className:"text-fuchsia-400"}),b.jsx("span",{className:"text-lg font-mono font-bold text-white",children:J.reserve})]}),b.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-800/50 rounded-full border border-gray-700",children:[b.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-black",children:"Ready"}),b.jsxs("span",{className:"text-lg font-mono font-bold text-white",children:[ne,"/",dt]})]})]})]}),b.jsxs("div",{className:"p-0 md:p-6 overflow-x-auto flex-1 bg-gray-900",children:[!pe&&b.jsx("div",{className:"md:hidden text-center text-[10px] text-gray-500 uppercase py-2",children:"Scroll for details "}),b.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text-[10px] text-gray-500 uppercase tracking-widest border-b border-gray-800",children:[b.jsx("th",{className:"pb-3 pl-4 sticky left-0 bg-gray-900 z-20",children:"Rank"}),b.jsx("th",{className:"pb-3 sticky left-14 bg-gray-900 z-20",children:"Unit"}),bn.map(Mt=>b.jsxs(H_.Fragment,{children:[b.jsxs("th",{className:"pb-3 text-center px-2 border-l border-gray-800 text-fuchsia-400/50",children:["R",Mt," Eq"]}),b.jsx("th",{className:"pb-3 text-center px-2 text-fuchsia-400/50",children:"Diff"})]},Mt)),b.jsx("th",{className:"pb-3 text-right pl-4 pr-4 border-l border-gray-800 text-white sticky right-0 bg-gray-900 z-20",children:"Total"})]})}),b.jsx("tbody",{className:"text-sm",children:J.breakdown.map(Mt=>{const Sn=Mt.id===Tt,ri=gt.find(Ji=>Ji.id===Mt.id)?.history||[];return b.jsxs("tr",{className:`border-b border-gray-800/50 ${Sn?"bg-fuchsia-900/10":""}`,children:[b.jsx("td",{className:"py-4 pl-4 font-mono text-gray-400 sticky left-0 bg-gray-900/95 z-10",children:Mt.busted?b.jsx("span",{className:"text-red-500",children:""}):`#${Mt.rank}`}),b.jsx("td",{className:`py-4 font-bold sticky left-14 bg-gray-900/95 z-10 ${Sn?"text-fuchsia-300":"text-gray-300"}`,children:Mt.name}),bn.map((Ji,Cs)=>{const cn=ri[Cs];return b.jsxs(H_.Fragment,{children:[b.jsx("td",{className:"py-4 text-center font-mono border-l border-gray-800 px-2 text-gray-500",children:cn?cn.eq:"-"}),b.jsx("td",{className:"py-4 text-center font-mono font-bold px-2",children:cn?cn.diff>0?b.jsxs("span",{className:"text-green-400",children:["+",cn.diff]}):cn.diff<0?b.jsx("span",{className:"text-red-400",children:cn.diff}):b.jsx("span",{className:"text-gray-600",children:"-"}):"-"})]},Ji)}),b.jsx("td",{className:"py-4 text-right pr-4 font-mono font-bold text-white border-l border-gray-800 sticky right-0 bg-gray-900/95 z-10",children:Mt.chipsTotal})]},Mt.id)})})]})]}),b.jsx("div",{className:"p-6 bg-gray-950 border-t border-gray-800 flex justify-end gap-3 shrink-0",children:Et?b.jsx("button",{onClick:pe?rt:jt,disabled:!pe&&!ee,className:`px-8 py-4 rounded-xl font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all w-full md:w-auto ${pe?"bg-yellow-600 hover:bg-yellow-500 text-white shadow-lg shadow-yellow-900/20":ee?"bg-fuchsia-600 hover:bg-fuchsia-500 text-white shadow-lg":"bg-gray-800 text-gray-600 cursor-not-allowed opacity-50"}`,children:pe?b.jsxs(b.Fragment,{children:[" ",b.jsx(Rm,{size:18})," Return to Base"," "]}):b.jsxs(b.Fragment,{children:[" ",b.jsx(yC,{size:18})," ",ee?"Initialize Next Phase":"Awaiting Signals..."," "]})}):b.jsx("button",{onClick:Te,disabled:pe||ie?.ready,className:`px-8 py-4 rounded-xl font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all w-full md:w-auto ${pe?"bg-gray-800 text-gray-500 cursor-default":ie?.ready?"bg-green-900/30 border border-green-500/50 text-green-500 cursor-default":"bg-fuchsia-600 hover:bg-fuchsia-500 text-white shadow-lg animate-pulse"}`,children:pe?"Awaiting Host...":ie?.ready?"Standing By":"Signal Ready"})})]})})},at=async(Z,J,gt)=>{let Et=Z[0].playerId,Ee=-1;const Te=Z.filter(dt=>dt.suit==="SILVER"&&!dt.faceDown);if(Te.length>0)Ee=Math.max(...Te.map(dt=>dt.val)),Et=Te.find(dt=>dt.val===Ee).playerId;else{const dt=Z.filter(ie=>ie.suit===gt&&!ie.faceDown||ie.faceDown&&gt==="MAGENTA");dt.length>0&&(Ee=Math.max(...dt.map(ie=>ie.faceDown?5:ie.val)),Et=dt.find(ie=>(ie.faceDown?5:ie.val)===Ee).playerId)}const jt=J.findIndex(dt=>dt.id===Et),rt=Z.find(dt=>dt.playerId===Et),Tt=rt.faceDown?5:rt.val,le=[],ee=J.map(dt=>({...dt}));if(ee[jt].scorePile=[...ee[jt].scorePile,rt],ee[jt].scoreTotal+=Tt,ee[jt].scoreTotal>25&&(ee[jt].busted=!0,le.push({text:` SYSTEM_OVERLOAD: ${ee[jt].name} BUSTED at ${ee[jt].scoreTotal}`,type:"danger"})),ee.every(dt=>dt.hand.length===0)){const dt=JSON.parse(JSON.stringify(ee)),ie={};dt.forEach(At=>ie[At.id]=At.chips);const bn={};dt.filter(At=>!At.busted).forEach(At=>{const se=Math.abs(25-At.scoreTotal);bn[se]||(bn[se]=[]),bn[se].push(At.id)});const pe=Object.keys(bn).map(Number).sort((At,se)=>At-se),ke=dt.length===3?[2,1,0]:[3,2,1,0];let Mt=g.reserve||0,Sn=0;pe.forEach(At=>{const se=bn[At],Ke=ke[Sn]||0,An=Sn+1;se.forEach(Ae=>{const Zi=dt.find(Ns=>Ns.id===Ae);Zi.chips+=Ke,Zi.roundRank=An,At===0&&(Zi.chips+=1,le.push({text:` PERFECT_SYNC: ${Zi.name} (+1 Bonus)`,type:"success"}))}),Sn+=se.length}),dt.forEach(At=>{At.busted&&(At.chips-=1,At.roundRank=99,Mt+=1)});const $i=bn[pe[0]]||[];if($i.length===1){const At=dt.find(se=>se.id===$i[0]);Mt>0&&(At.chips+=Mt,le.push({text:` RESERVE CAPTURED: ${At.name} (+${Mt})`,type:"success"}),Mt=0)}dt.forEach(At=>{Array.isArray(At.history)||(At.history=[]);const se=At.chips-ie[At.id];At.history.push({eq:Number(At.scoreTotal),diff:Number(se)})});const Ji=dt.map(At=>({id:At.id,name:At.name,chipsTotal:At.chips,rank:At.roundRank,busted:At.busted})).sort((At,se)=>At.busted===se.busted?se.chipsTotal-At.chipsTotal:At.busted?1:-1),Cs=[...dt].sort((At,se)=>se.chips-At.chips)[0],cn=g.roundCount>=4||dt.some(At=>At.chips>=25);cn&&Mt>0&&(Mt=0),await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{players:dt,trick:[],leadSuit:null,turnIndex:null,status:"playing",reserve:Mt,roundResult:{breakdown:Ji,reserve:Mt,isFinal:cn,winnerId:cn?Cs.id:null},logs:zc(...le,{text:`--- Phase ${g.roundCount} Complete ---`,type:"neutral"})})}else await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{players:ee,trick:[],leadSuit:null,turnIndex:jt,logs:zc(...le,{text:` Trick secured by ${ee[jt].name}`,type:"success"})})},_t=async()=>{if(!d)return;const Z=dn(mn,"artifacts",En,"public","data","rooms",d);try{if(g?.hostId===s.uid)await tC(Z);else{const J=g.players.filter(gt=>gt.id!==s.uid);await Hn(Z,{players:J})}}catch(J){console.error(J)}localStorage.removeItem("spectrum_roomId"),y(""),a("menu"),ht(!1)},Ct=()=>{const Z=g.roomId,J=()=>{N(!0),setTimeout(()=>N(!1),2e3),Zt&&Zt("neutral","COPIED!","",Cl)};try{navigator.clipboard.writeText(Z),J()}catch{const Et=document.createElement("textarea");Et.value=Z,document.body.appendChild(Et),Et.select(),document.execCommand("copy"),document.body.removeChild(Et),J()}},Lt=async Z=>{if(!g||g.hostId!==s.uid)return;const J=g.players.filter(gt=>gt.id!==Z);await Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{players:J})};if(w)return b.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[b.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[b.jsx(vC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),b.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),b.jsx("p",{className:"text-gray-400",children:"The system is running short of chips. Wait until new chips are built and delivered."})]}),b.jsx("div",{className:"h-8"}),b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:b.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:b.jsx("div",{className:"text-center pb-12 animate-pulse",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[b.jsx(na,{size:16})," Visit Gamehub...Try our other releases..."," ",b.jsx(na,{size:16})]})})})})]});if(!s)return b.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-fuchsia-500 font-serif",children:"BOOTING_PROTOCOL..."});if(i==="menu")return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[b.jsx(Wd,{}),W&&b.jsx(Nv,{onClose:()=>it(!1)}),b.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[b.jsx(ha,{size:64,className:"text-fuchsia-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_20px_rgba(217,70,239,0.4)]"}),b.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-fuchsia-300 to-fuchsia-600 font-serif tracking-[0.2em]",children:"SPECTRUM"}),b.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"THE MAGENTA EQUILIBRIUM"})]}),b.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-md border border-fuchsia-500/20 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[M&&b.jsx("div",{className:"bg-red-900/40 text-red-200 p-3 mb-4 rounded border border-red-800 text-center text-xs",children:M}),b.jsx("input",{className:"w-full bg-black/60 border border-gray-700 p-3 rounded mb-4 text-white placeholder-gray-600 focus:border-fuchsia-500 outline-none transition-all uppercase font-mono tracking-widest text-sm",placeholder:"AGENT_IDENTIFIER",value:k,onChange:Z=>R(Z.target.value)}),b.jsxs("button",{onClick:Ce,disabled:S,className:"w-full bg-fuchsia-700 hover:bg-fuchsia-600 p-4 rounded-xl font-black mb-4 flex items-center justify-center gap-2 shadow-lg tracking-widest uppercase transition-all text-sm",children:[b.jsx(ha,{size:18})," Establish Grid"]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[b.jsx("input",{className:"w-full sm:flex-1 bg-black/60 border border-gray-700 p-3 rounded text-white placeholder-gray-600 uppercase font-mono tracking-widest text-sm outline-none",placeholder:"ROOM_CODE",value:l,onChange:Z=>c(Z.target.value.toUpperCase())}),b.jsx("button",{onClick:H,disabled:S,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-700 px-6 py-3 rounded-xl font-bold text-xs uppercase tracking-widest",children:"Infiltrate"})]}),b.jsxs("button",{onClick:()=>it(!0),className:"w-full text-[10px] text-gray-500 hover:text-fuchsia-400 flex items-center justify-center gap-2 uppercase tracking-widest",children:[b.jsx(Sv,{size:14})," System Manual"]})]}),b.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Fives. A tribute game.",b.jsx("br",{}),"Developed by ",b.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",b.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-fuchsia-500 underline hover:text-fuchsia-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&g){const Z=g.hostId===s.uid;return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[b.jsx(Wd,{}),b.jsx(PC,{}),b.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/95 backdrop-blur-xl p-8 rounded-2xl border border-fuchsia-900/30 shadow-2xl",children:[b.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-800 pb-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg md:text-xl text-fuchsia-500 font-bold uppercase",children:"Frequency"}),b.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[b.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:d}),b.jsxs("div",{className:"relative",children:[b.jsx("button",{onClick:Ct,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:V?b.jsx(Cl,{size:16,className:"text-green-500"}):b.jsx(hC,{size:16})}),V&&b.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-fuchsia-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),b.jsx("button",{onClick:()=>ht(!0),className:"p-2 bg-red-900/20 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:b.jsx(xm,{size:16})})]}),b.jsx("div",{className:"space-y-3 mb-10",children:g.players.map(J=>b.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-xl border border-gray-800",children:[b.jsxs("span",{className:`font-black flex items-center gap-2 text-sm uppercase tracking-widest ${J.id===s.uid?"text-fuchsia-400":"text-gray-400"}`,children:[b.jsx(Rv,{size:14})," ",J.name," ",J.id===g.hostId&&b.jsx(na,{size:14,className:"text-yellow-500"})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("span",{className:"text-green-500 text-[10px] font-black uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[b.jsx(Cl,{size:10})," Active"]}),Z&&J.id!==g.hostId&&b.jsx("button",{onClick:()=>Lt(J.id),className:"p-1.5 text-gray-600 hover:text-red-500 hover:bg-red-900/20 rounded-lg transition-all",title:"Kick Player",children:b.jsx(NC,{size:16})})]})]},J.id))}),Z?b.jsx("button",{onClick:et,disabled:g.players.length<3,className:`w-full py-5 rounded-xl font-black uppercase tracking-[0.2em] transition-all shadow-xl ${g.players.length>=3?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:g.players.length<3?"Awaiting Data (3-4 Required)":"Commence Protocol"}):b.jsx("div",{className:"text-center text-fuchsia-500/50 animate-pulse font-serif italic text-sm",children:"Synchronizing with host authority..."})]}),st&&b.jsx(Cv,{onCancel:()=>ht(!1),onConfirmLeave:_t,isHost:Z}),b.jsx(Iv,{})]})}if(i==="game"&&g){const Z=g.players.find(rt=>rt.id===s.uid);if(!Z)return null;const J=g.turnIndex!==null&&g.turnIndex!==-1&&g.players[g.turnIndex]?.id===s.uid,gt=g.hostId===s.uid,Et=g.turnIndex===null&&g.status==="playing",Ee=Z?[...Z.hand].map((rt,Tt)=>({...rt,originalIdx:Tt})).sort((rt,Tt)=>Bc[rt.suit]!==Bc[Tt.suit]?Bc[rt.suit]-Bc[Tt.suit]:rt.val-Tt.val):[],Te=g.players.filter(rt=>rt.id!==g.hostId).every(rt=>rt.ready),jt=[...g.players].sort((rt,Tt)=>Tt.chips-rt.chips)[0];return b.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[b.jsx(Wd,{}),te&&b.jsx(jC,{...te}),W&&b.jsx(Nv,{onClose:()=>it(!1)}),st&&b.jsx(Cv,{onCancel:()=>ht(!1),onConfirmLeave:_t,onConfirmLobby:()=>{const rt=g.players.map(Tt=>({...Tt,chips:5,scoreTotal:0,scorePile:[],hand:[],history:[],busted:!1,ready:!1}));Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:rt,deck:[],trick:[],logs:[]}),ht(!1)},isHost:gt,inGame:!0}),b.jsxs("div",{className:"h-14 bg-gray-950/90 border-b border-fuchsia-900/30 flex items-center justify-between px-4 z-160 backdrop-blur-md sticky top-0",children:[b.jsxs("div",{className:"flex items-center gap-2 font-serif font-black text-fuchsia-500 tracking-[0.2em]",children:["SPECTRUM"," ",b.jsxs("span",{className:"text-[10px] text-gray-500 font-sans tracking-widest ml-1 opacity-70",children:["(ROUND ",g.roundCount,")"]})]}),b.jsxs("div",{className:"flex gap-2",children:[g.reserve>0&&b.jsxs("div",{className:"flex items-center gap-1.5 bg-fuchsia-900/40 px-3 py-1 rounded-full border border-fuchsia-500/30 mr-2 animate-in fade-in slide-in-from-right-4 duration-500",children:[b.jsx(bv,{size:12,className:"text-fuchsia-400"}),b.jsxs("span",{className:"text-[10px] font-black text-fuchsia-300 uppercase tracking-tighter",children:["EXTRA_CHIPS: ",g.reserve]})]}),b.jsx("button",{onClick:()=>it(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400 transition-colors",children:b.jsx(Sv,{size:18})}),b.jsx("button",{onClick:()=>St(!Rt),className:`p-2 rounded-full ${Rt?"bg-fuchsia-900 text-fuchsia-400":"text-gray-400 hover:bg-gray-800"}`,children:b.jsx(TC,{size:18})}),b.jsx("button",{onClick:()=>ht(!0),className:"p-2 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:b.jsx(xm,{size:18})})]})]}),b.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 w-full max-w-6xl mx-auto",children:[b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 w-full justify-center",children:g.players.map((rt,Tt)=>{if(rt.id===s.uid)return null;const le=g.turnIndex===Tt;return b.jsxs("div",{className:`bg-black/60 p-3 rounded-xl border-2 transition-all 
                  ${le?"border-fuchsia-500 scale-105 shadow-xl shadow-fuchsia-900/40 animate-pulse":"border-gray-800"} 
                  ${rt.busted?"opacity-30 grayscale":""}`,children:[b.jsxs("div",{className:"flex justify-between items-center mb-1",children:[b.jsx("span",{className:"font-black text-[10px] uppercase tracking-wider truncate max-w-[70px]",children:rt.name}),b.jsxs("div",{className:"flex gap-1 items-center bg-gray-900 px-2 rounded-full border border-gray-700",children:[b.jsx(na,{size:8,className:"text-yellow-400"}),b.jsx("span",{className:"text-[10px] font-mono",children:rt.chips})]})]}),b.jsxs("div",{className:"flex justify-between items-end",children:[b.jsx("div",{className:"flex -space-x-3",children:rt.hand.map((ee,ne)=>b.jsx("div",{className:"w-4 h-6 bg-fuchsia-950 rounded border border-fuchsia-800"},ne))}),b.jsxs("div",{className:"text-right",children:[b.jsxs("div",{className:`text-[10px] font-black tracking-tighter ${rt.busted?"text-red-500":"text-fuchsia-400"}`,children:["EQ: ",rt.scoreTotal]}),b.jsx("div",{className:"flex flex-wrap gap-0.5 justify-end max-w-[80px]",children:rt.scorePile.map((ee,ne)=>b.jsx(qc,{...ee,tiny:!0},ne))})]})]})]},rt.id)})}),b.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[Et&&g.roundResult&&g.roundResult.breakdown&&b.jsx(nt,{roundCount:g.roundCount,results:g.roundResult,players:g.players,isHost:gt,hostId:g.hostId,myId:s.uid,onReady:O,onNextRound:et,onFinalize:ft}),b.jsxs("div",{className:"relative w-full max-w-md flex flex-wrap gap-4 justify-center items-center",children:[g.trick.map((rt,Tt)=>b.jsxs("div",{className:"animate-in zoom-in slide-in-from-bottom-4 duration-500",children:[b.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-black text-center mb-1 tracking-tighter truncate w-24",children:rt.playerName}),b.jsx(qc,{...rt,small:!0})]},Tt)),g.trick.length===0&&!Et&&b.jsxs("div",{className:"text-gray-800 uppercase tracking-[0.5em] font-black text-center opacity-40 select-none flex flex-col items-center",children:[b.jsx(wm,{size:64,className:"mb-4 text-fuchsia-900"}),"IDLE_GRID"]})]}),g.leadSuit&&!Et&&b.jsxs("div",{className:"mt-8 bg-gray-900/80 border border-fuchsia-500/20 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.2em] backdrop-blur-md",children:["Protocol:"," ",b.jsx("span",{className:Es[g.leadSuit]?.color,children:Es[g.leadSuit]?.name})]})]}),b.jsxs("div",{className:"w-full bg-gray-900/98 border-t-2 border-fuchsia-500/20 p-4 md:p-6 rounded-t-[2.5rem] shadow-[0_-20px_50px_rgba(0,0,0,0.8)] backdrop-blur-2xl",children:[b.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-3 mb-4",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:`px-5 py-3 rounded-2xl flex items-center gap-3 border transition-all ${Z.busted?"bg-red-950/40 border-red-500 shadow-red-900/20":"bg-fuchsia-950/40 border-fuchsia-500 shadow-fuchsia-900/20"}`,children:[b.jsx(wm,{className:Z.busted?"text-red-500":"text-fuchsia-400",size:24}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:`text-2xl font-black leading-none ${Z.busted?"text-red-500":"text-fuchsia-100"}`,children:Z.scoreTotal}),b.jsx("span",{className:"text-[8px] uppercase font-black tracking-widest text-gray-500",children:"Equilibrium"})]})]}),b.jsxs("div",{className:"bg-slate-900 border border-slate-700 px-4 py-2 rounded-xl flex items-center gap-2",children:[b.jsx(na,{size:16,className:"text-yellow-400"}),b.jsx("span",{className:"text-xl font-mono font-bold",children:Z.chips})]}),b.jsxs("div",{className:"flex flex-col border-l border-gray-800 pl-4 ml-2",children:[b.jsx("span",{className:"text-[8px] uppercase text-gray-500 font-black mb-1",children:"Acquired"}),b.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[150px]",children:Z.scorePile.map((rt,Tt)=>b.jsx(qc,{...rt,tiny:!0},Tt))})]})]}),J&&!Et&&b.jsxs("div",{className:"flex bg-black/50 p-1.5 rounded-xl border border-gray-800 shadow-inner",children:[b.jsx("button",{onClick:()=>C("NORMAL"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${Vt==="NORMAL"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Signal"}),b.jsx("button",{onClick:()=>C("FACEDOWN"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${Vt==="FACEDOWN"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Override"})]})]}),b.jsxs("div",{className:"flex gap-3 overflow-x-auto pt-6 pb-8 px-4 justify-start lg:justify-center items-end h-64 scrollbar-hide scroll-smooth",children:[Ee.map(rt=>b.jsx("div",{className:`${J?"hover:translate-y-[-10px]":""} transition-transform duration-300 shrink-0`,children:b.jsx(qc,{suit:rt.suit,val:rt.val,faceDown:Vt==="FACEDOWN",onClick:()=>J&&K(rt.originalIdx,Vt==="FACEDOWN"),disabled:!J,highlight:J})},rt.originalIdx)),Z.hand.length===0&&g.trick.length>0&&b.jsx("div",{className:"text-gray-600 font-black uppercase text-xs animate-pulse",children:"Syncing Pulse..."}),Z.hand.length===0&&g.trick.length===0&&!Et&&g.status!=="finished"&&b.jsx("div",{className:"text-fuchsia-600 font-black uppercase text-xs animate-pulse",children:"Protocol Initializing..."})]})]})]}),Rt&&b.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:b.jsxs("div",{className:"bg-gray-900 border border-gray-800 w-full max-w-md h-[60vh] rounded-2xl flex flex-col shadow-2xl overflow-hidden",children:[b.jsxs("div",{className:"p-4 bg-gray-950 flex justify-between items-center border-b border-gray-800",children:[b.jsx("span",{className:"font-serif font-black text-fuchsia-500 tracking-widest uppercase text-sm",children:"System_Logs"}),b.jsx("button",{onClick:()=>St(!1),children:b.jsx(n1,{size:20,className:"text-gray-500"})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...g.logs].reverse().map((rt,Tt)=>b.jsx("div",{className:`text-[10px] font-mono p-2 border-l-2 bg-black/30 ${rt.type==="success"?"border-fuchsia-500 text-fuchsia-300":rt.type==="danger"?"border-red-500 text-red-300":"border-gray-700 text-gray-500"}`,children:rt.text},Tt))})]})}),g.status==="finished"&&b.jsxs("div",{className:"fixed inset-0 top-14 bg-black/95 z-150 flex flex-col items-center justify-center p-4 backdrop-blur-2xl",children:[b.jsxs("div",{className:"relative mb-10",children:[b.jsx(wv,{size:100,className:"text-yellow-400 drop-shadow-[0_0_30px_rgba(250,204,21,0.5)] animate-bounce"}),b.jsx("span",{className:"absolute -top-4 -right-4 text-fuchsia-400 animate-pulse",children:b.jsx(na,{size:32})})]}),b.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-black text-white mb-2 uppercase tracking-[0.4em] text-center",children:"SYNCHRONIZED"}),b.jsx("div",{className:"bg-fuchsia-950/40 border border-fuchsia-500/30 px-6 py-2 rounded-full mb-12",children:b.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs tracking-[0.2em] uppercase font-black",children:["Protocol_Victor:"," ",b.jsx("span",{className:"text-white ml-2",children:jt?.name})]})}),b.jsxs("div",{className:"w-full max-w-lg space-y-3 mb-16 overflow-y-auto max-h-[30vh]",children:[b.jsx("h3",{className:"text-center text-[10px] font-black text-gray-600 uppercase tracking-[0.3em] mb-4",children:"Unit Summary"}),g.players.map(rt=>b.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${rt.id===jt.id?"bg-fuchsia-900/30 border-fuchsia-500 shadow-lg shadow-fuchsia-900/20":"bg-black/40 border-gray-800 opacity-80"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx(Rv,{size:18,className:rt.id===jt.id?"text-fuchsia-400":"text-gray-600"}),b.jsx("span",{className:`font-black text-sm uppercase tracking-wider ${rt.id===jt.id?"text-fuchsia-100":"text-gray-400"}`,children:rt.name}),rt.ready&&rt.id!==g.hostId&&b.jsx(Cl,{size:14,className:"text-green-500 ml-2"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(na,{size:14,className:"text-yellow-400"}),b.jsx("span",{className:"font-mono text-lg font-bold",children:rt.chips})]})]},rt.id))]}),b.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[gt?b.jsxs(b.Fragment,{children:[!Te&&b.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-[10px] font-black uppercase tracking-widest animate-pulse mb-2",children:[b.jsx(Av,{size:12})," Awaiting Signal from Observers..."]}),b.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[b.jsxs("button",{onClick:Gt,disabled:!Te,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 shadow-xl transition-all ${Te?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50"}`,children:[b.jsx(wC,{size:16})," Reboot"]}),b.jsxs("button",{onClick:()=>{const rt=g.players.map(Tt=>({...Tt,ready:!1}));Hn(dn(mn,"artifacts",En,"public","data","rooms",d),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:rt}),ht(!1)},disabled:!Te,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 border transition-all ${Te?"border-fuchsia-600 text-fuchsia-400 hover:bg-fuchsia-900/20":"border-gray-800 text-gray-600 cursor-not-allowed opacity-50"}`,children:[b.jsx(Rm,{size:16})," Backroom"]})]})]}):b.jsx("button",{onClick:Xt,disabled:Z?.ready,className:`w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 shadow-xl transition-all ${Z?.ready?"bg-black/50 border border-green-500 text-green-500 cursor-default":"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20"}`,children:Z?.ready?b.jsxs(b.Fragment,{children:[b.jsx(Cl,{size:20})," Signal_Acquired"]}):b.jsxs(b.Fragment,{children:[b.jsx(Av,{size:20})," Transmit_Readiness"]})}),b.jsx("button",{onClick:_t,className:"w-full bg-transparent hover:bg-red-950/20 text-gray-600 hover:text-red-400 py-4 rounded-xl font-bold uppercase tracking-[0.2em] text-[10px] transition-all",children:"Sever_Connection"})]})]}),b.jsx(Iv,{})]})}return null}Gb.createRoot(document.getElementById("root")).render(b.jsx(de.StrictMode,{children:b.jsx(zC,{})}));
