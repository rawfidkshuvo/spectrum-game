(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Ob(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dd={exports:{}},Ao={};var P_;function Mb(){if(P_)return Ao;P_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Ao.Fragment=t,Ao.jsx=i,Ao.jsxs=i,Ao}var j_;function Vb(){return j_||(j_=1,Dd.exports=Mb()),Dd.exports}var S=Vb(),Od={exports:{}},wt={};var z_;function kb(){if(z_)return wt;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,W={};function gt(O,K,it){this.props=O,this.context=K,this.refs=W,this.updater=it||tt}gt.prototype.isReactComponent={},gt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},gt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=gt.prototype;function ft(O,K,it){this.props=O,this.context=K,this.refs=W,this.updater=it||tt}var Ft=ft.prototype=new Tt;Ft.constructor=ft,nt(Ft,gt.prototype),Ft.isPureReactComponent=!0;var ie=Array.isArray;function kt(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,K,it){var lt=it.ref;return{$$typeof:r,type:O,key:K,ref:lt!==void 0?lt:null,props:it}}function V(O,K){return x(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var R=/\/+/g;function ue(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function be(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(kt,kt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,it,lt,Y){var Z=typeof O;(Z==="undefined"||Z==="boolean")&&(O=null);var rt=!1;if(O===null)rt=!0;else switch(Z){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(O.$$typeof){case r:case t:rt=!0;break;case E:return rt=O._init,G(rt(O._payload),K,it,lt,Y)}}if(rt)return Y=Y(O),rt=lt===""?"."+ue(O,0):lt,ie(Y)?(it="",rt!=null&&(it=rt.replace(R,"$&/")+"/"),G(Y,K,it,"",function(me){return me})):Y!=null&&(N(Y)&&(Y=V(Y,it+(Y.key==null||O&&O.key===Y.key?"":(""+Y.key).replace(R,"$&/")+"/")+rt)),K.push(Y)),1;rt=0;var pt=lt===""?".":lt+":";if(ie(O))for(var xt=0;xt<O.length;xt++)lt=O[xt],Z=pt+ue(lt,xt),rt+=G(lt,K,it,Z,Y);else if(xt=H(O),typeof xt=="function")for(O=xt.call(O),xt=0;!(lt=O.next()).done;)lt=lt.value,Z=pt+ue(lt,xt++),rt+=G(lt,K,it,Z,Y);else if(Z==="object"){if(typeof O.then=="function")return G(be(O),K,it,lt,Y);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return rt}function st(O,K,it){if(O==null)return O;var lt=[],Y=0;return G(O,lt,"","",function(Z){return K.call(it,Z,Y++)}),lt}function dt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Bt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Xt={map:st,forEach:function(O,K,it){st(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return st(O,function(){K++}),K},toArray:function(O){return st(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return wt.Activity=w,wt.Children=Xt,wt.Component=gt,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=ft,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=nt({},O.props),Y=O.key;if(K!=null)for(Z in K.key!==void 0&&(Y=""+K.key),K)!A.call(K,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&K.ref===void 0||(lt[Z]=K[Z]);var Z=arguments.length-2;if(Z===1)lt.children=it;else if(1<Z){for(var rt=Array(Z),pt=0;pt<Z;pt++)rt[pt]=arguments[pt+2];lt.children=rt}return x(O.type,Y,lt)},wt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},wt.createElement=function(O,K,it){var lt,Y={},Z=null;if(K!=null)for(lt in K.key!==void 0&&(Z=""+K.key),K)A.call(K,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(Y[lt]=K[lt]);var rt=arguments.length-2;if(rt===1)Y.children=it;else if(1<rt){for(var pt=Array(rt),xt=0;xt<rt;xt++)pt[xt]=arguments[xt+2];Y.children=pt}if(O&&O.defaultProps)for(lt in rt=O.defaultProps,rt)Y[lt]===void 0&&(Y[lt]=rt[lt]);return x(O,Z,Y)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:p,render:O}},wt.isValidElement=N,wt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:dt}},wt.memo=function(O,K){return{$$typeof:_,type:O,compare:K===void 0?null:K}},wt.startTransition=function(O){var K=C.T,it={};C.T=it;try{var lt=O(),Y=C.S;Y!==null&&Y(it,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(kt,Bt)}catch(Z){Bt(Z)}finally{K!==null&&it.types!==null&&(K.types=it.types),C.T=K}},wt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},wt.use=function(O){return C.H.use(O)},wt.useActionState=function(O,K,it){return C.H.useActionState(O,K,it)},wt.useCallback=function(O,K){return C.H.useCallback(O,K)},wt.useContext=function(O){return C.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,K){return C.H.useDeferredValue(O,K)},wt.useEffect=function(O,K){return C.H.useEffect(O,K)},wt.useEffectEvent=function(O){return C.H.useEffectEvent(O)},wt.useId=function(){return C.H.useId()},wt.useImperativeHandle=function(O,K,it){return C.H.useImperativeHandle(O,K,it)},wt.useInsertionEffect=function(O,K){return C.H.useInsertionEffect(O,K)},wt.useLayoutEffect=function(O,K){return C.H.useLayoutEffect(O,K)},wt.useMemo=function(O,K){return C.H.useMemo(O,K)},wt.useOptimistic=function(O,K){return C.H.useOptimistic(O,K)},wt.useReducer=function(O,K,it){return C.H.useReducer(O,K,it)},wt.useRef=function(O){return C.H.useRef(O)},wt.useState=function(O){return C.H.useState(O)},wt.useSyncExternalStore=function(O,K,it){return C.H.useSyncExternalStore(O,K,it)},wt.useTransition=function(){return C.H.useTransition()},wt.version="19.2.3",wt}var B_;function xm(){return B_||(B_=1,Od.exports=kb()),Od.exports}var de=xm();const q_=Ob(de);var Md={exports:{}},wo={},Vd={exports:{}},kd={};var H_;function Ub(){return H_||(H_=1,(function(r){function t(G,st){var dt=G.length;G.push(st);t:for(;0<dt;){var Bt=dt-1>>>1,Xt=G[Bt];if(0<o(Xt,st))G[Bt]=st,G[dt]=Xt,dt=Bt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var st=G[0],dt=G.pop();if(dt!==st){G[0]=dt;t:for(var Bt=0,Xt=G.length,O=Xt>>>1;Bt<O;){var K=2*(Bt+1)-1,it=G[K],lt=K+1,Y=G[lt];if(0>o(it,dt))lt<Xt&&0>o(Y,it)?(G[Bt]=Y,G[lt]=dt,Bt=lt):(G[Bt]=it,G[K]=dt,Bt=K);else if(lt<Xt&&0>o(Y,dt))G[Bt]=Y,G[lt]=dt,Bt=lt;else break t}}return st}function o(G,st){var dt=G.sortIndex-st.sortIndex;return dt!==0?dt:G.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,w=null,M=3,H=!1,tt=!1,nt=!1,W=!1,gt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Ft(G){for(var st=i(_);st!==null;){if(st.callback===null)a(_);else if(st.startTime<=G)a(_),st.sortIndex=st.expirationTime,t(y,st);else break;st=i(_)}}function ie(G){if(nt=!1,Ft(G),!tt)if(i(y)!==null)tt=!0,kt||(kt=!0,U());else{var st=i(_);st!==null&&be(ie,st.startTime-G)}}var kt=!1,C=-1,A=5,x=-1;function V(){return W?!0:!(r.unstable_now()-x<A)}function N(){if(W=!1,kt){var G=r.unstable_now();x=G;var st=!0;try{t:{tt=!1,nt&&(nt=!1,Tt(C),C=-1),H=!0;var dt=M;try{e:{for(Ft(G),w=i(y);w!==null&&!(w.expirationTime>G&&V());){var Bt=w.callback;if(typeof Bt=="function"){w.callback=null,M=w.priorityLevel;var Xt=Bt(w.expirationTime<=G);if(G=r.unstable_now(),typeof Xt=="function"){w.callback=Xt,Ft(G),st=!0;break e}w===i(y)&&a(y),Ft(G)}else a(y);w=i(y)}if(w!==null)st=!0;else{var O=i(_);O!==null&&be(ie,O.startTime-G),st=!1}}break t}finally{w=null,M=dt,H=!1}st=void 0}}finally{st?U():kt=!1}}}var U;if(typeof ft=="function")U=function(){ft(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ue=R.port2;R.port1.onmessage=N,U=function(){ue.postMessage(null)}}else U=function(){gt(N,0)};function be(G,st){C=gt(function(){G(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var st=3;break;default:st=M}var dt=M;M=st;try{return G()}finally{M=dt}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(G,st){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=M;M=G;try{return st()}finally{M=dt}},r.unstable_scheduleCallback=function(G,st,dt){var Bt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Bt+dt:Bt):dt=Bt,G){case 1:var Xt=-1;break;case 2:Xt=250;break;case 5:Xt=1073741823;break;case 4:Xt=1e4;break;default:Xt=5e3}return Xt=dt+Xt,G={id:E++,callback:st,priorityLevel:G,startTime:dt,expirationTime:Xt,sortIndex:-1},dt>Bt?(G.sortIndex=dt,t(_,G),i(y)===null&&G===i(_)&&(nt?(Tt(C),C=-1):nt=!0,be(ie,dt-Bt))):(G.sortIndex=Xt,t(y,G),tt||H||(tt=!0,kt||(kt=!0,U()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var st=M;return function(){var dt=M;M=st;try{return G.apply(this,arguments)}finally{M=dt}}}})(kd)),kd}var G_;function Lb(){return G_||(G_=1,Vd.exports=Ub()),Vd.exports}var Ud={exports:{}},un={};var F_;function Pb(){if(F_)return un;F_=1;var r=xm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,un.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},un.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},un.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},un.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},un.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,w=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:H}):E==="script"&&a.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},un.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},un.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,w=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},un.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},un.requestFormReset=function(y){a.d.r(y)},un.unstable_batchedUpdates=function(y,_){return y(_)},un.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},un.useFormStatus=function(){return d.H.useHostTransitionStatus()},un.version="19.2.3",un}var Q_;function jb(){if(Q_)return Ud.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ud.exports=Pb(),Ud.exports}var K_;function zb(){if(K_)return wo;K_=1;var r=Lb(),t=xm(),i=jb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Ft=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case gt:return"Profiler";case W:return"StrictMode";case ie:return"Suspense";case kt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case ft:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Ft:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}var be=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Bt=[],Xt=-1;function O(e){return{current:e}}function K(e){0>Xt||(e.current=Bt[Xt],Bt[Xt]=null,Xt--)}function it(e,n){Xt++,Bt[Xt]=e.current,e.current=n}var lt=O(null),Y=O(null),Z=O(null),rt=O(null);function pt(e,n){switch(it(Z,n),it(Y,e),it(lt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?l_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=l_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(lt),it(lt,e)}function xt(){K(lt),K(Y),K(Z)}function me(e){e.memoizedState!==null&&it(rt,e);var n=lt.current,s=o_(n,e.type);n!==s&&(it(Y,e),it(lt,s))}function Qt(e){Y.current===e&&(K(lt),K(Y)),rt.current===e&&(K(rt),Eo._currentValue=dt)}var at,bt;function ce(e){if(at===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);at=n&&n[1]||"",bt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+e+bt}var he=!1;function on(e,n){if(!e||he)return"";he=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){z=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),j=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var F=`
`+I[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{he=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ce(s):""}function Nt(e,n){switch(e.tag){case 26:case 27:case 5:return ce(e.type);case 16:return ce("Lazy");case 13:return e.child!==n&&n!==null?ce("Suspense Fallback"):ce("Suspense");case 19:return ce("SuspenseList");case 0:case 15:return on(e.type,!1);case 11:return on(e.type.render,!1);case 1:return on(e.type,!0);case 31:return ce("Activity");default:return""}}function fe(e){try{var n="",s=null;do n+=Nt(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var $t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,Nn=r.unstable_cancelCallback,qt=r.unstable_shouldYield,Dn=r.unstable_requestPaint,Fe=r.unstable_now,vi=r.unstable_getCurrentPriorityLevel,si=r.unstable_ImmediatePriority,$i=r.unstable_UserBlockingPriority,Oe=r.unstable_NormalPriority,At=r.unstable_LowPriority,Se=r.unstable_IdlePriority,ca=r.log,ha=r.unstable_setDisableYieldValue,On=null,Ae=null;function En(e){if(typeof ca=="function"&&ha(e),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(On,e)}catch{}}var xe=Math.clz32?Math.clz32:au,ru=Math.log,fa=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/fa|0)|0}var Ei=256,Sr=262144,Me=4194304;function Ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Ti(l):(g&=T,g!==0?h=Ti(g):s||(s=T&~e,s!==0&&(h=Ti(s))))):(T=l&~f,T!==0?h=Ti(T):g!==0?h=Ti(g):s||(s=l&~e,s!==0&&(h=Ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ri(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var e=Me;return Me<<=1,(Me&62914560)===0&&(Me=4194304),e}function Si(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ar(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function kh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-xe(s),X=1<<F;T[F]=0,I[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}s&=~X}l!==0&&wr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function wr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-xe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Al(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-xe(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function wl(e,n){var s=n&-n;return s=(s&42)!==0?1:Rr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:D_(e.type))}function ai(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var li=Math.random().toString(36).slice(2),Ve="__reactFiber$"+li,Xe="__reactProps$"+li,Ai="__reactContainer$"+li,da="__reactEvents$"+li,Uh="__reactListeners$"+li,uu="__reactHandles$"+li,cu="__reactResources$"+li,wi="__reactMarker$"+li;function ma(e){delete e[Ve],delete e[Xe],delete e[da],delete e[Uh],delete e[uu]}function Ri(e){var n=e[Ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ai]||s[Ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=g_(e);e!==null;){if(s=e[Ve])return s;e=g_(e)}return n}e=s,s=e.parentNode}return null}function Gn(e){if(e=e[Ve]||e[Ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function xi(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ke(e){e[wi]=!0}var Rl=new Set,xl={};function Ii(e,n){Ci(e,n),Ci(e+"Capture",n)}function Ci(e,n){for(xl[e]=n,e=0;e<n.length;e++)Rl.add(n[e])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Nl={};function hu(e){return $t.call(Nl,e)?!0:$t.call(Cl,e)?!1:Il.test(e)?Nl[e]=!0:(Cl[e]=!0,!1)}function ga(e,n,s){if(hu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ue(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function te(e){if(!e._valueTracker){var n=Rs(e)?"checked":"value";e._valueTracker=Dl(e,n,""+e[n])}}function xr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Rs(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ir=/[\n"\\]/g;function Tn(e){return e.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(e,n,s,l,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+$e(n)):e.value!==""+$e(n)&&(e.value=""+$e(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ol(e,g,$e(n)):s!=null?Ol(e,g,$e(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+$e(T):e.removeAttribute("name")}function fu(e,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){te(e);return}s=s!=null?""+$e(s):"",n=n!=null?""+$e(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),te(e)}function Ol(e,n,s){n==="number"&&Ni(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function xs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+$e(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,s){if(n!=null&&(n=""+$e(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+$e(s):""}function Is(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(be(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=$e(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),te(e)}function bn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Vl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Ml(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ml(e,f,n[f])}function ya(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return Cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oi(){}var kl=null;function Fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ns=null,Di=null;function Cr(e){var n=Gn(e);if(n&&(e=n.stateNode)){var s=e[Xe]||null;t:switch(e=n.stateNode,n.type){case"input":if(pa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Xe]||null;if(!h)throw Error(a(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&xr(l)}break t;case"textarea":du(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&xs(e,!!s.multiple,n,!1)}}}var va=!1;function Ds(e,n,s){if(va)return e(n,s);va=!0;try{var l=e(n);return l}finally{if(va=!1,(Ns!==null||Di!==null)&&(oc(),Ns&&(n=Ns,e=Di,Di=Ns=null,Cr(n),e)))for(n=0;n<e.length;n++)Cr(e[n])}}function ui(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Xe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Qn)try{var se={};Object.defineProperty(se,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{Nr=!1}var Oi=null,Ul=null,Dr=null;function Ll(){if(Dr)return Dr;var e,n=Ul,s=n.length,l,h="value"in Oi?Oi.value:Oi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Dr=h.slice(e,1<l?1-l:void 0)}function Or(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function ci(){return!1}function We(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=We(Wi),Os=w({},Wi,{view:0,detail:0}),Pl=We(Os),Ms,Ea,Vi,Ta=w({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(Ms=e.screenX-Vi.screenX,Ea=e.screenY-Vi.screenY):Ea=Ms=0,Vi=e),Ms)},movementY:function(e){return"movementY"in e?e.movementY:Ea}}),jl=We(Ta),Mr=w({},Ta,{dataTransfer:0}),pu=We(Mr),yu=w({},Os,{relatedTarget:0}),Vr=We(yu),zl=w({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=We(zl),ba=w({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=We(ba),Eu=w({},Wi,{data:0}),ki=We(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function Vs(){return Au}var pn=w({},Os,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=We(pn),Ru=w({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=We(Ru),u=w({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=We(u),v=w({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=We(v),L=w({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=We(L),et=w({},Wi,{newState:0,oldState:0}),It=We(et),Ie=[9,13,27,32],Zt=Qn&&"CompositionEvent"in window,_e=null;Qn&&"documentMode"in document&&(_e=document.documentMode);var Kn=Qn&&"TextEvent"in window&&!_e,Ui=Qn&&(!Zt||_e&&8<_e&&11>=_e),hi=" ",fi=!1;function kr(e,n){switch(e){case"keyup":return Ie.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function n1(e,n){switch(e){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return e=n.data,e===hi&&fi?null:e;default:return null}}function i1(e,n){if(Aa)return e==="compositionend"||!Zt&&kr(e,n)?(e=Ll(),Dr=Ul=Oi=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ui&&n.locale!=="ko"?null:n.data;default:return null}}var s1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _g(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!s1[e.type]:n==="textarea"}function vg(e,n,s,l){Ns?Di?Di.push(l):Di=[l]:Ns=l,n=gc(n,"onChange"),0<n.length&&(s=new Mi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Bl=null,ql=null;function r1(e){e_(e,0)}function xu(e){var n=Mn(e);if(xr(n))return e}function Eg(e,n){if(e==="change")return n}var Tg=!1;if(Qn){var Lh;if(Qn){var Ph="oninput"in document;if(!Ph){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Ph=typeof bg.oninput=="function"}Lh=Ph}else Lh=!1;Tg=Lh&&(!document.documentMode||9<document.documentMode)}function Sg(){Bl&&(Bl.detachEvent("onpropertychange",Ag),ql=Bl=null)}function Ag(e){if(e.propertyName==="value"&&xu(ql)){var n=[];vg(n,ql,e,Fn(e)),Ds(r1,n)}}function a1(e,n,s){e==="focusin"?(Sg(),Bl=n,ql=s,Bl.attachEvent("onpropertychange",Ag)):e==="focusout"&&Sg()}function l1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(ql)}function o1(e,n){if(e==="click")return xu(n)}function u1(e,n){if(e==="input"||e==="change")return xu(n)}function c1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:c1;function Hl(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!$t.call(n,h)||!kn(e[h],n[h]))return!1}return!0}function wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rg(e,n){var s=wg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=wg(s)}}function xg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ni(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ni(e.document)}return n}function jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var h1=Qn&&"documentMode"in document&&11>=document.documentMode,wa=null,zh=null,Gl=null,Bh=!1;function Cg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Bh||wa==null||wa!==Ni(l)||(l=wa,"selectionStart"in l&&jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gl&&Hl(Gl,l)||(Gl=l,l=gc(zh,"onSelect"),0<l.length&&(n=new Mi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=wa)))}function Ur(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ra={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},qh={},Ng={};Qn&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Lr(e){if(qh[e])return qh[e];if(!Ra[e])return e;var n=Ra[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ng)return qh[e]=n[s];return e}var Dg=Lr("animationend"),Og=Lr("animationiteration"),Mg=Lr("animationstart"),f1=Lr("transitionrun"),d1=Lr("transitionstart"),m1=Lr("transitioncancel"),Vg=Lr("transitionend"),kg=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function di(e,n){kg.set(e,n),Ii(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yn=[],xa=0,Gh=0;function Cu(){for(var e=xa,n=Gh=xa=0;n<e;){var s=Yn[n];Yn[n++]=null;var l=Yn[n];Yn[n++]=null;var h=Yn[n];Yn[n++]=null;var f=Yn[n];if(Yn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Ug(s,h,f)}}function Nu(e,n,s,l){Yn[xa++]=e,Yn[xa++]=n,Yn[xa++]=s,Yn[xa++]=l,Gh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Fh(e,n,s,l){return Nu(e,n,s,l),Du(e)}function Pr(e,n){return Nu(e,null,null,n),Du(e)}function Ug(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-xe(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Du(e){if(50<fo)throw fo=0,ed=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ia={};function g1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,n,s,l){return new g1(e,n,s,l)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function es(e,n){var s=e.alternate;return s===null?(s=Un(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Lg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Qh(e)&&(g=1);else if(typeof e=="string")g=Eb(e,s,lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=Un(31,s,n,h),e.elementType=x,e.lanes=f,e;case nt:return jr(s.children,h,f,n);case W:g=8,h|=24;break;case gt:return e=Un(12,s,n,h|2),e.elementType=gt,e.lanes=f,e;case ie:return e=Un(13,s,n,h),e.elementType=ie,e.lanes=f,e;case kt:return e=Un(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case Tt:g=9;break t;case Ft:g=11;break t;case C:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Un(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function jr(e,n,s,l){return e=Un(7,e,l,n),e.lanes=s,e}function Kh(e,n,s){return e=Un(6,e,null,n),e.lanes=s,e}function Pg(e){var n=Un(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,s){return n=Un(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var jg=new WeakMap;function Xn(e,n){if(typeof e=="object"&&e!==null){var s=jg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fe(n)},jg.set(e,n),n)}return{value:e,source:n,stack:fe(n)}}var Ca=[],Na=0,Mu=null,Fl=0,$n=[],Zn=0,ks=null,Li=1,Pi="";function ns(e,n){Ca[Na++]=Fl,Ca[Na++]=Mu,Mu=e,Fl=n}function zg(e,n,s){$n[Zn++]=Li,$n[Zn++]=Pi,$n[Zn++]=ks,ks=e;var l=Li;e=Pi;var h=32-xe(l)-1;l&=~(1<<h),s+=1;var f=32-xe(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Li=1<<32-xe(n)+h|s<<h|l,Pi=f+e}else Li=1<<f|s<<h|l,Pi=e}function Xh(e){e.return!==null&&(ns(e,1),zg(e,1,0))}function $h(e){for(;e===Mu;)Mu=Ca[--Na],Ca[Na]=null,Fl=Ca[--Na],Ca[Na]=null;for(;e===ks;)ks=$n[--Zn],$n[Zn]=null,Pi=$n[--Zn],$n[Zn]=null,Li=$n[--Zn],$n[Zn]=null}function Bg(e,n){$n[Zn++]=Li,$n[Zn++]=Pi,$n[Zn++]=ks,Li=n.id,Pi=n.overflow,ks=e}var tn=null,ge=null,Ht=!1,Us=null,Jn=!1,Zh=Error(a(519));function Ls(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(Xn(n,e)),Zh}function qg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ve]=e,n[Xe]=l,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<go.length;s++)Vt(go[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),fu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Is(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||r_(n.textContent,s)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||Ls(e,!0)}function Hg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:tn=tn.return}}function Da(e){if(e!==tn)return!1;if(!Ht)return Hg(e),Ht=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&ge&&Ls(e),Hg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ge=m_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ge=m_(e)}else n===27?(n=ge,Zs(e.type)?(e=Td,Td=null,ge=e):ge=n):ge=tn?ti(e.stateNode.nextSibling):null;return!0}function zr(){ge=tn=null,Ht=!1}function Jh(){var e=Us;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),Us=null),e}function Ql(e){Us===null?Us=[e]:Us.push(e)}var Wh=O(null),Br=null,is=null;function Ps(e,n,s){it(Wh,n._currentValue),n._currentValue=s}function ss(e){e._currentValue=Wh.current,K(Wh)}function tf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function ef(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),tf(f.return,s,e),l||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),tf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Oa(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;kn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===rt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Eo):e=[Eo])}h=h.return}e!==null&&ef(n,e,s,l),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return Gg(Br,e)}function ku(e,n){return Br===null&&qr(e),Gg(e,n)}function Gg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},is===null){if(e===null)throw Error(a(308));is=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else is=is.next=n;return s}var p1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},y1=r.unstable_scheduleCallback,_1=r.unstable_NormalPriority,Le={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new p1,data:new Map,refCount:0}}function Kl(e){e.refCount--,e.refCount===0&&y1(_1,function(){e.controller.abort()})}var Yl=null,sf=0,Ma=0,Va=null;function v1(e,n){if(Yl===null){var s=Yl=[];sf=0,Ma=ld(),Va={status:"pending",value:void 0,then:function(l){s.push(l)}}}return sf++,n.then(Fg,Fg),n}function Fg(){if(--sf===0&&Yl!==null){Va!==null&&(Va.status="fulfilled");var e=Yl;Yl=null,Ma=0,Va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function E1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Qg=G.S;G.S=function(e,n){Cy=Fe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&v1(e,n),Qg!==null&&Qg(e,n)};var Hr=O(null);function rf(){var e=Hr.current;return e!==null?e:oe.pooledCache}function Uu(e,n){n===null?it(Hr,Hr.current):it(Hr,n.pool)}function Kg(){var e=rf();return e===null?null:{parent:Le._currentValue,pool:e}}var ka=Error(a(460)),af=Error(a(474)),Lu=Error(a(542)),Pu={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(oi,oi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e;default:if(typeof n.status=="string")n.then(oi,oi);else{if(e=oe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zg(e),e}throw Fr=n,ka}}function Gr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Fr=s,ka):s}}var Fr=null;function $g(){if(Fr===null)throw Error(a(459));var e=Fr;return Fr=null,e}function Zg(e){if(e===ka||e===Lu)throw Error(a(483))}var Ua=null,Xl=0;function ju(e){var n=Xl;return Xl+=1,Ua===null&&(Ua=[]),Xg(Ua,e,n)}function $l(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=es(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Q){return D===null||D.tag!==6?(D=Kh(P,k.mode,Q),D.return=k,D):(D=h(D,P),D.return=k,D)}function I(k,D,P,Q){var mt=P.type;return mt===nt?F(k,D,P.props.children,Q,P.key):D!==null&&(D.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&Gr(mt)===D.type)?(D=h(D,P.props),$l(D,P),D.return=k,D):(D=Ou(P.type,P.key,P.props,null,k.mode,Q),$l(D,P),D.return=k,D)}function j(k,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Yh(P,k.mode,Q),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Q,mt){return D===null||D.tag!==7?(D=jr(P,k.mode,Q,mt),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case H:return P=Ou(D.type,D.key,D.props,null,k.mode,P),$l(P,D),P.return=k,P;case tt:return D=Yh(D,k.mode,P),D.return=k,D;case A:return D=Gr(D),X(k,D,P)}if(be(D)||U(D))return D=jr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,ju(D),P);if(D.$$typeof===ft)return X(k,ku(k,D),P);zu(k,D)}return null}function z(k,D,P,Q){var mt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:T(k,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===mt?I(k,D,P,Q):null;case tt:return P.key===mt?j(k,D,P,Q):null;case A:return P=Gr(P),z(k,D,P,Q)}if(be(P)||U(P))return mt!==null?null:F(k,D,P,Q,null);if(typeof P.then=="function")return z(k,D,ju(P),Q);if(P.$$typeof===ft)return z(k,D,ku(k,P),Q);zu(k,P)}return null}function q(k,D,P,Q,mt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(P)||null,T(D,k,""+Q,mt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?P:Q.key)||null,I(D,k,Q,mt);case tt:return k=k.get(Q.key===null?P:Q.key)||null,j(D,k,Q,mt);case A:return Q=Gr(Q),q(k,D,P,Q,mt)}if(be(Q)||U(Q))return k=k.get(P)||null,F(D,k,Q,mt,null);if(typeof Q.then=="function")return q(k,D,P,ju(Q),mt);if(Q.$$typeof===ft)return q(k,D,P,ku(D,Q),mt);zu(D,Q)}return null}function ut(k,D,P,Q){for(var mt=null,Kt=null,ct=D,Dt=D=0,Lt=null;ct!==null&&Dt<P.length;Dt++){ct.index>Dt?(Lt=ct,ct=null):Lt=ct.sibling;var Yt=z(k,ct,P[Dt],Q);if(Yt===null){ct===null&&(ct=Lt);break}e&&ct&&Yt.alternate===null&&n(k,ct),D=f(Yt,D,Dt),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt,ct=Lt}if(Dt===P.length)return s(k,ct),Ht&&ns(k,Dt),mt;if(ct===null){for(;Dt<P.length;Dt++)ct=X(k,P[Dt],Q),ct!==null&&(D=f(ct,D,Dt),Kt===null?mt=ct:Kt.sibling=ct,Kt=ct);return Ht&&ns(k,Dt),mt}for(ct=l(ct);Dt<P.length;Dt++)Lt=q(ct,k,Dt,P[Dt],Q),Lt!==null&&(e&&Lt.alternate!==null&&ct.delete(Lt.key===null?Dt:Lt.key),D=f(Lt,D,Dt),Kt===null?mt=Lt:Kt.sibling=Lt,Kt=Lt);return e&&ct.forEach(function(nr){return n(k,nr)}),Ht&&ns(k,Dt),mt}function _t(k,D,P,Q){if(P==null)throw Error(a(151));for(var mt=null,Kt=null,ct=D,Dt=D=0,Lt=null,Yt=P.next();ct!==null&&!Yt.done;Dt++,Yt=P.next()){ct.index>Dt?(Lt=ct,ct=null):Lt=ct.sibling;var nr=z(k,ct,Yt.value,Q);if(nr===null){ct===null&&(ct=Lt);break}e&&ct&&nr.alternate===null&&n(k,ct),D=f(nr,D,Dt),Kt===null?mt=nr:Kt.sibling=nr,Kt=nr,ct=Lt}if(Yt.done)return s(k,ct),Ht&&ns(k,Dt),mt;if(ct===null){for(;!Yt.done;Dt++,Yt=P.next())Yt=X(k,Yt.value,Q),Yt!==null&&(D=f(Yt,D,Dt),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt);return Ht&&ns(k,Dt),mt}for(ct=l(ct);!Yt.done;Dt++,Yt=P.next())Yt=q(ct,k,Dt,Yt.value,Q),Yt!==null&&(e&&Yt.alternate!==null&&ct.delete(Yt.key===null?Dt:Yt.key),D=f(Yt,D,Dt),Kt===null?mt=Yt:Kt.sibling=Yt,Kt=Yt);return e&&ct.forEach(function(Db){return n(k,Db)}),Ht&&ns(k,Dt),mt}function le(k,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var mt=P.key;D!==null;){if(D.key===mt){if(mt=P.type,mt===nt){if(D.tag===7){s(k,D.sibling),Q=h(D,P.props.children),Q.return=k,k=Q;break t}}else if(D.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&Gr(mt)===D.type){s(k,D.sibling),Q=h(D,P.props),$l(Q,P),Q.return=k,k=Q;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===nt?(Q=jr(P.props.children,k.mode,Q,P.key),Q.return=k,k=Q):(Q=Ou(P.type,P.key,P.props,null,k.mode,Q),$l(Q,P),Q.return=k,k=Q)}return g(k);case tt:t:{for(mt=P.key;D!==null;){if(D.key===mt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Q=h(D,P.children||[]),Q.return=k,k=Q;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Q=Yh(P,k.mode,Q),Q.return=k,k=Q}return g(k);case A:return P=Gr(P),le(k,D,P,Q)}if(be(P))return ut(k,D,P,Q);if(U(P)){if(mt=U(P),typeof mt!="function")throw Error(a(150));return P=mt.call(P),_t(k,D,P,Q)}if(typeof P.then=="function")return le(k,D,ju(P),Q);if(P.$$typeof===ft)return le(k,D,ku(k,P),Q);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Q=h(D,P),Q.return=k,k=Q):(s(k,D),Q=Kh(P,k.mode,Q),Q.return=k,k=Q),g(k)):s(k,D)}return function(k,D,P,Q){try{Xl=0;var mt=le(k,D,P,Q);return Ua=null,mt}catch(ct){if(ct===ka||ct===Lu)throw ct;var Kt=Un(29,ct,null,k.mode);return Kt.lanes=Q,Kt.return=k,Kt}}}var Qr=Jg(!0),Wg=Jg(!1),js=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Du(e),Ug(e,null,s),n}return Nu(e,l,n,s),Du(e)}function Zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Al(e,s)}}function uf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var cf=!1;function Jl(){if(cf){var e=Va;if(e!==null)throw e}}function Wl(e,n,s,l){cf=!1;var h=e.updateQueue;js=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,j=I.next;I.next=null,g===null?f=j:g.next=j,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,F=j=I=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Ut&z)===z:(l&z)===z){z!==0&&z===Ma&&(cf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,_t=T;z=n;var le=s;switch(_t.tag){case 1:if(ut=_t.payload,typeof ut=="function"){X=ut.call(le,X,z);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=_t.payload,z=typeof ut=="function"?ut.call(le,X,z):ut,z==null)break t;X=w({},X,z);break t;case 2:js=!0}}z=T.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=q,I=X):F=F.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=X),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Qs|=g,e.lanes=g,e.memoizedState=X}}function tp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ep(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)tp(s[e],n)}var La=O(null),Bu=O(0);function np(e,n){e=ds,it(Bu,e),it(La,n),ds=e|n.baseLanes}function hf(){it(Bu,ds),it(La,La.current)}function ff(){ds=Bu.current,K(La),K(Bu)}var Ln=O(null),Wn=null;function qs(e){var n=e.alternate;it(Ce,Ce.current&1),it(Ln,e),Wn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Wn=e)}function df(e){it(Ce,Ce.current),it(Ln,e),Wn===null&&(Wn=e)}function ip(e){e.tag===22?(it(Ce,Ce.current),it(Ln,e),Wn===null&&(Wn=e)):Hs()}function Hs(){it(Ce,Ce.current),it(Ln,Ln.current)}function Pn(e){K(Ln),Wn===e&&(Wn=null),K(Ce)}var Ce=O(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vd(s)||Ed(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Ct=null,re=null,Pe=null,Hu=!1,Pa=!1,Kr=!1,Gu=0,to=0,ja=null,T1=0;function we(){throw Error(a(321))}function mf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!kn(e[s],n[s]))return!1;return!0}function gf(e,n,s,l,h,f){return rs=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?zp:Nf,Kr=!1,f=s(l,h),Kr=!1,Pa&&(f=rp(n,s,l,h)),sp(e),f}function sp(e){G.H=io;var n=re!==null&&re.next!==null;if(rs=0,Pe=re=Ct=null,Hu=!1,to=0,ja=null,n)throw Error(a(300));e===null||je||(e=e.dependencies,e!==null&&Vu(e)&&(je=!0))}function rp(e,n,s,l){Ct=e;var h=0;do{if(Pa&&(ja=null),to=0,Pa=!1,25<=h)throw Error(a(301));if(h+=1,Pe=re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Bp,f=n(s,l)}while(Pa);return f}function b1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?eo(n):n,e=e.useState()[0],(re!==null?re.memoizedState:null)!==e&&(Ct.flags|=1024),n}function pf(){var e=Gu!==0;return Gu=0,e}function yf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function _f(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}rs=0,Pe=re=Ct=null,Pa=!1,to=Gu=0,ja=null}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Ct.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ne(){if(re===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=re.next;var n=Pe===null?Ct.memoizedState:Pe.next;if(n!==null)Pe=n,re=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));re=e,e={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Pe===null?Ct.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(e){var n=to;return to+=1,ja===null&&(ja=[]),e=Xg(ja,e,n),n=Ct,(Pe===null?n.memoizedState:Pe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?zp:Nf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return eo(e);if(e.$$typeof===ft)return en(e)}throw Error(a(438,String(e)))}function vf(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Fu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function as(e,n){return typeof n=="function"?n(e):n}function Ku(e){var n=Ne();return Ef(n,re,e)}function Ef(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,I=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ut&X)===X:(rs&X)===X){var z=j.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Ma&&(F=!0);else if((rs&z)===z){j=j.next,z===Ma&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=X,g=f):I=I.next=X,Ct.lanes|=z,Qs|=z;X=j.action,Kr&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(T=I=z,g=f):I=I.next=z,Ct.lanes|=X,Qs|=X;j=j.next}while(j!==null&&j!==n);if(I===null?g=f:I.next=T,!kn(f,e.memoizedState)&&(je=!0,F&&(s=Va,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Tf(e){var n=Ne(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);kn(f,n.memoizedState)||(je=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function ap(e,n,s){var l=Ct,h=Ne(),f=Ht;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!kn((re||h).memoizedState,s);if(g&&(h.memoizedState=s,je=!0),h=h.queue,Af(up.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Pe!==null&&Pe.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},op.bind(null,l,h,s,n),null),oe===null)throw Error(a(349));f||(rs&127)!==0||lp(l,n,s)}return s}function lp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Fu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function op(e,n,s,l){n.value=s,n.getSnapshot=l,cp(n)&&hp(e)}function up(e,n,s){return s(function(){cp(n)&&hp(e)})}function cp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!kn(e,s)}catch{return!0}}function hp(e){var n=Pr(e,2);n!==null&&xn(n,e,2)}function bf(e){var n=yn();if(typeof e=="function"){var s=e;if(e=s(),Kr){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},n}function fp(e,n,s,l){return e.baseState=s,Ef(e,re,typeof l=="function"?l:as)}function S1(e,n,s,l,h){if($u(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,dp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function dp(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=s(h,l),I=G.S;I!==null&&I(g,T),mp(e,n,T)}catch(j){Sf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),mp(e,n,f)}catch(j){Sf(e,n,j)}}function mp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){gp(e,n,l)},function(l){return Sf(e,n,l)}):gp(e,n,s)}function gp(e,n,s){n.status="fulfilled",n.value=s,pp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,dp(e,s)))}function Sf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,pp(n),n=n.next;while(n!==l)}e.action=null}function pp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function yp(e,n){return n}function _p(e,n){if(Ht){var s=oe.formState;if(s!==null){t:{var l=Ct;if(Ht){if(ge){e:{for(var h=ge,f=Jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ti(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ge=ti(h.nextSibling),l=h.data==="F!";break t}}Ls(l)}l=!1}l&&(n=s[0])}}return s=yn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yp,lastRenderedState:n},s.queue=l,s=Lp.bind(null,Ct,l),l.dispatch=s,l=bf(!1),f=Cf.bind(null,Ct,!1,l.queue),l=yn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=S1.bind(null,Ct,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function vp(e){var n=Ne();return Ep(n,re,e)}function Ep(e,n,s){if(n=Ef(e,n,yp)[0],e=Ku(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=eo(n)}catch(g){throw g===ka?Lu:g}else l=n;n=Ne();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,za(9,{destroy:void 0},A1.bind(null,h,s),null)),[l,f,e]}function A1(e,n){e.action=n}function Tp(e){var n=Ne(),s=re;if(s!==null)return Ep(n,s,e);Ne(),n=n.memoizedState,s=Ne();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function za(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Fu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function bp(){return Ne().memoizedState}function Yu(e,n,s,l){var h=yn();Ct.flags|=e,h.memoizedState=za(1|n,{destroy:void 0},s,l===void 0?null:l)}function Xu(e,n,s,l){var h=Ne();l=l===void 0?null:l;var f=h.memoizedState.inst;re!==null&&l!==null&&mf(l,re.memoizedState.deps)?h.memoizedState=za(n,f,s,l):(Ct.flags|=e,h.memoizedState=za(1|n,f,s,l))}function Sp(e,n){Yu(8390656,8,e,n)}function Af(e,n){Xu(2048,8,e,n)}function w1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Fu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ap(e){var n=Ne().memoizedState;return w1({ref:n,nextImpl:e}),function(){if((Jt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function wp(e,n){return Xu(4,2,e,n)}function Rp(e,n){return Xu(4,4,e,n)}function xp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ip(e,n,s){s=s!=null?s.concat([e]):null,Xu(4,4,xp.bind(null,n,e),s)}function wf(){}function Cp(e,n){var s=Ne();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&mf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Np(e,n){var s=Ne();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&mf(n,l[1]))return l[0];if(l=e(),Kr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[l,n],l}function Rf(e,n,s){return s===void 0||(rs&1073741824)!==0&&(Ut&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Dy(),Ct.lanes|=e,Qs|=e,s)}function Dp(e,n,s,l){return kn(s,n)?s:La.current!==null?(e=Rf(e,s,l),kn(e,n)||(je=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(Ut&261930)===0?(je=!0,e.memoizedState=s):(e=Dy(),Ct.lanes|=e,Qs|=e,n)}function Op(e,n,s,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,Cf(e,!1,n,s);try{var I=h(),j=G.S;if(j!==null&&j(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=E1(I,l);no(e,n,F,Bn(e))}else no(e,n,l,Bn(e))}catch(X){no(e,n,{then:function(){},status:"rejected",reason:X},Bn())}finally{st.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function R1(){}function xf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Mp(e).queue;Op(e,h,n,dt,s===null?R1:function(){return Vp(e),s(l)})}function Mp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Vp(e){var n=Mp(e);n.next===null&&(n=e.alternate.memoizedState),no(e,n.next.queue,{},Bn())}function If(){return en(Eo)}function kp(){return Ne().memoizedState}function Up(){return Ne().memoizedState}function x1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Bn();e=zs(s);var l=Bs(n,e,s);l!==null&&(xn(l,n,s),Zl(l,n,s)),n={cache:nf()},e.payload=n;return}n=n.return}}function I1(e,n,s){var l=Bn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(e)?Pp(n,s):(s=Fh(e,n,s,l),s!==null&&(xn(s,e,l),jp(s,n,l)))}function Lp(e,n,s){var l=Bn();no(e,n,s,l)}function no(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(e))Pp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,kn(T,g))return Nu(e,n,h,0),oe===null&&Cu(),!1}catch{}if(s=Fh(e,n,h,l),s!==null)return xn(s,e,l),jp(s,n,l),!0}return!1}function Cf(e,n,s,l){if(l={lane:2,revertLane:ld(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(a(479))}else n=Fh(e,s,l,2),n!==null&&xn(n,e,2)}function $u(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Pp(e,n){Pa=Hu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function jp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Al(e,s)}}var io={readContext:en,use:Qu,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};io.useEffectEvent=we;var zp={readContext:en,use:Qu,useCallback:function(e,n){return yn().memoizedState=[e,n===void 0?null:n],e},useContext:en,useEffect:Sp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Yu(4194308,4,xp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Yu(4194308,4,e,n)},useInsertionEffect:function(e,n){Yu(4,2,e,n)},useMemo:function(e,n){var s=yn();n=n===void 0?null:n;var l=e();if(Kr){En(!0);try{e()}finally{En(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=yn();if(s!==void 0){var h=s(n);if(Kr){En(!0);try{s(n)}finally{En(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=I1.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var n=yn();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,s=Lp.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:wf,useDeferredValue:function(e,n){var s=yn();return Rf(s,e,n)},useTransition:function(){var e=bf(!1);return e=Op.bind(null,Ct,e.queue,!0,!1),yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Ct,h=yn();if(Ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),oe===null)throw Error(a(349));(Ut&127)!==0||lp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Sp(up.bind(null,l,f,e),[e]),l.flags|=2048,za(9,{destroy:void 0},op.bind(null,l,f,s,n),null),s},useId:function(){var e=yn(),n=oe.identifierPrefix;if(Ht){var s=Pi,l=Li;s=(l&~(1<<32-xe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Gu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=T1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:_p,useActionState:_p,useOptimistic:function(e){var n=yn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return yn().memoizedState=x1.bind(null,Ct)},useEffectEvent:function(e){var n=yn(),s={impl:e};return n.memoizedState=s,function(){if((Jt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Nf={readContext:en,use:Qu,useCallback:Cp,useContext:en,useEffect:Af,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Np,useReducer:Ku,useRef:bp,useState:function(){return Ku(as)},useDebugValue:wf,useDeferredValue:function(e,n){var s=Ne();return Dp(s,re.memoizedState,e,n)},useTransition:function(){var e=Ku(as)[0],n=Ne().memoizedState;return[typeof e=="boolean"?e:eo(e),n]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:If,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var s=Ne();return fp(s,re,e,n)},useMemoCache:vf,useCacheRefresh:Up};Nf.useEffectEvent=Ap;var Bp={readContext:en,use:Qu,useCallback:Cp,useContext:en,useEffect:Af,useImperativeHandle:Ip,useInsertionEffect:wp,useLayoutEffect:Rp,useMemo:Np,useReducer:Tf,useRef:bp,useState:function(){return Tf(as)},useDebugValue:wf,useDeferredValue:function(e,n){var s=Ne();return re===null?Rf(s,e,n):Dp(s,re.memoizedState,e,n)},useTransition:function(){var e=Tf(as)[0],n=Ne().memoizedState;return[typeof e=="boolean"?e:eo(e),n]},useSyncExternalStore:ap,useId:kp,useHostTransitionStatus:If,useFormState:Tp,useActionState:Tp,useOptimistic:function(e,n){var s=Ne();return re!==null?fp(s,re,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Up};Bp.useEffectEvent=Ap;function Df(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Of={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Bn(),h=zs(l);h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,l),n!==null&&(xn(n,e,l),Zl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Bn(),h=zs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,l),n!==null&&(xn(n,e,l),Zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Bn(),l=zs(s);l.tag=2,n!=null&&(l.callback=n),n=Bs(e,l,s),n!==null&&(xn(n,e,s),Zl(n,e,s))}};function qp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Hl(s,l)||!Hl(h,f):!0}function Hp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Gp(e){Iu(e)}function Fp(e){console.error(e)}function Qp(e){Iu(e)}function Zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Kp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,s){return s=zs(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(e,n)},s}function Yp(e){return e=zs(e),e.tag=3,e}function Xp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Kp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Kp(n,s,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function C1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Oa(n,s,h,!0),s=Ln.current,s!==null){switch(s.tag){case 31:case 13:return Wn===null?uc():s.alternate===null&&Re===0&&(Re=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Pu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),sd(e,l,h)),!1;case 22:return s.flags|=65536,l===Pu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),sd(e,l,h)),!1}throw Error(a(435,s.tag))}return sd(e,l,h),uc(),!1}if(Ht)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Zh&&(e=Error(a(422),{cause:l}),Ql(Xn(e,s)))):(l!==Zh&&(n=Error(a(423),{cause:l}),Ql(Xn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Xn(l,s),h=Mf(e.stateNode,l,h),uf(e,h),Re!==4&&(Re=2)),!1;var f=Error(a(520),{cause:l});if(f=Xn(f,s),ho===null?ho=[f]:ho.push(f),Re!==4&&(Re=2),n===null)return!0;l=Xn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Mf(s.stateNode,l,e),uf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yp(h),Xp(h,e,s,l),uf(s,h),!1}s=s.return}while(s!==null);return!1}var Vf=Error(a(461)),je=!1;function nn(e,n,s,l){n.child=e===null?Wg(n,null,s,l):Qr(n,e.child,s,l)}function $p(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return qr(n),l=gf(e,n,s,g,f,h),T=pf(),e!==null&&!je?(yf(e,n,h),ls(e,n,h)):(Ht&&T&&Xh(n),n.flags|=1,nn(e,n,l,h),n.child)}function Zp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Jp(e,n,f,l,h)):(e=Ou(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!qf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Hl,s(g,l)&&e.ref===n.ref)return ls(e,n,h)}return n.flags|=1,e=es(f,l),e.ref=n.ref,e.return=n,n.child=e}function Jp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Hl(f,l)&&e.ref===n.ref)if(je=!1,n.pendingProps=l=f,qf(e,h))(e.flags&131072)!==0&&(je=!0);else return n.lanes=e.lanes,ls(e,n,h)}return kf(e,n,s,l,h)}function Wp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return ty(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?np(n,f):hf(),ip(n);else return l=n.lanes=536870912,ty(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Uu(n,f.cachePool),np(n,f),Hs(),n.memoizedState=null):(e!==null&&Uu(n,null),hf(),Hs());return nn(e,n,h,s),n.child}function so(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ty(e,n,s,l,h){var f=rf();return f=f===null?null:{parent:Le._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Uu(n,null),hf(),ip(n),e!==null&&Oa(e,n,l,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ey(e,n,s){return Qr(n,e.child,null,s),e=Ju(n,n.pendingProps),e.flags|=2,Pn(n),n.memoizedState=null,e}function N1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ht){if(l.mode==="hidden")return e=Ju(n,l),n.lanes=536870912,so(null,e);if(df(n),(e=ge)?(e=d_(e,Jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=Pg(e),s.return=n,n.child=s,tn=n,ge=null)):e=null,e===null)throw Ls(n);return n.lanes=536870912,null}return Ju(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=ey(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(je||Oa(e,n,s,!1),h=(s&e.childLanes)!==0,je||h){if(l=oe,l!==null&&(g=wl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Pr(e,g),xn(l,e,g),Vf;uc(),n=ey(e,n,s)}else e=f.treeContext,ge=ti(g.nextSibling),tn=n,Ht=!0,Us=null,Jn=!1,e!==null&&Bg(n,e),n=Ju(n,l),n.flags|=4096;return n}return e=es(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function kf(e,n,s,l,h){return qr(n),s=gf(e,n,s,l,void 0,h),l=pf(),e!==null&&!je?(yf(e,n,h),ls(e,n,h)):(Ht&&l&&Xh(n),n.flags|=1,nn(e,n,s,h),n.child)}function ny(e,n,s,l,h,f){return qr(n),n.updateQueue=null,s=rp(n,l,s,h),sp(e),l=pf(),e!==null&&!je?(yf(e,n,f),ls(e,n,f)):(Ht&&l&&Xh(n),n.flags|=1,nn(e,n,s,f),n.child)}function iy(e,n,s,l,h){if(qr(n),n.stateNode===null){var f=Ia,g=s.contextType;typeof g=="object"&&g!==null&&(f=en(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},lf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?en(g):Ia,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Df(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Of.enqueueReplaceState(f,f.state,null),Wl(n,l,f,h),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=Yr(s,T);f.props=I;var j=f.context,F=s.contextType;g=Ia,typeof F=="object"&&F!==null&&(g=en(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==g)&&Hp(n,f,l,g),js=!1;var z=n.memoizedState;f.state=z,Wl(n,l,f,h),Jl(),j=n.memoizedState,T||z!==j||js?(typeof X=="function"&&(Df(n,s,X,l),j=n.memoizedState),(I=js||qp(n,s,I,l,z,j,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,F=Yr(s,g),f.props=F,X=n.pendingProps,z=f.context,j=s.contextType,I=Ia,typeof j=="object"&&j!==null&&(I=en(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==I)&&Hp(n,f,l,I),js=!1,z=n.memoizedState,f.state=z,Wl(n,l,f,h),Jl();var q=n.memoizedState;g!==X||z!==q||js||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof T=="function"&&(Df(n,s,T,l),q=n.memoizedState),(F=js||qp(n,s,F,l,z,q,I)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Wu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,s,h)):nn(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ls(e,n,h),e}function sy(e,n,s,l){return zr(),n.flags|=256,nn(e,n,s,l),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:Kg()}}function Pf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=zn),e}function ry(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ce.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?qs(n):Hs(),(e=ge)?(e=d_(e,Jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},s=Pg(e),s.return=n,n.child=s,tn=n,ge=null)):e=null,e===null)throw Ls(n);return Ed(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Hs(),h=n.mode,T=tc({mode:"hidden",children:T},h),l=jr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Lf(s),l.childLanes=Pf(e,g,s),n.memoizedState=Uf,so(null,l)):(qs(n),jf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=zf(e,n,s)):n.memoizedState!==null?(Hs(),n.child=e.child,n.flags|=128,n=null):(Hs(),T=l.fallback,h=n.mode,l=tc({mode:"visible",children:l.children},h),T=jr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Qr(n,e.child,null,s),l=n.child,l.memoizedState=Lf(s),l.childLanes=Pf(e,g,s),n.memoizedState=Uf,n=so(null,l));else if(qs(n),Ed(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(a(419)),l.stack="",l.digest=g,Ql({value:l,source:null,stack:null}),n=zf(e,n,s)}else if(je||Oa(e,n,s,!1),g=(s&e.childLanes)!==0,je||g){if(g=oe,g!==null&&(l=wl(g,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Pr(e,l),xn(g,e,l),Vf;vd(T)||uc(),n=zf(e,n,s)}else vd(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ge=ti(T.nextSibling),tn=n,Ht=!0,Us=null,Jn=!1,e!==null&&Bg(n,e),n=jf(n,l.children),n.flags|=4096);return n}return h?(Hs(),T=l.fallback,h=n.mode,I=e.child,j=I.sibling,l=es(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?T=es(j,T):(T=jr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,so(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Lf(s):(h=T.cachePool,h!==null?(I=Le._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Kg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Pf(e,g,s),n.memoizedState=Uf,so(e.child,l)):(qs(n),s=e.child,e=s.sibling,s=es(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function jf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=Un(22,e,null,n),e.lanes=0,e}function zf(e,n,s){return Qr(n,e.child,null,s),e=jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ay(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),tf(e.return,n,s)}function Bf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ly(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Ce.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,it(Ce,g),nn(e,n,l,s),l=Ht?Fl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ay(e,s,n);else if(e.tag===19)ay(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&qu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Bf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Bf(n,!0,s,null,f,l);break;case"together":Bf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ls(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Oa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=es(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=es(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function D1(e,n,s){switch(n.tag){case 3:pt(n,n.stateNode.containerInfo),Ps(n,Le,e.memoizedState.cache),zr();break;case 27:case 5:me(n);break;case 4:pt(n,n.stateNode.containerInfo);break;case 10:Ps(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ry(e,n,s):(qs(n),e=ls(e,n,s),e!==null?e.sibling:null);qs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Oa(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ly(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ce,Ce.current),l)break;return null;case 22:return n.lanes=0,Wp(e,n,s,n.pendingProps);case 24:Ps(n,Le,e.memoizedState.cache)}return ls(e,n,s)}function oy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)je=!0;else{if(!qf(e,s)&&(n.flags&128)===0)return je=!1,D1(e,n,s);je=(e.flags&131072)!==0}else je=!1,Ht&&(n.flags&1048576)!==0&&zg(n,Fl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Gr(n.elementType),n.type=e,typeof e=="function")Qh(e)?(l=Yr(e,l),n.tag=1,n=iy(null,n,e,l,s)):(n.tag=0,n=kf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Ft){n.tag=11,n=$p(null,n,e,l,s);break t}else if(h===C){n.tag=14,n=Zp(null,n,e,l,s);break t}}throw n=ue(e)||e,Error(a(306,n,""))}}return n;case 0:return kf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Yr(l,n.pendingProps),iy(e,n,l,h,s);case 3:t:{if(pt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Wl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Ps(n,Le,l),l!==f.cache&&ef(n,[Le],s,!0),Jl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=sy(e,n,l,s);break t}else if(l!==h){h=Xn(Error(a(424)),n),Ql(h),n=sy(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ge=ti(e.firstChild),tn=n,Ht=!0,Us=null,Jn=!0,s=Wg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(zr(),l===h){n=ls(e,n,s);break t}nn(e,n,l,s)}n=n.child}return n;case 26:return Wu(e,n),e===null?(s=v_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ht||(s=n.type,e=n.pendingProps,l=pc(Z.current).createElement(s),l[Ve]=n,l[Xe]=e,sn(l,s,e),ke(l),n.stateNode=l):n.memoizedState=v_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return me(n),e===null&&Ht&&(l=n.stateNode=p_(n.type,n.pendingProps,Z.current),tn=n,Jn=!0,h=ge,Zs(n.type)?(Td=h,ge=ti(l.firstChild)):ge=h),nn(e,n,n.pendingProps.children,s),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=l=ge)&&(l=lb(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,tn=n,ge=ti(l.firstChild),Jn=!1,h=!0):h=!1),h||Ls(n)),me(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,pd(h,f)?l=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,b1,null,null,s),Eo._currentValue=h),Wu(e,n),nn(e,n,l,s),n.child;case 6:return e===null&&Ht&&((e=s=ge)&&(s=ob(s,n.pendingProps,Jn),s!==null?(n.stateNode=s,tn=n,ge=null,e=!0):e=!1),e||Ls(n)),null;case 13:return ry(e,n,s);case 4:return pt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Qr(n,null,l,s):nn(e,n,l,s),n.child;case 11:return $p(e,n,n.type,n.pendingProps,s);case 7:return nn(e,n,n.pendingProps,s),n.child;case 8:return nn(e,n,n.pendingProps.children,s),n.child;case 12:return nn(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ps(n,n.type,l.value),nn(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,qr(n),h=en(h),l=l(h),n.flags|=1,nn(e,n,l,s),n.child;case 14:return Zp(e,n,n.type,n.pendingProps,s);case 15:return Jp(e,n,n.type,n.pendingProps,s);case 19:return ly(e,n,s);case 31:return N1(e,n,s);case 22:return Wp(e,n,s,n.pendingProps);case 24:return qr(n),l=en(Le),e===null?(h=rf(),h===null&&(h=oe,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},lf(n),Ps(n,Le,h)):((e.lanes&s)!==0&&(of(e,n),Wl(n,null,null,s),Jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ps(n,Le,l)):(l=f.cache,Ps(n,Le,l),l!==h.cache&&ef(n,[Le],s,!0))),nn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(e){e.flags|=4}function Hf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(ky())e.flags|=8192;else throw Fr=Pu,af}else e.flags&=-16777217}function uy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!A_(n))if(ky())e.flags|=8192;else throw Fr=Pu,af}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lu():536870912,e.lanes|=n,Ga|=n)}function ro(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function O1(e,n,s){var l=n.pendingProps;switch($h(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(n),null;case 1:return pe(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ss(Le),xt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Da(n)?os(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),pe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(os(n),f!==null?(pe(n),uy(n,f)):(pe(n),Hf(n,h,null,l,s))):f?f!==e.memoizedState?(os(n),pe(n),uy(n,f)):(pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&os(n),pe(n),Hf(n,h,e,l,s)),null;case 27:if(Qt(n),s=Z.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pe(n),null}e=lt.current,Da(n)?qg(n):(e=p_(h,l,s),n.stateNode=e,os(n))}return pe(n),null;case 5:if(Qt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pe(n),null}if(f=lt.current,Da(n))qg(n);else{var g=pc(Z.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ve]=n,f[Xe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(sn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&os(n)}}return pe(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=Z.current,Da(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ve]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||r_(e.nodeValue,s)),e||Ls(n,!0)}else e=pc(e).createTextNode(l),e[Ve]=n,n.stateNode=e}return pe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Da(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ve]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),e=!1}else s=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return pe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Da(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ve]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),pe(n),null);case 4:return xt(),e===null&&hd(n.stateNode.containerInfo),pe(n),null;case 10:return ss(n.type),pe(n),null;case 19:if(K(Ce),l=n.memoizedState,l===null)return pe(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ro(l,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,ro(l,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Lg(s,e),s=s.sibling;return it(Ce,Ce.current&1|2),Ht&&ns(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Fe()>ac&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ht)return pe(n),null}else 2*Fe()-l.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Fe(),e.sibling=null,s=Ce.current,it(Ce,h?s&1|2:s&1),Ht&&ns(n,l.treeForkCount),e):(pe(n),null);case 22:case 23:return Pn(n),ff(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(pe(n),n.subtreeFlags&6&&(n.flags|=8192)):pe(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&K(Hr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ss(Le),pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function M1(e,n){switch($h(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ss(Le),xt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qt(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ce),null;case 4:return xt(),null;case 10:return ss(n.type),null;case 22:case 23:return Pn(n),ff(),e!==null&&K(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ss(Le),null;case 25:return null;default:return null}}function cy(e,n){switch($h(n),n.tag){case 3:ss(Le),xt();break;case 26:case 27:case 5:Qt(n);break;case 4:xt();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:K(Ce);break;case 10:ss(n.type);break;case 22:case 23:Pn(n),ff(),e!==null&&K(Hr);break;case 24:ss(Le)}}function ao(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){ne(n,n.return,T)}}function Gs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=s,j=T;try{j()}catch(F){ne(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){ne(n,n.return,F)}}function hy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ep(n,s)}catch(l){ne(e,e.return,l)}}}function fy(e,n,s){s.props=Yr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ne(e,n,l)}}function lo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){ne(e,n,h)}}function ji(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ne(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ne(e,n,h)}else s.current=null}function dy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ne(e,e.return,h)}}function Gf(e,n,s){try{var l=e.stateNode;eb(l,e.type,s,n),l[Xe]=n}catch(h){ne(e,e.return,h)}}function my(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zs(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||my(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=oi));else if(l!==4&&(l===27&&Zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,s),e=e.sibling;e!==null;)Qf(e,n,s),e=e.sibling}function nc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(nc(e,n,s),e=e.sibling;e!==null;)nc(e,n,s),e=e.sibling}function gy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,l,s),n[Ve]=e,n[Xe]=s}catch(f){ne(e,e.return,f)}}var us=!1,ze=!1,Kf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function V1(e,n){if(e=e.containerInfo,md=Sc,e=Ig(e),jh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,I=-1,j=0,F=0,X=e,z=null;e:for(;;){for(var q;X!==s||h!==0&&X.nodeType!==3||(T=g+h),X!==f||l!==0&&X.nodeType!==3||(I=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===e)break e;if(z===s&&++j===h&&(T=g),z===f&&++F===l&&(I=g),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}s=T===-1||I===-1?null:{start:T,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(gd={focusedElem:e,selectionRange:s},Sc=!1,Ze=n;Ze!==null;)if(n=Ze,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ze=e;else for(;Ze!==null;){switch(n=Ze,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ut=Yr(s.type,h);e=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ne(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)_d(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ze=e;break}Ze=n.return}}function yy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:hs(e,s),l&4&&ao(5,s);break;case 1:if(hs(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){ne(s,s.return,g)}else{var h=Yr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ne(s,s.return,g)}}l&64&&hy(s),l&512&&lo(s,s.return);break;case 3:if(hs(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ep(e,n)}catch(g){ne(s,s.return,g)}}break;case 27:n===null&&l&4&&gy(s);case 26:case 5:hs(e,s),n===null&&l&4&&dy(s),l&512&&lo(s,s.return);break;case 12:hs(e,s);break;case 31:hs(e,s),l&4&&Ey(e,s);break;case 13:hs(e,s),l&4&&Ty(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=H1.bind(null,s),ub(e,s))));break;case 22:if(l=s.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||ze,h=us;var f=ze;us=l,(ze=n)&&!f?fs(e,s,(s.subtreeFlags&8772)!==0):hs(e,s),us=h,ze=f}break;case 30:break;default:hs(e,s)}}function _y(e){var n=e.alternate;n!==null&&(e.alternate=null,_y(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ma(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,Sn=!1;function cs(e,n,s){for(s=s.child;s!==null;)vy(e,n,s),s=s.sibling}function vy(e,n,s){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(On,s)}catch{}switch(s.tag){case 26:ze||ji(s,n),cs(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ze||ji(s,n);var l=ve,h=Sn;Zs(s.type)&&(ve=s.stateNode,Sn=!1),cs(e,n,s),yo(s.stateNode),ve=l,Sn=h;break;case 5:ze||ji(s,n);case 6:if(l=ve,h=Sn,ve=null,cs(e,n,s),ve=l,Sn=h,ve!==null)if(Sn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(s.stateNode)}catch(f){ne(s,n,f)}else try{ve.removeChild(s.stateNode)}catch(f){ne(s,n,f)}break;case 18:ve!==null&&(Sn?(e=ve,h_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ja(e)):h_(ve,s.stateNode));break;case 4:l=ve,h=Sn,ve=s.stateNode.containerInfo,Sn=!0,cs(e,n,s),ve=l,Sn=h;break;case 0:case 11:case 14:case 15:Gs(2,s,n),ze||Gs(4,s,n),cs(e,n,s);break;case 1:ze||(ji(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&fy(s,n,l)),cs(e,n,s);break;case 21:cs(e,n,s);break;case 22:ze=(l=ze)||s.memoizedState!==null,cs(e,n,s),ze=l;break;default:cs(e,n,s)}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ja(e)}catch(s){ne(n,n.return,s)}}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ja(e)}catch(s){ne(n,n.return,s)}}function k1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(a(435,e.tag))}}function ic(e,n){var s=k1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=G1.bind(null,e,l);l.then(h,h)}})}function An(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Zs(T.type)){ve=T.stateNode,Sn=!1;break t}break;case 5:ve=T.stateNode,Sn=!1;break t;case 3:case 4:ve=T.stateNode.containerInfo,Sn=!0;break t}T=T.return}if(ve===null)throw Error(a(160));vy(f,g,h),ve=null,Sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,e),n=n.sibling}var mi=null;function by(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(n,e),wn(e),l&4&&(Gs(3,e,e.return),ao(3,e),Gs(5,e,e.return));break;case 1:An(n,e),wn(e),l&512&&(ze||s===null||ji(s,s.return)),l&64&&us&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=mi;if(An(n,e),wn(e),l&512&&(ze||s===null||ji(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[wi]||f[Ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,l,s),f[Ve]=e,ke(f),l=f;break t;case"link":var g=b_("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(l),sn(f,l,s),h.head.appendChild(f);break;case"meta":if(g=b_("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(l),sn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ve]=e,ke(f),l=f}e.stateNode=l}else S_(h,e.type,e.stateNode);else e.stateNode=T_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?S_(h,e.type,e.stateNode):T_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,s.memoizedProps)}break;case 27:An(n,e),wn(e),l&512&&(ze||s===null||ji(s,s.return)),s!==null&&l&4&&Gf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(An(n,e),wn(e),l&512&&(ze||s===null||ji(s,s.return)),e.flags&32){h=e.stateNode;try{bn(h,"")}catch(ut){ne(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(An(n,e),wn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ut){ne(e,e.return,ut)}}break;case 3:if(vc=null,h=mi,mi=yc(n.containerInfo),An(n,e),mi=h,wn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(ut){ne(e,e.return,ut)}Kf&&(Kf=!1,Sy(e));break;case 4:l=mi,mi=yc(e.stateNode.containerInfo),An(n,e),wn(e),mi=l;break;case 12:An(n,e),wn(e);break;case 31:An(n,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ic(e,l)));break;case 13:An(n,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=Fe()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ic(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=us,F=ze;if(us=j||h,ze=F||I,An(n,e),ze=F,us=j,wn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||us||ze||Xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ut){ne(I,I.return,ut)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ut){ne(I,I.return,ut)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?f_(q,!0):f_(I.stateNode,!1)}catch(ut){ne(I,I.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ic(e,s))));break;case 19:An(n,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ic(e,l)));break;case 30:break;case 21:break;default:An(n,e),wn(e)}}function wn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(my(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Ff(e);nc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(bn(g,""),s.flags&=-33);var T=Ff(e);nc(e,T,g);break;case 3:case 4:var I=s.stateNode.containerInfo,j=Ff(e);Qf(e,j,I);break;default:throw Error(a(161))}}catch(F){ne(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yy(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Xr(n);break;case 1:ji(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&fy(n,n.return,s),Xr(n);break;case 27:yo(n.stateNode);case 26:case 5:ji(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function fs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,s),ao(4,f);break;case 1:if(fs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ne(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)tp(I[h],T)}catch(j){ne(l,l.return,j)}}s&&g&64&&hy(f),lo(f,f.return);break;case 27:gy(f);case 26:case 5:fs(h,f,s),s&&l===null&&g&4&&dy(f),lo(f,f.return);break;case 12:fs(h,f,s);break;case 31:fs(h,f,s),s&&g&4&&Ey(h,f);break;case 13:fs(h,f,s),s&&g&4&&Ty(h,f);break;case 22:f.memoizedState===null&&fs(h,f,s),lo(f,f.return);break;case 30:break;default:fs(h,f,s)}n=n.sibling}}function Yf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Kl(s))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Kl(e))}function gi(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(e,n,s,l),n=n.sibling}function Ay(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:gi(e,n,s,l),h&2048&&ao(9,n);break;case 1:gi(e,n,s,l);break;case 3:gi(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Kl(e)));break;case 12:if(h&2048){gi(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){ne(n,n.return,I)}}else gi(e,n,s,l);break;case 31:gi(e,n,s,l);break;case 13:gi(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?gi(e,n,s,l):oo(e,n):f._visibility&2?gi(e,n,s,l):(f._visibility|=2,Ba(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:gi(e,n,s,l),h&2048&&Xf(n.alternate,n);break;default:gi(e,n,s,l)}}function Ba(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,I=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ba(f,g,T,I,h),ao(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ba(f,g,T,I,h):oo(f,g):(F._visibility|=2,Ba(f,g,T,I,h)),h&&j&2048&&Yf(g.alternate,g);break;case 24:Ba(f,g,T,I,h),h&&j&2048&&Xf(g.alternate,g);break;default:Ba(f,g,T,I,h)}n=n.sibling}}function oo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:oo(s,l),h&2048&&Yf(l.alternate,l);break;case 24:oo(s,l),h&2048&&Xf(l.alternate,l);break;default:oo(s,l)}n=n.sibling}}var uo=8192;function qa(e,n,s){if(e.subtreeFlags&uo)for(e=e.child;e!==null;)wy(e,n,s),e=e.sibling}function wy(e,n,s){switch(e.tag){case 26:qa(e,n,s),e.flags&uo&&e.memoizedState!==null&&Tb(s,mi,e.memoizedState,e.memoizedProps);break;case 5:qa(e,n,s);break;case 3:case 4:var l=mi;mi=yc(e.stateNode.containerInfo),qa(e,n,s),mi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=uo,uo=16777216,qa(e,n,s),uo=l):qa(e,n,s));break;default:qa(e,n,s)}}function Ry(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function co(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ze=l,Iy(l,e)}Ry(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:co(e),e.flags&2048&&Gs(9,e,e.return);break;case 3:co(e);break;case 12:co(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):co(e);break;default:co(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ze=l,Iy(l,e)}Ry(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function Iy(e,n){for(;Ze!==null;){var s=Ze;switch(s.tag){case 0:case 11:case 15:Gs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ze=l;else t:for(s=e;Ze!==null;){l=Ze;var h=l.sibling,f=l.return;if(_y(l),l===s){Ze=null;break t}if(h!==null){h.return=f,Ze=h;break t}Ze=f}}}var U1={getCacheForType:function(e){var n=en(Le),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return en(Le).controller.signal}},L1=typeof WeakMap=="function"?WeakMap:Map,Jt=0,oe=null,Mt=null,Ut=0,ee=0,jn=null,Fs=!1,Ha=!1,$f=!1,ds=0,Re=0,Qs=0,$r=0,Zf=0,zn=0,Ga=0,ho=null,Rn=null,Jf=!1,rc=0,Cy=0,ac=1/0,lc=null,Ks=null,Qe=0,Ys=null,Fa=null,ms=0,Wf=0,td=null,Ny=null,fo=0,ed=null;function Bn(){return(Jt&2)!==0&&Ut!==0?Ut&-Ut:G.T!==null?ld():ou()}function Dy(){if(zn===0)if((Ut&536870912)===0||Ht){var e=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),zn=e}else zn=536870912;return e=Ln.current,e!==null&&(e.flags|=32),zn}function xn(e,n,s){(e===oe&&(ee===2||ee===9)||e.cancelPendingCommit!==null)&&(Qa(e,0),Xs(e,Ut,zn,!1)),Ar(e,s),((Jt&2)===0||e!==oe)&&(e===oe&&((Jt&2)===0&&($r|=s),Re===4&&Xs(e,Ut,zn,!1)),zi(e))}function Oy(e,n,s){if((Jt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ri(e,n),h=l?z1(e,n):id(e,n,!0),f=l;do{if(h===0){Ha&&!l&&Xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!P1(s)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=ho;var I=T.current.memoizedState.isDehydrated;if(I&&(Qa(T,g).flags|=256),g=id(T,g,!1),g!==2){if($f&&!I){T.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Qa(e,0),Xs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,zn,!Fs);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Fe(),10<h)){if(Xs(l,n,zn,!Fs),bi(l,0,!0)!==0)break t;ms=n,l.timeoutHandle=u_(My.bind(null,l,s,Rn,lc,Jf,n,zn,$r,Ga,Fs,f,"Throttled",-0,0),h);break t}My(l,s,Rn,lc,Jf,n,zn,$r,Ga,Fs,f,null,-0,0)}}break}while(!0);zi(e)}function My(e,n,s,l,h,f,g,T,I,j,F,X,z,q){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},wy(n,f,X);var ut=(f&62914560)===f?rc-Fe():(f&4194048)===f?Cy-Fe():0;if(ut=bb(X,ut),ut!==null){ms=f,e.cancelPendingCommit=ut(By.bind(null,e,n,f,s,l,h,g,T,I,F,X,null,z,q)),Xs(e,f,g,!j);return}}By(e,n,f,s,l,h,g,T,I)}function P1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(e,n,s,l){n&=~Zf,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-xe(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&wr(e,s,n)}function oc(){return(Jt&6)===0?(mo(0),!1):!0}function nd(){if(Mt!==null){if(ee===0)var e=Mt.return;else e=Mt,is=Br=null,_f(e),Ua=null,Xl=0,e=Mt;for(;e!==null;)cy(e.alternate,e),e=e.return;Mt=null}}function Qa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,sb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ms=0,nd(),oe=e,Mt=s=es(e.current,null),Ut=n,ee=0,jn=null,Fs=!1,Ha=ri(e,n),$f=!1,Ga=zn=Zf=$r=Qs=Re=0,Rn=ho=null,Jf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-xe(l),f=1<<h;n|=e[h],l&=~f}return ds=n,Cu(),s}function Vy(e,n){Ct=null,G.H=io,n===ka||n===Lu?(n=$g(),ee=3):n===af?(n=$g(),ee=4):ee=n===Vf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,Mt===null&&(Re=1,Zu(e,Xn(n,e.current)))}function ky(){var e=Ln.current;return e===null?!0:(Ut&4194048)===Ut?Wn===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?e===Wn:!1}function Uy(){var e=G.H;return G.H=io,e===null?io:e}function Ly(){var e=G.A;return G.A=U1,e}function uc(){Re=4,Fs||(Ut&4194048)!==Ut&&Ln.current!==null||(Ha=!0),(Qs&134217727)===0&&($r&134217727)===0||oe===null||Xs(oe,Ut,zn,!1)}function id(e,n,s){var l=Jt;Jt|=2;var h=Uy(),f=Ly();(oe!==e||Ut!==n)&&(lc=null,Qa(e,n)),n=!1;var g=Re;t:do try{if(ee!==0&&Mt!==null){var T=Mt,I=jn;switch(ee){case 8:nd(),g=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var j=ee;if(ee=0,jn=null,Ka(e,T,I,j),s&&Ha){g=0;break t}break;default:j=ee,ee=0,jn=null,Ka(e,T,I,j)}}j1(),g=Re;break}catch(F){Vy(e,F)}while(!0);return n&&e.shellSuspendCounter++,is=Br=null,Jt=l,G.H=h,G.A=f,Mt===null&&(oe=null,Ut=0,Cu()),g}function j1(){for(;Mt!==null;)Py(Mt)}function z1(e,n){var s=Jt;Jt|=2;var l=Uy(),h=Ly();oe!==e||Ut!==n?(lc=null,ac=Fe()+500,Qa(e,n)):Ha=ri(e,n);t:do try{if(ee!==0&&Mt!==null){n=Mt;var f=jn;e:switch(ee){case 1:ee=0,jn=null,Ka(e,n,f,1);break;case 2:case 9:if(Yg(f)){ee=0,jn=null,jy(n);break}n=function(){ee!==2&&ee!==9||oe!==e||(ee=7),zi(e)},f.then(n,n);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:Yg(f)?(ee=0,jn=null,jy(n)):(ee=0,jn=null,Ka(e,n,f,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var T=Mt;if(g?A_(g):T.stateNode.complete){ee=0,jn=null;var I=T.sibling;if(I!==null)Mt=I;else{var j=T.return;j!==null?(Mt=j,cc(j)):Mt=null}break e}}ee=0,jn=null,Ka(e,n,f,5);break;case 6:ee=0,jn=null,Ka(e,n,f,6);break;case 8:nd(),Re=6;break t;default:throw Error(a(462))}}B1();break}catch(F){Vy(e,F)}while(!0);return is=Br=null,G.H=l,G.A=h,Jt=s,Mt!==null?0:(oe=null,Ut=0,Cu(),Re)}function B1(){for(;Mt!==null&&!qt();)Py(Mt)}function Py(e){var n=oy(e.alternate,e,ds);e.memoizedProps=e.pendingProps,n===null?cc(e):Mt=n}function jy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ny(s,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=ny(s,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:_f(n);default:cy(s,n),n=Mt=Lg(n,ds),n=oy(s,n,ds)}e.memoizedProps=e.pendingProps,n===null?cc(e):Mt=n}function Ka(e,n,s,l){is=Br=null,_f(n),Ua=null,Xl=0;var h=n.return;try{if(C1(e,h,n,s,Ut)){Re=1,Zu(e,Xn(s,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;Re=1,Zu(e,Xn(s,e.current)),Mt=null;return}n.flags&32768?(Ht||l===1?e=!0:Ha||(Ut&536870912)!==0?e=!1:(Fs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Fs);return}e=n.return;var s=O1(n.alternate,n,ds);if(s!==null){Mt=s;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);Re===0&&(Re=5)}function zy(e,n){do{var s=M1(e.alternate,e);if(s!==null){s.flags&=32767,Mt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=s}while(e!==null);Re=6,Mt=null}function By(e,n,s,l,h,f,g,T,I){e.cancelPendingCommit=null;do hc();while(Qe!==0);if((Jt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,kh(e,s,f,g,T,I),e===oe&&(Mt=oe=null,Ut=0),Fa=n,Ys=e,ms=s,Wf=f,td=h,Ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,F1(Oe,function(){return Qy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=st.p,st.p=2,g=Jt,Jt|=4;try{V1(e,n,s)}finally{Jt=g,st.p=h,G.T=l}}Qe=1,qy(),Hy(),Gy()}}function qy(){if(Qe===1){Qe=0;var e=Ys,n=Fa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=st.p;st.p=2;var h=Jt;Jt|=4;try{by(n,e);var f=gd,g=Ig(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&xg(T.ownerDocument.documentElement,T)){if(I!==null&&jh(T)){var j=I.start,F=I.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ut=T.textContent.length,_t=Math.min(I.start,ut),le=I.end===void 0?_t:Math.min(I.end,ut);!q.extend&&_t>le&&(g=le,le=_t,_t=g);var k=Rg(T,_t),D=Rg(T,le);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),_t>le?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(X=[],q=T;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Q=X[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Sc=!!md,gd=md=null}finally{Jt=h,st.p=l,G.T=s}}e.current=n,Qe=2}}function Hy(){if(Qe===2){Qe=0;var e=Ys,n=Fa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=st.p;st.p=2;var h=Jt;Jt|=4;try{yy(e,n.alternate,n)}finally{Jt=h,st.p=l,G.T=s}}Qe=3}}function Gy(){if(Qe===4||Qe===3){Qe=0,Dn();var e=Ys,n=Fa,s=ms,l=Ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Fa=Ys=null,Fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ks=null),Zi(s),n=n.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=st.p,st.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,st.p=h}}(ms&3)!==0&&hc(),zi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ed?fo++:(fo=0,ed=e):fo=0,mo(0)}}function Fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Kl(n)))}function hc(){return qy(),Hy(),Gy(),Qy()}function Qy(){if(Qe!==5)return!1;var e=Ys,n=Wf;Wf=0;var s=Zi(ms),l=G.T,h=st.p;try{st.p=32>s?32:s,G.T=null,s=td,td=null;var f=Ys,g=ms;if(Qe=0,Fa=Ys=null,ms=0,(Jt&6)!==0)throw Error(a(331));var T=Jt;if(Jt|=4,xy(f.current),Ay(f,f.current,g,s),Jt=T,mo(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{st.p=h,G.T=l,Fy(e,n)}}function Ky(e,n,s){n=Xn(s,n),n=Mf(e.stateNode,n,2),e=Bs(e,n,2),e!==null&&(Ar(e,2),zi(e))}function ne(e,n,s){if(e.tag===3)Ky(e,e,s);else for(;n!==null;){if(n.tag===3){Ky(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){e=Xn(s,e),s=Yp(2),l=Bs(n,s,2),l!==null&&(Xp(s,l,n,e),Ar(l,2),zi(l));break}}n=n.return}}function sd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new L1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||($f=!0,h.add(s),e=q1.bind(null,e,n,s),n.then(e,e))}function q1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,oe===e&&(Ut&s)===s&&(Re===4||Re===3&&(Ut&62914560)===Ut&&300>Fe()-rc?(Jt&2)===0&&Qa(e,0):Zf|=s,Ga===Ut&&(Ga=0)),zi(e)}function Yy(e,n){n===0&&(n=lu()),e=Pr(e,n),e!==null&&(Ar(e,n),zi(e))}function H1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(e,s)}function G1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Yy(e,s)}function F1(e,n){return Ot(e,n)}var fc=null,Ya=null,rd=!1,dc=!1,ad=!1,$s=0;function zi(e){e!==Ya&&e.next===null&&(Ya===null?fc=Ya=e:Ya=Ya.next=e),dc=!0,rd||(rd=!0,K1())}function mo(e,n){if(!ad&&dc){ad=!0;do for(var s=!1,l=fc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-xe(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Jy(l,f))}else f=Ut,f=bi(l,l===oe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ri(l,f)||(s=!0,Jy(l,f));l=l.next}while(s);ad=!1}}function Q1(){Xy()}function Xy(){dc=rd=!1;var e=0;$s!==0&&ib()&&(e=$s);for(var n=Fe(),s=null,l=fc;l!==null;){var h=l.next,f=$y(l,n);f===0?(l.next=null,s===null?fc=h:s.next=h,h===null&&(Ya=s)):(s=l,(e!==0||(f&3)!==0)&&(dc=!0)),l=h}Qe!==0&&Qe!==5||mo(e),$s!==0&&($s=0)}function $y(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-xe(f),T=1<<g,I=h[g];I===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Vh(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=oe,s=Ut,s=bi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(ee===2||ee===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Nn(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ri(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Nn(l),Zi(s)){case 2:case 8:s=$i;break;case 32:s=Oe;break;case 268435456:s=Se;break;default:s=Oe}return l=Zy.bind(null,e),s=Ot(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Nn(l),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(hc()&&e.callbackNode!==s)return null;var l=Ut;return l=bi(e,e===oe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Oy(e,l,n),$y(e,Fe()),e.callbackNode!=null&&e.callbackNode===s?Zy.bind(null,e):null)}function Jy(e,n){if(hc())return null;Oy(e,n,!0)}function K1(){rb(function(){(Jt&6)!==0?Ot(si,Q1):Xy()})}function ld(){if($s===0){var e=Ma;e===0&&(e=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),$s=e}return $s}function Wy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function t_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Y1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Wy((h[Xe]||null).action),g=l.submitter;g&&(n=(n=g[Xe]||null)?Wy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Mi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var I=g?t_(h,g):new FormData(h);xf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?t_(h,g):new FormData(h),xf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var od=0;od<Hh.length;od++){var ud=Hh[od],X1=ud.toLowerCase(),$1=ud[0].toUpperCase()+ud.slice(1);di(X1,"on"+$1)}di(Dg,"onAnimationEnd"),di(Og,"onAnimationIteration"),di(Mg,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(f1,"onTransitionRun"),di(d1,"onTransitionStart"),di(m1,"onTransitionCancel"),di(Vg,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(go));function e_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],I=T.instance,j=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(T=l[g],I=T.instance,j=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=j;try{f(h)}catch(F){Iu(F)}h.currentTarget=null,f=I}}}}function Vt(e,n){var s=n[da];s===void 0&&(s=n[da]=new Set);var l=e+"__bubble";s.has(l)||(n_(n,e,2,!1),s.add(l))}function cd(e,n,s){var l=0;n&&(l|=4),n_(s,e,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[mc]){e[mc]=!0,Rl.forEach(function(s){s!=="selectionchange"&&(Z1.has(s)||cd(s,!1,e),cd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,cd("selectionchange",!1,n))}}function n_(e,n,s,l){switch(D_(n)){case 2:var h=wb;break;case 8:h=Rb;break;default:h=Rd}s=h.bind(null,n,s,e),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function fd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ri(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue t}T=T.parentNode}}l=l.return}Ds(function(){var j=f,F=Fn(s),X=[];t:{var z=kg.get(e);if(z!==void 0){var q=Mi,ut=e;switch(e){case"keypress":if(Or(s)===0)break t;case"keydown":case"keyup":q=wu;break;case"focusin":ut="focus",q=Vr;break;case"focusout":ut="blur",q=Vr;break;case"beforeblur":case"afterblur":q=Vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Dg:case Og:case Mg:q=_u;break;case Vg:q=b;break;case"scroll":case"scrollend":q=Pl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ts;break;case"toggle":case"beforetoggle":q=It}var _t=(n&4)!==0,le=!_t&&(e==="scroll"||e==="scrollend"),k=_t?z!==null?z+"Capture":null:z;_t=[];for(var D=j,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||k===null||(Q=ui(D,k),Q!=null&&_t.push(po(D,Q,P))),le)break;D=D.return}0<_t.length&&(z=new q(z,ut,null,s,F),X.push({event:z,listeners:_t}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==kl&&(ut=s.relatedTarget||s.fromElement)&&(Ri(ut)||ut[Ai]))break t;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ut=s.relatedTarget||s.toElement,q=j,ut=ut?Ri(ut):null,ut!==null&&(le=c(ut),_t=ut.tag,ut!==le||_t!==5&&_t!==27&&_t!==6)&&(ut=null)):(q=null,ut=j),q!==ut)){if(_t=jl,Q="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(_t=ts,Q="onPointerLeave",k="onPointerEnter",D="pointer"),le=q==null?z:Mn(q),P=ut==null?z:Mn(ut),z=new _t(Q,D+"leave",q,s,F),z.target=le,z.relatedTarget=P,Q=null,Ri(F)===j&&(_t=new _t(k,D+"enter",ut,s,F),_t.target=P,_t.relatedTarget=le,Q=_t),le=Q,q&&ut)e:{for(_t=J1,k=q,D=ut,P=0,Q=k;Q;Q=_t(Q))P++;Q=0;for(var mt=D;mt;mt=_t(mt))Q++;for(;0<P-Q;)k=_t(k),P--;for(;0<Q-P;)D=_t(D),Q--;for(;P--;){if(k===D||D!==null&&k===D.alternate){_t=k;break e}k=_t(k),D=_t(D)}_t=null}else _t=null;q!==null&&i_(X,z,q,_t,!1),ut!==null&&le!==null&&i_(X,le,ut,_t,!0)}}t:{if(z=j?Mn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Kt=Eg;else if(_g(z))if(Tg)Kt=u1;else{Kt=l1;var ct=a1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ya(j.elementType)&&(Kt=Eg):Kt=o1;if(Kt&&(Kt=Kt(e,j))){vg(X,Kt,s,F);break t}ct&&ct(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Ol(z,"number",z.value)}switch(ct=j?Mn(j):window,e){case"focusin":(_g(ct)||ct.contentEditable==="true")&&(wa=ct,zh=j,Gl=null);break;case"focusout":Gl=zh=wa=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Cg(X,s,F);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":Cg(X,s,F)}var Dt;if(Zt)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Aa?kr(e,s)&&(Lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Lt="onCompositionStart");Lt&&(Ui&&s.locale!=="ko"&&(Aa||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Aa&&(Dt=Ll()):(Oi=F,Ul="value"in Oi?Oi.value:Oi.textContent,Aa=!0)),ct=gc(j,Lt),0<ct.length&&(Lt=new ki(Lt,e,null,s,F),X.push({event:Lt,listeners:ct}),Dt?Lt.data=Dt:(Dt=Sa(s),Dt!==null&&(Lt.data=Dt)))),(Dt=Kn?n1(e,s):i1(e,s))&&(Lt=gc(j,"onBeforeInput"),0<Lt.length&&(ct=new ki("onBeforeInput","beforeinput",null,s,F),X.push({event:ct,listeners:Lt}),ct.data=Dt)),Y1(X,e,j,s,F)}e_(X,n)})}function po(e,n,s){return{instance:e,listener:n,currentTarget:s}}function gc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(e,s),h!=null&&l.unshift(po(e,h,f)),h=ui(e,n),h!=null&&l.push(po(e,h,f))),e.tag===3)return l;e=e.return}return[]}function J1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function i_(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,I=T.alternate,j=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||j===null||(I=j,h?(j=ui(s,f),j!=null&&g.unshift(po(s,j,I))):h||(j=ui(s,f),j!=null&&g.push(po(s,j,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var W1=/\r\n?/g,tb=/\u0000|\uFFFD/g;function s_(e){return(typeof e=="string"?e:""+e).replace(W1,`
`).replace(tb,"")}function r_(e,n){return n=s_(n),s_(e)===n}function ae(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(e,""+l);break;case"className":Vn(e,"class",l);break;case"tabIndex":Vn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(e,s,l);break;case"style":Vl(e,l,f);break;case"data":if(n!=="object"){Vn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=_a(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ae(e,n,"name",h.name,h,null),ae(e,n,"formEncType",h.formEncType,h,null),ae(e,n,"formMethod",h.formMethod,h,null),ae(e,n,"formTarget",h.formTarget,h,null)):(ae(e,n,"encType",h.encType,h,null),ae(e,n,"method",h.method,h,null),ae(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=_a(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=oi);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=_a(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ga(e,"popover",l);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ga(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gu.get(s)||s,ga(e,s,l))}}function dd(e,n,s,l,h,f){switch(s){case"style":Vl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?bn(e,l):(typeof l=="number"||typeof l=="bigint")&&bn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ga(e,s,l)}}}function sn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,f,g,s,null)}}h&&ae(e,n,"srcSet",s.srcSet,s,null),l&&ae(e,n,"src",s.src,s,null);return;case"input":Vt("invalid",e);var T=f=g=h=null,I=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:ae(e,n,l,F,s,null)}}fu(e,f,T,I,j,g,h,!1);return;case"select":Vt("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:ae(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!l,n!=null?xs(e,!!l,n,!1):s!=null&&xs(e,!!l,s,!0);return;case"textarea":Vt("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ae(e,n,g,T,s,null)}Is(e,l,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ae(e,n,I,l,s,null));return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<go.length;l++)Vt(go[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ae(e,n,j,l,s,null)}return;default:if(ya(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&dd(e,n,F,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&ae(e,n,T,l,s,null))}function eb(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,j=null,F=null;for(q in s){var X=s[q];if(s.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(q)||ae(e,n,q,null,l,X)}}for(var z in l){var q=l[z];if(X=s[z],l.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==X&&ae(e,n,z,q,l,X)}}pa(e,g,T,I,j,F,f,h);return;case"select":q=g=T=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||ae(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&ae(e,n,h,f,l,I)}n=T,s=g,l=q,z!=null?xs(e,!!s,z,!1):!!l!=!!s&&(n!=null?xs(e,!!s,n,!0):xs(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ae(e,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ae(e,n,g,h,l,f)}du(e,z,q);return;case"option":for(var ut in s)z=s[ut],s.hasOwnProperty(ut)&&z!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:ae(e,n,ut,null,l,z));for(I in l)z=l[I],q=s[I],l.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ae(e,n,I,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)z=s[_t],s.hasOwnProperty(_t)&&z!=null&&!l.hasOwnProperty(_t)&&ae(e,n,_t,null,l,z);for(j in l)if(z=l[j],q=s[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ae(e,n,j,z,l,q)}return;default:if(ya(n)){for(var le in s)z=s[le],s.hasOwnProperty(le)&&z!==void 0&&!l.hasOwnProperty(le)&&dd(e,n,le,void 0,l,z);for(F in l)z=l[F],q=s[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||dd(e,n,F,z,l,q);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&ae(e,n,k,null,l,z);for(X in l)z=l[X],q=s[X],!l.hasOwnProperty(X)||z===q||z==null&&q==null||ae(e,n,X,z,l,q)}function a_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&a_(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],j=I.startTime;if(j>T)break;var F=I.transferSize,X=I.initiatorType;F&&a_(X)&&(I=I.responseEnd,g+=F*(I<T?1:(T-j)/(I-j)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function pc(e){return e.nodeType===9?e:e.ownerDocument}function l_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function ib(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var u_=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,c_=typeof Promise=="function"?Promise:void 0,rb=typeof queueMicrotask=="function"?queueMicrotask:typeof c_<"u"?function(e){return c_.resolve(null).then(e).catch(ab)}:u_;function ab(e){setTimeout(function(){throw e})}function Zs(e){return e==="head"}function h_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Ja(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")yo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,yo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[wi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&yo(e.ownerDocument.body);s=h}while(s);Ja(n)}function f_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_d(s),ma(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function lb(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[wi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function ob(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ti(e.nextSibling),e===null))return null;return e}function d_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ti(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ub(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ti(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function m_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ti(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function g_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function p_(e,n,s){switch(n=pc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ma(e)}var ei=new Map,y_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gs=st.d;st.d={f:cb,r:hb,D:fb,C:db,L:mb,m:gb,X:yb,S:pb,M:_b};function cb(){var e=gs.f(),n=oc();return e||n}function hb(e){var n=Gn(e);n!==null&&n.tag===5&&n.type==="form"?Vp(n):gs.r(e)}var Xa=typeof document>"u"?null:document;function __(e,n,s){var l=Xa;if(l&&typeof n=="string"&&n){var h=Tn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),y_.has(h)||(y_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),sn(n,"link",e),ke(n),l.head.appendChild(n)))}}function fb(e){gs.D(e),__("dns-prefetch",e,null)}function db(e,n){gs.C(e,n),__("preconnect",e,n)}function mb(e,n,s){gs.L(e,n,s);var l=Xa;if(l&&e&&n){var h='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tn(s.imageSizes)+'"]')):h+='[href="'+Tn(e)+'"]';var f=h;switch(n){case"style":f=$a(e);break;case"script":f=Za(e)}ei.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),ei.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(_o(f))||n==="script"&&l.querySelector(vo(f))||(n=l.createElement("link"),sn(n,"link",e),ke(n),l.head.appendChild(n)))}}function gb(e,n){gs.m(e,n);var s=Xa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(e)}if(!ei.has(f)&&(e=w({rel:"modulepreload",href:e},n),ei.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(vo(f)))return}l=s.createElement("link"),sn(l,"link",e),ke(l),s.head.appendChild(l)}}}function pb(e,n,s){gs.S(e,n,s);var l=Xa;if(l&&e){var h=xi(l).hoistableStyles,f=$a(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(_o(f)))T.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=ei.get(f))&&bd(e,s);var I=g=l.createElement("link");ke(I),sn(I,"link",e),I._p=new Promise(function(j,F){I.onload=j,I.onerror=F}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function yb(e,n){gs.X(e,n);var s=Xa;if(s&&e){var l=xi(s).hoistableScripts,h=Za(e),f=l.get(h);f||(f=s.querySelector(vo(h)),f||(e=w({src:e,async:!0},n),(n=ei.get(h))&&Sd(e,n),f=s.createElement("script"),ke(f),sn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _b(e,n){gs.M(e,n);var s=Xa;if(s&&e){var l=xi(s).hoistableScripts,h=Za(e),f=l.get(h);f||(f=s.querySelector(vo(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=ei.get(h))&&Sd(e,n),f=s.createElement("script"),ke(f),sn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function v_(e,n,s,l){var h=(h=Z.current)?yc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=$a(s.href),s=xi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=$a(s.href);var f=xi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(_o(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ei.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ei.set(e,s),f||vb(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(s),s=xi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function $a(e){return'href="'+Tn(e)+'"'}function _o(e){return'link[rel="stylesheet"]['+e+"]"}function E_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function vb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),sn(n,"link",s),ke(n),e.head.appendChild(n))}function Za(e){return'[src="'+Tn(e)+'"]'}function vo(e){return"script[async]"+e}function T_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(l)return n.instance=l,ke(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ke(l),sn(l,"style",h),_c(l,s.precedence,e),n.instance=l;case"stylesheet":h=$a(s.href);var f=e.querySelector(_o(h));if(f)return n.state.loading|=4,n.instance=f,ke(f),f;l=E_(s),(h=ei.get(h))&&bd(l,h),f=(e.ownerDocument||e).createElement("link"),ke(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),sn(f,"link",l),n.state.loading|=4,_c(f,s.precedence,e),n.instance=f;case"script":return f=Za(s.src),(h=e.querySelector(vo(f)))?(n.instance=h,ke(h),h):(l=s,(h=ei.get(f))&&(l=w({},s),Sd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ke(h),sn(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_c(l,s.precedence,e));return n.instance}function _c(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function b_(e,n,s){if(vc===null){var l=new Map,h=vc=new Map;h.set(s,l)}else h=vc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[wi]||f[Ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function S_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Eb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=$a(l.href),f=n.querySelector(_o(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ke(f);return}f=n.ownerDocument||n,l=E_(l),(h=ei.get(h))&&bd(l,h),f=f.createElement("link"),ke(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),sn(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ec.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function bb(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*nb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(Sb,e),Tc=null,Ec.call(e))}function Sb(e,n){if(!(n.state.loading&4)){var s=Tc.get(e);if(s)var l=s.get(null);else{s=new Map,Tc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Eo={$$typeof:ft,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function Ab(e,n,s,l,h,f,g,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function w_(e,n,s,l,h,f,g,T,I,j,F,X){return e=new Ab(e,n,s,g,I,j,F,X,T),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},lf(f),e}function R_(e){return e?(e=Ia,e):Ia}function x_(e,n,s,l,h,f){h=R_(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Bs(e,l,n),s!==null&&(xn(s,e,n),Zl(s,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function wd(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function C_(e){if(e.tag===13||e.tag===31){var n=Pr(e,67108864);n!==null&&xn(n,e,67108864),wd(e,67108864)}}function N_(e){if(e.tag===13||e.tag===31){var n=Bn();n=Rr(n);var s=Pr(e,n);s!==null&&xn(s,e,n),wd(e,n)}}var Sc=!0;function wb(e,n,s,l){var h=G.T;G.T=null;var f=st.p;try{st.p=2,Rd(e,n,s,l)}finally{st.p=f,G.T=h}}function Rb(e,n,s,l){var h=G.T;G.T=null;var f=st.p;try{st.p=8,Rd(e,n,s,l)}finally{st.p=f,G.T=h}}function Rd(e,n,s,l){if(Sc){var h=xd(l);if(h===null)fd(e,n,l,Ac,s),O_(e,l);else if(Ib(h,e,n,s,l))l.stopPropagation();else if(O_(e,l),n&4&&-1<xb.indexOf(e)){for(;h!==null;){var f=Gn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ti(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-xe(g);T.entanglements[1]|=I,g&=~I}zi(f),(Jt&6)===0&&(ac=Fe()+500,mo(0))}}break;case 31:case 13:T=Pr(f,2),T!==null&&xn(T,f,2),oc(),wd(f,2)}if(f=xd(l),f===null&&fd(e,n,l,Ac,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else fd(e,n,l,null,s)}}function xd(e){return e=Fn(e),Id(e)}var Ac=null;function Id(e){if(Ac=null,e=Ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function D_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vi()){case si:return 2;case $i:return 8;case Oe:case At:return 32;case Se:return 268435456;default:return 32}default:return 32}}var Cd=!1,Js=null,Ws=null,tr=null,To=new Map,bo=new Map,er=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(e,n){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":To.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function So(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Gn(n),n!==null&&C_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Ib(e,n,s,l,h){switch(n){case"focusin":return Js=So(Js,e,n,s,l,h),!0;case"dragenter":return Ws=So(Ws,e,n,s,l,h),!0;case"mouseover":return tr=So(tr,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return To.set(f,So(To.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,bo.set(f,So(bo.get(f)||null,e,n,s,l,h)),!0}return!1}function M_(e){var n=Ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ai(e.priority,function(){N_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,ai(e.priority,function(){N_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=xd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);kl=l,s.target.dispatchEvent(l),kl=null}else return n=Gn(s),n!==null&&C_(n),e.blockedOn=s,!1;n.shift()}return!0}function V_(e,n,s){wc(e)&&s.delete(n)}function Cb(){Cd=!1,Js!==null&&wc(Js)&&(Js=null),Ws!==null&&wc(Ws)&&(Ws=null),tr!==null&&wc(tr)&&(tr=null),To.forEach(V_),bo.forEach(V_)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cb)))}var xc=null;function k_(e){xc!==e&&(xc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Id(l||s)===null)continue;break}var f=Gn(s);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ja(e){function n(I){return Rc(I,e)}Js!==null&&Rc(Js,e),Ws!==null&&Rc(Ws,e),tr!==null&&Rc(tr,e),To.forEach(n),bo.forEach(n);for(var s=0;s<er.length;s++){var l=er[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<er.length&&(s=er[0],s.blockedOn===null);)M_(s),s.blockedOn===null&&er.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Xe]||null;if(typeof f=="function")g||k_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Xe]||null)T=g.formAction;else if(Id(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),k_(s)}}}function U_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}Ic.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Bn();x_(s,l,e,n,null,null)},Ic.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x_(e.current,2,null,e,null,null),oc(),n[Ai]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var s=0;s<er.length&&n!==0&&n<er[s].priority;s++);er.splice(s,0,e),s===0&&M_(e)}};var L_=t.version;if(L_!=="19.2.3")throw Error(a(527,L_,"19.2.3"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Nb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{On=Cc.inject(Nb),Ae=Cc}catch{}}return wo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Gp,f=Fp,g=Qp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=w_(e,1,!1,null,null,s,l,null,h,f,g,U_),e[Ai]=n.current,hd(e),new Nd(n)},wo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Gp,g=Fp,T=Qp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=w_(e,1,!0,n,s??null,l,h,I,f,g,T,U_),n.context=R_(null),s=n.current,l=Bn(),l=Rr(l),h=zs(l),h.callback=null,Bs(s,h,l),s=l,n.current.lanes=s,Ar(n,s),zi(n),e[Ai]=n.current,hd(e),new Ic(n)},wo.version="19.2.3",wo}var Y_;function Bb(){if(Y_)return Md.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=zb(),Md.exports}var qb=Bb();const Hb=()=>{};var X_={};const Nv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Gb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,E=c>>2,w=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,H=_&63;y||(H=64,d||(M=64)),a.push(i[E],i[w],i[M],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Nv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Gb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||w==null)throw new Fb;const M=c<<2|p>>4;if(a.push(M),_!==64){const H=p<<4&240|_>>2;if(a.push(H),w!==64){const tt=_<<6&192|w;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qb=function(r){const t=Nv(r);return Dv.encodeByteArray(t,!0)},Xc=function(r){return Qb(r).replace(/\./g,"")},Ov=function(r){try{return Dv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Kb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Yb=()=>Kb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof X_>"u")return;const r=X_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$b=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Ov(r[1]);return t&&JSON.parse(t)},mh=()=>{try{return Hb()||Yb()||Xb()||$b()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Mv=r=>mh()?.emulatorHosts?.[r],Zb=r=>{const t=Mv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Vv=()=>mh()?.config,kv=r=>mh()?.[`_${r}`];class Jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(r){return(await fetch(r,{credentials:"include"})).ok}function Wb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const No={};function tS(){const r={prod:[],emulator:[]};for(const t of Object.keys(No))No[t]?r.emulator.push(t):r.prod.push(t);return r}function eS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let $_=!1;function Lv(r,t){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||No[r]===t||No[r]||$_)return;No[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=tS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{$_=!0,d()},M}function E(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=eS(a),H=i("text"),tt=document.getElementById(H)||document.createElement("span"),nt=i("learnmore"),W=document.getElementById(nt)||document.createElement("a"),gt=i("preprendIcon"),Tt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ft=M.element;p(ft),E(W,nt);const Ft=_();y(Tt,gt),ft.append(Tt,tt,W,Ft),document.body.appendChild(ft)}c?(tt.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function iS(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lS(){const r=gn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oS(){return!iS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uS(){try{return typeof indexedDB=="object"}catch{return!1}}function cS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const hS="FirebaseError";class ws extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=hS,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?fS(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ws(o,p,a)}}function fS(r,t){return r.replace(dS,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const dS=/\{\$([^}]+)}/g;function mS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function mr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(Z_(c)&&Z_(d)){if(!mr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Z_(r){return r!==null&&typeof r=="object"}function Qo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function gS(r,t){const i=new pS(r,t);return i.subscribe.bind(i)}class pS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yS(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function vn(r){return r&&r._delegate?r._delegate:r}class na{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Jr="[DEFAULT]";class _S{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Jb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ES(t))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Jr){return this.instances.has(t)}getOptions(t=Jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Jr){return this.component?this.component.multipleInstances?t:Jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(r){return r===Jr?void 0:r}function ES(r){return r.instantiationMode==="EAGER"}class TS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _S(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const bS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},SS=Pt.INFO,AS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},wS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=AS[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Im{constructor(t){this.name=t,this._logLevel=SS,this._logHandler=wS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const RS=(r,t)=>t.some(i=>r instanceof i);let J_,W_;function xS(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,Jd=new WeakMap,jv=new WeakMap,Pd=new WeakMap,Cm=new WeakMap;function CS(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ur(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Pv.set(i,r)}).catch(()=>{}),Cm.set(t,r),t}function NS(r){if(Jd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,t)}let Wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||jv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DS(r){Wd=r(Wd)}function OS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(jd(this),t,...i);return jv.set(a,t.sort?t.sort():[t]),ur(a)}:IS().includes(r)?function(...t){return r.apply(jd(this),t),ur(Pv.get(this))}:function(...t){return ur(r.apply(jd(this),t))}}function MS(r){return typeof r=="function"?OS(r):(r instanceof IDBTransaction&&NS(r),RS(r,xS())?new Proxy(r,Wd):r)}function ur(r){if(r instanceof IDBRequest)return CS(r);if(Pd.has(r))return Pd.get(r);const t=MS(r);return t!==r&&(Pd.set(r,t),Cm.set(t,r)),t}const jd=r=>Cm.get(r);function VS(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=ur(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ur(d.result),y.oldVersion,y.newVersion,ur(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const kS=["get","getKey","getAll","getAllKeys","count"],US=["put","add","delete","clear"],zd=new Map;function t0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=US.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||kS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return zd.set(t,c),c}DS(r=>({...r,get:(t,i,a)=>t0(t,i)||r.get(t,i,a),has:(t,i)=>!!t0(t,i)||r.has(t,i)}));class LS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function PS(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",e0="0.14.6";const vs=new Im("@firebase/app"),jS="@firebase/app-compat",zS="@firebase/analytics-compat",BS="@firebase/analytics",qS="@firebase/app-check-compat",HS="@firebase/app-check",GS="@firebase/auth",FS="@firebase/auth-compat",QS="@firebase/database",KS="@firebase/data-connect",YS="@firebase/database-compat",XS="@firebase/functions",$S="@firebase/functions-compat",ZS="@firebase/installations",JS="@firebase/installations-compat",WS="@firebase/messaging",tA="@firebase/messaging-compat",eA="@firebase/performance",nA="@firebase/performance-compat",iA="@firebase/remote-config",sA="@firebase/remote-config-compat",rA="@firebase/storage",aA="@firebase/storage-compat",lA="@firebase/firestore",oA="@firebase/ai",uA="@firebase/firestore-compat",cA="firebase",hA="12.6.0";const em="[DEFAULT]",fA={[tm]:"fire-core",[jS]:"fire-core-compat",[BS]:"fire-analytics",[zS]:"fire-analytics-compat",[HS]:"fire-app-check",[qS]:"fire-app-check-compat",[GS]:"fire-auth",[FS]:"fire-auth-compat",[QS]:"fire-rtdb",[KS]:"fire-data-connect",[YS]:"fire-rtdb-compat",[XS]:"fire-fn",[$S]:"fire-fn-compat",[ZS]:"fire-iid",[JS]:"fire-iid-compat",[WS]:"fire-fcm",[tA]:"fire-fcm-compat",[eA]:"fire-perf",[nA]:"fire-perf-compat",[iA]:"fire-rc",[sA]:"fire-rc-compat",[rA]:"fire-gcs",[aA]:"fire-gcs-compat",[lA]:"fire-fst",[uA]:"fire-fst-compat",[oA]:"fire-vertex","fire-js":"fire-js",[cA]:"fire-js-all"};const $c=new Map,dA=new Map,nm=new Map;function n0(r,t){try{r.container.addComponent(t)}catch(i){vs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ul(r){const t=r.name;if(nm.has(t))return vs.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,r);for(const i of $c.values())n0(i,r);for(const i of dA.values())n0(i,r);return!0}function Nm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ni(r){return r==null?!1:r.settings!==void 0}const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Fo("app","Firebase",mA);class gA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const _l=hA;function zv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(i||(i=Vv()),!i)throw cr.create("no-options");const c=$c.get(o);if(c){if(mr(i,c.options)&&mr(a,c.config))return c;throw cr.create("duplicate-app",{appName:o})}const d=new TS(o);for(const y of nm.values())d.addComponent(y);const p=new gA(i,a,d);return $c.set(o,p),p}function Bv(r=em){const t=$c.get(r);if(!t&&r===em&&Vv())return zv();if(!t)throw cr.create("no-app",{appName:r});return t}function hr(r,t,i){let a=fA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}ul(new na(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const pA="firebase-heartbeat-database",yA=1,Uo="firebase-heartbeat-store";let Bd=null;function qv(){return Bd||(Bd=VS(pA,yA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Uo)}catch(i){console.warn(i)}}}}).catch(r=>{throw cr.create("idb-open",{originalErrorMessage:r.message})})),Bd}async function _A(r){try{const i=(await qv()).transaction(Uo),a=await i.objectStore(Uo).get(Hv(r));return await i.done,a}catch(t){if(t instanceof ws)vs.warn(t.message);else{const i=cr.create("idb-get",{originalErrorMessage:t?.message});vs.warn(i.message)}}}async function i0(r,t){try{const a=(await qv()).transaction(Uo,"readwrite");await a.objectStore(Uo).put(t,Hv(r)),await a.done}catch(i){if(i instanceof ws)vs.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i?.message});vs.warn(a.message)}}}function Hv(r){return`${r.name}!${r.options.appId}`}const vA=1024,EA=30;class TA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new SA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>EA){const o=AA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){vs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=s0(),{heartbeatsToSend:i,unsentEntries:a}=bA(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return vs.warn(t),""}}}function s0(){return new Date().toISOString().substring(0,10)}function bA(r,t=vA){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),r0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),r0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class SA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uS()?cS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _A(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return i0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return i0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function r0(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function AA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function wA(r){ul(new na("platform-logger",t=>new LS(t),"PRIVATE")),ul(new na("heartbeat",t=>new TA(t),"PRIVATE")),hr(tm,e0,r),hr(tm,e0,"esm2020"),hr("fire-js","")}wA("");var RA="firebase",xA="12.7.0";hr(RA,xA,"app");function Gv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const IA=Gv,Fv=new Fo("auth","Firebase",Gv());const Zc=new Im("@firebase/auth");function CA(r,...t){Zc.logLevel<=Pt.WARN&&Zc.warn(`Auth (${_l}): ${r}`,...t)}function jc(r,...t){Zc.logLevel<=Pt.ERROR&&Zc.error(`Auth (${_l}): ${r}`,...t)}function Es(r,...t){throw Dm(r,...t)}function qi(r,...t){return Dm(r,...t)}function Qv(r,t,i){const a={...IA(),[t]:i};return new Fo("auth","Firebase",a).create(t,{appName:r.name})}function _s(r){return Qv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Fv.create(r,...t)}function Et(r,t,...i){if(!r)throw Dm(t,...i)}function ps(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function Ts(r,t){r||ps(t)}function im(){return typeof self<"u"&&self.location?.href||""}function NA(){return a0()==="http:"||a0()==="https:"}function a0(){return typeof self<"u"&&self.location?.protocol||null}function DA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NA()||rS()||"connection"in navigator)?navigator.onLine:!0}function OA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ko{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ts(i>t,"Short delay should be less than long delay!"),this.isMobile=nS()||aS()}get(){return DA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(r,t){Ts(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Kv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const MA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const VA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kA=new Ko(3e4,6e4);function Yo(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function vl(r,t,i,a,o={}){return Yv(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Qo({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return sS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&yl(r.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(await Xv(r,r.config.apiHost,i,p),_)})}async function Yv(r,t,i){r._canInitEmulator=!1;const a={...MA,...t};try{const o=new UA(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Qv(r,E,_);Es(r,E)}}catch(o){if(o instanceof ws)throw o;Es(r,"network-request-failed",{message:String(o)})}}async function Mm(r,t,i,a,o={}){const c=await vl(r,t,i,a,o);return"mfaPendingCredential"in c&&Es(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Xv(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Om(r.config,o):`${r.config.apiScheme}://${o}`;return VA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class UA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(qi(this.auth,"network-request-failed")),kA.get())})}}function Nc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=qi(r,t,a);return o.customData._tokenResponse=i,o}async function LA(r,t){return vl(r,"POST","/v1/accounts:delete",t)}async function Jc(r,t){return vl(r,"POST","/v1/accounts:lookup",t)}function Do(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PA(r,t=!1){const i=vn(r),a=await i.getIdToken(t),o=Vm(a);Et(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Do(qd(o.auth_time)),issuedAtTime:Do(qd(o.iat)),expirationTime:Do(qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(r){return Number(r)*1e3}function Vm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Ov(i);return o?JSON.parse(o):(jc("Failed to decode base64 JWT payload"),null)}catch(o){return jc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function l0(r){const t=Vm(r);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Lo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ws&&jA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function jA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class zA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(r){const t=r.auth,i=await r.getIdToken(),a=await Lo(r,Jc(t,{idToken:i}));Et(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?$v(o.providerUserInfo):[],d=qA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=p?y:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function BA(r){const t=vn(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qA(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function $v(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HA(r,t){const i=await Yv(r,{},async()=>{const a=Qo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await Xv(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&yl(r.emulatorConfig.host)&&(y.credentials="include"),Kv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function GA(r,t){return vl(r,"POST","/v2/accounts:revokeToken",Yo(r,t))}class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):l0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const i=l0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await HA(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new sl;return a&&(Et(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Et(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Et(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return ps("not implemented")}}function ir(r,t){Et(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new zA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Lo(this,this.stsTokenManager.getToken(this.auth,t));return Et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return PA(this,t)}reload(){return BA(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(_s(this.auth));const t=await this.getIdToken();return await Lo(this,LA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:H,providerData:tt,stsTokenManager:nt}=i;Et(w&&nt,t,"internal-error");const W=sl.fromJSON(this.name,nt);Et(typeof w=="string",t,"internal-error"),ir(a,t.name),ir(o,t.name),Et(typeof M=="boolean",t,"internal-error"),Et(typeof H=="boolean",t,"internal-error"),ir(c,t.name),ir(d,t.name),ir(p,t.name),ir(y,t.name),ir(_,t.name),ir(E,t.name);const gt=new pi({uid:w,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:E});return tt&&Array.isArray(tt)&&(gt.providerData=tt.map(Tt=>({...Tt}))),y&&(gt._redirectEventId=y),gt}static async _fromIdTokenResponse(t,i,a=!1){const o=new sl;o.updateFromServerResponse(i);const c=new pi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Et(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?$v(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new sl;p.updateFromIdToken(a);const y=new pi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const o0=new Map;function ys(r){Ts(r instanceof Function,"Expected a class definition");let t=o0.get(r);return t?(Ts(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,o0.set(r,t),t)}class Zv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Zv.type="NONE";const u0=Zv;function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class rl{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,c),this.fullPersistenceKey=zc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Jc(this.auth,{idToken:t}).catch(()=>{});return i?pi._fromGetAccountInfoResponse(this.auth,i,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new rl(ys(u0),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ys(u0);const d=zc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let w;if(typeof E=="string"){const M=await Jc(t,{idToken:E}).catch(()=>{});if(!M)break;w=await pi._fromGetAccountInfoResponse(t,M,E)}else w=pi._fromJSON(t,E);_!==c&&(p=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new rl(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new rl(c,t,a))}}function c0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Jv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iE(t))return"Blackberry";if(sE(t))return"Webos";if(Wv(t))return"Safari";if((t.includes("chrome/")||tE(t))&&!t.includes("edge/"))return"Chrome";if(nE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Jv(r=gn()){return/firefox\//i.test(r)}function Wv(r=gn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tE(r=gn()){return/crios\//i.test(r)}function eE(r=gn()){return/iemobile/i.test(r)}function nE(r=gn()){return/android/i.test(r)}function iE(r=gn()){return/blackberry/i.test(r)}function sE(r=gn()){return/webos/i.test(r)}function km(r=gn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FA(r=gn()){return km(r)&&!!window.navigator?.standalone}function QA(){return lS()&&document.documentMode===10}function rE(r=gn()){return km(r)||nE(r)||sE(r)||iE(r)||/windows phone/i.test(r)||eE(r)}function aE(r,t=[]){let i;switch(r){case"Browser":i=c0(gn());break;case"Worker":i=`${c0(gn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${_l}/${a}`}class KA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function YA(r,t={}){return vl(r,"GET","/v2/passwordPolicy",Yo(r,t))}const XA=6;class $A{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ZA{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new KA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Jc(this,{idToken:t}),a=await pi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=OA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(_s(this));const i=t?vn(t):null;return i&&Et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YA(this),i=new $A(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await GA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ys(t)||this._popupRedirectResolver;Et(i,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xo(r){return vn(r)}class h0{constructor(t){this.auth=t,this.observer=null,this.addObserver=gS(i=>this.observer=i)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JA(r){Um=r}function WA(r){return Um.loadJS(r)}function tw(){return Um.gapiScript}function ew(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function nw(r,t){const i=Nm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(mr(c,t??{}))return o;Es(o,"already-initialized")}return i.initialize({options:t})}function iw(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ys);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function sw(r,t,i){const a=Xo(r);Et(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=lE(t),{host:d,port:p}=rw(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Et(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Et(mr(_,a.config.emulator)&&mr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,yl(d)?(Uv(`${c}//${d}${y}`),Lv("Auth",!0)):aw()}function lE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function rw(r){const t=lE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:f0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:f0(d)}}}function f0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function aw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class oE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,i){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}async function al(r,t){return Mm(r,"POST","/v1/accounts:signInWithIdp",Yo(r,t))}const lw="http://localhost";class ia extends oE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ia(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return al(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,al(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,al(t,i)}buildRequest(){const t={requestUri:lw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Qo(i)}return t}}class uE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $o extends uE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class sr extends $o{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ia._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends $o{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class lr extends $o{constructor(){super("twitter.com")}static credential(t,i){return ia._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function ow(r,t){return Mm(r,"POST","/v1/accounts:signUp",Yo(r,t))}class bs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await pi._fromIdTokenResponse(t,a,o),d=d0(a);return new bs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=d0(a);return new bs({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function d0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function uw(r){if(ni(r.app))return Promise.reject(_s(r));const t=Xo(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new bs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ow(t,{returnSecureToken:!0}),a=await bs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class th extends ws{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new th(t,i,a,o)}}function cE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,c,t,a):c})}async function cw(r,t,i=!1){const a=await Lo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return bs._forOperation(r,"link",a)}async function hw(r,t,i=!1){const{auth:a}=r;if(ni(a.app))return Promise.reject(_s(a));const o="reauthenticate";try{const c=await Lo(r,cE(a,o,t,r),i);Et(c.idToken,a,"internal-error");const d=Vm(c.idToken);Et(d,a,"internal-error");const{sub:p}=d;return Et(r.uid===p,a,"user-mismatch"),bs._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Es(a,"user-mismatch"),c}}async function fw(r,t,i=!1){if(ni(r.app))return Promise.reject(_s(r));const a="signIn",o=await cE(r,a,t),c=await bs._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function dw(r,t){return Mm(r,"POST","/v1/accounts:signInWithCustomToken",Yo(r,t))}async function mw(r,t){if(ni(r.app))return Promise.reject(_s(r));const i=Xo(r),a=await dw(i,{token:t,returnSecureToken:!0}),o=await bs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function gw(r,t,i,a){return vn(r).onIdTokenChanged(t,i,a)}function pw(r,t,i){return vn(r).beforeAuthStateChanged(t,i)}function yw(r,t,i,a){return vn(r).onAuthStateChanged(t,i,a)}const eh="__sak";class hE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const _w=1e3,vw=10;class fE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);QA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,vw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},_w)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}fE.type="LOCAL";const Ew=fE;class dE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}dE.type="SESSION";const mE=dE;function Tw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new gh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await Tw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gh.receivers=[];function Lm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class bw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Lm("",20);o.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function Sw(r){Hi().location.href=r}function gE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function Aw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ww(){return navigator?.serviceWorker?.controller||null}function Rw(){return gE()?self:null}const pE="firebaseLocalStorageDb",xw=1,nh="firebaseLocalStorage",yE="fbase_key";class Zo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ph(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function Iw(){const r=indexedDB.deleteDatabase(pE);return new Zo(r).toPromise()}function rm(){const r=indexedDB.open(pE,xw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(nh,{keyPath:yE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(nh)?t(a):(a.close(),await Iw(),t(await rm()))})})}async function m0(r,t,i){const a=ph(r,!0).put({[yE]:t,value:i});return new Zo(a).toPromise()}async function Cw(r,t){const i=ph(r,!1).get(t),a=await new Zo(i).toPromise();return a===void 0?null:a.value}function g0(r,t){const i=ph(r,!0).delete(t);return new Zo(i).toPromise()}const Nw=800,Dw=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Dw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gh._getInstance(Rw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Aw(),!this.activeServiceWorker)return;this.sender=new bw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ww()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await m0(t,eh,"1"),await g0(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>m0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Cw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>g0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=ph(o,!1).getAll();return new Zo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const Ow=_E;new Ko(3e4,6e4);function Mw(r,t){return t?ys(t):(Et(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Pm extends oE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return al(t,this._buildIdpRequest())}_linkToIdToken(t,i){return al(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return al(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Vw(r){return fw(r.auth,new Pm(r),r.bypassAuthState)}function kw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),hw(i,new Pm(r),r.bypassAuthState)}async function Uw(r){const{auth:t,user:i}=r;return Et(i,t,"internal-error"),cw(i,new Pm(r),r.bypassAuthState)}class vE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Vw;case"linkViaPopup":case"linkViaRedirect":return Uw;case"reauthViaPopup":case"reauthViaRedirect":return kw;default:Es(this.auth,"internal-error")}}resolve(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Lw=new Ko(2e3,1e4);class il extends vE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lw.get())};t()}}il.currentPopupAction=null;const Pw="pendingRedirect",Bc=new Map;class jw extends vE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const a=await zw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zw(r,t){const i=Hw(t),a=qw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Bw(r,t){Bc.set(r._key(),t)}function qw(r){return ys(r._redirectPersistence)}function Hw(r){return zc(Pw,r.config.apiKey,r.name)}async function Gw(r,t,i=!1){if(ni(r.app))return Promise.reject(_s(r));const a=Xo(r),o=Mw(a,t),d=await new jw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Fw=600*1e3;class Qw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Kw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!EE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Fw&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(t))}saveEventToCache(t){this.cachedEventUids.add(p0(t)),this.lastProcessedEventTime=Date.now()}}function p0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function EE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Kw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EE(r);default:return!1}}async function Yw(r,t={}){return vl(r,"GET","/v1/projects",t)}const Xw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$w=/^https?/;async function Zw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Yw(r);for(const i of t)try{if(Jw(i))return}catch{}Es(r,"unauthorized-domain")}function Jw(r){const t=im(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$w.test(i))return!1;if(Xw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Ww=new Ko(3e4,6e4);function y0(){const r=Hi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function t2(r){return new Promise((t,i)=>{function a(){y0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{y0(),i(qi(r,"network-request-failed"))},timeout:Ww.get()})}if(Hi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=ew("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(qi(r,"network-request-failed"))},WA(`${tw()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function e2(r){return qc=qc||t2(r),qc}const n2=new Ko(5e3,15e3),i2="__/auth/iframe",s2="emulator/auth/iframe",r2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l2(r){const t=r.config;Et(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Om(t,s2):`https://${r.config.authDomain}/${i2}`,a={apiKey:t.apiKey,appName:r.name,v:_l},o=a2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Qo(a).slice(1)}`}async function o2(r){const t=await e2(r),i=Hi().gapi;return Et(i,r,"internal-error"),t.open({where:document.body,url:l2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=qi(r,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},n2.get());function y(){Hi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const u2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c2=500,h2=600,f2="_blank",d2="http://localhost";class _0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m2(r,t,i,a=c2,o=h2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...u2,width:a.toString(),height:o.toString(),top:c,left:d},_=gn().toLowerCase();i&&(p=tE(_)?f2:i),Jv(_)&&(t=t||d2,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[H,tt])=>`${M}${H}=${tt},`,"");if(FA(_)&&p!=="_self")return g2(t||"",p),new _0(null);const w=window.open(t||"",p,E);Et(w,r,"popup-blocked");try{w.focus()}catch{}return new _0(w)}function g2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const p2="__/auth/handler",y2="emulator/auth/handler",_2=encodeURIComponent("fac");async function v0(r,t,i,a,o,c){Et(r.config.authDomain,r,"auth-domain-config-required"),Et(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:_l,eventId:o};if(t instanceof uE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",mS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(t instanceof $o){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${_2}=${encodeURIComponent(y)}`:"";return`${v2(r)}?${Qo(p).slice(1)}${_}`}function v2({config:r}){return r.emulator?Om(r,y2):`https://${r.authDomain}/${p2}`}const Hd="webStorageSupport";class E2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mE,this._completeRedirectFn=Gw,this._overrideRedirectResult=Bw}async _openPopup(t,i,a,o){Ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await v0(t,i,a,im(),o);return m2(t,c,Lm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await v0(t,i,a,im(),o);return Sw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await o2(t),a=new Qw(t);return i.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),Es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Zw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return rE()||Wv()||km()}}const T2=E2;var E0="@firebase/auth",T0="1.12.0";class b2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function S2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A2(r){ul(new na("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Et(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(r)},_=new ZA(a,o,c,y);return iw(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ul(new na("auth-internal",t=>{const i=Xo(t.getProvider("auth").getImmediate());return(a=>new b2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(E0,T0,S2(r)),hr(E0,T0,"esm2020")}const w2=300,R2=kv("authIdTokenMaxAge")||w2;let b0=null;const x2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>R2)return;const o=i?.token;b0!==o&&(b0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function I2(r=Bv()){const t=Nm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=nw(r,{popupRedirectResolver:T2,persistence:[Ow,Ew,mE]}),a=kv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=x2(c.toString());pw(i,d,()=>d(i.currentUser)),gw(i,p=>d(p))}}const o=Mv("auth");return o&&sw(i,`http://${o}`),i}function C2(){return document.getElementsByTagName("head")?.[0]??document}JA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=qi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",C2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A2("Browser");var S0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,TE;(function(){var r;function t(C,A){function x(){}x.prototype=A.prototype,C.F=A.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(V,N,U){for(var R=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)R[ue-2]=arguments[ue];return A.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,x){x||(x=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=C.g[0],x=C.g[1],N=C.g[2];let U=C.g[3],R;R=A+(U^x&(N^U))+V[0]+3614090360&4294967295,A=x+(R<<7&4294967295|R>>>25),R=U+(N^A&(x^N))+V[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(x^U&(A^x))+V[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(A^N&(U^A))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(U^x&(N^U))+V[4]+4118548399&4294967295,A=x+(R<<7&4294967295|R>>>25),R=U+(N^A&(x^N))+V[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(x^U&(A^x))+V[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(A^N&(U^A))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(U^x&(N^U))+V[8]+1770035416&4294967295,A=x+(R<<7&4294967295|R>>>25),R=U+(N^A&(x^N))+V[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(x^U&(A^x))+V[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(A^N&(U^A))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(U^x&(N^U))+V[12]+1804603682&4294967295,A=x+(R<<7&4294967295|R>>>25),R=U+(N^A&(x^N))+V[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=N+(x^U&(A^x))+V[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=x+(A^N&(U^A))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=A+(N^U&(x^N))+V[1]+4129170786&4294967295,A=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(A^x))+V[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(U^A))+V[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^A&(N^U))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(x^N))+V[5]+3593408605&4294967295,A=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(A^x))+V[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(U^A))+V[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^A&(N^U))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(x^N))+V[9]+568446438&4294967295,A=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(A^x))+V[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(U^A))+V[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^A&(N^U))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(N^U&(x^N))+V[13]+2850285829&4294967295,A=x+(R<<5&4294967295|R>>>27),R=U+(x^N&(A^x))+V[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=N+(A^x&(U^A))+V[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=x+(U^A&(N^U))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=A+(x^N^U)+V[5]+4294588738&4294967295,A=x+(R<<4&4294967295|R>>>28),R=U+(A^x^N)+V[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^x)+V[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^A)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^U)+V[1]+2763975236&4294967295,A=x+(R<<4&4294967295|R>>>28),R=U+(A^x^N)+V[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^x)+V[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^A)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^U)+V[13]+681279174&4294967295,A=x+(R<<4&4294967295|R>>>28),R=U+(A^x^N)+V[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^x)+V[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^A)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(x^N^U)+V[9]+3654602809&4294967295,A=x+(R<<4&4294967295|R>>>28),R=U+(A^x^N)+V[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=N+(U^A^x)+V[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=x+(N^U^A)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=A+(N^(x|~U))+V[0]+4096336452&4294967295,A=x+(R<<6&4294967295|R>>>26),R=U+(x^(A|~N))+V[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~x))+V[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~A))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~U))+V[12]+1700485571&4294967295,A=x+(R<<6&4294967295|R>>>26),R=U+(x^(A|~N))+V[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~x))+V[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~A))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~U))+V[8]+1873313359&4294967295,A=x+(R<<6&4294967295|R>>>26),R=U+(x^(A|~N))+V[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~x))+V[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~A))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=A+(N^(x|~U))+V[4]+4149444226&4294967295,A=x+(R<<6&4294967295|R>>>26),R=U+(x^(A|~N))+V[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=N+(A^(U|~x))+V[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=x+(U^(N|~A))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,A){A===void 0&&(A=C.length);const x=A-this.blockSize,V=this.C;let N=this.h,U=0;for(;U<A;){if(N==0)for(;U<=x;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(V[N++]=C.charCodeAt(U++),N==this.blockSize){o(this,V),N=0;break}}else for(;U<A;)if(V[N++]=C[U++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)C[A++]=this.g[x]>>>V&255;return C};function c(C,A){var x=p;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=A(C)}function d(C,A){this.h=A;const x=[];let V=!0;for(let N=C.length-1;N>=0;N--){const U=C[N]|0;V&&U==A||(x[N]=U,V=!1)}this.g=x}var p={};function y(C){return-128<=C&&C<128?c(C,function(A){return new d([A|0],A<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return W(_(-C));const A=[];let x=1;for(let V=0;C>=x;V++)A[V]=C/x|0,x*=4294967296;return new d(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return W(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(A,8));let V=w;for(let U=0;U<C.length;U+=8){var N=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+N),A);N<8?(N=_(Math.pow(A,N)),V=V.j(N).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var w=y(0),M=y(1),H=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-W(this).m();let C=0,A=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);C+=(V>=0?V:4294967296+V)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(nt(this))return"-"+W(this).toString(C);const A=_(Math.pow(C,6));var x=this;let V="";for(;;){const N=Ft(x,A).g;x=gt(x,N.j(A));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=N,tt(x))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function nt(C){return C.h==-1}r.l=function(C){return C=gt(this,C),nt(C)?-1:tt(C)?0:1};function W(C){const A=C.g.length,x=[];for(let V=0;V<A;V++)x[V]=~C.g[V];return new d(x,~C.h).add(M)}r.abs=function(){return nt(this)?W(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),x=[];let V=0;for(let N=0;N<=A;N++){let U=V+(this.i(N)&65535)+(C.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);V=R>>>16,U&=65535,R&=65535,x[N]=R<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function gt(C,A){return C.add(W(A))}r.j=function(C){if(tt(this)||tt(C))return w;if(nt(this))return nt(C)?W(this).j(W(C)):W(W(this).j(C));if(nt(C))return W(this.j(W(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const A=this.g.length+C.g.length,x=[];for(var V=0;V<2*A;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<C.g.length;N++){const U=this.i(V)>>>16,R=this.i(V)&65535,ue=C.i(N)>>>16,be=C.i(N)&65535;x[2*V+2*N]+=R*be,Tt(x,2*V+2*N),x[2*V+2*N+1]+=U*be,Tt(x,2*V+2*N+1),x[2*V+2*N+1]+=R*ue,Tt(x,2*V+2*N+1),x[2*V+2*N+2]+=U*ue,Tt(x,2*V+2*N+2)}for(C=0;C<A;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=A;C<2*A;C++)x[C]=0;return new d(x,0)};function Tt(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function ft(C,A){this.g=C,this.h=A}function Ft(C,A){if(tt(A))throw Error("division by zero");if(tt(C))return new ft(w,w);if(nt(C))return A=Ft(W(C),A),new ft(W(A.g),W(A.h));if(nt(A))return A=Ft(C,W(A)),new ft(W(A.g),A.h);if(C.g.length>30){if(nt(C)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=A;V.l(C)<=0;)x=ie(x),V=ie(V);var N=kt(x,1),U=kt(V,1);for(V=kt(V,2),x=kt(x,2);!tt(V);){var R=U.add(V);R.l(C)<=0&&(N=N.add(x),U=R),V=kt(V,1),x=kt(x,1)}return A=gt(C,N.j(A)),new ft(N,A)}for(N=w;C.l(A)>=0;){for(x=Math.max(1,Math.floor(C.m()/A.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(x),R=U.j(A);nt(R)||R.l(C)>0;)x-=V,U=_(x),R=U.j(A);tt(U)&&(U=M),N=N.add(U),C=gt(C,R)}return new ft(N,C)}r.B=function(C){return Ft(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)&C.i(V);return new d(x,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)|C.i(V);return new d(x,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let V=0;V<A;V++)x[V]=this.i(V)^C.i(V);return new d(x,this.h^C.h)};function ie(C){const A=C.g.length+1,x=[];for(let V=0;V<A;V++)x[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(x,C.h)}function kt(C,A){const x=A>>5;A%=32;const V=C.g.length-x,N=[];for(let U=0;U<V;U++)N[U]=A>0?C.i(U+x)>>>A|C.i(U+x+1)<<32-A:C.i(U+x);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,TE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,fr=d}).apply(typeof S0<"u"?S0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bE,Ro,SE,Hc,am,AE,wE,RE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var et=Array(arguments.length-2),It=2;It<arguments.length;It++)et[It-2]=arguments[It];return m.prototype[L].apply(b,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const b=ft.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ft=new nt(()=>new Ft,u=>u.reset());class Ft{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,kt=!1,C=new Tt,A=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(x)}};function x(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){W(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ue(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ue,N),ue.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(Math.random()*1e6|0),G=0;function st(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Xt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function lt(u){this.src=u,this.g={},this.h=0}lt.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=Z(u,m,b,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new st(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function Y(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Z(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var rt="closure_lm_"+(Math.random()*1e6|0),pt={};function xt(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)xt(u,m[B],v,b,L);return null}return v=fe(v),u&&u[be]?u.J(m,v,p(b)?!!b.capture:!1,L):me(u,m,v,!1,b,L)}function me(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let It=on(u);if(It||(u[rt]=It=new lt(u)),v=It.add(m,v,b,et,B),v.proxy)return v;if(b=Qt(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ce(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qt(){function u(v){return m.call(u.src,u.listener,v)}const m=he;return u}function at(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)at(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=fe(v),u&&u[be]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Z(m,v,b,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=on(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Z(m,v,b,L)),(v=u>-1?m[u]:null)&&bt(v))}function bt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[be])Y(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ce(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=on(m))?(Y(v,u),v.h==0&&(v.src=null,m[rt]=null)):dt(u)}}}function ce(u){return u in pt?pt[u]:pt[u]="on"+u}function he(u,m){if(u.da)u=!0;else{m=new ue(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&bt(u),u=v.call(b,m)}return u}function on(u){return u=u[rt],u instanceof lt?u:null}var Nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function fe(u){return typeof u=="function"?u:(u[Nt]||(u[Nt]=function(m){return u.handleEvent(m)}),u[Nt])}function $t(){V.call(this),this.i=new lt(this),this.M=this,this.G=null}w($t,V),$t.prototype[be]=!0,$t.prototype.removeEventListener=function(u,m,v,b){at(this,u,m,v,b)};function Ot(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(b,u),it(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=Nn(B,b,!0,m)&&L;if(B=m.g=u,L=Nn(B,b,!0,m)&&L,L=Nn(B,b,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=Nn(B,b,!1,m)&&L}$t.prototype.N=function(){if($t.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)dt(v[b]);delete u.g[m],u.h--}}this.G=null},$t.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},$t.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Nn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const It=et.listener,Ie=et.ha||et.src;et.fa&&Y(u.i,et),L=It.call(Ie,b)!==!1&&L}}return L&&!b.defaultPrevented}function qt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Dn(u){u.g=qt(()=>{u.g=null,u.i&&(u.i=!1,Dn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fe extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Dn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(u){V.call(this),this.h=u,this.g={}}w(vi,V);var si=[];function $i(u){Bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&bt(m)},u),u.g={}}vi.prototype.N=function(){vi.Z.N.call(this),$i(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oe=d.JSON.stringify,At=d.JSON.parse,Se=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ca(){}function ha(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ae(){N.call(this,"d")}w(Ae,N);function En(){N.call(this,"c")}w(En,N);var xe={},ru=null;function fa(){return ru=ru||new $t}xe.Ia="serverreachability";function au(u){N.call(this,xe.Ia,u)}w(au,N);function Ei(u){const m=fa();Ot(m,new au(m))}xe.STAT_EVENT="statevent";function Sr(u,m){N.call(this,xe.STAT_EVENT,u),this.stat=m}w(Sr,N);function Me(u){const m=fa();Ot(m,new Sr(m,u))}xe.Ja="timingevent";function Ti(u,m){N.call(this,xe.Ja,u),this.size=m}w(Ti,N);function bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Vh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var et="",It=B.split("&");for(let Zt=0;Zt<It.length;Zt++){var Ie=It[Zt].split("=");if(Ie.length>1){const _e=Ie[0];Ie=Ie[1];const Kn=_e.split("_");et=Kn.length>=2&&Kn[1]=="type"?et+(_e+"="+Ie+"&"):et+(_e+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function lu(u,m,v,b,L,B,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function Si(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kh(u,v)+(b?" "+b:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}ri.prototype.info=function(){};function kh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return Oe(B)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function Rr(){}w(Rr,ca),Rr.prototype.g=function(){return new XMLHttpRequest},wl=new Rr;function Zi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ai(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Ve={},Xe={};function Ai(u,m,v){u.M=1,u.A=xr(Ue(m)),u.u=v,u.R=!0,da(u,null)}function da(u,m){u.F=Date.now(),wi(u),u.B=Ue(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ya(v.i,"t",b),u.C=0,v=u.j.L,u.h=new li,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Fe(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(si[0]=L.toString()),L=si);for(let B=0;B<L.length;B++){const et=xt(v,L[B],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ei(),Vh(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)t:{const It=ci(this.g),Ie=this.g.ya(),Zt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||We(this.g)))){this.K||It!=4||Ie==7||(Ie==8||Zt<=0?Ei(3):Ei(2)),Ri(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break e}}B=null}if(u=B)Si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,Me(12),Mn(this),Gn(this);break t}}if(this.R){u=!0;let _e;for(;!this.K&&this.C<v.length;)if(_e=cu(this,v),_e==Xe){It==4&&(this.m=4,Me(14),u=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(_e==Ve){this.m=4,Me(15),Si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Si(this.i,this.l,_e,null),xi(this,_e);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,Me(16),u=!1),this.o=this.o&&u,!u)Si(this.i,this.l,v,"[Invalid Chunked Response]"),Mn(this),Gn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zl(et),et.P=!0,Me(11))}}else Si(this.i,this.l,v,null),xi(this,v);It==4&&Mn(this),this.o&&!this.K&&(It==4?vu(this.j,this):(this.o=!1,wi(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Me(12)):(this.m=0,Me(13)),Mn(this),Gn(this)}}}catch{}};function Uh(u){if(!uu(u))return u.g.la();const m=We(u.g);if(m==="")return"";let v="";const b=m.length,L=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Gn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Xe:(v=Number(m.substring(v,b)),isNaN(v)?Ve:(b+=1,b+v>m.length?Xe:(m=m.slice(b,b+v),u.C=b+v,m)))}ai.prototype.cancel=function(){this.K=!0,Mn(this)};function wi(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bi(_(u.aa,u),m)}function Ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(Ei(),Me(17)),Mn(this),this.m=2,Gn(this)):ma(this,this.T-u)};function Gn(u){u.j.I==0||u.K||vu(u.j,u)}function Mn(u){Ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$i(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ci(v.h,u))){if(!u.L&&Ci(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ba(v),Ms(v);else break t;Vr(v),Me(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=bi(_(v.Va,v),6e3));Ii(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&ba(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Zt=L[m];const _e=Zt[0];if(!(_e<=v.K))if(v.K=_e,Zt=Zt[1],v.I==2)if(Zt[0]=="c"){v.M=Zt[1],v.ba=Zt[2];const Kn=Zt[3];Kn!=null&&(v.ka=Kn,v.j.info("VER="+v.ka));const Ui=Zt[4];Ui!=null&&(v.za=Ui,v.j.info("SVER="+v.za));const hi=Zt[5];hi!=null&&typeof hi=="number"&&hi>0&&(b=1.5*hi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const fi=u.g;if(fi){const kr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var B=b.h;B.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Il(B,B.h),B.h=null))}if(b.G){const Sa=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(b.wa=Sa,te(b.J,b.G,Sa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var et=u;if(b.na=bu(b,b.L?b.ba:null,b.W),et.L){Cl(b.h,et);var It=et,Ie=b.O;Ie&&(It.H=Ie),It.D&&(Ri(It),wi(It)),b.g=et}else yu(b);v.i.length>0&&Vi(v)}else Zt[0]!="stop"&&Zt[0]!="close"||ki(v,7);else v.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?ki(v,7):Pl(v):Zt[0]!="noop"&&v.l&&v.l.qa(Zt),v.A=0)}}Ei(4)}catch{}}var ke=class{constructor(u,m){this.g=u,this.map=m}};function Rl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ii(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function Cl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Rl.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,$e(this,u.j),this.o=u.o,this.g=u.g,Rs(this,u.u),this.h=u.h,Dl(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,$e(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Rs(this,m[4]),this.h=Ni(m[5]||"",!0),Dl(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ir(m,pa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ir(m,pa,!0),"@"),u.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ir(v,v.charAt(0)=="/"?Ol:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ir(v,du)),u.join("")},Vn.prototype.resolve=function(u){const m=Ue(this);let v=!!u.j;v?$e(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Rs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const It=L[et++];It=="."?b&&et==L.length&&B.push(""):It==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&et==L.length&&B.push("")):(B.push(It),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Dl(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ue(u){return new Vn(u)}function $e(u,m,v){u.j=v?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Dl(u,m,v){m instanceof Is?(u.i=m,_a(u.i,u.l)):(v||(m=Ir(m,xs)),u.i=new Is(m,u.l))}function te(u,m,v){u.i.set(m,v)}function xr(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Tn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,fu=/[#\?:]/g,Ol=/[#\?]/g,xs=/[#\?@]/g,du=/#/g;function Is(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function bn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Is.prototype,r.add=function(u,m){bn(this),this.i=null,u=Cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){bn(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ml(u,m){return bn(u),m=Cs(u,m),u.g.has(m)}r.forEach=function(u,m){bn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Vl(u,m){bn(u);let v=[];if(typeof m=="string")Ml(u,m)&&(v=v.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return bn(this),this.i=null,u=Cs(this,u),Ml(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Vl(this,u),u.length>0?String(u[0]):m):m};function ya(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(Cs(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Zi(v);v=Vl(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Zi(v[B])),u.push(et)}}return this.i=u.join("&")};function gu(u){const m=new Is;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _a(u,m){m&&!u.j&&(bn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(mu(this,b),ya(this,L,v))},u)),u.j=m}function oi(u,m){const v=new ri;if(d.Image){const b=new Image;b.onload=E(Fn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Fn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Fn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Fn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function kl(u,m){const v=new ri,b=new AbortController,L=setTimeout(()=>{b.abort(),Fn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Fn(v,"TestPingServer: ok",!0,m):Fn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Fn(v,"TestPingServer: error",!1,m)})}function Fn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ns(){this.g=new Se}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Di,ca),Di.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){$t.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Cr,$t),r=Cr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):ui(this),this.readyState==3&&va(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},r.Na=function(u){this.g&&(this.response=u,Ds(this))},r.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Qn(u){let m="";return Bt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Nr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Qn(v),typeof u=="string"?v!=null&&Zi(v):te(u,m,v))}function se(u){$t.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(se,$t);var Oi=/^https?$/i,Ul=["POST","PUT"];r=se.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Dr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ul,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Dr(this,B)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ll(u),Ji(u)}function Ll(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ot(this,"complete"),Ot(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),se.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},r.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ot(u,"readystatechange"),ci(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let et=String(u.D).match(hu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!Oi.test(et?et.toLowerCase():"")}v=b}if(v)Ot(u,"complete"),Ot(u,"success");else{u.o=6;try{var L=ci(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ll(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ot(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),At(m)}};function We(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=ou(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Xt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Os(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,u),this.Za=Mi("retryDelaySeedMs",1e4,u),this.Ta=Mi("forwardChannelMaxRetries",2,u),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Rl(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Os.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Me(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Vi(this)};function Pl(u){if(Ea(u),u.I==3){var m=u.V++,v=Ue(u.J);if(te(v,"SID",u.M),te(v,"RID",m),te(v,"TYPE","terminate"),Mr(u,v),m=new ai(u,u.j,m),m.M=2,m.A=xr(Ue(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),wi(m)}Tu(u)}function Ms(u){u.g&&(zl(u),u.g.cancel(),u.g=null)}function Ea(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),ba(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!xl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||A(),kt||(ie(),kt=!0),C.add(m,u),u.D=0}}function Ta(u,m){return Ii(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bi(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ai(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=pu(this,L,m),v=Ue(this.J),te(v,"RID",u),te(v,"CVER",22),this.G&&te(v,"X-HTTP-Session-Id",this.G),Mr(this,v),B&&(this.R?m="headers="+Zi(Qn(B))+"&"+m:this.u&&Nr(v,this.u,B)),Il(this.h,L),this.Ra&&te(v,"TYPE","init"),this.S?(te(v,"$req",m),te(v,"SID","null"),L.U=!0,Ai(L,v,null)):Ai(L,v,m),this.I=2}}else this.I==3&&(u?jl(this,u):this.i.length==0||xl(this.h)||jl(this))};function jl(u,m){var v;m?v=m.l:v=u.V++;const b=Ue(u.J);te(b,"SID",u.M),te(b,"RID",v),te(b,"AID",u.K),Mr(u,b),u.u&&u.o&&Nr(b,u.u,u.o),v=new ai(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,v),Ai(v,b,m)}function Mr(u,m){u.H&&Bt(u.H,function(v,b){te(m,b,v)}),u.l&&Bt({},function(v,b){te(m,b,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let It=-1;for(;;){const Ie=["count="+v];It==-1?v>0?(It=L[0].g,Ie.push("ofs="+It)):It=0:Ie.push("ofs="+It);let Zt=!0;for(let _e=0;_e<v;_e++){var B=L[_e].g;const Kn=L[_e].map;if(B-=It,B<0)It=Math.max(0,L[_e].g-100),Zt=!1;else try{B="req"+B+"_"||"";try{var et=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Ui,hi]of et){let fi=hi;p(hi)&&(fi=Oe(hi)),Ie.push(B+Ui+"="+encodeURIComponent(fi))}}catch(Ui){throw Ie.push(B+"type="+encodeURIComponent("_badmap")),Ui}}catch{b&&b(Kn)}}if(Zt){et=Ie.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||A(),kt||(ie(),kt=!0),C.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bi(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Me(10),Ms(this),_u(this))};function zl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ue(u.na);te(m,"RID","rpc"),te(m,"SID",u.M),te(m,"AID",u.K),te(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(m,"TO",u.ia),te(m,"TYPE","xmlhttp"),Mr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=xr(Ue(m)),v.u=null,v.R=!0,da(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ms(this),Vr(this),Me(19))};function ba(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){ba(u),zl(u),u.g=null;var b=2}else if(Ci(u.h,m))v=m.G,Cl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=fa(),Ot(b,new Ti(b,v)),Vi(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ta(u,m)||b==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new Vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||$e(b,"https"),xr(b),L?oi(b.toString(),v):kl(b.toString(),v)}else Me(2);u.I=0,u.l&&u.l.pa(m),Tu(u),Ea(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Me(2)):(this.j.info("Failed to ping google.com"),Me(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var b=v instanceof Vn?Ue(v):new Vn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Rs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new Vn(null);b&&$e(B,b),m&&(B.g=m),L&&Rs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&te(b,v,m),te(b,"VER",u.ka),Mr(u,b),b}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new se(new Di({ab:v})):new se(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new pn(u,m)};function pn(u,m){$t.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}w(pn,$t),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Pl(this.g)},pn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Oe(u),u=v);m.i.push(new ke(m.Ya++,u)),m.I==3&&Vi(m)},pn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,pn.Z.N.call(this)};function wu(u){Ae.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(wu,Ae);function Ru(){En.call(this),this.status=1}w(Ru,En);function ts(u){this.g=u}w(ts,Au),ts.prototype.ra=function(){Ot(this.g,"a")},ts.prototype.qa=function(u){Ot(this.g,new wu(u))},ts.prototype.pa=function(u){Ot(this.g,new Ru)},ts.prototype.oa=function(){Ot(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,RE=function(){return new Vs},wE=function(){return fa()},AE=xe,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Hc=wr,Al.COMPLETE="complete",SE=Al,ha.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",$t.prototype.listen=$t.prototype.J,Ro=ha,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,bE=se}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore",w0="4.9.3";let dn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let El="12.7.0";const sa=new Im("@firebase/firestore");function Wa(){return sa.logLevel}function ot(r,...t){if(sa.logLevel<=Pt.DEBUG){const i=t.map(jm);sa.debug(`Firestore (${El}): ${r}`,...i)}}function Ss(r,...t){if(sa.logLevel<=Pt.ERROR){const i=t.map(jm);sa.error(`Firestore (${El}): ${r}`,...i)}}function cl(r,...t){if(sa.logLevel<=Pt.WARN){const i=t.map(jm);sa.warn(`Firestore (${El}): ${r}`,...i)}}function jm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,xE(r,a,i)}function xE(r,t,i){let a=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ss(a),new Error(a)}function Wt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||xE(t,o,a)}function Rt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ws{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class IE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class N2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class D2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class O2{constructor(t){this.t=t,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Wt(typeof a.accessToken=="string",31837,{l:a}),new IE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new dn(t)}}class M2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new M2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function U2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=U2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function jt(r,t){return r<t?-1:r>t?1:0}function lm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Gd(o)===Gd(c)?jt(o,c):Gd(o)?1:-1}return jt(r.length,t.length)}const L2=55296,P2=57343;function Gd(r){const t=r.charCodeAt(0);return t>=L2&&t<=P2}function hl(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const x0="__name__";class Bi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Bi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const a=Bi.isNumericId(t),o=Bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(i)):lm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fr.fromString(t.substring(4,t.length-2))}}class Ee extends Bi{construct(t,i,a){return new Ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Ee(i)}static emptyPath(){return new Ee([])}}const j2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Bi{construct(t,i,a){return new an(t,i,a)}static isValidIdentifier(t){return j2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===x0}static keyField(){return new an([x0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(i)}static emptyPath(){return new an([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(Ee.fromString(t))}static fromName(t){return new yt(Ee.fromString(t).popFirst(5))}static empty(){return new yt(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new Ee(t.slice()))}}function z2(r,t,i){if(!i)throw new ht(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function B2(r,t,i,a){if(t===!0&&a===!0)throw new ht(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function I0(r){if(!yt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function CE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function yi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(r);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function qe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Jo(r,t){if(!CE(r))throw new ht(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht(J.INVALID_ARGUMENT,i);return!0}const C0=-62135596800,N0=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*N0);return new ye(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<C0)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Jo(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-C0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:qe("string",ye._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ye(0,0))}static max(){return new St(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Po=-1;function q2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(a===1e9?new ye(i+1,0):new ye(i,a));return new gr(o,yt.empty(),t)}function H2(r){return new gr(r.readTime,r.key,Po)}class gr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(St.min(),yt.empty(),Po)}static max(){return new gr(St.max(),yt.empty(),Po)}}function G2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,t.documentKey),i!==0?i:jt(r.largestBatchId,t.largestBatchId))}const F2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Tl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==F2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>o(E)))}}))}static doWhile(t,i){return new $(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function K2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bl(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const qm=-1;function _h(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function Y2(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const NE="";function X2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=D0(t)),t=$2(r.get(i),t);return D0(t)}function $2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case NE:i+="";break;default:i+=c}}return i}function D0(r){return r+NE+""}function O0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Tr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function DE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Te{constructor(t,i){this.comparator=t,this.root=i||rn.EMPTY}insert(t,i){return new Te(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new rn(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new rn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(t){return new M0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ye(this.comparator);return i.data=t,i}}class M0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hn{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new Hn([])}unionWith(t){let i=new Ye(an.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Hn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return hl(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OE("Invalid base64 string: "+c):c}})(t);return new ln(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new ln(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Z2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(r){if(Wt(!!r,39018),typeof r=="string"){let t=0;const i=Z2.exec(r);if(Wt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:De(r.seconds),nanos:De(r.nanos)}}function De(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yr(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}const ME="server_timestamp",VE="__type__",kE="__previous_value__",UE="__local_write_time__";function Hm(r){return(r?.mapValue?.fields||{})[VE]?.stringValue===ME}function vh(r){const t=r.mapValue.fields[kE];return Hm(t)?vh(t):t}function jo(r){const t=pr(r.mapValue.fields[UE].timestampValue);return new ye(t.seconds,t.nanos)}class J2{constructor(t,i,a,o,c,d,p,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const sh="(default)";class zo{constructor(t,i){this.projectId=t,this.database=i||sh}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof zo&&t.projectId===this.projectId&&t.database===this.database}}const LE="__type__",W2="__max__",Mc={mapValue:{}},PE="__vector__",rh="value";function _r(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:eR(r)?9007199254740991:tR(r)?10:11:vt(28295,{value:r})}function Yi(r,t){if(r===t)return!0;const i=_r(r);if(i!==_r(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return jo(r).isEqual(jo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=pr(o.timestampValue),p=pr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return yr(o.bytesValue).isEqual(yr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return De(o.geoPointValue.latitude)===De(c.geoPointValue.latitude)&&De(o.geoPointValue.longitude)===De(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return De(o.integerValue)===De(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=De(o.doubleValue),p=De(c.doubleValue);return d===p?ih(d)===ih(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return hl(r.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(O0(d)!==O0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Yi(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Bo(r,t){return(r.values||[]).find((i=>Yi(i,t)))!==void 0}function fl(r,t){if(r===t)return 0;const i=_r(r),a=_r(t);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=De(c.integerValue||c.doubleValue),y=De(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return V0(r.timestampValue,t.timestampValue);case 4:return V0(jo(r),jo(t));case 5:return lm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=yr(c),y=yr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=jt(p[_],y[_]);if(E!==0)return E}return jt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=jt(De(c.latitude),De(d.latitude));return p!==0?p:jt(De(c.longitude),De(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return k0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[rh]?.arrayValue,E=y[rh]?.arrayValue,w=jt(_?.values?.length||0,E?.values?.length||0);return w!==0?w:k0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let w=0;w<y.length&&w<E.length;++w){const M=lm(y[w],E[w]);if(M!==0)return M;const H=fl(p[y[w]],_[E[w]]);if(H!==0)return H}return jt(y.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function V0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const i=pr(r),a=pr(t),o=jt(i.seconds,a.seconds);return o!==0?o:jt(i.nanos,a.nanos)}function k0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=fl(i[o],a[o]);if(c)return c}return jt(i.length,a.length)}function dl(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=pr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return yr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=om(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${om(i.fields[d])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function Gc(r){switch(_r(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(r);return t?16+Gc(t):16;case 5:return 2*r.stringValue.length;case 6:return yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Gc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Tr(a.fields,((c,d)=>{o+=c.length+Gc(d)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function um(r){return!!r&&"integerValue"in r}function Gm(r){return!!r&&"arrayValue"in r}function U0(r){return!!r&&"nullValue"in r}function L0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function tR(r){return(r?.mapValue?.fields||{})[LE]?.stringValue===PE}function Oo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Tr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Oo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Oo(r.arrayValue.values[i]);return t}return{...r}}function eR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===W2}class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Oo(i)}setAll(t){let i=an.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Oo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Tr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Cn(Oo(this.value))}}function jE(r){const t=[];return Tr(r.fields,((i,a)=>{const o=new an([i]);if(Fc(a)){const c=jE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Hn(t)}class mn{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new mn(t,0,St.min(),St.min(),St.min(),Cn.empty(),0)}static newFoundDocument(t,i,a,o){return new mn(t,1,i,St.min(),a,o,0)}static newNoDocument(t,i){return new mn(t,2,i,St.min(),St.min(),Cn.empty(),0)}static newUnknownDocument(t,i){return new mn(t,3,i,St.min(),St.min(),Cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,i){this.position=t,this.inclusive=i}}function P0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=fl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function j0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Yi(r.position[i],t.position[i]))return!1;return!0}class lh{constructor(t,i="asc"){this.field=t,this.dir=i}}function nR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class zE{}class Ke extends zE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new sR(t,i,a):i==="array-contains"?new lR(t,a):i==="in"?new oR(t,a):i==="not-in"?new uR(t,a):i==="array-contains-any"?new cR(t,a):new Ke(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new rR(t,a):new aR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(fl(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(fl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends zE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Xi(t,i)}matches(t){return BE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BE(r){return r.op==="and"}function qE(r){return iR(r)&&BE(r)}function iR(r){for(const t of r.filters)if(t instanceof Xi)return!1;return!0}function cm(r){if(r instanceof Ke)return r.field.canonicalString()+r.op.toString()+dl(r.value);if(qE(r))return r.filters.map((t=>cm(t))).join(",");{const t=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${t})`}}function HE(r,t){return r instanceof Ke?(function(a,o){return o instanceof Ke&&a.op===o.op&&a.field.isEqual(o.field)&&Yi(a.value,o.value)})(r,t):r instanceof Xi?(function(a,o){return o instanceof Xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&HE(d,o.filters[p])),!0):!1})(r,t):void vt(19439)}function GE(r){return r instanceof Ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${dl(i.value)}`})(r):r instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(GE).join(" ,")+"}"})(r):"Filter"}class sR extends Ke{constructor(t,i,a){super(t,i,a),this.key=yt.fromName(a.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class rR extends Ke{constructor(t,i){super(t,"in",i),this.keys=FE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class aR extends Ke{constructor(t,i){super(t,"not-in",i),this.keys=FE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function FE(r,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class lR extends Ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Gm(i)&&Bo(i.arrayValue,this.value)}}class oR extends Ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Bo(this.value.arrayValue,i)}}class uR extends Ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bo(this.value.arrayValue,i)}}class cR extends Ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bo(this.value.arrayValue,a)))}}class hR{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function z0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new hR(r,t,i,a,o,c,d)}function Fm(r){const t=Rt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>dl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>dl(a))).join(",")),t.Te=i}return t.Te}function Qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!nR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!HE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!j0(r.startAt,t.startAt)&&j0(r.endAt,t.endAt)}function hm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fR(r,t,i,a,o,c,d,p){return new Eh(r,t,i,a,o,c,d,p)}function Th(r){return new Eh(r)}function B0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dR(r){return r.collectionGroup!==null}function Mo(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ye(an.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new lh(c,a))})),i.has(an.keyField().canonicalString())||t.Ie.push(new lh(an.keyField(),a))}return t.Ie}function Gi(r){const t=Rt(r);return t.Ee||(t.Ee=mR(t,Mo(r))),t.Ee}function mR(r,t){if(r.limitType==="F")return z0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lh(o.field,c)}));const i=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return z0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function fm(r,t,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function bh(r,t){return Qm(Gi(r),Gi(t))&&r.limitType===t.limitType}function QE(r){return`${Fm(Gi(r))}|lt:${r.limitType}`}function tl(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>GE(o))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>dl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>dl(o))).join(",")),`Target(${a})`})(Gi(r))}; limitType=${r.limitType})`}function Sh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Mo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=P0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Mo(a),o)||a.endAt&&!(function(d,p,y){const _=P0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Mo(a),o))})(r,t)}function gR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function KE(r){return(t,i)=>{let a=!1;for(const o of Mo(r)){const c=pR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function pR(r,t,i){const a=r.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?fl(y,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Tr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}const yR=new Te(yt.comparator);function As(){return yR}const YE=new Te(yt.comparator);function xo(...r){let t=YE;for(const i of r)t=t.insert(i.key,i);return t}function XE(r){let t=YE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Wr(){return Vo()}function $E(){return Vo()}function Vo(){return new oa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const _R=new Te(yt.comparator),vR=new Ye(yt.comparator);function zt(...r){let t=vR;for(const i of r)t=t.add(i);return t}const ER=new Ye(jt);function TR(){return ER}function Km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function ZE(r){return{integerValue:""+r}}function JE(r,t){return Y2(t)?ZE(t):Km(r,t)}class Ah{constructor(){this._=void 0}}function bR(r,t,i){return r instanceof oh?(function(o,c){const d={fields:{[VE]:{stringValue:ME},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hm(c)&&(c=vh(c)),c&&(d.fields[kE]=c),{mapValue:d}})(i,t):r instanceof ml?tT(r,t):r instanceof qo?eT(r,t):(function(o,c){const d=WE(o,c),p=q0(d)+q0(o.Ae);return um(d)&&um(o.Ae)?ZE(p):Km(o.serializer,p)})(r,t)}function SR(r,t,i){return r instanceof ml?tT(r,t):r instanceof qo?eT(r,t):i}function WE(r,t){return r instanceof Ho?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class oh extends Ah{}class ml extends Ah{constructor(t){super(),this.elements=t}}function tT(r,t){const i=nT(t);for(const a of r.elements)i.some((o=>Yi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class qo extends Ah{constructor(t){super(),this.elements=t}}function eT(r,t){let i=nT(t);for(const a of r.elements)i=i.filter((o=>!Yi(o,a)));return{arrayValue:{values:i}}}class Ho extends Ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function q0(r){return De(r.integerValue||r.doubleValue)}function nT(r){return Gm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class iT{constructor(t,i){this.field=t,this.transform=i}}function AR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof ml&&o instanceof ml||a instanceof qo&&o instanceof qo?hl(a.elements,o.elements,Yi):a instanceof Ho&&o instanceof Ho?Yi(a.Ae,o.Ae):a instanceof oh&&o instanceof oh})(r.transform,t.transform)}class wR{constructor(t,i){this.version=t,this.transformResults=i}}class _i{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new _i}static exists(t){return new _i(void 0,t)}static updateTime(t){return new _i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class wh{}function sT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ym(r.key,_i.none()):new Wo(r.key,r.data,_i.none());{const i=r.data,a=Cn.empty();let o=new Ye(an.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new br(r.key,a,new Hn(o.toArray()),_i.none())}}function RR(r,t,i){r instanceof Wo?(function(o,c,d){const p=o.value.clone(),y=G0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof br?(function(o,c,d){if(!Qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=G0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(rT(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function ko(r,t,i,a){return r instanceof Wo?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const _=c.value.clone(),E=F0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof br?(function(c,d,p,y){if(!Qc(c.precondition,d))return p;const _=F0(c.fieldTransforms,y,d),E=d.data;return E.setAll(rT(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,p){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function xR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=WE(a.transform,o||null);c!=null&&(i===null&&(i=Cn.empty()),i.set(a.field,c))}return i||null}function H0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&hl(a,o,((c,d)=>AR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Wo extends wh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class br extends wh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function rT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function G0(r,t,i){const a=new Map;Wt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,SR(d,p,i[o]))}return a}function F0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,bR(c,d,t))}return a}class Ym extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&RR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=ko(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=ko(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=$E();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=sT(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&hl(this.mutations,t.mutations,((i,a)=>H0(i,a)))&&hl(this.baseMutations,t.baseMutations,((i,a)=>H0(i,a)))}}class Xm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Wt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return _R})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Xm(t,i,a,o)}}class NR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Be,Gt;function OR(r){switch(r){case J.OK:return vt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function aT(r){if(r===void 0)return Ss("GRPC error has no .code"),J.UNKNOWN;switch(r){case Be.OK:return J.OK;case Be.CANCELLED:return J.CANCELLED;case Be.UNKNOWN:return J.UNKNOWN;case Be.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Be.INTERNAL:return J.INTERNAL;case Be.UNAVAILABLE:return J.UNAVAILABLE;case Be.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Be.NOT_FOUND:return J.NOT_FOUND;case Be.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Be.ABORTED:return J.ABORTED;case Be.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Be.DATA_LOSS:return J.DATA_LOSS;default:return vt(39323,{code:r})}}(Gt=Be||(Be={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function MR(){return new TextEncoder}const VR=new fr([4294967295,4294967295],0);function Q0(r){const t=MR().encode(r),i=new TE;return i.update(t),new Uint8Array(i.digest())}function K0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new fr([i,a],0),new fr([o,c],0)]}class $m{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Io(`Invalid padding: ${i}`);if(a<0)throw new Io(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Io(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Io(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=fr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(fr.fromNumber(a)));return o.compare(VR)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Q0(t),[a,o]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new $m(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Q0(t),[a,o]=K0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,tu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Rh(St.min(),o,new Te(jt),As(),zt())}}class tu{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new tu(a,i,zt(),zt(),zt())}}class Kc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class lT{constructor(t,i){this.targetId=t,this.Ce=i}}class oT{constructor(t,i,a=ln.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Y0{constructor(){this.ve=0,this.Fe=X0(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:vt(38017,{changeType:c})}})),new tu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=X0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kR{constructor(t){this.Ge=t,this.ze=new Map,this.je=As(),this.Je=Vc(),this.He=Vc(),this.Ye=new Te(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(hm(c))if(a===0){const d=new yt(c.path);this.et(i,d,mn.newNoDocument(d,St.min()))}else Wt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=yr(a).toUint8Array()}catch(y){if(y instanceof OE)return cl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new $m(d,o,c)}catch(y){return cl(y instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const y=new yt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,mn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Rh(t,i,this.Ye,this.je,a);return this.je=As(),this.Je=Vc(),this.He=Vc(),this.Ye=new Te(jt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Y0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ye(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ye(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Y0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Vc(){return new Te(yt.comparator)}function X0(){return new Te(yt.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PR={and:"AND",or:"OR"};class jR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(r,t){return r.useProto3Json||_h(t)?t:{value:t}}function uh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function zR(r,t){return uh(r,t.toTimestamp())}function Fi(r){return Wt(!!r,49232),St.fromTimestamp((function(i){const a=pr(i);return new ye(a.seconds,a.nanos)})(r))}function Zm(r,t){return mm(r,t).canonicalString()}function mm(r,t){const i=(function(o){return new Ee(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function cT(r){const t=Ee.fromString(r);return Wt(gT(t),10190,{key:t.toString()}),t}function gm(r,t){return Zm(r.databaseId,t.path)}function Fd(r,t){const i=cT(t);if(i.get(1)!==r.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(fT(i))}function hT(r,t){return Zm(r.databaseId,t)}function BR(r){const t=cT(r);return t.length===4?Ee.emptyPath():fT(t)}function pm(r){return new Ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fT(r){return Wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $0(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function qR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Wt(E===void 0||typeof E=="string",58123),ln.fromBase64String(E||"")):(Wt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),ln.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?J.UNKNOWN:aT(_.code);return new ht(E,_.message||"")})(d);i=new oT(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Fd(r,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):St.min(),p=new Cn({mapValue:{fields:a.document.fields}}),y=mn.newFoundDocument(o,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Kc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Fd(r,a.document),c=a.readTime?Fi(a.readTime):St.min(),d=mn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Fd(r,a.document),c=a.removedTargetIds||[];i=new Kc([],c,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new DR(o,c),p=a.targetId;i=new lT(p,d)}}return i}function HR(r,t){let i;if(t instanceof Wo)i={update:$0(r,t.key,t.value)};else if(t instanceof Ym)i={delete:gm(r,t.key)};else if(t instanceof br)i={update:$0(r,t.key,t.data),updateMask:JR(t.fieldMask)};else{if(!(t instanceof IR))return vt(16599,{Vt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof qo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ho)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:zR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function GR(r,t){return r&&r.length>0?(Wt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(St.min())&&(d=Fi(c)),new wR(d,o.transformResults||[])})(i,t)))):[]}function FR(r,t){return{documents:[hT(r,t.path)]}}function QR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=hT(r,o);const c=(function(_){if(_.length!==0)return mT(Xi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:el(M.field),direction:XR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function KR(r){let t=BR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Wt(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(w){const M=dT(w);return M instanceof Xi&&qE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(tt){return new lh(nl(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let M;return M=typeof w=="object"?w.value:w,_h(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(w){const M=!!w.before,H=w.values||[];return new ah(H,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,H=w.values||[];return new ah(H,M)})(i.endAt)),fR(t,o,d,c,p,"F",y,_)}function YR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function dT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=nl(i.unaryFilter.field);return Ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=nl(i.unaryFilter.field);return Ke.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=nl(i.unaryFilter.field);return Ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=nl(i.unaryFilter.field);return Ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ke.create(nl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>dT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function XR(r){return UR[r]}function $R(r){return LR[r]}function ZR(r){return PR[r]}function el(r){return{fieldPath:r.canonicalString()}}function nl(r){return an.fromServerFormat(r.fieldPath)}function mT(r){return r instanceof Ke?(function(i){if(i.op==="=="){if(L0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NAN"}};if(U0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(L0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NAN"}};if(U0(i.value))return{unaryFilter:{field:el(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(i.field),op:$R(i.op),value:i.value}}})(r):r instanceof Xi?(function(i){const a=i.getFilters().map((o=>mT(o)));return a.length===1?a[0]:{compositeFilter:{op:ZR(i.op),filters:a}}})(r):vt(54877,{filter:r})}function JR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function gT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class or{constructor(t,i,a,o,c=St.min(),d=St.min(),p=ln.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class WR{constructor(t){this.yt=t}}function tx(r){const t=KR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}class ex{constructor(){this.Cn=new nx}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(gr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(gr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class nx{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ye(Ee.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ye(Ee.comparator)).toArray()}}const Z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class In{static withCacheSize(t){return new In(t,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(pT,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class gl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}const J0="LruGarbageCollector",ix=1048576;function W0([r,t],[i,a]){const o=jt(r,i);return o===0?jt(t,a):o}class sx{constructor(t){this.Ir=t,this.buffer=new Ye(W0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();W0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class rx{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(J0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bl(i)?ot(J0,"Ignoring IndexedDB error during garbage collection: ",i):await Tl(i)}await this.Vr(3e5)}))}}class ax{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(yh.ce);const a=new sx(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Z0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,p=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(_=Date.now(),Wa()<=Pt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function lx(r,t){return new ax(r,t)}class ox{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,mn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class ux{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class cx{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&ko(a.mutation,o,Hn.empty(),ye.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const o=Wr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=xo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Wr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=As();const d=Vo(),p=(function(){return Vo()})();return i.forEach(((y,_)=>{const E=a.get(_.key);o.has(_.key)&&(E===void 0||E.mutation instanceof br)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),ko(E.mutation,_,E.mutation.getFieldMask(),ye.now())):d.set(_.key,Hn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new ux(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Vo();let o=new Te(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Hn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const w=(o.get(p.batchId)||zt()).add(y);o=o.insert(p.batchId,w)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,w=$E();E.forEach((M=>{if(!c.has(M)){const H=sT(i.get(M),a.get(M));H!==null&&w.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):dR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):$.resolve(Wr());let p=Po,y=c;return d.next((_=>$.forEach(_,((E,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(E)?$.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((E=>({batchId:p,changes:XE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((a=>{let o=xo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=xo();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(w,M){return new Eh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((E=>{E.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,mn.newInvalidDocument(E)))}));let p=xo();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&ko(E.mutation,_,Hn.empty(),ye.now()),Sh(i,_)&&(p=p.insert(y,_))})),p}))}}class hx{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:tx(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),$.resolve()}}class fx{constructor(){this.overlays=new Te(yt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Wr();return $.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const o=Wr(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new Te(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=Wr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Wr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=o)););return $.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new NR(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class dx{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Jm{constructor(){this.Qr=new Ye(Je.$r),this.Ur=new Ye(Je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Je(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Je(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new yt(new Ee([])),a=new Je(i,t),o=new Je(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new Ee([])),a=new Je(i,t),o=new Je(i,t+1);let c=zt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Je(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class mx{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(Je.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CR(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Je(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Je(i,0),o=new Je(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ye(jt);return i.forEach((o=>{const c=new Je(o,0),d=new Je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const d=new Je(new yt(c),0);let p=new Ye(jt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Wt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new Je(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Je(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class gx{constructor(t){this.ri=t,this.docs=(function(){return new Te(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(t,i){let a=As();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=As();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||G2(H2(E),a)<=0||(o.has(E.key)||Sh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,o){vt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new px(this)}getSize(t){return $.resolve(this.size)}}class px extends ox{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class yx{constructor(t){this.persistence=t,this.si=new oa((i=>Fm(i)),Qm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=gl.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new gl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class yT{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new dx,this.referenceDelegate=t(this),this.Pi=new yx(this),this.indexManager=new ex,this.remoteDocumentCache=(function(o){return new gx(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new WR(i),this.Ii=new hx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new fx,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new mx(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const o=new _x(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class _x extends Q2{constructor(t){super(),this.currentSequenceNumber=t}}class Wm{constructor(t){this.persistence=t,this.Ri=new Jm,this.Vi=null}static mi(t){return new Wm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=yt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class ch{constructor(t,i){this.persistence=t,this.pi=new oa((a=>X2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=lx(this,i)}static mi(t,i){return new ch(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class tg{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new tg(t,i.fromCache,a,o)}}class vx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Ex{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oS()?8:K2(gn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new vx;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Wa()<=Pt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",tl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Wa()<=Pt.DEBUG&&ot("QueryEngine","Query:",tl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Wa()<=Pt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",tl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(i))):$.resolve())}ys(t,i){if(B0(i))return $.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=fm(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,o){return B0(i)||o.isEqual(St.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(Wa()<=Pt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tl(i)),this.vs(t,d,i,q2(o,Po)).next((p=>p)))}))}Ds(t,i){let a=new Ye(KE(t));return i.forEach(((o,c)=>{Sh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return Wa()<=Pt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",tl(i)),this.ps.getDocumentsMatchingQuery(t,i,gr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const eg="LocalStore",Tx=3e8;class bx{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Te(jt),this.xs=new oa((c=>Fm(c)),Qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new cx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Sx(r,t,i,a){return new bx(r,t,i,a)}async function _T(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=zt();for(const _ of o){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function Ax(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const w=_.batch,M=w.keys();let H=$.resolve();return M.forEach((tt=>{H=H.next((()=>E.getEntry(y,tt))).next((nt=>{const W=_.docVersions.get(tt);Wt(W!==null,48541),nt.version.compareTo(W)<0&&(w.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),E.addEntry(nt)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function vT(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function wx(r,t){const i=Rt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((E,w)=>{const M=o.get(w);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,w))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?H=H.withResumeToken(ln.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(E.resumeToken,a)),o=o.insert(w,H),(function(nt,W,gt){return nt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Tx?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(M,H,E)&&p.push(i.Pi.updateTargetData(c,H))}));let y=As(),_=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(Rx(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function Rx(r,t,i){let a=zt(),o=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=As();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ot(eg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function xx(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function Ix(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new or(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function ym(r,t,i){const a=Rt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!bl(d))throw d;ot(eg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function tv(r,t,i){const a=Rt(r);let o=St.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const w=Rt(y),M=w.xs.get(E);return M!==void 0?$.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,E)})(a,d,Gi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:St.min(),i?c:zt()))).next((p=>(Cx(a,gR(t),p),{documents:p,Qs:c})))))}function Cx(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class ev{constructor(){this.activeTargetIds=TR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Nx{constructor(){this.Mo=new ev,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ev,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Dx{Oo(t){}shutdown(){}}const nv="ConnectivityMonitor";class iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(nv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(nv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function _m(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Qd="RestConnection",Ox={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mx{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===sh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());ot(Qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),E=yl(_);return this.Jo(t,p,y,a,E).then((w=>(ot(Qd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw cl(Qd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=Ox[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Vx{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const cn="WebChannelConnection";class kx extends Mx{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=_m();return new Promise(((p,y)=>{const _=new bE;_.setWithCredentials(!0),_.listenOnce(SE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const w=_.getResponseJson();ot(cn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case Hc.TIMEOUT:ot(cn,`RPC '${t}' ${d} timed out`),y(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const M=_.getStatus();if(ot(cn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const tt=H?.error;if(tt&&tt.status&&tt.message){const nt=(function(gt){const Tt=gt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Tt)>=0?Tt:J.UNKNOWN})(tt.status);y(new ht(nt,tt.message))}else y(new ht(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ht(J.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(cn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(o);ot(cn,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const o=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=RE(),p=wE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");ot(cn,`Creating RPC '${t}' stream ${o}: ${E}`,y);const w=d.createWebChannel(E,y);this.I_(w);let M=!1,H=!1;const tt=new Vx({Yo:W=>{H?ot(cn,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(M||(ot(cn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),M=!0),ot(cn,`RPC '${t}' stream ${o} sending:`,W),w.send(W))},Zo:()=>w.close()}),nt=(W,gt,Tt)=>{W.listen(gt,(ft=>{try{Tt(ft)}catch(Ft){setTimeout((()=>{throw Ft}),0)}}))};return nt(w,Ro.EventType.OPEN,(()=>{H||(ot(cn,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),nt(w,Ro.EventType.CLOSE,(()=>{H||(H=!0,ot(cn,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(w))})),nt(w,Ro.EventType.ERROR,(W=>{H||(H=!0,cl(cn,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ht(J.UNAVAILABLE,"The operation could not be completed")))})),nt(w,Ro.EventType.MESSAGE,(W=>{if(!H){const gt=W.data[0];Wt(!!gt,16349);const Tt=gt,ft=Tt?.error||Tt[0]?.error;if(ft){ot(cn,`RPC '${t}' stream ${o} received error:`,ft);const Ft=ft.status;let ie=(function(A){const x=Be[A];if(x!==void 0)return aT(x)})(Ft),kt=ft.message;ie===void 0&&(ie=J.INTERNAL,kt="Unknown error status: "+Ft+" with message "+ft.message),H=!0,tt.a_(new ht(ie,kt)),w.close()}else ot(cn,`RPC '${t}' stream ${o} received:`,gt),tt.u_(gt)}})),nt(p,AE.STAT_EVENT,(W=>{W.stat===am.PROXY?ot(cn,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===am.NOPROXY&&ot(cn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Kd(){return typeof document<"u"?document:null}function xh(r){return new jR(r,!0)}class ET{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const sv="PersistentStream";class TT{constructor(t,i,a,o,c,d,p,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ET(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ss(i.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(sv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ux extends TT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=qR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Fi(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=hm(y)?{documents:FR(c,y)}:{query:QR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=uT(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=YR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class Lx extends TT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=GR(t.writeResults,t.commitTime),a=Fi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>HR(this.serializer,a)))};this.q_(i)}}class Px{}class jx extends Px{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(J.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zx{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class Bx{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ua(this)&&(ot(ra,"Restarting streams for network reachability change."),await(async function(y){const _=Rt(y);_.Ea.add(4),await eu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new zx(a,o)}}async function Ih(r){if(ua(r))for(const t of r.da)await t(!0)}async function eu(r){for(const t of r.da)await t(!1)}function bT(r,t){const i=Rt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),rg(i)?sg(i):Sl(i).O_()&&ig(i,t))}function ng(r,t){const i=Rt(r),a=Sl(i);i.Ia.delete(t),a.O_()&&ST(i,t),i.Ia.size===0&&(a.O_()?a.L_():ua(i)&&i.Ra.set("Unknown"))}function ig(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Sl(r).Y_(t)}function ST(r,t){r.Va.Ue(t),Sl(r).Z_(t)}function sg(r){r.Va=new kR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Sl(r).start(),r.Ra.ua()}function rg(r){return ua(r)&&!Sl(r).x_()&&r.Ia.size>0}function ua(r){return Rt(r).Ea.size===0}function AT(r){r.Va=void 0}async function qx(r){r.Ra.set("Online")}async function Hx(r){r.Ia.forEach(((t,i)=>{ig(r,t)}))}async function Gx(r,t){AT(r),rg(r)?(r.Ra.ha(t),sg(r)):r.Ra.set("Unknown")}async function Fx(r,t,i){if(r.Ra.set("Online"),t instanceof oT&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){ot(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await hh(r,a)}else if(t instanceof Kc?r.Va.Ze(t):t instanceof lT?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await vT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(ln.EMPTY_BYTE_STRING,E.snapshotVersion)),ST(c,y);const w=new or(E.target,y,_,E.sequenceNumber);ig(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(ra,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,t,i){if(!bl(t))throw t;r.Ea.add(1),await eu(r),r.Ra.set("Offline"),i||(i=()=>vT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(ra,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function wT(r,t){return t().catch((i=>hh(r,i,t)))}async function Ch(r){const t=Rt(r),i=vr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;Qx(t);)try{const o=await xx(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,Kx(t,o)}catch(o){await hh(t,o)}RT(t)&&xT(t)}function Qx(r){return ua(r)&&r.Ta.length<10}function Kx(r,t){r.Ta.push(t);const i=vr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function RT(r){return ua(r)&&!vr(r).x_()&&r.Ta.length>0}function xT(r){vr(r).start()}async function Yx(r){vr(r).ra()}async function Xx(r){const t=vr(r);for(const i of r.Ta)t.ea(i.mutations)}async function $x(r,t,i){const a=r.Ta.shift(),o=Xm.from(a,t,i);await wT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ch(r)}async function Zx(r,t){t&&vr(r).X_&&await(async function(a,o){if((function(d){return OR(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();vr(a).B_(),await wT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(r,t),RT(r)&&xT(r)}async function rv(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ot(ra,"RemoteStore received new credentials");const a=ua(i);i.Ea.add(3),await eu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function Jx(r,t){const i=Rt(r);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await eu(i),i.Ra.set("Unknown"))}function Sl(r){return r.ma||(r.ma=(function(i,a,o){const c=Rt(i);return c.sa(),new Ux(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:qx.bind(null,r),t_:Hx.bind(null,r),r_:Gx.bind(null,r),H_:Fx.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),rg(r)?sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),AT(r))}))),r.ma}function vr(r){return r.fa||(r.fa=(function(i,a,o){const c=Rt(i);return c.sa(),new Lx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Yx.bind(null,r),r_:Zx.bind(null,r),ta:Xx.bind(null,r),na:$x.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ag{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new ag(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(r,t){if(Ss("AsyncQueue",`${t}: ${r}`),bl(r))return new ht(J.UNAVAILABLE,`${t}: ${r}`);throw r}class ll{static emptySet(t){return new ll(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=xo(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ll)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ll;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class av{constructor(){this.ga=new Te(yt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class pl{constructor(t,i,a,o,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new pl(t,i,ll.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Wx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class tI{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Rt(i),c=o.queries;o.queries=lv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function lv(){return new oa((r=>QE(r)),bh)}async function IT(r,t){const i=Rt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new Wx,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=lg(d,`Initialization of query '${tl(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&og(i)}async function CT(r,t){const i=Rt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eI(r,t){const i=Rt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&og(i)}function nI(r,t,i){const a=Rt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function og(r){r.Ca.forEach((t=>{t.next()}))}var vm,ov;(ov=vm||(vm={})).Ma="default",ov.Cache="cache";class NT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new pl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=pl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class DT{constructor(t){this.key=t}}class OT{constructor(t){this.key=t}}class iI{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=KE(t),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new av,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,w)=>{const M=o.get(E),H=Sh(this.query,w)?w:null,tt=!!M&&this.mutatedKeys.has(M.key),nt=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let W=!1;M&&H?M.data.isEqual(H.data)?tt!==nt&&(a.track({type:3,doc:H}),W=!0):this.su(M,H)||(a.track({type:2,doc:H}),W=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),W=!0):M&&!H&&(a.track({type:1,doc:M}),W=!0,(y||_)&&(p=!0)),W&&(H?(d=d.add(H),c=nt?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,w)=>(function(H,tt){const nt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:W})}};return nt(H)-nt(tt)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new pl(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new av,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new OT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new DT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ug="SyncEngine";class sI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class rI{constructor(t){this.key=t,this.hu=!1}}class aI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((p=>QE(p)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new Te(yt.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lI(r,t,i=!0){const a=PT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await MT(a,t,i,!0),o}async function oI(r,t){const i=PT(r);await MT(i,t,!0,!1)}async function MT(r,t,i,a){const o=await Ix(r.localStore,Gi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await uI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&bT(r.remoteStore,o),p}async function uI(r,t,i,a,o){r.pu=(w,M,H)=>(async function(nt,W,gt,Tt){let ft=W.view.ru(gt);ft.Cs&&(ft=await tv(nt.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,ft))));const Ft=Tt&&Tt.targetChanges.get(W.targetId),ie=Tt&&Tt.targetMismatches.get(W.targetId)!=null,kt=W.view.applyChanges(ft,nt.isPrimaryClient,Ft,ie);return cv(nt,W.targetId,kt.au),kt.snapshot})(r,w,M,H);const c=await tv(r.localStore,t,!0),d=new iI(t,c.Qs),p=d.ru(c.documents),y=tu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,y);cv(r,i,_.au);const E=new sI(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function cI(r,t,i){const a=Rt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!bh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ng(a.remoteStore,o.targetId),Em(a,o.targetId)})).catch(Tl)):(Em(a,o.targetId),await ym(a.localStore,o.targetId,!0))}async function hI(r,t){const i=Rt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ng(i.remoteStore,a.targetId))}async function fI(r,t,i){const a=vI(r);try{const o=await(function(d,p){const y=Rt(d),_=ye.now(),E=p.reduce(((H,tt)=>H.add(tt.key)),zt());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let tt=As(),nt=zt();return y.Ns.getEntries(H,E).next((W=>{tt=W,tt.forEach(((gt,Tt)=>{Tt.isValidDocument()||(nt=nt.add(gt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,tt))).next((W=>{w=W;const gt=[];for(const Tt of p){const ft=xR(Tt,w.get(Tt.key).overlayedDocument);ft!=null&&gt.push(new br(Tt.key,ft,jE(ft.value.mapValue),_i.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,gt,p)})).next((W=>{M=W;const gt=W.applyToLocalDocumentSet(w,nt);return y.documentOverlayCache.saveOverlays(H,W.batchId,gt)}))})).then((()=>({batchId:M.batchId,changes:XE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Te(jt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await nu(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=lg(o,"Failed to persist write");i.reject(c)}}async function VT(r,t){const i=Rt(r);try{const a=await wx(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Wt(d.hu,14607):o.removedDocuments.size>0&&(Wt(d.hu,42227),d.hu=!1))})),await nu(i,a,t)}catch(a){await Tl(a)}}function uv(r,t,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Rt(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,w)=>{for(const M of w.Sa)M.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function dI(r,t,i){const a=Rt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new Te(yt.comparator);d=d.insert(c,mn.newNoDocument(c,St.min()));const p=zt().add(c),y=new Rh(St.min(),new Map,new Te(jt),d,p);await VT(a,y),a.du=a.du.remove(c),a.Au.delete(t),cg(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(Tl)}async function mI(r,t){const i=Rt(r),a=t.batch.batchId;try{const o=await Ax(i.localStore,t);UT(i,a,null),kT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,o)}catch(o){await Tl(o)}}async function gI(r,t,i){const a=Rt(r);try{const o=await(function(d,p){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((w=>(Wt(w!==null,37113),E=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);UT(a,t,i),kT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await nu(a,o)}catch(o){await Tl(o)}}function kT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function UT(r,t,i){const a=Rt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function Em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||LT(r,a)}))}function LT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(ng(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),cg(r))}function cv(r,t,i){for(const a of i)a instanceof DT?(r.Ru.addReference(a.key,t),pI(r,a)):a instanceof OT?(ot(ug,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||LT(r,a.key)):vt(19791,{wu:a})}function pI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(ug,"New document in limbo: "+i),r.Eu.add(a),cg(r))}function cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new yt(Ee.fromString(t)),a=r.fu.next();r.Au.set(a,new rI(i)),r.du=r.du.insert(i,a),bT(r.remoteStore,new or(Gi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function nu(r,t,i){const a=Rt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){o.push(_);const E=tg.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const E=Rt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(_,(M=>$.forEach(M.Es,(H=>E.persistence.referenceDelegate.addReference(w,M.targetId,H))).next((()=>$.forEach(M.ds,(H=>E.persistence.referenceDelegate.removeReference(w,M.targetId,H)))))))))}catch(w){if(!bl(w))throw w;ot(eg,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const H=E.Ms.get(M),tt=H.snapshotVersion,nt=H.withLastLimboFreeSnapshotVersion(tt);E.Ms=E.Ms.insert(M,nt)}}})(a.localStore,c))}async function yI(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){ot(ug,"User change. New user:",t.toKey());const a=await _T(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ht(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function _I(r,t){const i=Rt(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let o=zt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function PT(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=VT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_I.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dI.bind(null,t),t.Pu.H_=eI.bind(null,t.eventManager),t.Pu.yu=nI.bind(null,t.eventManager),t}function vI(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gI.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Sx(this.persistence,new Ex,t.initialUser,this.serializer)}Cu(t){return new yT(Wm.mi,this.serializer)}Du(t){return new Nx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class EI extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Wt(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new rx(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new yT((a=>ch.mi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>uv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yI.bind(null,this.syncEngine),await Jx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new tI})()}createDatastore(t){const i=xh(t.databaseInfo.databaseId),a=(function(c){return new kx(c)})(t.databaseInfo);return(function(c,d,p,y){return new jx(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new Bx(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>uv(this.syncEngine,i,0)),(function(){return iv.v()?new iv:new Dx})())}createSyncEngine(t,i){return(function(o,c,d,p,y,_,E){const w=new aI(o,c,d,p,y,_);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);ot(ra,"RemoteStore shutting down."),a.Ea.add(5),await eu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class jT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Er="FirestoreClient";class TI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=dn.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=lg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Er,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await _T(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function hv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await bI(r);ot(Er,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>rv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>rv(t.remoteStore,o))),r._onlineComponents=t}async function bI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Er,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;cl("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new fh)}}else ot(Er,"Using default OfflineComponentProvider"),await Yd(r,new EI(void 0));return r._offlineComponents}async function zT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Er,"Using user provided OnlineComponentProvider"),await hv(r,r._uninitializedComponentsProvider._online)):(ot(Er,"Using default OnlineComponentProvider"),await hv(r,new Tm))),r._onlineComponents}function SI(r){return zT(r).then((t=>t.syncEngine))}async function bm(r){const t=await zT(r),i=t.eventManager;return i.onListen=lI.bind(null,t.syncEngine),i.onUnlisten=cI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=oI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=hI.bind(null,t.syncEngine),i}function AI(r,t,i={}){const a=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new jT({next:M=>{E.Nu(),d.enqueueAndForget((()=>CT(c,w)));const H=M.docs.has(p);!H&&M.fromCache?_.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&M.fromCache&&y&&y.source==="server"?_.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new NT(Th(p.path),E,{includeMetadataChanges:!0,qa:!0});return IT(c,w)})(await bm(r),r.asyncQueue,t,i,a))),a.promise}function BT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const fv=new Map;const qT="firestore.googleapis.com",dv=!0;class mv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=dv}else this.host=t.host,this.ssl=t.ssl??dv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ix)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}B2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hg{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new N2;switch(a.type){case"firstParty":return new V2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=fv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),fv.delete(i),a.terminate())})(this),Promise.resolve()}}function wI(r,t,i,a={}){r=yi(r,hg);const o=yl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(Uv(`https://${p}`),Lv("Firestore",!0)),c.host!==qT&&c.host!==p&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!mr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=dn.MOCK_USER;else{_=Wb(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new dn(w)}r._authCredentials=new D2(new IE(_,E))}}class Nh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Nh(this.firestore,t,this._query)}}class He{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Jo(i,He._jsonSchema))return new He(t,a||null,new yt(Ee.fromString(i.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:qe("string",He._jsonSchemaVersion),referencePath:qe("string")};class Go extends Nh{constructor(t,i,a){super(t,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new yt(t))}withConverter(t){return new Go(this.firestore,t,this._path)}}function hn(r,t,...i){if(r=vn(r),arguments.length===1&&(t=zm.newId()),z2("doc","path",t),r instanceof hg){const a=Ee.fromString(t,...i);return I0(a),new He(r,null,new yt(a))}{if(!(r instanceof He||r instanceof Go))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ee.fromString(t,...i));return I0(a),new He(r.firestore,r instanceof Go?r.converter:null,new yt(a))}}const gv="AsyncQueue";class pv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ET(this,"async_queue_retry"),this._c=()=>{const a=Kd();a&&ot(gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!bl(t))throw t;ot(gv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=ag.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function yv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function _v(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class aa extends hg{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new pv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pv(t),this._firestoreClient=void 0,await t}}}function RI(r,t){const i=typeof r=="object"?r:Bv(),a=typeof r=="string"?r:sh,o=Nm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Zb("firestore");c&&wI(o,...c)}return o}function fg(r){if(r._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xI(r),r._firestoreClient}function xI(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new J2(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,BT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new TI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class ii{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ii(ln.fromBase64String(t))}catch(i){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ii(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Jo(t,ii._jsonSchema))return ii.fromBase64String(t.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:qe("string",ii._jsonSchemaVersion),bytes:qe("string")};class Dh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class iu{constructor(t){this._methodName=t}}class Qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(Jo(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:qe("string",Qi._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};class Ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Jo(t,Ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ki(t.vectorValues);throw new ht(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:qe("string",Ki._jsonSchemaVersion),vectorValues:qe("object")};const II=/^__.*__$/;class CI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new br(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wo(t,this.data,i,this.fieldTransforms)}}class HT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new br(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function GT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Oh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Oh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return dh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(GT(this.Ac)&&II.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class NI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||xh(t)}Cc(t,i,a,o=!1){return new Oh({Ac:t,methodName:i,Dc:a,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FT(r){const t=r._freezeSettings(),i=xh(r._databaseId);return new NI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function DI(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);gg("Data must be an object, but it was:",d,a);const p=QT(a,d);let y,_;if(c.merge)y=new Hn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const w of c.mergeFields){const M=Sm(t,w,i);if(!d.contains(M))throw new ht(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);YT(E,M)||E.push(M)}y=new Hn(E),_=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=d.fieldTransforms;return new CI(new Cn(p),y,_)}class Mh extends iu{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mh}}function OI(r,t,i){return new Oh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class dg extends iu{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=OI(this,t,!0),a=this.vc.map((c=>su(c,i))),o=new ml(a);return new iT(t.path,o)}isEqual(t){return t instanceof dg&&mr(this.vc,t.vc)}}class mg extends iu{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Ho(t.serializer,JE(t.serializer,this.Fc));return new iT(t.path,i)}isEqual(t){return t instanceof mg&&this.Fc===t.Fc}}function MI(r,t,i,a){const o=r.Cc(1,t,i);gg("Data must be an object, but it was:",o,a);const c=[],d=Cn.empty();Tr(a,((y,_)=>{const E=pg(t,y,i);_=vn(_);const w=o.yc(E);if(_ instanceof Mh)c.push(E);else{const M=su(_,w);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Hn(c);return new HT(d,p,o.fieldTransforms)}function VI(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[Sm(t,a,i)],y=[o];if(c.length%2!=0)throw new ht(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Sm(t,c[M])),y.push(c[M+1]);const _=[],E=Cn.empty();for(let M=p.length-1;M>=0;--M)if(!YT(_,p[M])){const H=p[M];let tt=y[M];tt=vn(tt);const nt=d.yc(H);if(tt instanceof Mh)_.push(H);else{const W=su(tt,nt);W!=null&&(_.push(H),E.set(H,W))}}const w=new Hn(_);return new HT(E,w,d.fieldTransforms)}function su(r,t){if(KT(r=vn(r)))return gg("Unsupported field value:",t,r),QT(r,t);if(r instanceof iu)return(function(a,o){if(!GT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=su(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return JE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ye.fromDate(a);return{timestampValue:uh(o.serializer,c)}}if(a instanceof ye){const c=new ye(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ii)return{bytesValue:uT(o.serializer,a._byteString)};if(a instanceof He){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ki)return(function(d,p){return{mapValue:{fields:{[LE]:{stringValue:PE},[rh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Km(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Bm(a)}`)})(r,t)}function QT(r,t){const i={};return DE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tr(r,((a,o)=>{const c=su(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function KT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ye||r instanceof Qi||r instanceof ii||r instanceof He||r instanceof iu||r instanceof Ki)}function gg(r,t,i){if(!KT(i)||!CE(i)){const a=Bm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Sm(r,t,i){if((t=vn(t))instanceof Dh)return t._internalPath;if(typeof t=="string")return pg(r,t);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const kI=new RegExp("[~\\*/\\[\\]]");function pg(r,t,i){if(t.search(kI)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dh(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ht(J.INVALID_ARGUMENT,p+r+y)}function YT(r,t){return r.some((i=>i.isEqual(t)))}class XT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new UI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field($T("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class UI extends XT{data(){return super.data()}}function $T(r,t){return typeof t=="string"?pg(r,t):t instanceof Dh?t._internalPath:t._delegate._internalPath}function LI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PI{convertValue(t,i="none"){switch(_r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Tr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[rh].arrayValue?.values?.map((a=>De(a.doubleValue)));return new Ki(i)}convertGeoPoint(t){return new Qi(De(t.latitude),De(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=vh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(jo(t));default:return null}}convertTimestamp(t){const i=pr(t);return new ye(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Ee.fromString(t);Wt(gT(a),9688,{name:t});const o=new zo(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return o.isEqual(i)||Ss(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function jI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Co{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ea extends XT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field($T("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ea._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:qe("string",ea._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Yc extends ea{data(t={}){return super.data(t)}}class ol{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Co(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Yc(this._firestore,this._userDataWriter,a.key,a,new Co(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Yc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Co(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:zI(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ol._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function BI(r){r=yi(r,He);const t=yi(r.firestore,aa);return AI(fg(t),r._key).then((i=>JT(t,r,i)))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:qe("string",ol._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class ZT extends PI{constructor(t){super(),this.firestore=t}convertBytes(t){return new ii(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,i)}}function qI(r,t,i){r=yi(r,He);const a=yi(r.firestore,aa),o=jI(r.converter,t);return yg(a,[DI(FT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,_i.none())])}function qn(r,t,i,...a){r=yi(r,He);const o=yi(r.firestore,aa),c=FT(o);let d;return d=typeof(t=vn(t))=="string"||t instanceof Dh?VI(c,"updateDoc",r._key,t,i,a):MI(c,"updateDoc",r._key,t),yg(o,[d.toMutation(r._key,_i.exists(!0))])}function HI(r){return yg(yi(r.firestore,aa),[new Ym(r._key,_i.none())])}function vv(r,...t){r=vn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||_v(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(_v(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof He)d=yi(r.firestore,aa),p=Th(r._key.path),c={next:y=>{t[a]&&t[a](JT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=yi(r,Nh);d=yi(y.firestore,aa),p=y._query;const _=new ZT(d);c={next:E=>{t[a]&&t[a](new ol(d,_,y,E))},error:t[a+1],complete:t[a+2]},LI(r._query)}return(function(_,E,w,M){const H=new jT(M),tt=new NT(E,H,w);return _.asyncQueue.enqueueAndForget((async()=>IT(await bm(_),tt))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>CT(await bm(_),tt)))}})(fg(d),p,o,c)}function yg(r,t){return(function(a,o){const c=new dr;return a.asyncQueue.enqueueAndForget((async()=>fI(await SI(a),o,c))),c.promise})(fg(r),t)}function JT(r,t,i){const a=i.docs.get(t._key),o=new ZT(r);return new ea(r,o,t._key,a,new Co(i.hasPendingWrites,i.fromCache),t.converter)}function Uc(...r){return new dg("arrayUnion",r)}function GI(r){return new mg("increment",r)}(function(t,i=!0){(function(o){El=o})(_l),ul(new na("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new aa(new O2(a.getProvider("auth-internal")),new k2(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(_.options.projectId,E)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),hr(A0,w0,t),hr(A0,w0,"esm2020")})();const FI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Ev=r=>{const t=QI(r);return t.charAt(0).toUpperCase()+t.slice(1)},WT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),KI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var YI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XI=de.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>de.createElement("svg",{ref:y,...YI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:WT("lucide",o),...!c&&!KI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>de.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Ge=(r,t)=>{const i=de.forwardRef(({className:a,...o},c)=>de.createElement(XI,{ref:c,iconNode:t,className:WT(`lucide-${FI(Ev(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Ev(r),i};const $I=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Am=Ge("activity",$I);const ZI=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],Tv=Ge("battery",ZI);const JI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],bv=Ge("book-open",JI);const WI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xd=Ge("circle-check-big",WI);const tC=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],eC=Ge("cpu",tC);const nC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],iC=Ge("eye-off",nC);const sC=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],rC=Ge("fast-forward",sC);const aC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],lC=Ge("hammer",aC);const oC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],uC=Ge("history",oC);const cC=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],wm=Ge("house",cC);const hC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rm=Ge("log-out",hC);const fC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],dC=Ge("rotate-ccw",fC);const mC=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],Sv=Ge("signal",mC);const gC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Zr=Ge("sparkles",gC);const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],la=Ge("target",pC);const yC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_C=Ge("trash-2",yC);const vC=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Av=Ge("trophy",vC);const EC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wv=Ge("user",EC);const TC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],t1=Ge("x",TC);const bC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],SC=Ge("zap",bC),AC=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2f012b1619cb4ef46aa637"},e1=zv(AC),$d=I2(e1),fn=RI(e1),_n=typeof __app_id<"u"?__app_id:"spectrum-game",wC="24",ta={BLUE:{name:"Blue",color:"text-blue-400",bg:"bg-blue-900/40",border:"border-blue-500",icon:Am},GREEN:{name:"Green",color:"text-emerald-400",bg:"bg-emerald-900/40",border:"border-emerald-500",icon:eC},MAGENTA:{name:"Magenta",color:"text-fuchsia-400",bg:"bg-fuchsia-900/40",border:"border-fuchsia-500",icon:la},SILVER:{name:"Silver",color:"text-slate-200",bg:"bg-slate-700/40",border:"border-slate-400",icon:SC}},Lc={BLUE:0,GREEN:1,MAGENTA:2,SILVER:3},Rv=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},RC=({type:r,message:t,subtext:i,icon:a})=>S.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:S.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-fuchsia-900/90 border-fuchsia-500 text-fuchsia-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-slate-900/90 border-slate-500 text-slate-100":""}
    `,children:[a&&S.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:S.jsx(a,{size:64,className:"animate-bounce text-fuchsia-400"})}),S.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&S.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),Zd=()=>S.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-fuchsia-950/20 via-gray-950 to-black"}),S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-fuchsia-900/5 mix-blend-overlay"}),S.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/carbon-fibre.png")'}})]}),xv=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(la,{size:12,className:"text-fuchsia-500"}),S.jsx("span",{className:"text-[10px] font-black tracking-widest text-fuchsia-500 uppercase",children:"SPECTRUM"})]}),xC=()=>S.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[S.jsx(la,{size:22,className:"text-fuchsia-500"}),S.jsx("span",{className:"text-[20px] font-black tracking-widest text-fuchsia-500 uppercase",children:"SPECTRUM"})]}),Iv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:o})=>S.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:S.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[S.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-serif",children:"Abort Frequency?"}),S.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:a?"WARNING: As Host, shutting down the server will disconnect all users.":o?"Leaving now will destabilize the session for all observers!":"Disconnecting from the backroom..."}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Sync'd"}),o&&a&&S.jsxs("button",{onClick:t,className:"py-3 rounded font-bold bg-fuchsia-700 hover:bg-fuchsia-600 text-white flex items-center justify-center gap-2 transition-colors",children:[S.jsx(wm,{size:18})," Return to Backroom"]}),S.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold flex items-center justify-center gap-2 transition-colors",children:[S.jsx(Rm,{size:18})," ",a?"Shut Down Server":"Sever Connection"]})]})]})}),Pc=({suit:r,val:t,faceDown:i,onClick:a,disabled:o,highlight:c,small:d,tiny:p})=>{const y=i?ta.MAGENTA:ta[r]||ta.MAGENTA,_=i?5:t,E=y.icon;if(p)return S.jsx("div",{className:`w-6 h-8 rounded border flex items-center justify-center ${y.bg} ${y.border} shadow-sm shrink-0`,title:r,children:S.jsx("span",{className:`text-[10px] font-black ${y.color}`,children:_})});const w=d?"w-16 h-24 p-2":"w-24 h-36 md:w-32 md:h-48 p-3";return S.jsxs("button",{onClick:a,disabled:o,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between overflow-hidden
        ${w} ${y.bg} ${y.border}
        ${c?"ring-4 ring-fuchsia-400 scale-105 z-10":""}
        ${o?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[i&&S.jsx("div",{className:"absolute inset-0 bg-fuchsia-600/10 flex items-center justify-center pointer-events-none",children:S.jsx(iC,{size:48,className:"text-fuchsia-500/10"})}),S.jsxs("div",{className:`w-full flex justify-between font-black ${d?"text-xs":"text-lg"} ${y.color}`,children:[S.jsx("span",{children:_}),S.jsx(la,{size:d?12:16,opacity:.3})]}),S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx(E,{size:d?20:32,className:`${y.color} mb-1`}),!d&&S.jsx("span",{className:`text-[8px] uppercase tracking-widest font-black ${y.color} opacity-60`,children:i?"MAGENTA 5":y.name})]}),S.jsx("div",{className:`w-full flex justify-start font-black ${d?"text-xs":"text-lg"} ${y.color} rotate-180`,children:S.jsx("span",{children:_})})]})},Cv=({onClose:r})=>S.jsx("div",{className:"fixed inset-0 bg-black/95 z-[170] flex items-center justify-center p-0 md:p-4",children:S.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border border-fuchsia-500/30 shadow-2xl flex flex-col",children:[S.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("h2",{className:"text-2xl md:text-3xl font-black text-fuchsia-500 uppercase tracking-widest font-serif",children:"SYSTEM OVERVIEW"}),S.jsx("span",{className:"text-gray-500 text-[10px] uppercase font-bold tracking-widest",children:"Spectrum Protocol"})]}),S.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",children:S.jsx(t1,{})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-gray-300",children:[S.jsxs("div",{className:"bg-fuchsia-950/20 p-6 rounded-xl border border-fuchsia-500/20",children:[S.jsxs("h3",{className:"text-xl font-bold text-fuchsia-400 mb-2 flex items-center gap-2 font-serif",children:[S.jsx(la,{size:20})," Target: Equilibrium 25"]}),S.jsxs("p",{className:"text-sm md:text-base leading-relaxed opacity-80",children:["Win tricks to collect cards. Your cumulative score must reach"," ",S.jsx("strong",{children:"25"}),". Exceeding 25 causes a"," ",S.jsx("strong",{children:"System Overload (Bust)"}),"you lose chips and forfeit the round score."]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsx("h4",{className:"font-bold text-white uppercase text-[10px] tracking-widest border-b border-gray-800 pb-2",children:"Trick Mechanisms"}),S.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 shrink-0"})," ","Must follow lead suit if possible."]}),S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400 mt-1.5 shrink-0"})," ",S.jsx("strong",{children:"Silver"})," is always Trump."]}),S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Highest card of lead suit (or Trump) takes the trick."]})]})]}),S.jsxs("div",{className:"space-y-4",children:[S.jsx("h4",{className:"font-bold text-fuchsia-400 uppercase text-[10px] tracking-widest border-b border-fuchsia-900/50 pb-2",children:"The Magenta 5 Override"}),S.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Any card can be played ",S.jsx("strong",{children:"Face-Down"})," as a Magenta 5."]}),S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Allowed only if unable to follow suit OR if it's your final card of that suit."]}),S.jsxs("li",{className:"flex gap-2",children:[S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Only ",S.jsx("strong",{children:"one"})," Magenta 5 per trick."]})]})]})]})]}),S.jsx("div",{className:"p-6 bg-gray-950 border-t border-gray-800 text-center",children:S.jsx("button",{onClick:r,className:"w-full md:w-auto bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-16 py-4 rounded-xl font-bold uppercase tracking-widest shadow-lg shadow-fuchsia-900/20",children:"Engage"})})]})});function IC(){const[r,t]=de.useState(null),[i,a]=de.useState("menu"),[o,c]=de.useState(""),[d,p]=de.useState(""),[y,_]=de.useState(""),[E,w]=de.useState(null),[M,H]=de.useState(!1),[tt,nt]=de.useState(""),[W,gt]=de.useState(!1),[Tt,ft]=de.useState(!1),[Ft,ie]=de.useState(!1),[kt,C]=de.useState(null),[A,x]=de.useState("NORMAL"),[V,N]=de.useState(!1);de.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await mw($d,__initial_auth_token):await uw($d))();const Z=yw($d,t);return()=>Z()},[]),de.useEffect(()=>{const Y=localStorage.getItem("spectrum_roomId");Y&&_(Y)},[]),de.useEffect(()=>{if(!y||!r)return;const Y=vv(hn(fn,"artifacts",_n,"public","data","rooms",y),Z=>{if(Z.exists()){const rt=Z.data();if(!rt.players.some(xt=>xt.id===r.uid)){_(""),a("menu"),localStorage.removeItem("spectrum_roomId"),nt("Signal Lost: Kicked by Host");return}w(rt),rt.status==="playing"?a("game"):rt.status==="lobby"?a("lobby"):rt.status==="finished"&&a("game")}else _(""),a("menu"),localStorage.removeItem("spectrum_roomId"),nt("Synchronicity Terminated (Room Closed)")});return()=>Y()},[y,r]),de.useEffect(()=>{if(!E||!r||E.status!=="playing")return;if(E.hostId===r.uid&&E.trick.length===E.players.length){const Z=setTimeout(()=>{K(E.trick,E.players,E.leadSuit)},1200);return()=>clearTimeout(Z)}},[E?.trick?.length,r?.uid,E?.status]),de.useEffect(()=>{const Y=vv(hn(fn,"game_hub_settings","config"),Z=>{Z.exists()&&Z.data()[wC]?.maintenance?N(!0):N(!1)});return()=>Y()},[]);const U=(Y,Z,rt="",pt=null)=>{C({type:Y,message:Z,subtext:rt,icon:pt}),setTimeout(()=>C(null),2e3)},R=async()=>{if(!o)return nt("Identifier Required");H(!0);const Y=Math.random().toString(36).substring(2,7).toUpperCase(),Z={roomId:Y,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:o,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}],deck:[],trick:[],leadSuit:null,turnIndex:0,roundCount:1,logs:[],reserve:0};await qI(hn(fn,"artifacts",_n,"public","data","rooms",Y),Z),localStorage.setItem("spectrum_roomId",Y),_(Y),H(!1)},ue=async()=>{if(!d||!o)return nt("Protocol Data Missing");H(!0);const Y=hn(fn,"artifacts",_n,"public","data","rooms",d),Z=await BI(Y);if(!Z.exists()){nt("Frequency not found"),H(!1);return}const rt=Z.data();if(rt.status!=="lobby"){nt("Session locked"),H(!1);return}if(rt.players.length>=4){nt("Backroom Full"),H(!1);return}const pt=[...rt.players,{id:r.uid,name:o,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}];await qn(Y,{players:pt}),localStorage.setItem("spectrum_roomId",d),_(d),H(!1)},be=async()=>{if(!E||E.hostId!==r.uid)return;const Y=E.players.length,Z=Y===3?9:13,rt=[];Object.keys(ta).forEach(at=>{for(let bt=1;bt<=Z;bt++)rt.push({suit:at,val:bt})});const pt=Rv(rt),xt=Math.floor(pt.length/Y),me=E.players.map(at=>{const bt=[];for(let ce=0;ce<xt;ce++)bt.push(pt.pop());return{...at,hand:bt,scorePile:[],scoreTotal:0,busted:!1,ready:!1}}),Qt=E.status==="playing";await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{status:"playing",deck:pt,players:me,trick:[],leadSuit:null,turnIndex:0,roundResult:null,roundCount:Qt?GI(1):E.roundCount,logs:Uc({text:`Initialized Frequency Sync: Round ${Qt?E.roundCount+1:E.roundCount}`,type:"neutral"})})},G=async()=>{if(!E||E.hostId!==r.uid)return;const Y=E.players.map(Z=>({...Z,chips:5,scoreTotal:0,scorePile:[],hand:[],history:[],busted:!1,ready:!1,roundRank:null}));await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{status:"lobby",roundCount:1,players:Y,deck:[],trick:[],roundResult:null,reserve:0,turnIndex:0,logs:[{text:"--- OPERATION COMPLETE: RETURNING TO BASE ---",type:"neutral"}]})},st=async()=>{if(!E||E.hostId!==r.uid)return;const Y=E.players.length,Z=Y===3?9:13,rt=[];Object.keys(ta).forEach(Qt=>{for(let at=1;at<=Z;at++)rt.push({suit:Qt,val:at})});const pt=Rv(rt),xt=Math.floor(pt.length/Y),me=E.players.map(Qt=>{const at=[];for(let bt=0;bt<xt;bt++)at.push(pt.pop());return{...Qt,chips:5,hand:at,scorePile:[],scoreTotal:0,busted:!1,ready:!1}});await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{status:"playing",deck:pt,players:me,trick:[],leadSuit:null,turnIndex:0,roundCount:1,reserve:0,roundResult:null,logs:[{text:"--- GRID REBOOTED: COMMENCING NEW OPERATION ---",type:"neutral"}]}),ft(!1)},dt=async()=>{if(!E)return;const Y=E.players.map(Z=>Z.id===r.uid?{...Z,ready:!0}:Z);await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{players:Y})},Bt=async()=>{if(!E)return;const Y=E.players.map(Z=>Z.id===r.uid?{...Z,ready:!0}:Z);await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{players:Y})},Xt=async(Y,Z)=>{if(!E||E.turnIndex===null||E.players[E.turnIndex].id!==r.uid)return;const rt=E.players[E.turnIndex],pt=rt.hand[Y];if(E.trick.length>0&&!Z&&rt.hand.some(fe=>fe.suit===E.leadSuit)&&pt.suit!==E.leadSuit){U("failure","DESYNC","Must maintain lead frequency!");return}if(Z){const Nt=rt.hand.some(Ot=>Ot.suit===E.leadSuit),fe=rt.hand.filter(Ot=>Ot.suit===E.leadSuit).length===1&&pt.suit===E.leadSuit;if(E.trick.some(Ot=>Ot.faceDown)){U("failure","JAMMED","One Magenta Override limit!");return}if(E.trick.length>0&&Nt&&!fe){U("failure","INVALID MASK","Cannot mask if able to follow.");return}}const xt=[...E.players],me=E.turnIndex;xt[me].hand.splice(Y,1);const Qt={playerId:r.uid,playerName:rt.name,suit:pt.suit,val:pt.val,faceDown:Z},at=[...E.trick,Qt];let bt=E.leadSuit;E.trick.length===0&&(bt=Z?"MAGENTA":pt.suit);const he=at.length===E.players.length?-1:(E.turnIndex+1)%E.players.length,on=Z?` ${rt.name} initiated MAGENTA_OVERRIDE (MASKED)`:` ${rt.name} transmitted signal: ${pt.suit} ${pt.val}`;await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{players:xt,trick:at,leadSuit:bt,turnIndex:he,logs:Uc({text:on,type:"neutral"})}),x("NORMAL")},O=({roundCount:Y,results:Z,players:rt,isHost:pt,hostId:xt,onReady:me,onNextRound:Qt,onFinalize:at,myId:bt})=>{const ce=rt.filter(qt=>qt.id!==xt),he=ce.every(qt=>qt.ready),on=ce.filter(qt=>qt.ready).length,Nt=ce.length,fe=rt.find(qt=>qt.id===bt),$t=Array.from({length:Y},(qt,Dn)=>Dn+1),Ot=Z.isFinal,Nn=rt.find(qt=>qt.id===Z.winnerId)||rt[0];return Nn?.id,S.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/90 backdrop-blur-xl animate-in fade-in duration-500",children:S.jsxs("div",{className:`w-full max-w-5xl ${Ot?"border-2 border-yellow-500/50 shadow-yellow-900/40":"border border-fuchsia-500/30"} bg-gray-900 rounded-3xl shadow-2xl flex flex-col overflow-hidden max-h-[90vh]`,children:[Ot&&S.jsxs("div",{className:"bg-gradient-to-b from-yellow-900/20 to-gray-900 p-8 text-center shrink-0 border-b border-gray-800 relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),S.jsxs("div",{className:"relative z-10 flex flex-col items-center animate-in slide-in-from-top-10 duration-700",children:[S.jsx(Av,{size:64,className:"text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.6)] mb-4 animate-bounce"}),S.jsx("h1",{className:"text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-b from-yellow-200 to-yellow-600 font-serif tracking-[0.2em] uppercase mb-2",children:Nn.name}),S.jsx("div",{className:"inline-flex items-center gap-2 bg-yellow-950/40 border border-yellow-500/30 px-6 py-2 rounded-full",children:S.jsx("span",{className:"text-yellow-500 font-bold tracking-widest text-xs uppercase",children:"Mission Accomplished"})})]})]}),!Ot&&S.jsxs("div",{className:"p-6 bg-gray-950 border-b border-gray-800 flex justify-between items-center shrink-0",children:[S.jsx("div",{children:S.jsxs("h2",{className:"text-2xl font-black text-white font-serif tracking-widest uppercase",children:["Phase ",Y," Report"]})}),S.jsxs("div",{className:"flex gap-4",children:[Z.reserve>0&&S.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-fuchsia-900/20 rounded-full border border-fuchsia-500/20",children:[S.jsx(Tv,{size:16,className:"text-fuchsia-400"}),S.jsx("span",{className:"text-lg font-mono font-bold text-white",children:Z.reserve})]}),S.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-800/50 rounded-full border border-gray-700",children:[S.jsx("span",{className:"text-[10px] text-gray-400 uppercase font-black",children:"Ready"}),S.jsxs("span",{className:"text-lg font-mono font-bold text-white",children:[on,"/",Nt]})]})]})]}),S.jsxs("div",{className:"p-0 md:p-6 overflow-x-auto flex-1 bg-gray-900",children:[!Ot&&S.jsx("div",{className:"md:hidden text-center text-[10px] text-gray-500 uppercase py-2",children:"Scroll for details "}),S.jsxs("table",{className:"w-full text-left border-collapse whitespace-nowrap",children:[S.jsx("thead",{children:S.jsxs("tr",{className:"text-[10px] text-gray-500 uppercase tracking-widest border-b border-gray-800",children:[S.jsx("th",{className:"pb-3 pl-4 sticky left-0 bg-gray-900 z-20",children:"Rank"}),S.jsx("th",{className:"pb-3 sticky left-14 bg-gray-900 z-20",children:"Unit"}),$t.map(qt=>S.jsxs(q_.Fragment,{children:[S.jsxs("th",{className:"pb-3 text-center px-2 border-l border-gray-800 text-fuchsia-400/50",children:["R",qt," Eq"]}),S.jsx("th",{className:"pb-3 text-center px-2 text-fuchsia-400/50",children:"Diff"})]},qt)),S.jsx("th",{className:"pb-3 text-right pl-4 pr-4 border-l border-gray-800 text-white sticky right-0 bg-gray-900 z-20",children:"Total"})]})}),S.jsx("tbody",{className:"text-sm",children:Z.breakdown.map(qt=>{const Dn=qt.id===bt,vi=rt.find(si=>si.id===qt.id)?.history||[];return S.jsxs("tr",{className:`border-b border-gray-800/50 ${Dn?"bg-fuchsia-900/10":""}`,children:[S.jsx("td",{className:"py-4 pl-4 font-mono text-gray-400 sticky left-0 bg-gray-900/95 z-10",children:qt.busted?S.jsx("span",{className:"text-red-500",children:""}):`#${qt.rank}`}),S.jsx("td",{className:`py-4 font-bold sticky left-14 bg-gray-900/95 z-10 ${Dn?"text-fuchsia-300":"text-gray-300"}`,children:qt.name}),$t.map((si,$i)=>{const Oe=vi[$i];return S.jsxs(q_.Fragment,{children:[S.jsx("td",{className:"py-4 text-center font-mono border-l border-gray-800 px-2 text-gray-500",children:Oe?Oe.eq:"-"}),S.jsx("td",{className:"py-4 text-center font-mono font-bold px-2",children:Oe?Oe.diff>0?S.jsxs("span",{className:"text-green-400",children:["+",Oe.diff]}):Oe.diff<0?S.jsx("span",{className:"text-red-400",children:Oe.diff}):S.jsx("span",{className:"text-gray-600",children:"-"}):"-"})]},si)}),S.jsx("td",{className:"py-4 text-right pr-4 font-mono font-bold text-white border-l border-gray-800 sticky right-0 bg-gray-900/95 z-10",children:qt.chipsTotal})]},qt.id)})})]})]}),S.jsx("div",{className:"p-6 bg-gray-950 border-t border-gray-800 flex justify-end gap-3 shrink-0",children:pt?S.jsx("button",{onClick:Ot?at:Qt,disabled:!Ot&&!he,className:`px-8 py-4 rounded-xl font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all w-full md:w-auto ${Ot?"bg-yellow-600 hover:bg-yellow-500 text-white shadow-lg shadow-yellow-900/20":he?"bg-fuchsia-600 hover:bg-fuchsia-500 text-white shadow-lg":"bg-gray-800 text-gray-600 cursor-not-allowed opacity-50"}`,children:Ot?S.jsxs(S.Fragment,{children:[" ",S.jsx(wm,{size:18})," Return to Base"," "]}):S.jsxs(S.Fragment,{children:[" ",S.jsx(rC,{size:18})," ",he?"Initialize Next Phase":"Awaiting Signals..."," "]})}):S.jsx("button",{onClick:me,disabled:Ot||fe?.ready,className:`px-8 py-4 rounded-xl font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all w-full md:w-auto ${Ot?"bg-gray-800 text-gray-500 cursor-default":fe?.ready?"bg-green-900/30 border border-green-500/50 text-green-500 cursor-default":"bg-fuchsia-600 hover:bg-fuchsia-500 text-white shadow-lg animate-pulse"}`,children:Ot?"Awaiting Host...":fe?.ready?"Standing By":"Signal Ready"})})]})})},K=async(Y,Z,rt)=>{let pt=Y[0].playerId,xt=-1;const me=Y.filter(Nt=>Nt.suit==="SILVER"&&!Nt.faceDown);if(me.length>0)xt=Math.max(...me.map(Nt=>Nt.val)),pt=me.find(Nt=>Nt.val===xt).playerId;else{const Nt=Y.filter(fe=>fe.suit===rt&&!fe.faceDown||fe.faceDown&&rt==="MAGENTA");Nt.length>0&&(xt=Math.max(...Nt.map(fe=>fe.faceDown?5:fe.val)),pt=Nt.find(fe=>(fe.faceDown?5:fe.val)===xt).playerId)}const Qt=Z.findIndex(Nt=>Nt.id===pt),at=Y.find(Nt=>Nt.playerId===pt),bt=at.faceDown?5:at.val,ce=[],he=Z.map(Nt=>({...Nt}));if(he[Qt].scorePile=[...he[Qt].scorePile,at],he[Qt].scoreTotal+=bt,he[Qt].scoreTotal>25&&(he[Qt].busted=!0,ce.push({text:` SYSTEM_OVERLOAD: ${he[Qt].name} BUSTED at ${he[Qt].scoreTotal}`,type:"danger"})),he.every(Nt=>Nt.hand.length===0)){const Nt=JSON.parse(JSON.stringify(he)),fe={};Nt.forEach(At=>fe[At.id]=At.chips);const $t={};Nt.filter(At=>!At.busted).forEach(At=>{const Se=Math.abs(25-At.scoreTotal);$t[Se]||($t[Se]=[]),$t[Se].push(At.id)});const Ot=Object.keys($t).map(Number).sort((At,Se)=>At-Se),Nn=Nt.length===3?[2,1,0]:[3,2,1,0];let qt=E.reserve||0,Dn=0;Ot.forEach(At=>{const Se=$t[At],ca=Nn[Dn]||0,ha=Dn+1;Se.forEach(On=>{const Ae=Nt.find(En=>En.id===On);Ae.chips+=ca,Ae.roundRank=ha,At===0&&(Ae.chips+=1,ce.push({text:` PERFECT_SYNC: ${Ae.name} (+1 Bonus)`,type:"success"}))}),Dn+=Se.length}),Nt.forEach(At=>{At.busted&&(At.chips-=1,At.roundRank=99,qt+=1)});const Fe=$t[Ot[0]]||[];if(Fe.length===1){const At=Nt.find(Se=>Se.id===Fe[0]);qt>0&&(At.chips+=qt,ce.push({text:` RESERVE CAPTURED: ${At.name} (+${qt})`,type:"success"}),qt=0)}Nt.forEach(At=>{Array.isArray(At.history)||(At.history=[]);const Se=At.chips-fe[At.id];At.history.push({eq:Number(At.scoreTotal),diff:Number(Se)})});const si=Nt.map(At=>({id:At.id,name:At.name,chipsTotal:At.chips,rank:At.roundRank,busted:At.busted})).sort((At,Se)=>At.busted===Se.busted?Se.chipsTotal-At.chipsTotal:At.busted?1:-1),$i=[...Nt].sort((At,Se)=>Se.chips-At.chips)[0],Oe=E.roundCount>=4||Nt.some(At=>At.chips>=25);Oe&&qt>0&&(qt=0),await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{players:Nt,trick:[],leadSuit:null,turnIndex:null,status:"playing",reserve:qt,roundResult:{breakdown:si,reserve:qt,isFinal:Oe,winnerId:Oe?$i.id:null},logs:Uc(...ce,{text:`--- Phase ${E.roundCount} Complete ---`,type:"neutral"})})}else await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{players:he,trick:[],leadSuit:null,turnIndex:Qt,logs:Uc(...ce,{text:` Trick secured by ${he[Qt].name}`,type:"success"})})},it=async()=>{if(!y)return;const Y=hn(fn,"artifacts",_n,"public","data","rooms",y);try{if(E?.hostId===r.uid)await HI(Y);else{const Z=E.players.filter(rt=>rt.id!==r.uid);await qn(Y,{players:Z})}}catch(Z){console.error(Z)}localStorage.removeItem("spectrum_roomId"),_(""),a("menu"),ft(!1)},lt=async Y=>{if(!E||E.hostId!==r.uid)return;const Z=E.players.filter(rt=>rt.id!==Y);await qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{players:Z})};if(V)return S.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[S.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[S.jsx(lC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),S.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),S.jsx("p",{className:"text-gray-400",children:"The system is running short of chips. Wait until new chips are built and delivered."})]}),S.jsx("div",{className:"h-8"}),S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:S.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:S.jsx("div",{className:"text-center pb-12 animate-pulse",children:S.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[S.jsx(Zr,{size:16})," Visit Gamehub...Try our other releases..."," ",S.jsx(Zr,{size:16})]})})})})]});if(!r)return S.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-fuchsia-500 font-serif",children:"BOOTING_PROTOCOL..."});if(i==="menu")return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[S.jsx(Zd,{}),W&&S.jsx(Cv,{onClose:()=>gt(!1)}),S.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[S.jsx(la,{size:64,className:"text-fuchsia-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_20px_rgba(217,70,239,0.4)]"}),S.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-fuchsia-300 to-fuchsia-600 font-serif tracking-[0.2em]",children:"SPECTRUM"}),S.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"THE MAGENTA EQUILIBRIUM"})]}),S.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-md border border-fuchsia-500/20 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[tt&&S.jsx("div",{className:"bg-red-900/40 text-red-200 p-3 mb-4 rounded border border-red-800 text-center text-xs",children:tt}),S.jsx("input",{className:"w-full bg-black/60 border border-gray-700 p-3 rounded mb-4 text-white placeholder-gray-600 focus:border-fuchsia-500 outline-none transition-all uppercase font-mono tracking-widest text-sm",placeholder:"AGENT_IDENTIFIER",value:o,onChange:Y=>c(Y.target.value)}),S.jsxs("button",{onClick:R,disabled:M,className:"w-full bg-fuchsia-700 hover:bg-fuchsia-600 p-4 rounded-xl font-black mb-4 flex items-center justify-center gap-2 shadow-lg tracking-widest uppercase transition-all text-sm",children:[S.jsx(la,{size:18})," Establish Grid"]}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[S.jsx("input",{className:"w-full sm:flex-1 bg-black/60 border border-gray-700 p-3 rounded text-white placeholder-gray-600 uppercase font-mono tracking-widest text-sm outline-none",placeholder:"ROOM_CODE",value:d,onChange:Y=>p(Y.target.value.toUpperCase())}),S.jsx("button",{onClick:ue,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-700 px-6 py-3 rounded-xl font-bold text-xs uppercase tracking-widest",children:"Infiltrate"})]}),S.jsxs("button",{onClick:()=>gt(!0),className:"w-full text-[10px] text-gray-500 hover:text-fuchsia-400 flex items-center justify-center gap-2 uppercase tracking-widest",children:[S.jsx(bv,{size:14})," System Manual"]})]}),S.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Fives. A tribute game.",S.jsx("br",{}),"Developed by ",S.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",S.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-fuchsia-500 underline hover:text-fuchsia-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&E){const Y=E.hostId===r.uid;return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[S.jsx(Zd,{}),S.jsx(xC,{}),S.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/95 backdrop-blur-xl p-8 rounded-2xl border border-fuchsia-900/30 shadow-2xl",children:[S.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-800 pb-4",children:[S.jsxs("h2",{className:"text-xl font-serif text-fuchsia-500 tracking-wider",children:["Frequency: ",S.jsx("span",{className:"text-white font-mono",children:y})]}),S.jsx("button",{onClick:()=>ft(!0),className:"p-2 bg-red-900/20 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:S.jsx(Rm,{size:16})})]}),S.jsx("div",{className:"space-y-3 mb-10",children:E.players.map(Z=>S.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-xl border border-gray-800",children:[S.jsxs("span",{className:`font-black flex items-center gap-2 text-sm uppercase tracking-widest ${Z.id===r.uid?"text-fuchsia-400":"text-gray-400"}`,children:[S.jsx(wv,{size:14})," ",Z.name," ",Z.id===E.hostId&&S.jsx(Zr,{size:14,className:"text-yellow-500"})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsxs("span",{className:"text-green-500 text-[10px] font-black uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[S.jsx(Xd,{size:10})," Active"]}),Y&&Z.id!==E.hostId&&S.jsx("button",{onClick:()=>lt(Z.id),className:"p-1.5 text-gray-600 hover:text-red-500 hover:bg-red-900/20 rounded-lg transition-all",title:"Kick Player",children:S.jsx(_C,{size:16})})]})]},Z.id))}),Y?S.jsx("button",{onClick:be,disabled:E.players.length<3,className:`w-full py-5 rounded-xl font-black uppercase tracking-[0.2em] transition-all shadow-xl ${E.players.length>=3?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:E.players.length<3?"Awaiting Data (3-4 Required)":"Commence Protocol"}):S.jsx("div",{className:"text-center text-fuchsia-500/50 animate-pulse font-serif italic text-sm",children:"Synchronizing with host authority..."})]}),Tt&&S.jsx(Iv,{onCancel:()=>ft(!1),onConfirmLeave:it,isHost:Y}),S.jsx(xv,{})]})}if(i==="game"&&E){const Y=E.players.find(at=>at.id===r.uid);if(!Y)return null;const Z=E.turnIndex!==null&&E.turnIndex!==-1&&E.players[E.turnIndex]?.id===r.uid,rt=E.hostId===r.uid,pt=E.turnIndex===null&&E.status==="playing",xt=Y?[...Y.hand].map((at,bt)=>({...at,originalIdx:bt})).sort((at,bt)=>Lc[at.suit]!==Lc[bt.suit]?Lc[at.suit]-Lc[bt.suit]:at.val-bt.val):[],me=E.players.filter(at=>at.id!==E.hostId).every(at=>at.ready),Qt=[...E.players].sort((at,bt)=>bt.chips-at.chips)[0];return S.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[S.jsx(Zd,{}),kt&&S.jsx(RC,{...kt}),W&&S.jsx(Cv,{onClose:()=>gt(!1)}),Tt&&S.jsx(Iv,{onCancel:()=>ft(!1),onConfirmLeave:it,onConfirmLobby:()=>{const at=E.players.map(bt=>({...bt,chips:5,scoreTotal:0,scorePile:[],hand:[],history:[],busted:!1,ready:!1}));qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:at,deck:[],trick:[],logs:[]}),ft(!1)},isHost:rt,inGame:!0}),S.jsxs("div",{className:"h-14 bg-gray-950/90 border-b border-fuchsia-900/30 flex items-center justify-between px-4 z-[160] backdrop-blur-md sticky top-0",children:[S.jsxs("div",{className:"flex items-center gap-2 font-serif font-black text-fuchsia-500 tracking-[0.2em]",children:["SPECTRUM"," ",S.jsxs("span",{className:"text-[10px] text-gray-500 font-sans tracking-widest ml-1 opacity-70",children:["(ROUND ",E.roundCount,")"]})]}),S.jsxs("div",{className:"flex gap-2",children:[E.reserve>0&&S.jsxs("div",{className:"flex items-center gap-1.5 bg-fuchsia-900/40 px-3 py-1 rounded-full border border-fuchsia-500/30 mr-2 animate-in fade-in slide-in-from-right-4 duration-500",children:[S.jsx(Tv,{size:12,className:"text-fuchsia-400"}),S.jsxs("span",{className:"text-[10px] font-black text-fuchsia-300 uppercase tracking-tighter",children:["EXTRA_CHIPS: ",E.reserve]})]}),S.jsx("button",{onClick:()=>gt(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400 transition-colors",children:S.jsx(bv,{size:18})}),S.jsx("button",{onClick:()=>ie(!Ft),className:`p-2 rounded-full ${Ft?"bg-fuchsia-900 text-fuchsia-400":"text-gray-400 hover:bg-gray-800"}`,children:S.jsx(uC,{size:18})}),S.jsx("button",{onClick:()=>ft(!0),className:"p-2 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:S.jsx(Rm,{size:18})})]})]}),S.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 w-full max-w-6xl mx-auto",children:[S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 w-full justify-center",children:E.players.map((at,bt)=>{if(at.id===r.uid)return null;const ce=E.turnIndex===bt;return S.jsxs("div",{className:`bg-black/60 p-3 rounded-xl border-2 transition-all 
                  ${ce?"border-fuchsia-500 scale-105 shadow-xl shadow-fuchsia-900/40 animate-pulse":"border-gray-800"} 
                  ${at.busted?"opacity-30 grayscale":""}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("span",{className:"font-black text-[10px] uppercase tracking-wider truncate max-w-[70px]",children:at.name}),S.jsxs("div",{className:"flex gap-1 items-center bg-gray-900 px-2 rounded-full border border-gray-700",children:[S.jsx(Zr,{size:8,className:"text-yellow-400"}),S.jsx("span",{className:"text-[10px] font-mono",children:at.chips})]})]}),S.jsxs("div",{className:"flex justify-between items-end",children:[S.jsx("div",{className:"flex -space-x-3",children:at.hand.map((he,on)=>S.jsx("div",{className:"w-4 h-6 bg-fuchsia-950 rounded border border-fuchsia-800"},on))}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:`text-[10px] font-black tracking-tighter ${at.busted?"text-red-500":"text-fuchsia-400"}`,children:["EQ: ",at.scoreTotal]}),S.jsx("div",{className:"flex flex-wrap gap-0.5 justify-end max-w-[80px]",children:at.scorePile.map((he,on)=>S.jsx(Pc,{...he,tiny:!0},on))})]})]})]},at.id)})}),S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[pt&&E.roundResult&&E.roundResult.breakdown&&S.jsx(O,{roundCount:E.roundCount,results:E.roundResult,players:E.players,isHost:rt,hostId:E.hostId,myId:r.uid,onReady:Bt,onNextRound:be,onFinalize:G}),S.jsxs("div",{className:"relative w-full max-w-md flex flex-wrap gap-4 justify-center items-center",children:[E.trick.map((at,bt)=>S.jsxs("div",{className:"animate-in zoom-in slide-in-from-bottom-4 duration-500",children:[S.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-black text-center mb-1 tracking-tighter truncate w-24",children:at.playerName}),S.jsx(Pc,{...at,small:!0})]},bt)),E.trick.length===0&&!pt&&S.jsxs("div",{className:"text-gray-800 uppercase tracking-[0.5em] font-black text-center opacity-40 select-none flex flex-col items-center",children:[S.jsx(Am,{size:64,className:"mb-4 text-fuchsia-900"}),"IDLE_GRID"]})]}),E.leadSuit&&!pt&&S.jsxs("div",{className:"mt-8 bg-gray-900/80 border border-fuchsia-500/20 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.2em] backdrop-blur-md",children:["Protocol:"," ",S.jsx("span",{className:ta[E.leadSuit]?.color,children:ta[E.leadSuit]?.name})]})]}),S.jsxs("div",{className:"w-full bg-gray-900/98 border-t-2 border-fuchsia-500/20 p-4 md:p-6 rounded-t-[2.5rem] shadow-[0_-20px_50px_rgba(0,0,0,0.8)] backdrop-blur-2xl",children:[S.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-3 mb-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:`px-5 py-3 rounded-2xl flex items-center gap-3 border transition-all ${Y.busted?"bg-red-950/40 border-red-500 shadow-red-900/20":"bg-fuchsia-950/40 border-fuchsia-500 shadow-fuchsia-900/20"}`,children:[S.jsx(Am,{className:Y.busted?"text-red-500":"text-fuchsia-400",size:24}),S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:`text-2xl font-black leading-none ${Y.busted?"text-red-500":"text-fuchsia-100"}`,children:Y.scoreTotal}),S.jsx("span",{className:"text-[8px] uppercase font-black tracking-widest text-gray-500",children:"Equilibrium"})]})]}),S.jsxs("div",{className:"bg-slate-900 border border-slate-700 px-4 py-2 rounded-xl flex items-center gap-2",children:[S.jsx(Zr,{size:16,className:"text-yellow-400"}),S.jsx("span",{className:"text-xl font-mono font-bold",children:Y.chips})]}),S.jsxs("div",{className:"flex flex-col border-l border-gray-800 pl-4 ml-2",children:[S.jsx("span",{className:"text-[8px] uppercase text-gray-500 font-black mb-1",children:"Acquired"}),S.jsx("div",{className:"flex flex-wrap gap-0.5 max-w-[150px]",children:Y.scorePile.map((at,bt)=>S.jsx(Pc,{...at,tiny:!0},bt))})]})]}),Z&&!pt&&S.jsxs("div",{className:"flex bg-black/50 p-1.5 rounded-xl border border-gray-800 shadow-inner",children:[S.jsx("button",{onClick:()=>x("NORMAL"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${A==="NORMAL"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Signal"}),S.jsx("button",{onClick:()=>x("FACEDOWN"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${A==="FACEDOWN"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Override"})]})]}),S.jsxs("div",{className:"flex gap-3 overflow-x-auto pt-6 pb-8 px-4 justify-start lg:justify-center items-end h-64 scrollbar-hide scroll-smooth",children:[xt.map(at=>S.jsx("div",{className:`${Z?"hover:translate-y-[-10px]":""} transition-transform duration-300 shrink-0`,children:S.jsx(Pc,{suit:at.suit,val:at.val,faceDown:A==="FACEDOWN",onClick:()=>Z&&Xt(at.originalIdx,A==="FACEDOWN"),disabled:!Z,highlight:Z})},at.originalIdx)),Y.hand.length===0&&E.trick.length>0&&S.jsx("div",{className:"text-gray-600 font-black uppercase text-xs animate-pulse",children:"Syncing Pulse..."}),Y.hand.length===0&&E.trick.length===0&&!pt&&E.status!=="finished"&&S.jsx("div",{className:"text-fuchsia-600 font-black uppercase text-xs animate-pulse",children:"Protocol Initializing..."})]})]})]}),Ft&&S.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-[155] overflow-y-auto p-2 shadow-2xl",children:S.jsxs("div",{className:"bg-gray-900 border border-gray-800 w-full max-w-md h-[60vh] rounded-2xl flex flex-col shadow-2xl overflow-hidden",children:[S.jsxs("div",{className:"p-4 bg-gray-950 flex justify-between items-center border-b border-gray-800",children:[S.jsx("span",{className:"font-serif font-black text-fuchsia-500 tracking-widest uppercase text-sm",children:"System_Logs"}),S.jsx("button",{onClick:()=>ie(!1),children:S.jsx(t1,{size:20,className:"text-gray-500"})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs].reverse().map((at,bt)=>S.jsx("div",{className:`text-[10px] font-mono p-2 border-l-2 bg-black/30 ${at.type==="success"?"border-fuchsia-500 text-fuchsia-300":at.type==="danger"?"border-red-500 text-red-300":"border-gray-700 text-gray-500"}`,children:at.text},bt))})]})}),E.status==="finished"&&S.jsxs("div",{className:"fixed inset-0 top-14 bg-black/95 z-[150] flex flex-col items-center justify-center p-4 backdrop-blur-2xl",children:[S.jsxs("div",{className:"relative mb-10",children:[S.jsx(Av,{size:100,className:"text-yellow-400 drop-shadow-[0_0_30px_rgba(250,204,21,0.5)] animate-bounce"}),S.jsx("span",{className:"absolute -top-4 -right-4 text-fuchsia-400 animate-pulse",children:S.jsx(Zr,{size:32})})]}),S.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-black text-white mb-2 uppercase tracking-[0.4em] text-center",children:"SYNCHRONIZED"}),S.jsx("div",{className:"bg-fuchsia-950/40 border border-fuchsia-500/30 px-6 py-2 rounded-full mb-12",children:S.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs tracking-[0.2em] uppercase font-black",children:["Protocol_Victor:"," ",S.jsx("span",{className:"text-white ml-2",children:Qt?.name})]})}),S.jsxs("div",{className:"w-full max-w-lg space-y-3 mb-16 overflow-y-auto max-h-[30vh]",children:[S.jsx("h3",{className:"text-center text-[10px] font-black text-gray-600 uppercase tracking-[0.3em] mb-4",children:"Unit Summary"}),E.players.map(at=>S.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${at.id===Qt.id?"bg-fuchsia-900/30 border-fuchsia-500 shadow-lg shadow-fuchsia-900/20":"bg-black/40 border-gray-800 opacity-80"}`,children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(wv,{size:18,className:at.id===Qt.id?"text-fuchsia-400":"text-gray-600"}),S.jsx("span",{className:`font-black text-sm uppercase tracking-wider ${at.id===Qt.id?"text-fuchsia-100":"text-gray-400"}`,children:at.name}),at.ready&&at.id!==E.hostId&&S.jsx(Xd,{size:14,className:"text-green-500 ml-2"})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Zr,{size:14,className:"text-yellow-400"}),S.jsx("span",{className:"font-mono text-lg font-bold",children:at.chips})]})]},at.id))]}),S.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[rt?S.jsxs(S.Fragment,{children:[!me&&S.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-[10px] font-black uppercase tracking-widest animate-pulse mb-2",children:[S.jsx(Sv,{size:12})," Awaiting Signal from Observers..."]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("button",{onClick:st,disabled:!me,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 shadow-xl transition-all ${me?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50"}`,children:[S.jsx(dC,{size:16})," Reboot"]}),S.jsxs("button",{onClick:()=>{const at=E.players.map(bt=>({...bt,ready:!1}));qn(hn(fn,"artifacts",_n,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:at}),ft(!1)},disabled:!me,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 border transition-all ${me?"border-fuchsia-600 text-fuchsia-400 hover:bg-fuchsia-900/20":"border-gray-800 text-gray-600 cursor-not-allowed opacity-50"}`,children:[S.jsx(wm,{size:16})," Backroom"]})]})]}):S.jsx("button",{onClick:dt,disabled:Y?.ready,className:`w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 shadow-xl transition-all ${Y?.ready?"bg-black/50 border border-green-500 text-green-500 cursor-default":"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20"}`,children:Y?.ready?S.jsxs(S.Fragment,{children:[S.jsx(Xd,{size:20})," Signal_Acquired"]}):S.jsxs(S.Fragment,{children:[S.jsx(Sv,{size:20})," Transmit_Readiness"]})}),S.jsx("button",{onClick:it,className:"w-full bg-transparent hover:bg-red-950/20 text-gray-600 hover:text-red-400 py-4 rounded-xl font-bold uppercase tracking-[0.2em] text-[10px] transition-all",children:"Sever_Connection"})]})]}),S.jsx(xv,{})]})}return null}qb.createRoot(document.getElementById("root")).render(S.jsx(de.StrictMode,{children:S.jsx(IC,{})}));
