(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xd={exports:{}},_l={};var L_;function Rb(){if(L_)return _l;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=i,_l.jsxs=i,_l}var P_;function Cb(){return P_||(P_=1,xd.exports=Rb()),xd.exports}var I=Cb(),Nd={exports:{}},At={};var z_;function Ib(){if(z_)return At;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function G(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function gt(x,H,J){this.props=x,this.context=H,this.refs=W,this.updater=J||tt}gt.prototype.isReactComponent={},gt.prototype.setState=function(x,H){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,H,"setState")},gt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function bt(){}bt.prototype=gt.prototype;function pt(x,H,J){this.props=x,this.context=H,this.refs=W,this.updater=J||tt}var qt=pt.prototype=new bt;qt.constructor=pt,st(qt,gt.prototype),qt.isPureReactComponent=!0;var $t=Array.isArray;function Dt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(x,H,J){var it=J.ref;return{$$typeof:r,type:x,key:H,ref:it!==void 0?it:null,props:J}}function V(x,H){return C(x.type,H,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function U(x){var H={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(J){return H[J]})}var w=/\/+/g;function ne(x,H){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):H.toString(36)}function pe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Dt,Dt):(x.status="pending",x.then(function(H){x.status==="pending"&&(x.status="fulfilled",x.value=H)},function(H){x.status==="pending"&&(x.status="rejected",x.reason=H)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function F(x,H,J,it,ht){var Z=typeof x;(Z==="undefined"||Z==="boolean")&&(x=null);var ut=!1;if(x===null)ut=!0;else switch(Z){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(x.$$typeof){case r:case t:ut=!0;break;case E:return ut=x._init,F(ut(x._payload),H,J,it,ht)}}if(ut)return ht=ht(x),ut=it===""?"."+ne(x,0):it,$t(ht)?(J="",ut!=null&&(J=ut.replace(w,"$&/")+"/"),F(ht,H,J,"",function(Et){return Et})):ht!=null&&(O(ht)&&(ht=V(ht,J+(ht.key==null||x&&x.key===ht.key?"":(""+ht.key).replace(w,"$&/")+"/")+ut)),H.push(ht)),1;ut=0;var zt=it===""?".":it+":";if($t(x))for(var Ht=0;Ht<x.length;Ht++)it=x[Ht],Z=zt+ne(it,Ht),ut+=F(it,H,J,Z,ht);else if(Ht=G(x),typeof Ht=="function")for(x=Ht.call(x),Ht=0;!(it=x.next()).done;)it=it.value,Z=zt+ne(it,Ht++),ut+=F(it,H,J,Z,ht);else if(Z==="object"){if(typeof x.then=="function")return F(pe(x),H,J,it,ht);throw H=String(x),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ut}function rt(x,H,J){if(x==null)return x;var it=[],ht=0;return F(x,it,"","",function(Z){return H.call(J,Z,ht++)}),it}function dt(x){if(x._status===-1){var H=x._result;H=H(),H.then(function(J){(x._status===0||x._status===-1)&&(x._status=1,x._result=J)},function(J){(x._status===0||x._status===-1)&&(x._status=2,x._result=J)}),x._status===-1&&(x._status=0,x._result=H)}if(x._status===1)return x._result.default;throw x._result}var et=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},at={map:rt,forEach:function(x,H,J){rt(x,function(){H.apply(this,arguments)},J)},count:function(x){var H=0;return rt(x,function(){H++}),H},toArray:function(x){return rt(x,function(H){return H})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=A,At.Children=at,At.Component=gt,At.Fragment=i,At.Profiler=l,At.PureComponent=pt,At.StrictMode=a,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return N.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,H,J){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=st({},x.props),ht=x.key;if(H!=null)for(Z in H.key!==void 0&&(ht=""+H.key),H)!S.call(H,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&H.ref===void 0||(it[Z]=H[Z]);var Z=arguments.length-2;if(Z===1)it.children=J;else if(1<Z){for(var ut=Array(Z),zt=0;zt<Z;zt++)ut[zt]=arguments[zt+2];it.children=ut}return C(x.type,ht,it)},At.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},At.createElement=function(x,H,J){var it,ht={},Z=null;if(H!=null)for(it in H.key!==void 0&&(Z=""+H.key),H)S.call(H,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(ht[it]=H[it]);var ut=arguments.length-2;if(ut===1)ht.children=J;else if(1<ut){for(var zt=Array(ut),Ht=0;Ht<ut;Ht++)zt[Ht]=arguments[Ht+2];ht.children=zt}if(x&&x.defaultProps)for(it in ut=x.defaultProps,ut)ht[it]===void 0&&(ht[it]=ut[it]);return C(x,Z,ht)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:p,render:x}},At.isValidElement=O,At.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:dt}},At.memo=function(x,H){return{$$typeof:_,type:x,compare:H===void 0?null:H}},At.startTransition=function(x){var H=N.T,J={};N.T=J;try{var it=x(),ht=N.S;ht!==null&&ht(J,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Dt,et)}catch(Z){et(Z)}finally{H!==null&&J.types!==null&&(H.types=J.types),N.T=H}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(x){return N.H.use(x)},At.useActionState=function(x,H,J){return N.H.useActionState(x,H,J)},At.useCallback=function(x,H){return N.H.useCallback(x,H)},At.useContext=function(x){return N.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,H){return N.H.useDeferredValue(x,H)},At.useEffect=function(x,H){return N.H.useEffect(x,H)},At.useEffectEvent=function(x){return N.H.useEffectEvent(x)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(x,H,J){return N.H.useImperativeHandle(x,H,J)},At.useInsertionEffect=function(x,H){return N.H.useInsertionEffect(x,H)},At.useLayoutEffect=function(x,H){return N.H.useLayoutEffect(x,H)},At.useMemo=function(x,H){return N.H.useMemo(x,H)},At.useOptimistic=function(x,H){return N.H.useOptimistic(x,H)},At.useReducer=function(x,H,J){return N.H.useReducer(x,H,J)},At.useRef=function(x){return N.H.useRef(x)},At.useState=function(x){return N.H.useState(x)},At.useSyncExternalStore=function(x,H,J){return N.H.useSyncExternalStore(x,H,J)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.3",At}var j_;function Rm(){return j_||(j_=1,Nd.exports=Ib()),Nd.exports}var ge=Rm(),Dd={exports:{}},vl={},Od={exports:{}},Md={};var B_;function xb(){return B_||(B_=1,(function(r){function t(F,rt){var dt=F.length;F.push(rt);t:for(;0<dt;){var et=dt-1>>>1,at=F[et];if(0<l(at,rt))F[et]=rt,F[dt]=at,dt=et;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var rt=F[0],dt=F.pop();if(dt!==rt){F[0]=dt;t:for(var et=0,at=F.length,x=at>>>1;et<x;){var H=2*(et+1)-1,J=F[H],it=H+1,ht=F[it];if(0>l(J,dt))it<at&&0>l(ht,J)?(F[et]=ht,F[it]=dt,et=it):(F[et]=J,F[H]=dt,et=H);else if(it<at&&0>l(ht,dt))F[et]=ht,F[it]=dt,et=it;else break t}}return rt}function l(F,rt){var dt=F.sortIndex-rt.sortIndex;return dt!==0?dt:F.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,A=null,M=3,G=!1,tt=!1,st=!1,W=!1,gt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function qt(F){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=F)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function $t(F){if(st=!1,qt(F),!tt)if(i(y)!==null)tt=!0,Dt||(Dt=!0,U());else{var rt=i(_);rt!==null&&pe($t,rt.startTime-F)}}var Dt=!1,N=-1,S=5,C=-1;function V(){return W?!0:!(r.unstable_now()-C<S)}function O(){if(W=!1,Dt){var F=r.unstable_now();C=F;var rt=!0;try{t:{tt=!1,st&&(st=!1,bt(N),N=-1),G=!0;var dt=M;try{e:{for(qt(F),A=i(y);A!==null&&!(A.expirationTime>F&&V());){var et=A.callback;if(typeof et=="function"){A.callback=null,M=A.priorityLevel;var at=et(A.expirationTime<=F);if(F=r.unstable_now(),typeof at=="function"){A.callback=at,qt(F),rt=!0;break e}A===i(y)&&a(y),qt(F)}else a(y);A=i(y)}if(A!==null)rt=!0;else{var x=i(_);x!==null&&pe($t,x.startTime-F),rt=!1}}break t}finally{A=null,M=dt,G=!1}rt=void 0}}finally{rt?U():Dt=!1}}}var U;if(typeof pt=="function")U=function(){pt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=O,U=function(){ne.postMessage(null)}}else U=function(){gt(O,0)};function pe(F,rt){N=gt(function(){F(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var rt=3;break;default:rt=M}var dt=M;M=rt;try{return F()}finally{M=dt}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,rt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=M;M=F;try{return rt()}finally{M=dt}},r.unstable_scheduleCallback=function(F,rt,dt){var et=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?et+dt:et):dt=et,F){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=dt+at,F={id:E++,callback:rt,priorityLevel:F,startTime:dt,expirationTime:at,sortIndex:-1},dt>et?(F.sortIndex=dt,t(_,F),i(y)===null&&F===i(_)&&(st?(bt(N),N=-1):st=!0,pe($t,dt-et))):(F.sortIndex=at,t(y,F),tt||G||(tt=!0,Dt||(Dt=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var rt=M;return function(){var dt=M;M=rt;try{return F.apply(this,arguments)}finally{M=dt}}}})(Md)),Md}var q_;function Nb(){return q_||(q_=1,Od.exports=xb()),Od.exports}var Vd={exports:{}},We={};var H_;function Db(){if(H_)return We;H_=1;var r=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},We.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},We.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},We.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},We.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:G}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},We.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},We.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},We.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},We.requestFormReset=function(y){a.d.r(y)},We.unstable_batchedUpdates=function(y,_){return y(_)},We.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},We.useFormStatus=function(){return d.H.useHostTransitionStatus()},We.version="19.2.3",We}var G_;function Ob(){if(G_)return Vd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=Db(),Vd.exports}var F_;function Mb(){if(F_)return vl;F_=1;var r=Nb(),t=Rm(),i=Ob();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case gt:return"Profiler";case W:return"StrictMode";case $t:return"Suspense";case Dt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case pt:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var pe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},et=[],at=-1;function x(e){return{current:e}}function H(e){0>at||(e.current=et[at],et[at]=null,at--)}function J(e,n){at++,et[at]=e.current,e.current=n}var it=x(null),ht=x(null),Z=x(null),ut=x(null);function zt(e,n){switch(J(Z,n),J(ht,e),J(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(it),J(it,e)}function Ht(){H(it),H(ht),H(Z)}function Et(e){e.memoizedState!==null&&J(ut,e);var n=it.current,s=o_(n,e.type);n!==s&&(J(ht,e),J(it,s))}function ie(e){ht.current===e&&(H(it),H(ht)),ut.current===e&&(H(ut),ml._currentValue=dt)}var Le,Bi;function un(e){if(Le===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Le=n&&n[1]||"",Bi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+e+Bi}var ui=!1;function qi(e,n){if(!e||ui)return"";ui=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),z=T.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var Q=`
`+R[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{ui=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?un(s):""}function Me(e,n){switch(e.tag){case 26:case 27:case 5:return un(e.type);case 16:return un("Lazy");case 13:return e.child!==n&&n!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return qi(e.type,!1);case 11:return qi(e.type.render,!1);case 1:return qi(e.type,!0);case 31:return un("Activity");default:return""}}function Je(e){try{var n="",s=null;do n+=Me(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var oe=Object.prototype.hasOwnProperty,ce=r.unstable_scheduleCallback,Kn=r.unstable_cancelCallback,po=r.unstable_shouldYield,tu=r.unstable_requestPaint,rn=r.unstable_now,pr=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,eu=r.unstable_IdlePriority,nu=r.log,iu=r.unstable_setDisableYieldValue,Yn=null,qe=null;function xn(e){if(typeof nu=="function"&&iu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Yn,e)}catch{}}var ye=Math.clz32?Math.clz32:ru,su=Math.log,ea=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/ea|0)|0}var ci=256,yr=262144,be=4194304;function hi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=hi(o):(g&=T,g!==0?h=hi(g):s||(s=T&~e,s!==0&&(h=hi(s))))):(T=o&~f,T!==0?h=hi(T):g!==0?h=hi(g):s||(s=o&~e,s!==0&&(h=hi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function di(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-ye(s),Y=1<<Q;T[Q]=0,R[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var q=j[Q];q!==null&&(q.lane&=-536870913)}s&=~Y}o!==0&&vr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function vr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ye(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function vo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ye(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Eo(e,n){var s=n&-n;return s=(s&42)!==0?1:Er(s),(s&(e.suspendedLanes|n))!==0?0:s}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function $n(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var Zn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Zn,Pe="__reactProps$"+Zn,mi="__reactContainer$"+Zn,na="__reactEvents$"+Zn,Vh="__reactListeners$"+Zn,lu="__reactHandles$"+Zn,uu="__reactResources$"+Zn,gi="__reactMarker$"+Zn;function ia(e){delete e[Se],delete e[Pe],delete e[na],delete e[Vh],delete e[lu]}function pi(e){var n=e[Se];if(n)return n;for(var s=e.parentNode;s;){if(n=s[mi]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=m_(e);e!==null;){if(s=e[Se])return s;e=m_(e)}return n}e=s,s=e.parentNode}return null}function Nn(e){if(e=e[Se]||e[mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function yi(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[gi]=!0}var To=new Set,bo={};function _i(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(bo[e]=n,e=0;e<n.length;e++)To.add(n[e])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},wo={};function cu(e){return oe.call(wo,e)?!0:oe.call(Ao,e)?!1:So.test(e)?wo[e]=!0:(Ao[e]=!0,!1)}function sa(e,n,s){if(cu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function En(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function we(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=vs(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function Tr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var br=/[\n"\\]/g;function cn(e){return e.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,ze(n)):s!=null?Co(e,g,ze(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ze(T):e.removeAttribute("name")}function hu(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Kt(e)}function Co(e,n,s){n==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Es(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function Ts(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(pe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function hn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||du.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function xo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Io(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return bs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var No=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ss=null,Ti=null;function Sr(e){var n=Nn(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Tr(o)}break t;case"textarea":fu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Es(e,!!s.multiple,n,!1)}}}var la=!1;function As(e,n,s){if(la)return e(n,s);la=!0;try{var o=e(n);return o}finally{if(la=!1,(Ss!==null||Ti!==null)&&(oc(),Ss&&(n=Ss,e=Ti,Ti=Ss=null,Sr(n),e)))for(n=0;n<e.length;n++)Sr(e[n])}}function Wn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Pe]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ar=!1;if(On)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Ar=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Ar=!1}var bi=null,Do=null,wr=null;function Oo(){if(wr)return wr;var e,n=Do,s=n.length,o,h="value"in bi?bi.value:bi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return wr=h.slice(e,1<o?1-o:void 0)}function Rr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function ti(){return!1}function He(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ti,this.isPropagationStopped=ti,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=He(Fi),ws=A({},Fi,{view:0,detail:0}),Mo=He(ws),Rs,ua,Ai,ca=A({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(Rs=e.screenX-Ai.screenX,ua=e.screenY-Ai.screenY):ua=Rs=0,Ai=e),Rs)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Vo=He(ca),Cr=A({},ca,{dataTransfer:0}),gu=He(Cr),pu=A({},ws,{relatedTarget:0}),Ir=He(pu),ko=A({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=He(ko),ha=A({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=He(ha),vu=A({},Fi,{data:0}),wi=He(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function Cs(){return Su}var an=A({},ws,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=He(an),wu=A({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=He(wu),u=A({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=He(u),v=A({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=He(v),L=A({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=He(L),nt=A({},Fi,{newState:0,oldState:0}),Rt=He(nt),_e=[9,13,27,32],Gt=On&&"CompositionEvent"in window,le=null;On&&"documentMode"in document&&(le=document.documentMode);var Mn=On&&"TextEvent"in window&&!le,Ri=On&&(!Gt||le&&8<le&&11>=le),ei=" ",ni=!1;function xr(e,n){switch(e){case"keyup":return _e.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function $T(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function ZT(e,n){if(da)return e==="compositionend"||!Gt&&xr(e,n)?(e=Oo(),wr=Do=bi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var JT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!JT[e.type]:n==="textarea"}function _g(e,n,s,o){Ss?Ti?Ti.push(o):Ti=[o]:Ss=o,n=mc(n,"onChange"),0<n.length&&(s=new Si("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Uo=null,Lo=null;function WT(e){t_(e,0)}function Ru(e){var n=vn(e);if(Tr(n))return e}function vg(e,n){if(e==="change")return n}var Eg=!1;if(On){var kh;if(On){var Uh="oninput"in document;if(!Uh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Uh=typeof Tg.oninput=="function"}kh=Uh}else kh=!1;Eg=kh&&(!document.documentMode||9<document.documentMode)}function bg(){Uo&&(Uo.detachEvent("onpropertychange",Sg),Lo=Uo=null)}function Sg(e){if(e.propertyName==="value"&&Ru(Lo)){var n=[];_g(n,Lo,e,Dn(e)),As(WT,n)}}function t1(e,n,s){e==="focusin"?(bg(),Uo=n,Lo=s,Uo.attachEvent("onpropertychange",Sg)):e==="focusout"&&bg()}function e1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Lo)}function n1(e,n){if(e==="click")return Ru(n)}function i1(e,n){if(e==="input"||e==="change")return Ru(n)}function s1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:s1;function Po(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!oe.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,n){var s=Ag(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ag(s)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ei(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ei(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var r1=On&&"documentMode"in document&&11>=document.documentMode,ma=null,Ph=null,zo=null,zh=!1;function Ig(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ma==null||ma!==Ei(o)||(o=ma,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=mc(Ph,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ma)))}function Nr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ga={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},jh={},xg={};On&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Dr(e){if(jh[e])return jh[e];if(!ga[e])return e;var n=ga[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in xg)return jh[e]=n[s];return e}var Ng=Dr("animationend"),Dg=Dr("animationiteration"),Og=Dr("animationstart"),a1=Dr("transitionrun"),o1=Dr("transitionstart"),l1=Dr("transitioncancel"),Mg=Dr("transitionend"),Vg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function ii(e,n){Vg.set(e,n),_i(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],pa=0,qh=0;function Iu(){for(var e=pa,n=qh=pa=0;n<e;){var s=Vn[n];Vn[n++]=null;var o=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&kg(s,h,f)}}function xu(e,n,s,o){Vn[pa++]=e,Vn[pa++]=n,Vn[pa++]=s,Vn[pa++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,s,o){return xu(e,n,s,o),Nu(e)}function Or(e,n){return xu(e,null,null,n),Nu(e)}function kg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ye(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(e){if(50<ol)throw ol=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function u1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,s,o){return new u1(e,n,s,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var s=e.alternate;return s===null?(s=bn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ug(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Gh(e)&&(g=1);else if(typeof e=="string")g=mb(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=bn(31,s,n,h),e.elementType=C,e.lanes=f,e;case st:return Mr(s.children,h,f,n);case W:g=8,h|=24;break;case gt:return e=bn(12,s,n,h|2),e.elementType=gt,e.lanes=f,e;case $t:return e=bn(13,s,n,h),e.elementType=$t,e.lanes=f,e;case Dt:return e=bn(19,s,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case bt:g=9;break t;case qt:g=11;break t;case N:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=bn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Mr(e,n,s,o){return e=bn(7,e,o,n),e.lanes=s,e}function Fh(e,n,s){return e=bn(6,e,null,n),e.lanes=s,e}function Lg(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function Qh(e,n,s){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pg=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var s=Pg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Je(n)},Pg.set(e,n),n)}return{value:e,source:n,stack:Je(n)}}var _a=[],va=0,Ou=null,jo=0,Un=[],Ln=0,Is=null,Ci=1,Ii="";function Yi(e,n){_a[va++]=jo,_a[va++]=Ou,Ou=e,jo=n}function zg(e,n,s){Un[Ln++]=Ci,Un[Ln++]=Ii,Un[Ln++]=Is,Is=e;var o=Ci;e=Ii;var h=32-ye(o)-1;o&=~(1<<h),s+=1;var f=32-ye(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ci=1<<32-ye(n)+h|s<<h|o,Ii=f+e}else Ci=1<<f|s<<h|o,Ii=e}function Kh(e){e.return!==null&&(Yi(e,1),zg(e,1,0))}function Yh(e){for(;e===Ou;)Ou=_a[--va],_a[va]=null,jo=_a[--va],_a[va]=null;for(;e===Is;)Is=Un[--Ln],Un[Ln]=null,Ii=Un[--Ln],Un[Ln]=null,Ci=Un[--Ln],Un[Ln]=null}function jg(e,n){Un[Ln++]=Ci,Un[Ln++]=Ii,Un[Ln++]=Is,Ci=n.id,Ii=n.overflow,Is=e}var Ge=null,se=null,Lt=!1,xs=null,Pn=!1,Xh=Error(a(519));function Ns(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bo(kn(n,e)),Xh}function Bg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Se]=e,n[Pe]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<ul.length;s++)Nt(ul[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||s_(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Ns(e,!0)}function qg(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ge=Ge.return}}function Ea(e){if(e!==Ge)return!1;if(!Lt)return qg(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||md(e.type,e.memoizedProps)),s=!s),s&&se&&Ns(e),qg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=d_(e)}else n===27?(n=se,Gs(e.type)?(e=vd,vd=null,se=e):se=n):se=Ge?jn(e.stateNode.nextSibling):null;return!0}function Vr(){se=Ge=null,Lt=!1}function $h(){var e=xs;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),xs=null),e}function Bo(e){xs===null?xs=[e]:xs.push(e)}var Zh=x(null),kr=null,Xi=null;function Ds(e,n,s){J(Zh,n._currentValue),n._currentValue=s}function $i(e){e._currentValue=Zh.current,H(Zh)}function Jh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Wh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Jh(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Jh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ml):e=[ml])}h=h.return}e!==null&&Wh(n,e,s,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ur(e){kr=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Hg(kr,e)}function Vu(e,n){return kr===null&&Ur(e),Hg(e,n)}function Hg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return s}var c1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},h1=r.unstable_scheduleCallback,f1=r.unstable_NormalPriority,Re={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new c1,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&h1(f1,function(){e.controller.abort()})}var Ho=null,ef=0,ba=0,Sa=null;function d1(e,n){if(Ho===null){var s=Ho=[];ef=0,ba=rd(),Sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ef++,n.then(Gg,Gg),n}function Gg(){if(--ef===0&&Ho!==null){Sa!==null&&(Sa.status="fulfilled");var e=Ho;Ho=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function m1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fg=F.S;F.S=function(e,n){Iy=rn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&d1(e,n),Fg!==null&&Fg(e,n)};var Lr=x(null);function nf(){var e=Lr.current;return e!==null?e:ee.pooledCache}function ku(e,n){n===null?J(Lr,Lr.current):J(Lr,n.pool)}function Qg(){var e=nf();return e===null?null:{parent:Re._currentValue,pool:e}}var Aa=Error(a(460)),sf=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function Kg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e}throw zr=n,Aa}}function Pr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(zr=s,Aa):s}}var zr=null;function Xg(){if(zr===null)throw Error(a(459));var e=zr;return zr=null,e}function $g(e){if(e===Aa||e===Uu)throw Error(a(483))}var wa=null,Go=0;function Pu(e){var n=Go;return Go+=1,wa===null&&(wa=[]),Yg(wa,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ki(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,K){return D===null||D.tag!==6?(D=Fh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function R(k,D,P,K){var mt=P.type;return mt===st?Q(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&Pr(mt)===D.type)?(D=h(D,P.props),Fo(D,P),D.return=k,D):(D=Du(P.type,P.key,P.props,null,k.mode,K),Fo(D,P),D.return=k,D)}function z(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Qh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,K,mt){return D===null||D.tag!==7?(D=Mr(P,k.mode,K,mt),D.return=k,D):(D=h(D,P),D.return=k,D)}function Y(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Fh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Du(D.type,D.key,D.props,null,k.mode,P),Fo(P,D),P.return=k,P;case tt:return D=Qh(D,k.mode,P),D.return=k,D;case S:return D=Pr(D),Y(k,D,P)}if(pe(D)||U(D))return D=Mr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return Y(k,Pu(D),P);if(D.$$typeof===pt)return Y(k,Vu(k,D),P);zu(k,D)}return null}function j(k,D,P,K){var mt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:T(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===mt?R(k,D,P,K):null;case tt:return P.key===mt?z(k,D,P,K):null;case S:return P=Pr(P),j(k,D,P,K)}if(pe(P)||U(P))return mt!==null?null:Q(k,D,P,K,null);if(typeof P.then=="function")return j(k,D,Pu(P),K);if(P.$$typeof===pt)return j(k,D,Vu(k,P),K);zu(k,P)}return null}function q(k,D,P,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(D,k,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?P:K.key)||null,R(D,k,K,mt);case tt:return k=k.get(K.key===null?P:K.key)||null,z(D,k,K,mt);case S:return K=Pr(K),q(k,D,P,K,mt)}if(pe(K)||U(K))return k=k.get(P)||null,Q(D,k,K,mt,null);if(typeof K.then=="function")return q(k,D,P,Pu(K),mt);if(K.$$typeof===pt)return q(k,D,P,Vu(D,K),mt);zu(D,K)}return null}function lt(k,D,P,K){for(var mt=null,jt=null,ct=D,It=D=0,Mt=null;ct!==null&&It<P.length;It++){ct.index>It?(Mt=ct,ct=null):Mt=ct.sibling;var Bt=j(k,ct,P[It],K);if(Bt===null){ct===null&&(ct=Mt);break}e&&ct&&Bt.alternate===null&&n(k,ct),D=f(Bt,D,It),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt,ct=Mt}if(It===P.length)return s(k,ct),Lt&&Yi(k,It),mt;if(ct===null){for(;It<P.length;It++)ct=Y(k,P[It],K),ct!==null&&(D=f(ct,D,It),jt===null?mt=ct:jt.sibling=ct,jt=ct);return Lt&&Yi(k,It),mt}for(ct=o(ct);It<P.length;It++)Mt=q(ct,k,It,P[It],K),Mt!==null&&(e&&Mt.alternate!==null&&ct.delete(Mt.key===null?It:Mt.key),D=f(Mt,D,It),jt===null?mt=Mt:jt.sibling=Mt,jt=Mt);return e&&ct.forEach(function(Xs){return n(k,Xs)}),Lt&&Yi(k,It),mt}function _t(k,D,P,K){if(P==null)throw Error(a(151));for(var mt=null,jt=null,ct=D,It=D=0,Mt=null,Bt=P.next();ct!==null&&!Bt.done;It++,Bt=P.next()){ct.index>It?(Mt=ct,ct=null):Mt=ct.sibling;var Xs=j(k,ct,Bt.value,K);if(Xs===null){ct===null&&(ct=Mt);break}e&&ct&&Xs.alternate===null&&n(k,ct),D=f(Xs,D,It),jt===null?mt=Xs:jt.sibling=Xs,jt=Xs,ct=Mt}if(Bt.done)return s(k,ct),Lt&&Yi(k,It),mt;if(ct===null){for(;!Bt.done;It++,Bt=P.next())Bt=Y(k,Bt.value,K),Bt!==null&&(D=f(Bt,D,It),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt);return Lt&&Yi(k,It),mt}for(ct=o(ct);!Bt.done;It++,Bt=P.next())Bt=q(ct,k,It,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ct.delete(Bt.key===null?It:Bt.key),D=f(Bt,D,It),jt===null?mt=Bt:jt.sibling=Bt,jt=Bt);return e&&ct.forEach(function(wb){return n(k,wb)}),Lt&&Yi(k,It),mt}function te(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var mt=P.key;D!==null;){if(D.key===mt){if(mt=P.type,mt===st){if(D.tag===7){s(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break t}}else if(D.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===S&&Pr(mt)===D.type){s(k,D.sibling),K=h(D,P.props),Fo(K,P),K.return=k,k=K;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===st?(K=Mr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Du(P.type,P.key,P.props,null,k.mode,K),Fo(K,P),K.return=k,k=K)}return g(k);case tt:t:{for(mt=P.key;D!==null;){if(D.key===mt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break t}else{s(k,D);break}else n(k,D);D=D.sibling}K=Qh(P,k.mode,K),K.return=k,k=K}return g(k);case S:return P=Pr(P),te(k,D,P,K)}if(pe(P))return lt(k,D,P,K);if(U(P)){if(mt=U(P),typeof mt!="function")throw Error(a(150));return P=mt.call(P),_t(k,D,P,K)}if(typeof P.then=="function")return te(k,D,Pu(P),K);if(P.$$typeof===pt)return te(k,D,Vu(k,P),K);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),K=h(D,P),K.return=k,k=K):(s(k,D),K=Fh(P,k.mode,K),K.return=k,k=K),g(k)):s(k,D)}return function(k,D,P,K){try{Go=0;var mt=te(k,D,P,K);return wa=null,mt}catch(ct){if(ct===Aa||ct===Uu)throw ct;var jt=bn(29,ct,null,k.mode);return jt.lanes=K,jt.return=k,jt}}}var jr=Zg(!0),Jg=Zg(!1),Os=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),kg(e,null,s),n}return xu(e,o,n,s),Nu(e)}function Qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}function of(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function Ko(){if(lf){var e=Sa;if(e!==null)throw e}}function Yo(e,n,s,o){lf=!1;var h=e.updateQueue;Os=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==g&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,Q=z=R=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Ot&j)===j:(o&j)===j){j!==0&&j===ba&&(lf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,_t=T;j=n;var te=s;switch(_t.tag){case 1:if(lt=_t.payload,typeof lt=="function"){Y=lt.call(te,Y,j);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=_t.payload,j=typeof lt=="function"?lt.call(te,Y,j):lt,j==null)break t;Y=A({},Y,j);break t;case 2:Os=!0}}j=T.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=q,R=Y):Q=Q.next=q,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),zs|=g,e.lanes=g,e.memoizedState=Y}}function Wg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function tp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Wg(s[e],n)}var Ra=x(null),ju=x(0);function ep(e,n){e=rs,J(ju,e),J(Ra,n),rs=e|n.baseLanes}function uf(){J(ju,rs),J(Ra,Ra.current)}function cf(){rs=ju.current,H(Ra),H(ju)}var Sn=x(null),zn=null;function ks(e){var n=e.alternate;J(ve,ve.current&1),J(Sn,e),zn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(zn=e)}function hf(e){J(ve,ve.current),J(Sn,e),zn===null&&(zn=e)}function np(e){e.tag===22?(J(ve,ve.current),J(Sn,e),zn===null&&(zn=e)):Us()}function Us(){J(ve,ve.current),J(Sn,Sn.current)}function An(e){H(Sn),zn===e&&(zn=null),H(ve)}var ve=x(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Ct=null,Jt=null,Ce=null,qu=!1,Ca=!1,Br=!1,Hu=0,Xo=0,Ia=null,g1=0;function de(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tn(e[s],n[s]))return!1;return!0}function df(e,n,s,o,h,f){return Zi=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?zp:If,Br=!1,f=s(o,h),Br=!1,Ca&&(f=sp(n,s,o,h)),ip(e),f}function ip(e){F.H=Jo;var n=Jt!==null&&Jt.next!==null;if(Zi=0,Ce=Jt=Ct=null,qu=!1,Xo=0,Ia=null,n)throw Error(a(300));e===null||Ie||(e=e.dependencies,e!==null&&Mu(e)&&(Ie=!0))}function sp(e,n,s,o){Ct=e;var h=0;do{if(Ca&&(Ia=null),Xo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,Ce=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=jp,f=n(s,o)}while(Ca);return f}function p1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?$o(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function mf(){var e=Hu!==0;return Hu=0,e}function gf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function pf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}Zi=0,Ce=Jt=Ct=null,Ca=!1,Xo=Hu=0,Ia=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Ct.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Ee(){if(Jt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Ce===null?Ct.memoizedState:Ce.next;if(n!==null)Ce=n,Jt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Ce===null?Ct.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var n=Xo;return Xo+=1,Ia===null&&(Ia=[]),e=Yg(Ia,e,n),n=Ct,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?zp:If),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===pt)return Fe(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Ji(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=Ee();return _f(n,Jt,e)}function _f(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,z=n,Q=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ot&Y)===Y:(Zi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===ba&&(Q=!0);else if((Zi&j)===j){z=z.next,j===ba&&(Q=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=Y,g=f):R=R.next=Y,Ct.lanes|=j,zs|=j;Y=z.action,Br&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=j,g=f):R=R.next=j,Ct.lanes|=Y,zs|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=T,!Tn(f,e.memoizedState)&&(Ie=!0,Q&&(s=Sa,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var n=Ee(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rp(e,n,s){var o=Ct,h=Ee(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Tn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ie=!0),h=h.queue,bf(lp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ce!==null&&Ce.memoizedState.tag&1){if(o.flags|=2048,xa(9,{destroy:void 0},op.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||(Zi&127)!==0||ap(o,n,s)}return s}function ap(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Gu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function op(e,n,s,o){n.value=s,n.getSnapshot=o,up(n)&&cp(e)}function lp(e,n,s){return s(function(){up(n)&&cp(e)})}function up(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tn(e,s)}catch{return!0}}function cp(e){var n=Or(e,2);n!==null&&pn(n,e,2)}function Ef(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),Br){xn(!0);try{s()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function hp(e,n,s,o){return e.baseState=s,_f(e,Jt,typeof o=="function"?o:Ji)}function y1(e,n,s,o,h){if(Xu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,fp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function fp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var T=s(h,o),R=F.S;R!==null&&R(g,T),dp(e,n,T)}catch(z){Tf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),dp(e,n,f)}catch(z){Tf(e,n,z)}}function dp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mp(e,n,o)},function(o){return Tf(e,n,o)}):mp(e,n,s)}function mp(e,n,s){n.status="fulfilled",n.value=s,gp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,fp(e,s)))}function Tf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,gp(n),n=n.next;while(n!==o)}e.action=null}function gp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pp(e,n){return n}function yp(e,n){if(Lt){var s=ee.formState;if(s!==null){t:{var o=Ct;if(Lt){if(se){e:{for(var h=se,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=jn(h.nextSibling),o=h.data==="F!";break t}}Ns(o)}o=!1}o&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},s.queue=o,s=Up.bind(null,Ct,o),o.dispatch=s,o=Ef(!1),f=Cf.bind(null,Ct,!1,o.queue),o=on(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=y1.bind(null,Ct,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function _p(e){var n=Ee();return vp(n,Jt,e)}function vp(e,n,s){if(n=_f(e,n,pp)[0],e=Qu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=$o(n)}catch(g){throw g===Aa?Uu:g}else o=n;n=Ee();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,xa(9,{destroy:void 0},_1.bind(null,h,s),null)),[o,f,e]}function _1(e,n){e.action=n}function Ep(e){var n=Ee(),s=Jt;if(s!==null)return vp(n,s,e);Ee(),n=n.memoizedState,s=Ee();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function xa(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Gu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Tp(){return Ee().memoizedState}function Ku(e,n,s,o){var h=on();Ct.flags|=e,h.memoizedState=xa(1|n,{destroy:void 0},s,o===void 0?null:o)}function Yu(e,n,s,o){var h=Ee();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&ff(o,Jt.memoizedState.deps)?h.memoizedState=xa(n,f,s,o):(Ct.flags|=e,h.memoizedState=xa(1|n,f,s,o))}function bp(e,n){Ku(8390656,8,e,n)}function bf(e,n){Yu(2048,8,e,n)}function v1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Gu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Sp(e){var n=Ee().memoizedState;return v1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(e,n){return Yu(4,2,e,n)}function wp(e,n){return Yu(4,4,e,n)}function Rp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cp(e,n,s){s=s!=null?s.concat([e]):null,Yu(4,4,Rp.bind(null,n,e),s)}function Sf(){}function Ip(e,n){var s=Ee();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function xp(e,n){var s=Ee();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=e(),Br){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[o,n],o}function Af(e,n,s){return s===void 0||(Zi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ny(),Ct.lanes|=e,zs|=e,s)}function Np(e,n,s,o){return Tn(s,n)?s:Ra.current!==null?(e=Af(e,s,o),Tn(e,n)||(Ie=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Ot&261930)===0?(Ie=!0,e.memoizedState=s):(e=Ny(),Ct.lanes|=e,zs|=e,n)}function Dp(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=F.T,T={};F.T=T,Cf(e,!1,n,s);try{var R=h(),z=F.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=m1(R,o);Zo(e,n,Q,Cn(e))}else Zo(e,n,o,Cn(e))}catch(Y){Zo(e,n,{then:function(){},status:"rejected",reason:Y},Cn())}finally{rt.p=f,g!==null&&T.types!==null&&(g.types=T.types),F.T=g}}function E1(){}function wf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Op(e).queue;Dp(e,h,n,dt,s===null?E1:function(){return Mp(e),s(o)})}function Op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mp(e){var n=Op(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},Cn())}function Rf(){return Fe(ml)}function Vp(){return Ee().memoizedState}function kp(){return Ee().memoizedState}function T1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();e=Ms(s);var o=Vs(n,e,s);o!==null&&(pn(o,n,s),Qo(o,n,s)),n={cache:tf()},e.payload=n;return}n=n.return}}function b1(e,n,s){var o=Cn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Lp(n,s):(s=Hh(e,n,s,o),s!==null&&(pn(s,e,o),Pp(s,n,o)))}function Up(e,n,s){var o=Cn();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Lp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Tn(T,g))return xu(e,n,h,0),ee===null&&Iu(),!1}catch{}if(s=Hh(e,n,h,o),s!==null)return pn(s,e,o),Pp(s,n,o),!0}return!1}function Cf(e,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(a(479))}else n=Hh(e,s,o,2),n!==null&&pn(n,e,2)}function Xu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Lp(e,n){Ca=qu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Pp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,vo(e,s)}}var Jo={readContext:Fe,use:Fu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Jo.useEffectEvent=de;var zp={readContext:Fe,use:Fu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Fe,useEffect:bp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ku(4194308,4,Rp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var o=e();if(Br){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=on();if(s!==void 0){var h=s(n);if(Br){xn(!0);try{s(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,s=Up.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(e,n){var s=on();return Af(s,e,n)},useTransition:function(){var e=Ef(!1);return e=Dp.bind(null,Ct,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,h=on();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Ot&127)!==0||ap(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,bp(lp.bind(null,o,f,e),[e]),o.flags|=2048,xa(9,{destroy:void 0},op.bind(null,o,f,s,n),null),s},useId:function(){var e=on(),n=ee.identifierPrefix;if(Lt){var s=Ii,o=Ci;s=(o&~(1<<32-ye(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Hu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=g1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:yp,useActionState:yp,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return on().memoizedState=T1.bind(null,Ct)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:Fe,use:Fu,useCallback:Ip,useContext:Fe,useEffect:bf,useImperativeHandle:Cp,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:xp,useReducer:Qu,useRef:Tp,useState:function(){return Qu(Ji)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=Ee();return Np(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Qu(Ji)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Rf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var s=Ee();return hp(s,Jt,e,n)},useMemoCache:yf,useCacheRefresh:kp};If.useEffectEvent=Sp;var jp={readContext:Fe,use:Fu,useCallback:Ip,useContext:Fe,useEffect:bf,useImperativeHandle:Cp,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:xp,useReducer:vf,useRef:Tp,useState:function(){return vf(Ji)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=Ee();return Jt===null?Af(s,e,n):Np(s,Jt.memoizedState,e,n)},useTransition:function(){var e=vf(Ji)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:$o(e),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Rf,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var s=Ee();return Jt!==null?hp(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:kp};jp.useEffectEvent=Sp;function xf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Cn(),h=Ms(o);h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(pn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Cn(),h=Ms(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(pn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Cn(),o=Ms(s);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,s),n!==null&&(pn(n,e,s),Qo(n,e,s))}};function Bp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(s,o)||!Po(h,f):!0}function qp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function qr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Hp(e){Cu(e)}function Gp(e){console.error(e)}function Fp(e){Cu(e)}function $u(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){$u(e,n)},s}function Kp(e){return e=Ms(e),e.tag=3,e}function Yp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qp(n,s,o),typeof h!="function"&&(js===null?js=new Set([this]):js.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function S1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ta(n,s,h,!0),s=Sn.current,s!==null){switch(s.tag){case 31:case 13:return zn===null?lc():s.alternate===null&&me===0&&(me=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(e,o,h)),!1;case 22:return s.flags|=65536,o===Lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(e,o,h)),!1}throw Error(a(435,s.tag))}return nd(e,o,h),lc(),!1}if(Lt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(e=Error(a(422),{cause:o}),Bo(kn(e,s)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Bo(kn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=kn(o,s),h=Df(e.stateNode,o,h),of(e,h),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:o});if(f=kn(f,s),al===null?al=[f]:al.push(f),me!==4&&(me=2),n===null)return!0;o=kn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Df(s.stateNode,o,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(js===null||!js.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Kp(h),Yp(h,e,s,o),of(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),Ie=!1;function Qe(e,n,s,o){n.child=e===null?Jg(n,null,s,o):jr(n,e.child,s,o)}function Xp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Ur(n),o=df(e,n,s,g,f,h),T=mf(),e!==null&&!Ie?(gf(e,n,h),Wi(e,n,h)):(Lt&&T&&Kh(n),n.flags|=1,Qe(e,n,o,h),n.child)}function $p(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zp(e,n,f,o,h)):(e=Du(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Po,s(g,o)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Zp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return Mf(e,n,s,o,h)}function Jp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?ep(n,f):uf(),np(n);else return o=n.lanes=536870912,Wp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(ku(n,f.cachePool),ep(n,f),Us(),n.memoizedState=null):(e!==null&&ku(n,null),uf(),Us());return Qe(e,n,h,s),n.child}function Wo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(e,n,s,o,h){var f=nf();return f=f===null?null:{parent:Re._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&ku(n,null),uf(),np(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,s){return jr(n,e.child,null,s),e=Zu(n,n.pendingProps),e.flags|=2,An(n),n.memoizedState=null,e}function A1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Zu(n,o),n.lanes=536870912,Wo(null,e);if(hf(n),(e=se)?(e=f_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Lg(e),s.return=n,n.child=s,Ge=n,se=null)):e=null,e===null)throw Ns(n);return n.lanes=536870912,null}return Zu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ie||Ta(e,n,s,!1),h=(s&e.childLanes)!==0,Ie||h){if(o=ee,o!==null&&(g=Eo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Or(e,g),pn(o,e,g),Of;lc(),n=ty(e,n,s)}else e=f.treeContext,se=jn(g.nextSibling),Ge=n,Lt=!0,xs=null,Pn=!1,e!==null&&jg(n,e),n=Zu(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Mf(e,n,s,o,h){return Ur(n),s=df(e,n,s,o,void 0,h),o=mf(),e!==null&&!Ie?(gf(e,n,h),Wi(e,n,h)):(Lt&&o&&Kh(n),n.flags|=1,Qe(e,n,s,h),n.child)}function ey(e,n,s,o,h,f){return Ur(n),n.updateQueue=null,s=sp(n,o,s,h),ip(e),o=mf(),e!==null&&!Ie?(gf(e,n,f),Wi(e,n,f)):(Lt&&o&&Kh(n),n.flags|=1,Qe(e,n,s,f),n.child)}function ny(e,n,s,o,h){if(Ur(n),n.stateNode===null){var f=ya,g=s.contextType;typeof g=="object"&&g!==null&&(f=Fe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Fe(g):ya,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(xf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Yo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=qr(s,T);f.props=R;var z=f.context,Q=s.contextType;g=ya,typeof Q=="object"&&Q!==null&&(g=Fe(Q));var Y=s.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&qp(n,f,o,g),Os=!1;var j=n.memoizedState;f.state=j,Yo(n,o,f,h),Ko(),z=n.memoizedState,T||j!==z||Os?(typeof Y=="function"&&(xf(n,s,Y,o),z=n.memoizedState),(R=Os||Bp(n,s,R,o,j,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(e,n),g=n.memoizedProps,Q=qr(s,g),f.props=Q,Y=n.pendingProps,j=f.context,z=s.contextType,R=ya,typeof z=="object"&&z!==null&&(R=Fe(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&qp(n,f,o,R),Os=!1,j=n.memoizedState,f.state=j,Yo(n,o,f,h),Ko();var q=n.memoizedState;g!==Y||j!==q||Os||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(xf(n,s,T,o),q=n.memoizedState),(Q=Os||Bp(n,s,Q,o,j,q,R)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=jr(n,e.child,null,h),n.child=jr(n,null,s,h)):Qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function iy(e,n,s,o){return Vr(),n.flags|=256,Qe(e,n,s,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:Qg()}}function Uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Rn),e}function sy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?ks(n):Us(),(e=se)?(e=f_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Is!==null?{id:Ci,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Lg(e),s.return=n,n.child=s,Ge=n,se=null)):e=null,e===null)throw Ns(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Us(),h=n.mode,T=Wu({mode:"hidden",children:T},h),o=Mr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=kf(s),o.childLanes=Uf(e,g,s),n.memoizedState=Vf,Wo(null,o)):(ks(n),Lf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Pf(e,n,s)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),T=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),T=Mr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,jr(n,e.child,null,s),o=n.child,o.memoizedState=kf(s),o.childLanes=Uf(e,g,s),n.memoizedState=Vf,n=Wo(null,o));else if(ks(n),_d(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,Bo({value:o,source:null,stack:null}),n=Pf(e,n,s)}else if(Ie||Ta(e,n,s,!1),g=(s&e.childLanes)!==0,Ie||g){if(g=ee,g!==null&&(o=Eo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Or(e,o),pn(g,e,o),Of;yd(T)||lc(),n=Pf(e,n,s)}else yd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,se=jn(T.nextSibling),Ge=n,Lt=!0,xs=null,Pn=!1,e!==null&&jg(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Us(),T=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=Ki(z,T):(T=Mr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Wo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=kf(s):(h=T.cachePool,h!==null?(R=Re._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Qg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Uf(e,g,s),n.memoizedState=Vf,Wo(e.child,o)):(ks(n),s=e.child,e=s.sibling,s=Ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Lf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function Pf(e,n,s){return jr(n,e.child,null,s),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,s)}function zf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ay(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ve.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,J(ve,g),Qe(e,n,o,s),o=Lt?jo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,s,n);else if(e.tag===19)ry(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Bu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),zs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ta(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function w1(e,n,s){switch(n.tag){case 3:zt(n,n.stateNode.containerInfo),Ds(n,Re,e.memoizedState.cache),Vr();break;case 27:case 5:Et(n);break;case 4:zt(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sy(e,n,s):(ks(n),e=Wi(e,n,s),e!==null?e.sibling:null);ks(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ta(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ay(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(ve,ve.current),o)break;return null;case 22:return n.lanes=0,Jp(e,n,s,n.pendingProps);case 24:Ds(n,Re,e.memoizedState.cache)}return Wi(e,n,s)}function oy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return Ie=!1,w1(e,n,s);Ie=(e.flags&131072)!==0}else Ie=!1,Lt&&(n.flags&1048576)!==0&&zg(n,jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Pr(n.elementType),n.type=e,typeof e=="function")Gh(e)?(o=qr(e,o),n.tag=1,n=ny(null,n,e,o,s)):(n.tag=0,n=Mf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Xp(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=$p(null,n,e,o,s);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=qr(o,n.pendingProps),ny(e,n,o,h,s);case 3:t:{if(zt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),Yo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ds(n,Re,o),o!==f.cache&&Wh(n,[Re],s,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,o,s);break t}else if(o!==h){h=kn(Error(a(424)),n),Bo(h),n=iy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=jn(e.firstChild),Ge=n,Lt=!0,xs=null,Pn=!0,s=Jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Vr(),o===h){n=Wi(e,n,s);break t}Qe(e,n,o,s)}n=n.child}return n;case 26:return Ju(e,n),e===null?(s=__(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=gc(Z.current).createElement(s),o[Se]=n,o[Pe]=e,Ke(o,s,e),Ae(o),n.stateNode=o):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Et(n),e===null&&Lt&&(o=n.stateNode=g_(n.type,n.pendingProps,Z.current),Ge=n,Pn=!0,h=se,Gs(n.type)?(vd=h,se=jn(o.firstChild)):se=h),Qe(e,n,n.pendingProps.children,s),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=se)&&(o=eb(o,n.type,n.pendingProps,Pn),o!==null?(n.stateNode=o,Ge=n,se=jn(o.firstChild),Pn=!1,h=!0):h=!1),h||Ns(n)),Et(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:g!==null&&md(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,p1,null,null,s),ml._currentValue=h),Ju(e,n),Qe(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=se)&&(s=nb(s,n.pendingProps,Pn),s!==null?(n.stateNode=s,Ge=n,se=null,e=!0):e=!1),e||Ns(n)),null;case 13:return sy(e,n,s);case 4:return zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=jr(n,null,o,s):Qe(e,n,o,s),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,s);case 7:return Qe(e,n,n.pendingProps,s),n.child;case 8:return Qe(e,n,n.pendingProps.children,s),n.child;case 12:return Qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ur(n),h=Fe(h),o=o(h),n.flags|=1,Qe(e,n,o,s),n.child;case 14:return $p(e,n,n.type,n.pendingProps,s);case 15:return Zp(e,n,n.type,n.pendingProps,s);case 19:return ay(e,n,s);case 31:return A1(e,n,s);case 22:return Jp(e,n,s,n.pendingProps);case 24:return Ur(n),o=Fe(Re),e===null?(h=nf(),h===null&&(h=ee,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),Ds(n,Re,h)):((e.lanes&s)!==0&&(af(e,n),Yo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Re,o)):(o=f.cache,Ds(n,Re,o),o!==h.cache&&Wh(n,[Re],s,!0))),Qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function Bf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw zr=Lu,sf}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(Vy())e.flags|=8192;else throw zr=Lu,sf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Ma|=n)}function tl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function R1(e,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Re),Ht(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(re(n),ly(n,f)):(re(n),Bf(n,h,null,o,s))):f?f!==e.memoizedState?(ts(n),re(n),ly(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ts(n),re(n),Bf(n,h,e,o,s)),null;case 27:if(ie(n),s=Z.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=it.current,Ea(n)?Bg(n):(e=g_(h,o,s),n.stateNode=e,ts(n))}return re(n),null;case 5:if(ie(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=it.current,Ea(n))Bg(n);else{var g=gc(Z.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[Pe]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ke(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ts(n)}}return re(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Z.current,Ea(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||s_(e.nodeValue,s)),e||Ns(n,!0)}else e=gc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else s=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(An(n),n):(An(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(An(n),n):(An(n),null)}return An(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),tc(n,n.updateQueue),re(n),null);case 4:return Ht(),e===null&&ud(n.stateNode.containerInfo),re(n),null;case 10:return $i(n.type),re(n),null;case 19:if(H(ve),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)tl(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,tl(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ug(s,e),s=s.sibling;return J(ve,ve.current&1|2),Lt&&Yi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&rn()>rc&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),tl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return re(n),null}else 2*rn()-o.renderingStartTime>rc&&s!==536870912&&(n.flags|=128,h=!0,tl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,s=ve.current,J(ve,h?s&1|2:s&1),Lt&&Yi(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return An(n),cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&tc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&H(Lr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(Re),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function C1(e,n){switch(Yh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(Re),Ht(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ie(n),null;case 31:if(n.memoizedState!==null){if(An(n),n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(ve),null;case 4:return Ht(),null;case 10:return $i(n.type),null;case 22:case 23:return An(n),cf(),e!==null&&H(Lr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(Re),null;case 25:return null;default:return null}}function uy(e,n){switch(Yh(n),n.tag){case 3:$i(Re),Ht();break;case 26:case 27:case 5:ie(n);break;case 4:Ht();break;case 31:n.memoizedState!==null&&An(n);break;case 13:An(n);break;case 19:H(ve);break;case 10:$i(n.type);break;case 22:case 23:An(n),cf(),e!==null&&H(Lr);break;case 24:$i(Re)}}function el(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){Xt(n,n.return,T)}}function Ls(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,z=T;try{z()}catch(Q){Xt(h,R,Q)}}}o=o.next}while(o!==f)}}catch(Q){Xt(n,n.return,Q)}}function cy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{tp(n,s)}catch(o){Xt(e,e.return,o)}}}function hy(e,n,s){s.props=qr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function nl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function xi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function fy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function qf(e,n,s){try{var o=e.stateNode;X1(o,e.type,s,n),o[Pe]=n}catch(h){Xt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gs(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,s),e=e.sibling;e!==null;)Gf(e,n,s),e=e.sibling}function ec(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Gs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ec(e,n,s),e=e.sibling;e!==null;)ec(e,n,s),e=e.sibling}function my(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ke(n,o,s),n[Se]=e,n[Pe]=s}catch(f){Xt(e,e.return,f)}}var es=!1,xe=!1,Ff=!1,gy=typeof WeakSet=="function"?WeakSet:Set,je=null;function I1(e,n){if(e=e.containerInfo,fd=bc,e=Cg(e),Lh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,R=-1,z=0,Q=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||o!==0&&Y.nodeType!==3||(R=g+o),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(T=g),j===f&&++Q===o&&(R=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},bc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=qr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Xt(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)pd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function py(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:is(e,s),o&4&&el(5,s);break;case 1:if(is(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=qr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&cy(s),o&512&&nl(s,s.return);break;case 3:if(is(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{tp(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&my(s);case 26:case 5:is(e,s),n===null&&o&4&&fy(s),o&512&&nl(s,s.return);break;case 12:is(e,s);break;case 31:is(e,s),o&4&&vy(e,s);break;case 13:is(e,s),o&4&&Ey(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=L1.bind(null,s),ib(e,s))));break;case 22:if(o=s.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||xe,h=es;var f=xe;es=o,(xe=n)&&!f?ss(e,s,(s.subtreeFlags&8772)!==0):is(e,s),es=h,xe=f}break;case 30:break;default:is(e,s)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,fn=!1;function ns(e,n,s){for(s=s.child;s!==null;)_y(e,n,s),s=s.sibling}function _y(e,n,s){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Yn,s)}catch{}switch(s.tag){case 26:xe||xi(s,n),ns(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||xi(s,n);var o=ue,h=fn;Gs(s.type)&&(ue=s.stateNode,fn=!1),ns(e,n,s),hl(s.stateNode),ue=o,fn=h;break;case 5:xe||xi(s,n);case 6:if(o=ue,h=fn,ue=null,ns(e,n,s),ue=o,fn=h,ue!==null)if(fn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ue!==null&&(fn?(e=ue,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ba(e)):c_(ue,s.stateNode));break;case 4:o=ue,h=fn,ue=s.stateNode.containerInfo,fn=!0,ns(e,n,s),ue=o,fn=h;break;case 0:case 11:case 14:case 15:Ls(2,s,n),xe||Ls(4,s,n),ns(e,n,s);break;case 1:xe||(xi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&hy(s,n,o)),ns(e,n,s);break;case 21:ns(e,n,s);break;case 22:xe=(o=xe)||s.memoizedState!==null,ns(e,n,s),xe=o;break;default:ns(e,n,s)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(s){Xt(n,n.return,s)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(s){Xt(n,n.return,s)}}function x1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gy),n;default:throw Error(a(435,e.tag))}}function nc(e,n){var s=x1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=P1.bind(null,e,o);o.then(h,h)}})}function dn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){ue=T.stateNode,fn=!1;break t}break;case 5:ue=T.stateNode,fn=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,fn=!0;break t}T=T.return}if(ue===null)throw Error(a(160));_y(f,g,h),ue=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var si=null;function Ty(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),o&4&&(Ls(3,e,e.return),el(3,e),Ls(5,e,e.return));break;case 1:dn(n,e),mn(e),o&512&&(xe||s===null||xi(s,s.return)),o&64&&es&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=si;if(dn(n,e),mn(e),o&512&&(xe||s===null||xi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[gi]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ke(f,o,s),f[Se]=e,Ae(f),o=f;break t;case"link":var g=T_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Ke(f,o,s),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Ke(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else b_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?b_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:dn(n,e),mn(e),o&512&&(xe||s===null||xi(s,s.return)),s!==null&&o&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(dn(n,e),mn(e),o&512&&(xe||s===null||xi(s,s.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(lt){Xt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(dn(n,e),mn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){Xt(e,e.return,lt)}}break;case 3:if(_c=null,h=si,si=pc(n.containerInfo),dn(n,e),si=h,mn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(lt){Xt(e,e.return,lt)}Ff&&(Ff=!1,by(e));break;case 4:o=si,si=pc(e.stateNode.containerInfo),dn(n,e),mn(e),si=o;break;case 12:dn(n,e),mn(e);break;case 31:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sc=rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=es,Q=xe;if(es=z||h,xe=Q||R,dn(n,e),xe=Q,es=z,mn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||es||xe||Hr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Xt(R,R.return,lt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Xt(R,R.return,lt)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?h_(q,!0):h_(R.stateNode,!1)}catch(lt){Xt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,nc(e,s))));break;case 19:dn(n,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Hf(e);ec(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(hn(g,""),s.flags&=-33);var T=Hf(e);ec(e,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=Hf(e);Gf(e,z,R);break;default:throw Error(a(161))}}catch(Q){Xt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function Hr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Hr(n);break;case 1:xi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),Hr(n);break;case 27:hl(n.stateNode);case 26:case 5:xi(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}e=e.sibling}}function ss(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),el(4,f);break;case 1:if(ss(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Wg(R[h],T)}catch(z){Xt(o,o.return,z)}}s&&g&64&&cy(f),nl(f,f.return);break;case 27:my(f);case 26:case 5:ss(h,f,s),s&&o===null&&g&4&&fy(f),nl(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&g&4&&vy(h,f);break;case 13:ss(h,f,s),s&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),nl(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function Qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&qo(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e))}function ri(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,s,o),n=n.sibling}function Sy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,s,o),h&2048&&el(9,n);break;case 1:ri(e,n,s,o);break;case 3:ri(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){ri(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else ri(e,n,s,o);break;case 31:ri(e,n,s,o);break;case 13:ri(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,s,o):il(e,n):f._visibility&2?ri(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(g,n);break;case 24:ri(e,n,s,o),h&2048&&Kf(n.alternate,n);break;default:ri(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,R=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,T,R,h),el(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Na(f,g,T,R,h):il(f,g):(Q._visibility|=2,Na(f,g,T,R,h)),h&&z&2048&&Qf(g.alternate,g);break;case 24:Na(f,g,T,R,h),h&&z&2048&&Kf(g.alternate,g);break;default:Na(f,g,T,R,h)}n=n.sibling}}function il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:il(s,o),h&2048&&Qf(o.alternate,o);break;case 24:il(s,o),h&2048&&Kf(o.alternate,o);break;default:il(s,o)}n=n.sibling}}var sl=8192;function Da(e,n,s){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)Ay(e,n,s),e=e.sibling}function Ay(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&sl&&e.memoizedState!==null&&gb(s,si,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=si;si=pc(e.stateNode.containerInfo),Da(e,n,s),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=sl,sl=16777216,Da(e,n,s),sl=o):Da(e,n,s));break;default:Da(e,n,s)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function rl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,Cy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:rl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:rl(e);break;case 12:rl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):rl(e);break;default:rl(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,Cy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),ic(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function Cy(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,je=o;else t:for(s=e;je!==null;){o=je;var h=o.sibling,f=o.return;if(yy(o),o===s){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var N1={getCacheForType:function(e){var n=Fe(Re),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Fe(Re).controller.signal}},D1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,xt=null,Ot=0,Yt=0,wn=null,Ps=!1,Oa=!1,Yf=!1,rs=0,me=0,zs=0,Gr=0,Xf=0,Rn=0,Ma=0,al=null,gn=null,$f=!1,sc=0,Iy=0,rc=1/0,ac=null,js=null,Ve=0,Bs=null,Va=null,as=0,Zf=0,Jf=null,xy=null,ol=0,Wf=null;function Cn(){return(Ft&2)!==0&&Ot!==0?Ot&-Ot:F.T!==null?rd():ou()}function Ny(){if(Rn===0)if((Ot&536870912)===0||Lt){var e=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),Rn=e}else Rn=536870912;return e=Sn.current,e!==null&&(e.flags|=32),Rn}function pn(e,n,s){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),qs(e,Ot,Rn,!1)),_r(e,s),((Ft&2)===0||e!==ee)&&(e===ee&&((Ft&2)===0&&(Gr|=s),me===4&&qs(e,Ot,Rn,!1)),Ni(e))}function Dy(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?V1(e,n):ed(e,n,!0),f=o;do{if(h===0){Oa&&!o&&qs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!O1(s)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=al;var R=T.current.memoizedState.isDehydrated;if(R&&(ka(T,g).flags|=256),g=ed(T,g,!1),g!==2){if(Yf&&!R){T.errorRecoveryDisabledLanes|=f,Gr|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Rn,!Ps);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-rn(),10<h)){if(qs(o,n,Rn,!Ps),fi(o,0,!0)!==0)break t;as=n,o.timeoutHandle=l_(Oy.bind(null,o,s,gn,ac,$f,n,Rn,Gr,Ma,Ps,f,"Throttled",-0,0),h);break t}Oy(o,s,gn,ac,$f,n,Rn,Gr,Ma,Ps,f,null,-0,0)}}break}while(!0);Ni(e)}function Oy(e,n,s,o,h,f,g,T,R,z,Q,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Ay(n,f,Y);var lt=(f&62914560)===f?sc-rn():(f&4194048)===f?Iy-rn():0;if(lt=pb(Y,lt),lt!==null){as=f,e.cancelPendingCommit=lt(jy.bind(null,e,n,f,s,o,h,g,T,R,Q,Y,null,j,q)),qs(e,f,g,!z);return}}jy(e,n,f,s,o,h,g,T,R)}function O1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,s,o){n&=~Xf,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ye(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&vr(e,s,n)}function oc(){return(Ft&6)===0?(ll(0),!1):!0}function td(){if(xt!==null){if(Yt===0)var e=xt.return;else e=xt,Xi=kr=null,pf(e),wa=null,Go=0,e=xt;for(;e!==null;)uy(e.alternate,e),e=e.return;xt=null}}function ka(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,J1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),as=0,td(),ee=e,xt=s=Ki(e.current,null),Ot=n,Yt=0,wn=null,Ps=!1,Oa=Xn(e,n),Yf=!1,Ma=Rn=Xf=Gr=zs=me=0,gn=al=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ye(o),f=1<<h;n|=e[h],o&=~f}return rs=n,Iu(),s}function My(e,n){Ct=null,F.H=Jo,n===Aa||n===Uu?(n=Xg(),Yt=3):n===sf?(n=Xg(),Yt=4):Yt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,xt===null&&(me=1,$u(e,kn(n,e.current)))}function Vy(){var e=Sn.current;return e===null?!0:(Ot&4194048)===Ot?zn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===zn:!1}function ky(){var e=F.H;return F.H=Jo,e===null?Jo:e}function Uy(){var e=F.A;return F.A=N1,e}function lc(){me=4,Ps||(Ot&4194048)!==Ot&&Sn.current!==null||(Oa=!0),(zs&134217727)===0&&(Gr&134217727)===0||ee===null||qs(ee,Ot,Rn,!1)}function ed(e,n,s){var o=Ft;Ft|=2;var h=ky(),f=Uy();(ee!==e||Ot!==n)&&(ac=null,ka(e,n)),n=!1;var g=me;t:do try{if(Yt!==0&&xt!==null){var T=xt,R=wn;switch(Yt){case 8:td(),g=6;break t;case 3:case 2:case 9:case 6:Sn.current===null&&(n=!0);var z=Yt;if(Yt=0,wn=null,Ua(e,T,R,z),s&&Oa){g=0;break t}break;default:z=Yt,Yt=0,wn=null,Ua(e,T,R,z)}}M1(),g=me;break}catch(Q){My(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Xi=kr=null,Ft=o,F.H=h,F.A=f,xt===null&&(ee=null,Ot=0,Iu()),g}function M1(){for(;xt!==null;)Ly(xt)}function V1(e,n){var s=Ft;Ft|=2;var o=ky(),h=Uy();ee!==e||Ot!==n?(ac=null,rc=rn()+500,ka(e,n)):Oa=Xn(e,n);t:do try{if(Yt!==0&&xt!==null){n=xt;var f=wn;e:switch(Yt){case 1:Yt=0,wn=null,Ua(e,n,f,1);break;case 2:case 9:if(Kg(f)){Yt=0,wn=null,Py(n);break}n=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),Ni(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Kg(f)?(Yt=0,wn=null,Py(n)):(Yt=0,wn=null,Ua(e,n,f,7));break;case 5:var g=null;switch(xt.tag){case 26:g=xt.memoizedState;case 5:case 27:var T=xt;if(g?S_(g):T.stateNode.complete){Yt=0,wn=null;var R=T.sibling;if(R!==null)xt=R;else{var z=T.return;z!==null?(xt=z,uc(z)):xt=null}break e}}Yt=0,wn=null,Ua(e,n,f,5);break;case 6:Yt=0,wn=null,Ua(e,n,f,6);break;case 8:td(),me=6;break t;default:throw Error(a(462))}}k1();break}catch(Q){My(e,Q)}while(!0);return Xi=kr=null,F.H=o,F.A=h,Ft=s,xt!==null?0:(ee=null,Ot=0,Iu(),me)}function k1(){for(;xt!==null&&!po();)Ly(xt)}function Ly(e){var n=oy(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?uc(e):xt=n}function Py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ey(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=ey(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:pf(n);default:uy(s,n),n=xt=Ug(n,rs),n=oy(s,n,rs)}e.memoizedProps=e.pendingProps,n===null?uc(e):xt=n}function Ua(e,n,s,o){Xi=kr=null,pf(n),wa=null,Go=0;var h=n.return;try{if(S1(e,h,n,s,Ot)){me=1,$u(e,kn(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;me=1,$u(e,kn(s,e.current)),xt=null;return}n.flags&32768?(Lt||o===1?e=!0:Oa||(Ot&536870912)!==0?e=!1:(Ps=e=!0,(o===2||o===9||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,Ps);return}e=n.return;var s=R1(n.alternate,n,rs);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);me===0&&(me=5)}function zy(e,n){do{var s=C1(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);me=6,xt=null}function jy(e,n,s,o,h,f,g,T,R){e.cancelPendingCommit=null;do cc();while(Ve!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(e,s,f,g,T,R),e===ee&&(xt=ee=null,Ot=0),Va=n,Bs=e,as=s,Zf=f,Jf=h,xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z1(_s,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=rt.p,rt.p=2,g=Ft,Ft|=4;try{I1(e,n,s)}finally{Ft=g,rt.p=h,F.T=o}}Ve=1,By(),qy(),Hy()}}function By(){if(Ve===1){Ve=0;var e=Bs,n=Va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{Ty(n,e);var f=dd,g=Cg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(R!==null&&Lh(T)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var Y=T.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=T.textContent.length,_t=Math.min(R.start,lt),te=R.end===void 0?_t:Math.min(R.end,lt);!q.extend&&_t>te&&(g=te,te=_t,_t=g);var k=wg(T,_t),D=wg(T,te);if(k&&D&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),_t>te?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var K=Y[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bc=!!fd,dd=fd=null}finally{Ft=h,rt.p=o,F.T=s}}e.current=n,Ve=2}}function qy(){if(Ve===2){Ve=0;var e=Bs,n=Va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{py(e,n.alternate,n)}finally{Ft=h,rt.p=o,F.T=s}}Ve=3}}function Hy(){if(Ve===4||Ve===3){Ve=0,tu();var e=Bs,n=Va,s=as,o=xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,Va=Bs=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(js=null),Hi(s),n=n.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=rt.p,rt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{F.T=n,rt.p=h}}(as&3)!==0&&cc(),Ni(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Wf?ol++:(ol=0,Wf=e):ol=0,ll(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,qo(n)))}function cc(){return By(),qy(),Hy(),Fy()}function Fy(){if(Ve!==5)return!1;var e=Bs,n=Zf;Zf=0;var s=Hi(as),o=F.T,h=rt.p;try{rt.p=32>s?32:s,F.T=null,s=Jf,Jf=null;var f=Bs,g=as;if(Ve=0,Va=Bs=null,as=0,(Ft&6)!==0)throw Error(a(331));var T=Ft;if(Ft|=4,Ry(f.current),Sy(f,f.current,g,s),Ft=T,ll(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{rt.p=h,F.T=o,Gy(e,n)}}function Qy(e,n,s){n=kn(s,n),n=Df(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(_r(e,2),Ni(e))}function Xt(e,n,s){if(e.tag===3)Qy(e,e,s);else for(;n!==null;){if(n.tag===3){Qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(js===null||!js.has(o))){e=kn(s,e),s=Kp(2),o=Vs(n,s,2),o!==null&&(Yp(s,o,n,e),_r(o,2),Ni(o));break}}n=n.return}}function nd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new D1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),e=U1.bind(null,e,n,s),n.then(e,e))}function U1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Ot&s)===s&&(me===4||me===3&&(Ot&62914560)===Ot&&300>rn()-sc?(Ft&2)===0&&ka(e,0):Xf|=s,Ma===Ot&&(Ma=0)),Ni(e)}function Ky(e,n){n===0&&(n=au()),e=Or(e,n),e!==null&&(_r(e,n),Ni(e))}function L1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ky(e,s)}function P1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ky(e,s)}function z1(e,n){return ce(e,n)}var hc=null,La=null,id=!1,fc=!1,sd=!1,Hs=0;function Ni(e){e!==La&&e.next===null&&(La===null?hc=La=e:La=La.next=e),fc=!0,id||(id=!0,B1())}function ll(e,n){if(!sd&&fc){sd=!0;do for(var s=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ye(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zy(o,f))}else f=Ot,f=fi(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(s=!0,Zy(o,f));o=o.next}while(s);sd=!1}}function j1(){Yy()}function Yy(){fc=id=!1;var e=0;Hs!==0&&Z1()&&(e=Hs);for(var n=rn(),s=null,o=hc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,s===null?hc=h:s.next=h,h===null&&(La=s)):(s=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Ve!==0&&Ve!==5||ll(e),Hs!==0&&(Hs=0)}function Xy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ye(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Oh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ee,s=Ot,s=fi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Kn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Xn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Kn(o),Hi(s)){case 2:case 8:s=_o;break;case 32:s=_s;break;case 268435456:s=eu;break;default:s=_s}return o=$y.bind(null,e),s=ce(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Kn(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Ve!==0&&Ve!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(cc()&&e.callbackNode!==s)return null;var o=Ot;return o=fi(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Xy(e,rn()),e.callbackNode!=null&&e.callbackNode===s?$y.bind(null,e):null)}function Zy(e,n){if(cc())return null;Dy(e,n,!0)}function B1(){W1(function(){(Ft&6)!==0?ce(yo,j1):Yy()})}function rd(){if(Hs===0){var e=ba;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Hs=e}return Hs}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Wy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function q1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Jy((h[Pe]||null).action),g=o.submitter;g&&(n=(n=g[Pe]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Si("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var R=g?Wy(h,g):new FormData(h);wf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?Wy(h,g):new FormData(h),wf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],H1=od.toLowerCase(),G1=od[0].toUpperCase()+od.slice(1);ii(H1,"on"+G1)}ii(Ng,"onAnimationEnd"),ii(Dg,"onAnimationIteration"),ii(Og,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(a1,"onTransitionRun"),ii(o1,"onTransitionStart"),ii(l1,"onTransitionCancel"),ii(Mg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function t_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(T=o[g],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=R}}}}function Nt(e,n){var s=n[na];s===void 0&&(s=n[na]=new Set);var o=e+"__bubble";s.has(o)||(e_(n,e,2,!1),s.add(o))}function ld(e,n,s){var o=0;n&&(o|=4),e_(s,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[dc]){e[dc]=!0,To.forEach(function(s){s!=="selectionchange"&&(F1.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,ld("selectionchange",!1,n))}}function e_(e,n,s,o){switch(N_(n)){case 2:var h=vb;break;case 8:h=Eb;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!Ar||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function cd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=pi(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}T=T.parentNode}}o=o.return}As(function(){var z=f,Q=Dn(s),Y=[];t:{var j=Vg.get(e);if(j!==void 0){var q=Si,lt=e;switch(e){case"keypress":if(Rr(s)===0)break t;case"keydown":case"keyup":q=Au;break;case"focusin":lt="focus",q=Ir;break;case"focusout":lt="blur",q=Ir;break;case"beforeblur":case"afterblur":q=Ir;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ng:case Dg:case Og:q=yu;break;case Mg:q=b;break;case"scroll":case"scrollend":q=Mo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Qi;break;case"toggle":case"beforetoggle":q=Rt}var _t=(n&4)!==0,te=!_t&&(e==="scroll"||e==="scrollend"),k=_t?j!==null?j+"Capture":null:j;_t=[];for(var D=z,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Wn(D,k),K!=null&&_t.push(cl(D,K,P))),te)break;D=D.return}0<_t.length&&(j=new q(j,lt,null,s,Q),Y.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==No&&(lt=s.relatedTarget||s.fromElement)&&(pi(lt)||lt[mi]))break t;if((q||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=z,lt=lt?pi(lt):null,lt!==null&&(te=c(lt),_t=lt.tag,lt!==te||_t!==5&&_t!==27&&_t!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(_t=Vo,K="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Qi,K="onPointerLeave",k="onPointerEnter",D="pointer"),te=q==null?j:vn(q),P=lt==null?j:vn(lt),j=new _t(K,D+"leave",q,s,Q),j.target=te,j.relatedTarget=P,K=null,pi(Q)===z&&(_t=new _t(k,D+"enter",lt,s,Q),_t.target=P,_t.relatedTarget=te,K=_t),te=K,q&&lt)e:{for(_t=Q1,k=q,D=lt,P=0,K=k;K;K=_t(K))P++;K=0;for(var mt=D;mt;mt=_t(mt))K++;for(;0<P-K;)k=_t(k),P--;for(;0<K-P;)D=_t(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){_t=k;break e}k=_t(k),D=_t(D)}_t=null}else _t=null;q!==null&&n_(Y,j,q,_t,!1),lt!==null&&te!==null&&n_(Y,te,lt,_t,!0)}}t:{if(j=z?vn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var jt=vg;else if(yg(j))if(Eg)jt=i1;else{jt=e1;var ct=t1}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&aa(z.elementType)&&(jt=vg):jt=n1;if(jt&&(jt=jt(e,z))){_g(Y,jt,s,Q);break t}ct&&ct(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Co(j,"number",j.value)}switch(ct=z?vn(z):window,e){case"focusin":(yg(ct)||ct.contentEditable==="true")&&(ma=ct,Ph=z,zo=null);break;case"focusout":zo=Ph=ma=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Ig(Y,s,Q);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":Ig(Y,s,Q)}var It;if(Gt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else da?xr(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ri&&s.locale!=="ko"&&(da||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&da&&(It=Oo()):(bi=Q,Do="value"in bi?bi.value:bi.textContent,da=!0)),ct=mc(z,Mt),0<ct.length&&(Mt=new wi(Mt,e,null,s,Q),Y.push({event:Mt,listeners:ct}),It?Mt.data=It:(It=fa(s),It!==null&&(Mt.data=It)))),(It=Mn?$T(e,s):ZT(e,s))&&(Mt=mc(z,"onBeforeInput"),0<Mt.length&&(ct=new wi("onBeforeInput","beforeinput",null,s,Q),Y.push({event:ct,listeners:Mt}),ct.data=It)),q1(Y,e,z,s,Q)}t_(Y,n)})}function cl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function mc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,s),h!=null&&o.unshift(cl(e,h,f)),h=Wn(e,n),h!=null&&o.push(cl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===o)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=Wn(s,f),z!=null&&g.unshift(cl(s,z,R))):h||(z=Wn(s,f),z!=null&&g.push(cl(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var K1=/\r\n?/g,Y1=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(Y1,"")}function s_(e,n){return n=i_(n),i_(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hn(e,""+o);break;case"className":En(e,"class",o);break;case"tabIndex":En(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,s,o);break;case"style":xo(e,o,f);break;case"data":if(n!=="object"){En(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mu.get(s)||s,sa(e,s,o))}}function hd(e,n,s,o,h,f){switch(s){case"style":xo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?hn(e,o):(typeof o=="number"||typeof o=="bigint")&&hn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):sa(e,s,o)}}}function Ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var T=f=g=h=null,R=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Wt(e,n,o,Q,s,null)}}hu(e,f,T,R,z,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Wt(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Es(e,!!o,n,!1):s!=null&&Es(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Wt(e,n,g,T,s,null)}Ts(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,R,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<ul.length;o++)Nt(ul[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,z,o,s,null)}return;default:if(aa(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&hd(e,n,Q,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Wt(e,n,T,o,s,null))}function X1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,z=null,Q=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:o.hasOwnProperty(q)||Wt(e,n,q,null,o,Y)}}for(var j in o){var q=o[j];if(Y=s[j],o.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":Q=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Wt(e,n,j,q,o,Y)}}ra(e,g,T,R,z,Q,f,h);return;case"select":q=g=T=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&Wt(e,n,h,f,o,R)}n=T,s=g,o=q,j!=null?Es(e,!!s,j,!1):!!o!=!!s&&(n!=null?Es(e,!!s,n,!0):Es(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}fu(e,j,q);return;case"option":for(var lt in s)j=s[lt],s.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Wt(e,n,lt,null,o,j));for(R in o)j=o[R],q=s[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)j=s[_t],s.hasOwnProperty(_t)&&j!=null&&!o.hasOwnProperty(_t)&&Wt(e,n,_t,null,o,j);for(z in o)if(j=o[z],q=s[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,z,j,o,q)}return;default:if(aa(n)){for(var te in s)j=s[te],s.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&hd(e,n,te,void 0,o,j);for(Q in o)j=o[Q],q=s[Q],!o.hasOwnProperty(Q)||j===q||j===void 0&&q===void 0||hd(e,n,Q,j,o,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Wt(e,n,k,null,o,j);for(Y in o)j=o[Y],q=s[Y],!o.hasOwnProperty(Y)||j===q||j==null&&q==null||Wt(e,n,Y,j,o,q)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&r_(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],z=R.startTime;if(z>T)break;var Q=R.transferSize,Y=R.initiatorType;Q&&r_(Y)&&(R=R.responseEnd,g+=Q*(R<T?1:(T-z)/(R-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function Z1(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(tb)}:l_;function tb(e){setTimeout(function(){throw e})}function Gs(e){return e==="head"}function c_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")hl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,hl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[gi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&hl(e.ownerDocument.body);s=h}while(s);Ba(n)}function h_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":pd(s),ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function eb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[gi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function nb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ib(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return jn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function g_(e,n,s){switch(n=gc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function hl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Bn=new Map,p_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=rt.d;rt.d={f:sb,r:rb,D:ab,C:ob,L:lb,m:ub,X:hb,S:cb,M:fb};function sb(){var e=os.f(),n=oc();return e||n}function rb(e){var n=Nn(e);n!==null&&n.tag===5&&n.type==="form"?Mp(n):os.r(e)}var Pa=typeof document>"u"?null:document;function y_(e,n,s){var o=Pa;if(o&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ke(n,"link",e),Ae(n),o.head.appendChild(n)))}}function ab(e){os.D(e),y_("dns-prefetch",e,null)}function ob(e,n){os.C(e,n),y_("preconnect",e,n)}function lb(e,n,s){os.L(e,n,s);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+cn(s.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=ja(e)}Bn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Bn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(fl(f))||n==="script"&&o.querySelector(dl(f))||(n=o.createElement("link"),Ke(n,"link",e),Ae(n),o.head.appendChild(n)))}}function ub(e,n){os.m(e,n);var s=Pa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(o)+'"][href="'+cn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ja(e)}if(!Bn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Bn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(dl(f)))return}o=s.createElement("link"),Ke(o,"link",e),Ae(o),s.head.appendChild(o)}}}function cb(e,n,s){os.S(e,n,s);var o=Pa;if(o&&e){var h=yi(o).hoistableStyles,f=za(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(fl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Bn.get(f))&&Ed(e,s);var R=g=o.createElement("link");Ae(R),Ke(R,"link",e),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function hb(e,n){os.X(e,n);var s=Pa;if(s&&e){var o=yi(s).hoistableScripts,h=ja(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0},n),(n=Bn.get(h))&&Td(e,n),f=s.createElement("script"),Ae(f),Ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function fb(e,n){os.M(e,n);var s=Pa;if(s&&e){var o=yi(s).hoistableScripts,h=ja(e),f=o.get(h);f||(f=s.querySelector(dl(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&Td(e,n),f=s.createElement("script"),Ae(f),Ke(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,n,s,o){var h=(h=Z.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=za(s.href),s=yi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=za(s.href);var f=yi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(fl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(e,s),f||db(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ja(s),s=yi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function za(e){return'href="'+cn(e)+'"'}function fl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function db(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ke(n,"link",s),Ae(n),e.head.appendChild(n))}function ja(e){return'[src="'+cn(e)+'"]'}function dl(e){return"script[async]"+e}function E_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+cn(s.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Ke(o,"style",h),yc(o,s.precedence,e),n.instance=o;case"stylesheet":h=za(s.href);var f=e.querySelector(fl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=v_(s),(h=Bn.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Ke(f,"link",o),n.state.loading|=4,yc(f,s.precedence,e),n.instance=f;case"script":return f=ja(s.src),(h=e.querySelector(dl(f)))?(n.instance=h,Ae(h),h):(o=s,(h=Bn.get(f))&&(o=A({},s),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ke(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,s.precedence,e));return n.instance}function yc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function T_(e,n,s){if(_c===null){var o=new Map,h=_c=new Map;h.set(s,o)}else h=_c,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[gi]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function b_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function mb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=za(o.href),f=n.querySelector(fl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ae(f);return}f=n.ownerDocument||n,o=v_(o),(h=Bn.get(h))&&Ed(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Ke(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=vc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function pb(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*$1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(yb,e),Ec=null,vc.call(e))}function yb(e,n){if(!(n.state.loading&4)){var s=Ec.get(e);if(s)var o=s.get(null);else{s=new Map,Ec.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ml={$$typeof:pt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function _b(e,n,s,o,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function A_(e,n,s,o,h,f,g,T,R,z,Q,Y){return e=new _b(e,n,s,g,R,z,Q,Y,T),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),e}function w_(e){return e?(e=ya,e):ya}function R_(e,n,s,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Vs(e,o,n),s!==null&&(pn(s,e,n),Qo(s,e,n))}function C_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Sd(e,n){C_(e,n),(e=e.alternate)&&C_(e,n)}function I_(e){if(e.tag===13||e.tag===31){var n=Or(e,67108864);n!==null&&pn(n,e,67108864),Sd(e,67108864)}}function x_(e){if(e.tag===13||e.tag===31){var n=Cn();n=Er(n);var s=Or(e,n);s!==null&&pn(s,e,n),Sd(e,n)}}var bc=!0;function vb(e,n,s,o){var h=F.T;F.T=null;var f=rt.p;try{rt.p=2,Ad(e,n,s,o)}finally{rt.p=f,F.T=h}}function Eb(e,n,s,o){var h=F.T;F.T=null;var f=rt.p;try{rt.p=8,Ad(e,n,s,o)}finally{rt.p=f,F.T=h}}function Ad(e,n,s,o){if(bc){var h=wd(o);if(h===null)cd(e,n,o,Sc,s),D_(e,o);else if(bb(h,e,n,s,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<Tb.indexOf(e)){for(;h!==null;){var f=Nn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=hi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-ye(g);T.entanglements[1]|=R,g&=~R}Ni(f),(Ft&6)===0&&(rc=rn()+500,ll(0))}}break;case 31:case 13:T=Or(f,2),T!==null&&pn(T,f,2),oc(),Sd(f,2)}if(f=wd(o),f===null&&cd(e,n,o,Sc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,n,o,null,s)}}function wd(e){return e=Dn(e),Rd(e)}var Sc=null;function Rd(e){if(Sc=null,e=pi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case yo:return 2;case _o:return 8;case _s:case Dh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Cd=!1,Fs=null,Qs=null,Ks=null,gl=new Map,pl=new Map,Ys=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(n.pointerId)}}function yl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Nn(n),n!==null&&I_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function bb(e,n,s,o,h){switch(n){case"focusin":return Fs=yl(Fs,e,n,s,o,h),!0;case"dragenter":return Qs=yl(Qs,e,n,s,o,h),!0;case"mouseover":return Ks=yl(Ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,yl(gl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,pl.set(f,yl(pl.get(f)||null,e,n,s,o,h)),!0}return!1}function O_(e){var n=pi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,$n(e.priority,function(){x_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,$n(e.priority,function(){x_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);No=o,s.target.dispatchEvent(o),No=null}else return n=Nn(s),n!==null&&I_(n),e.blockedOn=s,!1;n.shift()}return!0}function M_(e,n,s){Ac(e)&&s.delete(n)}function Sb(){Cd=!1,Fs!==null&&Ac(Fs)&&(Fs=null),Qs!==null&&Ac(Qs)&&(Qs=null),Ks!==null&&Ac(Ks)&&(Ks=null),gl.forEach(M_),pl.forEach(M_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sb)))}var Rc=null;function V_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var f=Nn(s);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ba(e){function n(R){return wc(R,e)}Fs!==null&&wc(Fs,e),Qs!==null&&wc(Qs,e),Ks!==null&&wc(Ks,e),gl.forEach(n),pl.forEach(n);for(var s=0;s<Ys.length;s++){var o=Ys[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(s=Ys[0],s.blockedOn===null);)O_(s),s.blockedOn===null&&Ys.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Pe]||null;if(typeof f=="function")g||V_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)T=g.formAction;else if(Rd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),V_(s)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Cc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Cn();R_(s,o,e,n,null,null)},Cc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),oc(),n[mi]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ys.length&&n!==0&&n<Ys[s].priority;s++);Ys.splice(s,0,e),s===0&&O_(e)}};var U_=t.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Ab={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Yn=Ic.inject(Ab),qe=Ic}catch{}}return vl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Hp,f=Gp,g=Fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A_(e,1,!1,null,null,s,o,null,h,f,g,k_),e[mi]=n.current,ud(e),new Id(n)},vl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Hp,g=Gp,T=Fp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=A_(e,1,!0,n,s??null,o,h,R,f,g,T,k_),n.context=w_(null),s=n.current,o=Cn(),o=Er(o),h=Ms(o),h.callback=null,Vs(s,h,o),s=o,n.current.lanes=s,_r(n,s),Ni(n),e[mi]=n.current,ud(e),new Cc(n)},vl.version="19.2.3",vl}var Q_;function Vb(){if(Q_)return Dd.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=Mb(),Dd.exports}var kb=Vb();const Ub=()=>{};var K_={};const Sv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Lb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(M=64)),a.push(i[E],i[A],i[M],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Sv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Lb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new Pb;const M=c<<2|p>>4;if(a.push(M),_!==64){const G=p<<4&240|_>>2;if(a.push(G),A!==64){const tt=_<<6&192|A;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zb=function(r){const t=Sv(r);return Av.encodeByteArray(t,!0)},Qc=function(r){return zb(r).replace(/\./g,"")},wv=function(r){try{return Av.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Bb=()=>jb().__FIREBASE_DEFAULTS__,qb=()=>{if(typeof process>"u"||typeof K_>"u")return;const r=K_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Hb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&wv(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return Ub()||Bb()||qb()||Hb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rv=r=>hh()?.emulatorHosts?.[r],Gb=r=>{const t=Rv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Cv=()=>hh()?.config,Iv=r=>hh()?.[`_${r}`];class Fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(r){return(await fetch(r,{credentials:"include"})).ok}function Qb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const wl={};function Kb(){const r={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?r.emulator.push(t):r.prod.push(t);return r}function Yb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Y_=!1;function Nv(r,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||wl[r]===t||wl[r]||Y_)return;wl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Kb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Y_=!0,d()},M}function E(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=Yb(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),gt=i("preprendIcon"),bt=document.getElementById(gt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;p(pt),E(W,st);const qt=_();y(bt,gt),pt.append(bt,tt,W,qt),document.body.appendChild(pt)}c?(tt.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function $b(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tS(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eS(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){try{return typeof indexedDB=="object"}catch{return!1}}function iS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const sS="FirebaseError";class ys extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=sS,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?rS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ys(l,p,a)}}function rS(r,t){return r.replace(aS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const aS=/\{\$([^}]+)}/g;function oS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function or(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!or(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function Bl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function lS(r,t){const i=new uS(r,t);return i.subscribe.bind(i)}class uS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");cS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function ln(r){return r&&r._delegate?r._delegate:r}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class hS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dS(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:fS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fS(r){return r===Fr?void 0:r}function dS(r){return r.instantiationMode==="EAGER"}class mS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new hS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const gS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},pS=Vt.INFO,yS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},_S=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=yS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=pS,this._logHandler=_S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?gS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const vS=(r,t)=>t.some(i=>r instanceof i);let $_,Z_;function ES(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,Jd=new WeakMap,Ov=new WeakMap,Ud=new WeakMap,Im=new WeakMap;function bS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(nr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Dv.set(i,r)}).catch(()=>{}),Im.set(t,r),t}function SS(r){if(Jd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,t)}let Wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Ov.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function AS(r){Wd=r(Wd)}function wS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ld(this),t,...i);return Ov.set(a,t.sort?t.sort():[t]),nr(a)}:TS().includes(r)?function(...t){return r.apply(Ld(this),t),nr(Dv.get(this))}:function(...t){return nr(r.apply(Ld(this),t))}}function RS(r){return typeof r=="function"?wS(r):(r instanceof IDBTransaction&&SS(r),vS(r,ES())?new Proxy(r,Wd):r)}function nr(r){if(r instanceof IDBRequest)return bS(r);if(Ud.has(r))return Ud.get(r);const t=RS(r);return t!==r&&(Ud.set(r,t),Im.set(t,r)),t}const Ld=r=>Im.get(r);function CS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=nr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(nr(d.result),y.oldVersion,y.newVersion,nr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const IS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Pd=new Map;function J_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=xS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||IS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Pd.set(t,c),c}AS(r=>({...r,get:(t,i,a)=>J_(t,i)||r.get(t,i,a),has:(t,i)=>!!J_(t,i)||r.has(t,i)}));class NS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DS(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",W_="0.14.6";const hs=new Cm("@firebase/app"),OS="@firebase/app-compat",MS="@firebase/analytics-compat",VS="@firebase/analytics",kS="@firebase/app-check-compat",US="@firebase/app-check",LS="@firebase/auth",PS="@firebase/auth-compat",zS="@firebase/database",jS="@firebase/data-connect",BS="@firebase/database-compat",qS="@firebase/functions",HS="@firebase/functions-compat",GS="@firebase/installations",FS="@firebase/installations-compat",QS="@firebase/messaging",KS="@firebase/messaging-compat",YS="@firebase/performance",XS="@firebase/performance-compat",$S="@firebase/remote-config",ZS="@firebase/remote-config-compat",JS="@firebase/storage",WS="@firebase/storage-compat",tA="@firebase/firestore",eA="@firebase/ai",nA="@firebase/firestore-compat",iA="firebase",sA="12.6.0";const em="[DEFAULT]",rA={[tm]:"fire-core",[OS]:"fire-core-compat",[VS]:"fire-analytics",[MS]:"fire-analytics-compat",[US]:"fire-app-check",[kS]:"fire-app-check-compat",[LS]:"fire-auth",[PS]:"fire-auth-compat",[zS]:"fire-rtdb",[jS]:"fire-data-connect",[BS]:"fire-rtdb-compat",[qS]:"fire-fn",[HS]:"fire-fn-compat",[GS]:"fire-iid",[FS]:"fire-iid-compat",[QS]:"fire-fcm",[KS]:"fire-fcm-compat",[YS]:"fire-perf",[XS]:"fire-perf-compat",[$S]:"fire-rc",[ZS]:"fire-rc-compat",[JS]:"fire-gcs",[WS]:"fire-gcs-compat",[tA]:"fire-fst",[nA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[iA]:"fire-js-all"};const Kc=new Map,aA=new Map,nm=new Map;function t0(r,t){try{r.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const t=r.name;if(nm.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,r);for(const i of Kc.values())t0(i,r);for(const i of aA.values())t0(i,r);return!0}function xm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Fn(r){return r==null?!1:r.settings!==void 0}const oA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new jl("app","Firebase",oA);class lA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const uo=sA;function Mv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=Cv()),!i)throw ir.create("no-options");const c=Kc.get(l);if(c){if(or(i,c.options)&&or(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new mS(l);for(const y of nm.values())d.addComponent(y);const p=new lA(i,a,d);return Kc.set(l,p),p}function Vv(r=em){const t=Kc.get(r);if(!t&&r===em&&Cv())return Mv();if(!t)throw ir.create("no-app",{appName:r});return t}function sr(r,t,i){let a=rA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}Wa(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uA="firebase-heartbeat-database",cA=1,Dl="firebase-heartbeat-store";let zd=null;function kv(){return zd||(zd=CS(uA,cA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Dl)}catch(i){console.warn(i)}}}}).catch(r=>{throw ir.create("idb-open",{originalErrorMessage:r.message})})),zd}async function hA(r){try{const i=(await kv()).transaction(Dl),a=await i.objectStore(Dl).get(Uv(r));return await i.done,a}catch(t){if(t instanceof ys)hs.warn(t.message);else{const i=ir.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function e0(r,t){try{const a=(await kv()).transaction(Dl,"readwrite");await a.objectStore(Dl).put(t,Uv(r)),await a.done}catch(i){if(i instanceof ys)hs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});hs.warn(a.message)}}}function Uv(r){return`${r.name}!${r.options.appId}`}const fA=1024,dA=30;class mA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new pA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>dA){const l=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:i,unsentEntries:a}=gA(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return hs.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function gA(r,t=fA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class pA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nS()?iS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function i0(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function yA(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function _A(r){Wa(new Yr("platform-logger",t=>new NS(t),"PRIVATE")),Wa(new Yr("heartbeat",t=>new mA(t),"PRIVATE")),sr(tm,W_,r),sr(tm,W_,"esm2020"),sr("fire-js","")}_A("");var vA="firebase",EA="12.7.0";sr(vA,EA,"app");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TA=Lv,Pv=new jl("auth","Firebase",Lv());const Yc=new Cm("@firebase/auth");function bA(r,...t){Yc.logLevel<=Vt.WARN&&Yc.warn(`Auth (${uo}): ${r}`,...t)}function Uc(r,...t){Yc.logLevel<=Vt.ERROR&&Yc.error(`Auth (${uo}): ${r}`,...t)}function fs(r,...t){throw Nm(r,...t)}function Mi(r,...t){return Nm(r,...t)}function zv(r,t,i){const a={...TA(),[t]:i};return new jl("auth","Firebase",a).create(t,{appName:r.name})}function cs(r){return zv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Pv.create(r,...t)}function Tt(r,t,...i){if(!r)throw Nm(t,...i)}function ls(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uc(t),new Error(t)}function ds(r,t){r||ls(t)}function im(){return typeof self<"u"&&self.location?.href||""}function SA(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function AA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SA()||Jb()||"connection"in navigator)?navigator.onLine:!0}function wA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,ds(i>t,"Short delay should be less than long delay!"),this.isMobile=Xb()||Wb()}get(){return AA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(r,t){ds(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class jv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const RA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const CA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IA=new ql(3e4,6e4);function Hl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function co(r,t,i,a,l={}){return Bv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Bl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return Zb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(_.credentials="include"),jv.fetch()(await qv(r,r.config.apiHost,i,p),_)})}async function Bv(r,t,i){r._canInitEmulator=!1;const a={...RA,...t};try{const l=new xA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw xc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw zv(r,E,_);fs(r,E)}}catch(l){if(l instanceof ys)throw l;fs(r,"network-request-failed",{message:String(l)})}}async function Om(r,t,i,a,l={}){const c=await co(r,t,i,a,l);return"mfaPendingCredential"in c&&fs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function qv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Dm(r.config,l):`${r.config.apiScheme}://${l}`;return CA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class xA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Mi(this.auth,"network-request-failed")),IA.get())})}}function xc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Mi(r,t,a);return l.customData._tokenResponse=i,l}async function NA(r,t){return co(r,"POST","/v1/accounts:delete",t)}async function Xc(r,t){return co(r,"POST","/v1/accounts:lookup",t)}function Rl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function DA(r,t=!1){const i=ln(r),a=await i.getIdToken(t),l=Mm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Rl(jd(l.auth_time)),issuedAtTime:Rl(jd(l.iat)),expirationTime:Rl(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function Mm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=wv(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const t=Mm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ol(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ys&&OA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function OA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class MA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(r){const t=r.auth,i=await r.getIdToken(),a=await Ol(r,Xc(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Hv(l.providerUserInfo):[],d=kA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function VA(r){const t=ln(r);await $c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function kA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Hv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function UA(r,t){const i=await Bv(r,{},async()=>{const a=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await qv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),jv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LA(r,t){return co(r,"POST","/v2/accounts:revokeToken",Hl(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=r0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await UA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return ls("not implemented")}}function $s(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ai{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new MA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return DA(this,t)}reload(){return VA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ai({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(cs(this.auth));const t=await this.getIdToken();return await Ol(this,NA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:G,providerData:tt,stsTokenManager:st}=i;Tt(A&&st,t,"internal-error");const W=Ka.fromJSON(this.name,st);Tt(typeof A=="string",t,"internal-error"),$s(a,t.name),$s(l,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof G=="boolean",t,"internal-error"),$s(c,t.name),$s(d,t.name),$s(p,t.name),$s(y,t.name),$s(_,t.name),$s(E,t.name);const gt=new ai({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:E});return tt&&Array.isArray(tt)&&(gt.providerData=tt.map(bt=>({...bt}))),y&&(gt._redirectEventId=y),gt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Hv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const y=new ai({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const a0=new Map;function us(r){ds(r instanceof Function,"Expected a class definition");let t=a0.get(r);return t?(ds(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,a0.set(r,t),t)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Gv.type="NONE";const o0=Gv;function Lc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,t):null}return ai._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(us(o0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||us(o0);const d=Lc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const M=await Xc(t,{idToken:E}).catch(()=>{});if(!M)break;A=await ai._fromGetAccountInfoResponse(t,M,E)}else A=ai._fromJSON(t,E);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ya(c,t,a))}}function l0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Yv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($v(t))return"Blackberry";if(Zv(t))return"Webos";if(Qv(t))return"Safari";if((t.includes("chrome/")||Kv(t))&&!t.includes("edge/"))return"Chrome";if(Xv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Fv(r=sn()){return/firefox\//i.test(r)}function Qv(r=sn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kv(r=sn()){return/crios\//i.test(r)}function Yv(r=sn()){return/iemobile/i.test(r)}function Xv(r=sn()){return/android/i.test(r)}function $v(r=sn()){return/blackberry/i.test(r)}function Zv(r=sn()){return/webos/i.test(r)}function Vm(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PA(r=sn()){return Vm(r)&&!!window.navigator?.standalone}function zA(){return tS()&&document.documentMode===10}function Jv(r=sn()){return Vm(r)||Xv(r)||Zv(r)||$v(r)||/windows phone/i.test(r)||Yv(r)}function Wv(r,t=[]){let i;switch(r){case"Browser":i=l0(sn());break;case"Worker":i=`${l0(sn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${a}`}class jA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function BA(r,t={}){return co(r,"GET","/v2/passwordPolicy",Hl(r,t))}const qA=6;class HA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??qA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class GA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new jA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),a=await ai._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await $c(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(cs(this));const i=t?ln(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BA(this),i=new HA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&us(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&bA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gl(r){return ln(r)}class u0{constructor(t){this.auth=t,this.observer=null,this.addObserver=lS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FA(r){km=r}function QA(r){return km.loadJS(r)}function KA(){return km.gapiScript}function YA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function XA(r,t){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(or(c,t??{}))return l;fs(l,"already-initialized")}return i.initialize({options:t})}function $A(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(us);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function ZA(r,t,i){const a=Gl(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=tE(t),{host:d,port:p}=JA(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(or(_,a.config.emulator)&&or(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,lo(d)?(xv(`${c}//${d}${y}`),Nv("Auth",!0)):WA()}function tE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function JA(r){const t=tE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function WA(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class eE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(t){return ls("not implemented")}_linkToIdToken(t,i){return ls("not implemented")}_getReauthenticationResolver(t){return ls("not implemented")}}async function Xa(r,t){return Om(r,"POST","/v1/accounts:signInWithIdp",Hl(r,t))}const tw="http://localhost";class Xr extends eE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):fs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:tw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}class nE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fl extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Zs extends Fl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class Js extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Js.credential(i,a)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";class Ws extends Fl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ws.credential(t.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class tr extends Fl{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return tr.credential(i,a)}catch{return null}}}tr.TWITTER_SIGN_IN_METHOD="twitter.com";tr.PROVIDER_ID="twitter.com";async function ew(r,t){return Om(r,"POST","/v1/accounts:signUp",Hl(r,t))}class ms{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ai._fromIdTokenResponse(t,a,l),d=h0(a);return new ms({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=h0(a);return new ms({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function nw(r){if(Fn(r.app))return Promise.reject(cs(r));const t=Gl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ms({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ew(t,{returnSecureToken:!0}),a=await ms._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Zc extends ys{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Zc(t,i,a,l)}}function iE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,c,t,a):c})}async function iw(r,t,i=!1){const a=await Ol(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ms._forOperation(r,"link",a)}async function sw(r,t,i=!1){const{auth:a}=r;if(Fn(a.app))return Promise.reject(cs(a));const l="reauthenticate";try{const c=await Ol(r,iE(a,l,t,r),i);Tt(c.idToken,a,"internal-error");const d=Mm(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(r.uid===p,a,"user-mismatch"),ms._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&fs(a,"user-mismatch"),c}}async function rw(r,t,i=!1){if(Fn(r.app))return Promise.reject(cs(r));const a="signIn",l=await iE(r,a,t),c=await ms._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function aw(r,t){return Om(r,"POST","/v1/accounts:signInWithCustomToken",Hl(r,t))}async function ow(r,t){if(Fn(r.app))return Promise.reject(cs(r));const i=Gl(r),a=await aw(i,{token:t,returnSecureToken:!0}),l=await ms._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function lw(r,t,i,a){return ln(r).onIdTokenChanged(t,i,a)}function uw(r,t,i){return ln(r).beforeAuthStateChanged(t,i)}function cw(r,t,i,a){return ln(r).onAuthStateChanged(t,i,a)}const Jc="__sak";class sE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const hw=1e3,fw=10;class rE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);zA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,fw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},hw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}rE.type="LOCAL";const dw=rE;class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}aE.type="SESSION";const oE=aE;function mw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await mw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Um(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class gw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Um("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Vi(){return window}function pw(r){Vi().location.href=r}function lE(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function yw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _w(){return navigator?.serviceWorker?.controller||null}function vw(){return lE()?self:null}const uE="firebaseLocalStorageDb",Ew=1,Wc="firebaseLocalStorage",cE="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,t){return r.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function Tw(){const r=indexedDB.deleteDatabase(uE);return new Ql(r).toPromise()}function rm(){const r=indexedDB.open(uE,Ew);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Wc,{keyPath:cE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await Tw(),t(await rm()))})})}async function f0(r,t,i){const a=dh(r,!0).put({[cE]:t,value:i});return new Ql(a).toPromise()}async function bw(r,t){const i=dh(r,!1).get(t),a=await new Ql(i).toPromise();return a===void 0?null:a.value}function d0(r,t){const i=dh(r,!0).delete(t);return new Ql(i).toPromise()}const Sw=800,Aw=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Aw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(vw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yw(),!this.activeServiceWorker)return;this.sender=new gw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_w()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await f0(t,Jc,"1"),await d0(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>bw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const ww=hE;new ql(3e4,6e4);function Rw(r,t){return t?us(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Lm extends eE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Cw(r){return rw(r.auth,new Lm(r),r.bypassAuthState)}function Iw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),sw(i,new Lm(r),r.bypassAuthState)}async function xw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),iw(i,new Lm(r),r.bypassAuthState)}class fE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Cw;case"linkViaPopup":case"linkViaRedirect":return xw;case"reauthViaPopup":case"reauthViaRedirect":return Iw;default:fs(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nw=new ql(2e3,1e4);class Qa extends fE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Nw.get())};t()}}Qa.currentPopupAction=null;const Dw="pendingRedirect",Pc=new Map;class Ow extends fE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const a=await Mw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mw(r,t){const i=Uw(t),a=kw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Vw(r,t){Pc.set(r._key(),t)}function kw(r){return us(r._redirectPersistence)}function Uw(r){return Lc(Dw,r.config.apiKey,r.name)}async function Lw(r,t,i=!1){if(Fn(r.app))return Promise.reject(cs(r));const a=Gl(r),l=Rw(a,t),d=await new Ow(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Pw=600*1e3;class zw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!dE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Mi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(t))}saveEventToCache(t){this.cachedEventUids.add(m0(t)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function dE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function jw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(r);default:return!1}}async function Bw(r,t={}){return co(r,"GET","/v1/projects",t)}const qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hw=/^https?/;async function Gw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Bw(r);for(const i of t)try{if(Fw(i))return}catch{}fs(r,"unauthorized-domain")}function Fw(r){const t=im(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Hw.test(i))return!1;if(qw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Qw=new ql(3e4,6e4);function g0(){const r=Vi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Kw(r){return new Promise((t,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(Mi(r,"network-request-failed"))},timeout:Qw.get()})}if(Vi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Vi().gapi?.load)a();else{const l=YA("iframefcb");return Vi()[l]=()=>{gapi.load?a():i(Mi(r,"network-request-failed"))},QA(`${KA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function Yw(r){return zc=zc||Kw(r),zc}const Xw=new ql(5e3,15e3),$w="__/auth/iframe",Zw="emulator/auth/iframe",Jw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Dm(t,Zw):`https://${r.config.authDomain}/${$w}`,a={apiKey:t.apiKey,appName:r.name,v:uo},l=Ww.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bl(a).slice(1)}`}async function e2(r){const t=await Yw(r),i=Vi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:t2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Mi(r,"network-request-failed"),p=Vi().setTimeout(()=>{c(d)},Xw.get());function y(){Vi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const n2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i2=500,s2=600,r2="_blank",a2="http://localhost";class p0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o2(r,t,i,a=i2,l=s2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...n2,width:a.toString(),height:l.toString(),top:c,left:d},_=sn().toLowerCase();i&&(p=Kv(_)?r2:i),Fv(_)&&(t=t||a2,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[G,tt])=>`${M}${G}=${tt},`,"");if(PA(_)&&p!=="_self")return l2(t||"",p),new p0(null);const A=window.open(t||"",p,E);Tt(A,r,"popup-blocked");try{A.focus()}catch{}return new p0(A)}function l2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const u2="__/auth/handler",c2="emulator/auth/handler",h2=encodeURIComponent("fac");async function y0(r,t,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:uo,eventId:l};if(t instanceof nE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",oS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof Fl){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${h2}=${encodeURIComponent(y)}`:"";return`${f2(r)}?${Bl(p).slice(1)}${_}`}function f2({config:r}){return r.emulator?Dm(r,c2):`https://${r.authDomain}/${u2}`}const Bd="webStorageSupport";class d2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=Lw,this._overrideRedirectResult=Vw}async _openPopup(t,i,a,l){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(t,i,a,im(),l);return o2(t,c,Um())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await y0(t,i,a,im(),l);return pw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await e2(t),a=new zw(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),fs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Gw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jv()||Qv()||Vm()}}const m2=d2;var _0="@firebase/auth",v0="1.12.0";class g2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function p2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y2(r){Wa(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wv(r)},_=new GA(a,l,c,y);return $A(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new Yr("auth-internal",t=>{const i=Gl(t.getProvider("auth").getImmediate());return(a=>new g2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(_0,v0,p2(r)),sr(_0,v0,"esm2020")}const _2=300,v2=Iv("authIdTokenMaxAge")||_2;let E0=null;const E2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>v2)return;const l=i?.token;E0!==l&&(E0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function T2(r=Vv()){const t=xm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=XA(r,{popupRedirectResolver:m2,persistence:[ww,dw,oE]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=E2(c.toString());uw(i,d,()=>d(i.currentUser)),lw(i,p=>d(p))}}const l=Rv("auth");return l&&ZA(i,`http://${l}`),i}function b2(){return document.getElementsByTagName("head")?.[0]??document}FA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Mi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",b2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y2("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,mE;(function(){var r;function t(N,S){function C(){}C.prototype=S.prototype,N.F=S.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,O,U){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return S.prototype[O].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)V[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;O<16;++O)V[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=N.g[0],C=N.g[1],O=N.g[2];let U=N.g[3],w;w=S+(U^C&(O^U))+V[0]+3614090360&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(O^S&(C^O))+V[1]+3905402710&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(C^U&(S^C))+V[2]+606105819&4294967295,O=U+(w<<17&4294967295|w>>>15),w=C+(S^O&(U^S))+V[3]+3250441966&4294967295,C=O+(w<<22&4294967295|w>>>10),w=S+(U^C&(O^U))+V[4]+4118548399&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(O^S&(C^O))+V[5]+1200080426&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(C^U&(S^C))+V[6]+2821735955&4294967295,O=U+(w<<17&4294967295|w>>>15),w=C+(S^O&(U^S))+V[7]+4249261313&4294967295,C=O+(w<<22&4294967295|w>>>10),w=S+(U^C&(O^U))+V[8]+1770035416&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(O^S&(C^O))+V[9]+2336552879&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(C^U&(S^C))+V[10]+4294925233&4294967295,O=U+(w<<17&4294967295|w>>>15),w=C+(S^O&(U^S))+V[11]+2304563134&4294967295,C=O+(w<<22&4294967295|w>>>10),w=S+(U^C&(O^U))+V[12]+1804603682&4294967295,S=C+(w<<7&4294967295|w>>>25),w=U+(O^S&(C^O))+V[13]+4254626195&4294967295,U=S+(w<<12&4294967295|w>>>20),w=O+(C^U&(S^C))+V[14]+2792965006&4294967295,O=U+(w<<17&4294967295|w>>>15),w=C+(S^O&(U^S))+V[15]+1236535329&4294967295,C=O+(w<<22&4294967295|w>>>10),w=S+(O^U&(C^O))+V[1]+4129170786&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^O&(S^C))+V[6]+3225465664&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^C&(U^S))+V[11]+643717713&4294967295,O=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(O^U))+V[0]+3921069994&4294967295,C=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(C^O))+V[5]+3593408605&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^O&(S^C))+V[10]+38016083&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^C&(U^S))+V[15]+3634488961&4294967295,O=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(O^U))+V[4]+3889429448&4294967295,C=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(C^O))+V[9]+568446438&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^O&(S^C))+V[14]+3275163606&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^C&(U^S))+V[3]+4107603335&4294967295,O=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(O^U))+V[8]+1163531501&4294967295,C=O+(w<<20&4294967295|w>>>12),w=S+(O^U&(C^O))+V[13]+2850285829&4294967295,S=C+(w<<5&4294967295|w>>>27),w=U+(C^O&(S^C))+V[2]+4243563512&4294967295,U=S+(w<<9&4294967295|w>>>23),w=O+(S^C&(U^S))+V[7]+1735328473&4294967295,O=U+(w<<14&4294967295|w>>>18),w=C+(U^S&(O^U))+V[12]+2368359562&4294967295,C=O+(w<<20&4294967295|w>>>12),w=S+(C^O^U)+V[5]+4294588738&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^O)+V[8]+2272392833&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^C)+V[11]+1839030562&4294967295,O=U+(w<<16&4294967295|w>>>16),w=C+(O^U^S)+V[14]+4259657740&4294967295,C=O+(w<<23&4294967295|w>>>9),w=S+(C^O^U)+V[1]+2763975236&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^O)+V[4]+1272893353&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^C)+V[7]+4139469664&4294967295,O=U+(w<<16&4294967295|w>>>16),w=C+(O^U^S)+V[10]+3200236656&4294967295,C=O+(w<<23&4294967295|w>>>9),w=S+(C^O^U)+V[13]+681279174&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^O)+V[0]+3936430074&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^C)+V[3]+3572445317&4294967295,O=U+(w<<16&4294967295|w>>>16),w=C+(O^U^S)+V[6]+76029189&4294967295,C=O+(w<<23&4294967295|w>>>9),w=S+(C^O^U)+V[9]+3654602809&4294967295,S=C+(w<<4&4294967295|w>>>28),w=U+(S^C^O)+V[12]+3873151461&4294967295,U=S+(w<<11&4294967295|w>>>21),w=O+(U^S^C)+V[15]+530742520&4294967295,O=U+(w<<16&4294967295|w>>>16),w=C+(O^U^S)+V[2]+3299628645&4294967295,C=O+(w<<23&4294967295|w>>>9),w=S+(O^(C|~U))+V[0]+4096336452&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~O))+V[7]+1126891415&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~C))+V[14]+2878612391&4294967295,O=U+(w<<15&4294967295|w>>>17),w=C+(U^(O|~S))+V[5]+4237533241&4294967295,C=O+(w<<21&4294967295|w>>>11),w=S+(O^(C|~U))+V[12]+1700485571&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~O))+V[3]+2399980690&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~C))+V[10]+4293915773&4294967295,O=U+(w<<15&4294967295|w>>>17),w=C+(U^(O|~S))+V[1]+2240044497&4294967295,C=O+(w<<21&4294967295|w>>>11),w=S+(O^(C|~U))+V[8]+1873313359&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~O))+V[15]+4264355552&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~C))+V[6]+2734768916&4294967295,O=U+(w<<15&4294967295|w>>>17),w=C+(U^(O|~S))+V[13]+1309151649&4294967295,C=O+(w<<21&4294967295|w>>>11),w=S+(O^(C|~U))+V[4]+4149444226&4294967295,S=C+(w<<6&4294967295|w>>>26),w=U+(C^(S|~O))+V[11]+3174756917&4294967295,U=S+(w<<10&4294967295|w>>>22),w=O+(S^(U|~C))+V[2]+718787259&4294967295,O=U+(w<<15&4294967295|w>>>17),w=C+(U^(O|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const C=S-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<S;){if(O==0)for(;U<=C;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[O++]=N.charCodeAt(U++),O==this.blockSize){l(this,V),O=0;break}}else for(;U<S;)if(V[O++]=N[U++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[S++]=this.g[C]>>>V&255;return N};function c(N,S){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=S(N)}function d(N,S){this.h=S;const C=[];let V=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;V&&U==S||(C[O]=U,V=!1)}this.g=C}var p={};function y(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return W(_(-N));const S=[];let C=1;for(let V=0;N>=C;V++)S[V]=N/C|0,C*=4294967296;return new d(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return W(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let V=A;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const w=parseInt(N.substring(U,U+O),S);O<8?(O=_(Math.pow(S,O)),V=V.j(O).add(_(w))):(V=V.j(C),V=V.add(_(w)))}return V}var A=y(0),M=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(st(this))return-W(this).m();let N=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(st(this))return"-"+W(this).toString(N);const S=_(Math.pow(N,6));var C=this;let V="";for(;;){const O=qt(C,S).g;C=gt(C,O.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=O,tt(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=gt(this,N),st(N)?-1:tt(N)?0:1};function W(N){const S=N.g.length,C=[];for(let V=0;V<S;V++)C[V]=~N.g[V];return new d(C,~N.h).add(M)}r.abs=function(){return st(this)?W(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let O=0;O<=S;O++){let U=V+(this.i(O)&65535)+(N.i(O)&65535),w=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=w>>>16,U&=65535,w&=65535,C[O]=w<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function gt(N,S){return N.add(W(S))}r.j=function(N){if(tt(this)||tt(N))return A;if(st(this))return st(N)?W(this).j(W(N)):W(W(this).j(N));if(st(N))return W(this.j(W(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const S=this.g.length+N.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const U=this.i(V)>>>16,w=this.i(V)&65535,ne=N.i(O)>>>16,pe=N.i(O)&65535;C[2*V+2*O]+=w*pe,bt(C,2*V+2*O),C[2*V+2*O+1]+=U*pe,bt(C,2*V+2*O+1),C[2*V+2*O+1]+=w*ne,bt(C,2*V+2*O+1),C[2*V+2*O+2]+=U*ne,bt(C,2*V+2*O+2)}for(N=0;N<S;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=S;N<2*S;N++)C[N]=0;return new d(C,0)};function bt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function pt(N,S){this.g=N,this.h=S}function qt(N,S){if(tt(S))throw Error("division by zero");if(tt(N))return new pt(A,A);if(st(N))return S=qt(W(N),S),new pt(W(S.g),W(S.h));if(st(S))return S=qt(N,W(S)),new pt(W(S.g),S.h);if(N.g.length>30){if(st(N)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=S;V.l(N)<=0;)C=$t(C),V=$t(V);var O=Dt(C,1),U=Dt(V,1);for(V=Dt(V,2),C=Dt(C,2);!tt(V);){var w=U.add(V);w.l(N)<=0&&(O=O.add(C),U=w),V=Dt(V,1),C=Dt(C,1)}return S=gt(N,O.j(S)),new pt(O,S)}for(O=A;N.l(S)>=0;){for(C=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(C),w=U.j(S);st(w)||w.l(N)>0;)C-=V,U=_(C),w=U.j(S);tt(U)&&(U=M),O=O.add(U),N=gt(N,w)}return new pt(O,N)}r.B=function(N){return qt(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function $t(N){const S=N.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Dt(N,S){const C=S>>5;S%=32;const V=N.g.length-C,O=[];for(let U=0;U<V;U++)O[U]=S>0?N.i(U+C)>>>S|N.i(U+C+1)<<32-S:N.i(U+C);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,rr=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gE,Tl,pE,jc,am,yE,_E,vE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,B){for(var nt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)nt[Rt-2]=arguments[Rt];return m.prototype[L].apply(b,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let nt=0;nt<B;nt++)u[v+nt]=L[nt]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function gt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const b=pt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var pt=new st(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Dt=!1,N=new bt,S=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(C)}};function C(){for(var u;u=gt();){try{u.h.call(u.g)}catch(v){W(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ne,O),ne.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),F=0;function rt(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function et(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function at(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let B=0;B<H.length;B++)v=H[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,b,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const nt=Z(u,m,b,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new rt(m,this.src,B,!!b,L),m.fa=v,u.push(m)),m};function ht(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(b,L,1),B&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Z(u,m,v,b){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return L}return-1}var ut="closure_lm_"+(Math.random()*1e6|0),zt={};function Ht(u,m,v,b,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Ht(u,m[B],v,b,L);return null}return v=Je(v),u&&u[pe]?u.J(m,v,p(b)?!!b.capture:!1,L):Et(u,m,v,!1,b,L)}function Et(u,m,v,b,L,B){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let Rt=qi(u);if(Rt||(u[ut]=Rt=new it(u)),v=Rt.add(m,v,b,nt,B),v.proxy)return v;if(b=ie(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(un(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ie(){function u(v){return m.call(u.src,u.listener,v)}const m=ui;return u}function Le(u,m,v,b,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Le(u,m[B],v,b,L);else b=p(b)?!!b.capture:!!b,v=Je(v),u&&u[pe]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Z(m,v,b,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=qi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Z(m,v,b,L)),(v=u>-1?m[u]:null)&&Bi(v))}function Bi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])ht(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(un(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=qi(m))?(ht(v,u),v.h==0&&(v.src=null,m[ut]=null)):dt(u)}}}function un(u){return u in zt?zt[u]:zt[u]="on"+u}function ui(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Bi(u),u=v.call(b,m)}return u}function qi(u){return u=u[ut],u instanceof it?u:null}var Me="__closure_events_fn_"+(Math.random()*1e9>>>0);function Je(u){return typeof u=="function"?u:(u[Me]||(u[Me]=function(m){return u.handleEvent(m)}),u[Me])}function oe(){V.call(this),this.i=new it(this),this.M=this,this.G=null}A(oe,V),oe.prototype[pe]=!0,oe.prototype.removeEventListener=function(u,m,v,b){Le(this,u,m,v,b)};function ce(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(b,u),J(m,L)}L=!0;let B,nt;if(v)for(nt=v.length-1;nt>=0;nt--)B=m.g=v[nt],L=Kn(B,b,!0,m)&&L;if(B=m.g=u,L=Kn(B,b,!0,m)&&L,L=Kn(B,b,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)B=m.g=v[nt],L=Kn(B,b,!1,m)&&L}oe.prototype.N=function(){if(oe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)dt(v[b]);delete u.g[m],u.h--}}this.G=null},oe.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},oe.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Kn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const nt=m[B];if(nt&&!nt.da&&nt.capture==v){const Rt=nt.listener,_e=nt.ha||nt.src;nt.fa&&ht(u.i,nt),L=Rt.call(_e,b)!==!1&&L}}return L&&!b.defaultPrevented}function po(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function tu(u){u.g=po(()=>{u.g=null,u.i&&(u.i=!1,tu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class rn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:tu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){V.call(this),this.h=u,this.g={}}A(pr,V);var yo=[];function _o(u){et(u.g,function(m,v){this.g.hasOwnProperty(v)&&Bi(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),_o(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,Dh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){O.call(this,"d")}A(qe,O);function xn(){O.call(this,"c")}A(xn,O);var ye={},su=null;function ea(){return su=su||new oe}ye.Ia="serverreachability";function ru(u){O.call(this,ye.Ia,u)}A(ru,O);function ci(u){const m=ea();ce(m,new ru(m))}ye.STAT_EVENT="statevent";function yr(u,m){O.call(this,ye.STAT_EVENT,u),this.stat=m}A(yr,O);function be(u){const m=ea();ce(m,new yr(m,u))}ye.Ja="timingevent";function hi(u,m){O.call(this,ye.Ja,u),this.size=m}A(hi,O);function fi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,b,L,B){u.info(function(){if(u.g)if(B){var nt="",Rt=B.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var _e=Rt[Gt].split("=");if(_e.length>1){const le=_e[0];_e=_e[1];const Mn=le.split("_");nt=Mn.length>=2&&Mn[1]=="type"?nt+(le+"="+_e+"&"):nt+(le+"=redacted&")}}}else nt=null;else nt=B;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function au(u,m,v,b,L,B,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+nt})}function di(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(b?" "+b:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return _s(B)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Eo;function Er(){}A(Er,nu),Er.prototype.g=function(){return new XMLHttpRequest},Eo=new Er;function Hi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function $n(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function mi(u,m,v){u.M=1,u.A=Tr(we(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),gi(u),u.B=we(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),aa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Zn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new rn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(yo[0]=L.toString()),L=yo);for(let B=0;B<L.length;B++){const nt=Ht(v,L[B],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ci(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=ti(this.g),_e=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Rt!=4||_e==7||(_e==8||Gt<=0?ci(3):ci(2)),pi(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var B=b;break e}}B=null}if(u=B)di(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,be(12),vn(this),Nn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=uu(this,v),le==Pe){Rt==4&&(this.m=4,be(14),u=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Se){this.m=4,be(15),di(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else di(this.i,this.l,le,null),yi(this,le);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)di(this.i,this.l,v,"[Invalid Chunked Response]"),vn(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ko(nt),nt.P=!0,be(11))}}else di(this.i,this.l,v,null),yi(this,v);Rt==4&&vn(this),this.o&&!this.K&&(Rt==4?_u(this.j,this):(this.o=!1,gi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),vn(this),Nn(this)}}}catch{}};function Vh(u){if(!lu(u))return u.g.la();const m=He(u.g);if(m==="")return"";let v="";const b=m.length,L=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),Nn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Pe:(v=Number(m.substring(v,b)),isNaN(v)?Se:(b+=1,b+v>m.length?Pe:(m=m.slice(b,b+v),u.C=b+v,m)))}$n.prototype.cancel=function(){this.K=!0,vn(this)};function gi(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fi(_(u.aa,u),m)}function pi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(ci(),be(17)),vn(this),this.m=2,Nn(this)):ia(this,this.T-u)};function Nn(u){u.j.I==0||u.K||_u(u.j,u)}function vn(u){pi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,_o(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function yi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||vi(v.h,u))){if(!u.L&&vi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),Rs(v);else break t;Ir(v),be(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(_(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((u.L||v.g==u)&&ha(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const le=Gt[0];if(!(le<=v.K))if(v.K=le,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Mn=Gt[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ri=Gt[4];Ri!=null&&(v.za=Ri,v.j.info("SVER="+v.za));const ei=Gt[5];ei!=null&&typeof ei=="number"&&ei>0&&(b=1.5*ei,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ni=u.g;if(ni){const xr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xr){var B=b.h;B.g||xr.indexOf("spdy")==-1&&xr.indexOf("quic")==-1&&xr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(So(B,B.h),B.h=null))}if(b.G){const fa=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(b.wa=fa,Kt(b.J,b.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=u;if(b.na=Tu(b,b.L?b.ba:null,b.W),nt.L){Ao(b.h,nt);var Rt=nt,_e=b.O;_e&&(Rt.H=_e),Rt.D&&(pi(Rt),gi(Rt)),b.g=nt}else pu(b);v.i.length>0&&Ai(v)}else Gt[0]!="stop"&&Gt[0]!="close"||wi(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?wi(v,7):Mo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}ci(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function To(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function bo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _i(u){return u.h?1:u.g?u.g.size:0}function vi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function So(u,m){u.g?u.g.add(m):u.h=m}function Ao(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}To.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,B=null;b>=0?(L=u[v].substring(0,b),B=u[v].substring(b+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Ro(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),vs(this,m[4]),this.h=Ei(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,ra,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(br(v,v.charAt(0)=="/"?Co:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",br(v,fu)),u.join("")},En.prototype.resolve=function(u){const m=we(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let nt=0;nt<L.length;){const Rt=L[nt++];Rt=="."?b&&nt==L.length&&B.push(""):Rt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&nt==L.length&&B.push("")):(B.push(Rt),b=!0)}b=B.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Ro(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function we(u){return new En(u)}function ze(u,m,v){u.j=v?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof Ts?(u.i=m,oa(u.i,u.l)):(v||(m=br(m,Es)),u.i=new Ts(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function Tr(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,hu=/[#\?:]/g,Co=/[#\?]/g,Es=/[#\?@]/g,fu=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ts.prototype,r.add=function(u,m){hn(this),this.i=null,u=bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){hn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return hn(u),m=bs(u,m),u.g.has(m)}r.forEach=function(u,m){hn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function xo(u,m){hn(u);let v=[];if(typeof m=="string")Io(u,m)&&(v=v.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return hn(this),this.i=null,u=bs(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=xo(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(bs(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Hi(v);v=xo(this,v);for(let B=0;B<v.length;B++){let nt=L;v[B]!==""&&(nt+="="+Hi(v[B])),u.push(nt)}}return this.i=u.join("&")};function mu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(du(this,b),aa(this,L,v))},u)),u.j=m}function Jn(u,m){const v=new Xn;if(d.Image){const b=new Image;b.onload=E(Dn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Dn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Dn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function No(u,m){const v=new Xn,b=new AbortController,L=setTimeout(()=>{b.abort(),Dn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(L),B.ok?Dn(v,"TestPingServer: ok",!0,m):Dn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(v,"TestPingServer: error",!1,m)})}function Dn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Ss(){this.g=new eu}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ti,nu),Ti.prototype.g=function(){return new Sr(this.i,this.h)};function Sr(u,m){oe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Sr,oe),r=Sr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?As(this):Wn(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,As(this))},r.Na=function(u){this.g&&(this.response=u,As(this))},r.ga=function(){this.g&&As(this)};function As(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return et(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ar(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=On(v),typeof u=="string"?v!=null&&Hi(v):Kt(u,m,v))}function Zt(u){oe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,oe);var bi=/^https?$/i,Do=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Eo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){wr(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,nt]of v)this.g.setRequestHeader(B,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){wr(this,B)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Gi(u)}function Oo(u){u.A||(u.A=!0,ce(u,"complete"),ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ce(this,"complete"),ce(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rr(this):this.Xa())},r.Xa=function(){Rr(this)};function Rr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(ce(u,"readystatechange"),ti(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let nt=String(u.D).match(cu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!bi.test(nt?nt.toLowerCase():"")}v=b}if(v)ce(u,"complete"),ce(u,"success");else{u.o=6;try{var L=ti(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Oo(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ce(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function He(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=ou(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}at(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new To(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){be(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),Ai(this)};function Mo(u){if(ua(u),u.I==3){var m=u.V++,v=we(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Cr(u,v),m=new $n(u,u.j,m),m.M=2,m.A=Tr(we(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),gi(m)}Eu(u)}function Rs(u){u.g&&(ko(u),u.g.cancel(),u.g=null)}function ua(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!bo(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||S(),Dt||($t(),Dt=!0),N.add(m,u),u.D=0}}function ca(u,m){return _i(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fi(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new $n(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),J(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=we(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Cr(this,v),B&&(this.R?m="headers="+Hi(On(B))+"&"+m:this.u&&Ar(v,this.u,B)),So(this.h,L),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),L.U=!0,mi(L,v,null)):mi(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||bo(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const b=we(u.J);Kt(b,"SID",u.M),Kt(b,"RID",v),Kt(b,"AID",u.K),Cr(u,b),u.u&&u.o&&Ar(b,u.u,u.o),v=new $n(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),So(u.h,v),mi(v,b,m)}function Cr(u,m){u.H&&et(u.H,function(v,b){Kt(m,b,v)}),u.l&&et({},function(v,b){Kt(m,b,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const _e=["count="+v];Rt==-1?v>0?(Rt=L[0].g,_e.push("ofs="+Rt)):Rt=0:_e.push("ofs="+Rt);let Gt=!0;for(let le=0;le<v;le++){var B=L[le].g;const Mn=L[le].map;if(B-=Rt,B<0)Rt=Math.max(0,L[le].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var nt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ri,ei]of nt){let ni=ei;p(ei)&&(ni=_s(ei)),_e.push(B+Ri+"="+encodeURIComponent(ni))}}catch(Ri){throw _e.push(B+"type="+encodeURIComponent("_badmap")),Ri}}catch{b&&b(Mn)}}if(Gt){nt=_e.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||S(),Dt||($t(),Dt=!0),N.add(m,u),u.A=0}}function Ir(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fi(_(u.Da,u),vu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Rs(this),yu(this))};function ko(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=we(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Cr(u,m),u.u&&u.o&&Ar(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Tr(we(m)),v.u=null,v.R=!0,na(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ir(this),be(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){ha(u),ko(u),u.g=null;var b=2}else if(vi(u.h,m))v=m.G,Ao(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=ea(),ce(b,new hi(b,v)),Ai(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ca(u,m)||b==2&&Ir(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new En(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(b,"https"),Tr(b),L?Jn(b.toString(),v):No(b.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ua(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=wo(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var b=v instanceof En?we(v):new En(v);if(b.g!="")m&&(b.g=m+"."+b.g),vs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new En(null);b&&ze(B,b),m&&(B.g=m),L&&vs(B,L),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Kt(b,v,m),Kt(b,"VER",u.ka),Cr(u,b),b}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new Ti({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new an(u,m)};function an(u,m){oe.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}A(an,oe),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Mo(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&Ai(m)},an.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,an.Z.N.call(this)};function Au(u){qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,qe);function wu(){xn.call(this),this.status=1}A(wu,xn);function Qi(u){this.g=u}A(Qi,Su),Qi.prototype.ra=function(){ce(this.g,"a")},Qi.prototype.qa=function(u){ce(this.g,new Au(u))},Qi.prototype.pa=function(u){ce(this.g,new wu)},Qi.prototype.oa=function(){ce(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,vE=function(){return new Cs},_E=function(){return ea()},yE=ye,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,jc=vr,vo.COMPLETE="complete",pE=vo,iu.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",oe.prototype.listen=oe.prototype.J,Tl=iu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,gE=Zt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",S0="4.9.3";let en=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");let ho="12.7.0";const $r=new Cm("@firebase/firestore");function qa(){return $r.logLevel}function ot(r,...t){if($r.logLevel<=Vt.DEBUG){const i=t.map(Pm);$r.debug(`Firestore (${ho}): ${r}`,...i)}}function gs(r,...t){if($r.logLevel<=Vt.ERROR){const i=t.map(Pm);$r.error(`Firestore (${ho}): ${r}`,...i)}}function to(r,...t){if($r.logLevel<=Vt.WARN){const i=t.map(Pm);$r.warn(`Firestore (${ho}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,EE(r,a,i)}function EE(r,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw gs(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||EE(t,l,a)}function wt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ar{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class TE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(en.UNAUTHENTICATED)))}shutdown(){}}class A2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class w2{constructor(t){this.t=t,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ar,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ar)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new en(t)}}class R2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class C2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new R2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=x2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function om(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return qd(l)===qd(c)?kt(l,c):qd(l)?1:-1}return kt(r.length,t.length)}const N2=55296,D2=57343;function qd(r){const t=r.charCodeAt(0);return t>=N2&&t<=D2}function eo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const w0="__name__";class Oi{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Oi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Oi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Oi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Oi.isNumericId(t),l=Oi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Oi.extractNumericId(t).compare(Oi.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return rr.fromString(t.substring(4,t.length-2))}}class he extends Oi{construct(t,i,a){return new he(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ft($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new he(i)}static emptyPath(){return new he([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends Oi{construct(t,i,a){return new Xe(t,i,a)}static isValidIdentifier(t){return O2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new Xe([w0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ft($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ft($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ft($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Xe(i)}static emptyPath(){return new Xe([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(he.fromString(t))}static fromName(t){return new yt(he.fromString(t).popFirst(5))}static empty(){return new yt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new he(t.slice()))}}function M2(r,t,i){if(!i)throw new ft($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function V2(r,t,i,a){if(t===!0&&a===!0)throw new ft($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function R0(r){if(!yt.isDocumentKey(r))throw new ft($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function oi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jm(r);throw new ft($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function De(r,t){const i={typeString:r};return t&&(i.value=t),i}function Kl(r,t){if(!bE(r))throw new ft($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ft($.INVALID_ARGUMENT,i);return!0}const C0=-62135596800,I0=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*I0);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<C0)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-C0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:De("string",ae._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ae(0,0))}static max(){return new St(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function k2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new lr(l,yt.empty(),t)}function U2(r){return new lr(r.readTime,r.key,Ml)}class lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(St.min(),yt.empty(),Ml)}static max(){return new lr(St.max(),yt.empty(),Ml)}}function L2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}const P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==P2)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function j2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Bm=-1;function gh(r){return r==null}function th(r){return r===0&&1/r==-1/0}function B2(r){return typeof r=="number"&&Number.isInteger(r)&&!th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const SE="";function q2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=x0(t)),t=H2(r.get(i),t);return x0(t)}function H2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case SE:i+="";break;default:i+=c}}return i}function x0(r){return r+SE+""}function N0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function mr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function AE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ye.RED,this.left=l??Ye.EMPTY,this.right=c??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ye(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(t){return new D0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ue(this.comparator);return i.data=t,i}}class D0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new In([])}unionWith(t){let i=new Ue(Xe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $e{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wE("Invalid base64 string: "+c):c}})(t);return new $e(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new $e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$e.EMPTY_BYTE_STRING=new $e("");const G2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=G2.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cr(r){return typeof r=="string"?$e.fromBase64String(r):$e.fromUint8Array(r)}const RE="server_timestamp",CE="__type__",IE="__previous_value__",xE="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===RE}function ph(r){const t=r.mapValue.fields[IE];return qm(t)?ph(t):t}function Vl(r){const t=ur(r.mapValue.fields[xE].timestampValue);return new ae(t.seconds,t.nanos)}class F2{constructor(t,i,a,l,c,d,p,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const eh="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||eh}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const NE="__type__",Q2="__max__",Oc={mapValue:{}},DE="__vector__",nh="value";function hr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:Y2(r)?9007199254740991:K2(r)?10:11:vt(28295,{value:r})}function zi(r,t){if(r===t)return!0;const i=hr(r);if(i!==hr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),p=ur(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Te(l.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(l.geoPointValue.longitude)===Te(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Te(l.integerValue)===Te(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Te(l.doubleValue),p=Te(c.doubleValue);return d===p?th(d)===th(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(N0(d)!==N0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!zi(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Ul(r,t){return(r.values||[]).find((i=>zi(i,t)))!==void 0}function no(r,t){if(r===t)return 0;const i=hr(r),a=hr(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Te(c.integerValue||c.doubleValue),y=Te(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return O0(r.timestampValue,t.timestampValue);case 4:return O0(Vl(r),Vl(t));case 5:return om(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=cr(c),y=cr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=kt(p[_],y[_]);if(E!==0)return E}return kt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(Te(c.latitude),Te(d.latitude));return p!==0?p:kt(Te(c.longitude),Te(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return M0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[nh]?.arrayValue,E=y[nh]?.arrayValue,A=kt(_?.values?.length||0,E?.values?.length||0);return A!==0?A:M0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const M=om(y[A],E[A]);if(M!==0)return M;const G=no(p[y[A]],_[E[A]]);if(G!==0)return G}return kt(y.length,E.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function O0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=ur(r),a=ur(t),l=kt(i.seconds,a.seconds);return l!==0?l:kt(i.nanos,a.nanos)}function M0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=no(i[l],a[l]);if(c)return c}return kt(i.length,a.length)}function io(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return cr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=lm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function Bc(r){switch(hr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(r);return t?16+Bc(t):16;case 5:return 2*r.stringValue.length;case 6:return cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Bc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+Bc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function um(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function V0(r){return!!r&&"nullValue"in r}function k0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function K2(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===DE}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return mr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function Y2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Q2}class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Xe.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){mr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new _n(Cl(this.value))}}function OE(r){const t=[];return mr(r.fields,((i,a)=>{const l=new Xe([i]);if(qc(a)){const c=OE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new In(t)}class nn{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new nn(t,0,St.min(),St.min(),St.min(),_n.empty(),0)}static newFoundDocument(t,i,a,l){return new nn(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new nn(t,2,i,St.min(),St.min(),_n.empty(),0)}static newUnknownDocument(t,i){return new nn(t,3,i,St.min(),St.min(),_n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(t,i){this.position=t,this.inclusive=i}}function U0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=no(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!zi(r.position[i],t.position[i]))return!1;return!0}class sh{constructor(t,i="asc"){this.field=t,this.dir=i}}function X2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class ME{}class ke extends ME{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Z2(t,i,a):i==="array-contains"?new tR(t,a):i==="in"?new eR(t,a):i==="not-in"?new nR(t,a):i==="array-contains-any"?new iR(t,a):new ke(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new J2(t,a):new W2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends ME{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ji(t,i)}matches(t){return VE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(r){return r.op==="and"}function kE(r){return $2(r)&&VE(r)}function $2(r){for(const t of r.filters)if(t instanceof ji)return!1;return!0}function cm(r){if(r instanceof ke)return r.field.canonicalString()+r.op.toString()+io(r.value);if(kE(r))return r.filters.map((t=>cm(t))).join(",");{const t=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${t})`}}function UE(r,t){return r instanceof ke?(function(a,l){return l instanceof ke&&a.op===l.op&&a.field.isEqual(l.field)&&zi(a.value,l.value)})(r,t):r instanceof ji?(function(a,l){return l instanceof ji&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&UE(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function LE(r){return r instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(r):r instanceof ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(r):"Filter"}class Z2 extends ke{constructor(t,i,a){super(t,i,a),this.key=yt.fromName(a.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class J2 extends ke{constructor(t,i){super(t,"in",i),this.keys=PE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class W2 extends ke{constructor(t,i){super(t,"not-in",i),this.keys=PE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function PE(r,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class tR extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Ul(i.arrayValue,this.value)}}class eR extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class nR extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class iR extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class sR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function P0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new sR(r,t,i,a,l,c,d)}function Gm(r){const t=wt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>io(a))).join(",")),t.Te=i}return t.Te}function Fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!X2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!UE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!L0(r.startAt,t.startAt)&&L0(r.endAt,t.endAt)}function hm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function rR(r,t,i,a,l,c,d,p){return new yh(r,t,i,a,l,c,d,p)}function _h(r){return new yh(r)}function z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aR(r){return r.collectionGroup!==null}function Il(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ue(Xe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new sh(c,a))})),i.has(Xe.keyField().canonicalString())||t.Ie.push(new sh(Xe.keyField(),a))}return t.Ie}function ki(r){const t=wt(r);return t.Ee||(t.Ee=oR(t,Il(r))),t.Ee}function oR(r,t){if(r.limitType==="F")return P0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new sh(l.field,c)}));const i=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return P0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function fm(r,t,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function vh(r,t){return Fm(ki(r),ki(t))&&r.limitType===t.limitType}function zE(r){return`${Gm(ki(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>LE(l))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${a})`})(ki(r))}; limitType=${r.limitType})`}function Eh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Il(a),l))})(r,t)}function lR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jE(r){return(t,i)=>{let a=!1;for(const l of Il(r)){const c=uR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function uR(r,t,i){const a=r.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?no(y,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class Wr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){mr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}const cR=new fe(yt.comparator);function ps(){return cR}const BE=new fe(yt.comparator);function bl(...r){let t=BE;for(const i of r)t=t.insert(i.key,i);return t}function qE(r){let t=BE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Qr(){return xl()}function HE(){return xl()}function xl(){return new Wr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hR=new fe(yt.comparator),fR=new Ue(yt.comparator);function Ut(...r){let t=fR;for(const i of r)t=t.add(i);return t}const dR=new Ue(kt);function mR(){return dR}function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function GE(r){return{integerValue:""+r}}function FE(r,t){return B2(t)?GE(t):Qm(r,t)}class Th{constructor(){this._=void 0}}function gR(r,t,i){return r instanceof rh?(function(l,c){const d={fields:{[CE]:{stringValue:RE},[xE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=ph(c)),c&&(d.fields[IE]=c),{mapValue:d}})(i,t):r instanceof so?KE(r,t):r instanceof Ll?YE(r,t):(function(l,c){const d=QE(l,c),p=j0(d)+j0(l.Ae);return um(d)&&um(l.Ae)?GE(p):Qm(l.serializer,p)})(r,t)}function pR(r,t,i){return r instanceof so?KE(r,t):r instanceof Ll?YE(r,t):i}function QE(r,t){return r instanceof Pl?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class rh extends Th{}class so extends Th{constructor(t){super(),this.elements=t}}function KE(r,t){const i=XE(t);for(const a of r.elements)i.some((l=>zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends Th{constructor(t){super(),this.elements=t}}function YE(r,t){let i=XE(t);for(const a of r.elements)i=i.filter((l=>!zi(l,a)));return{arrayValue:{values:i}}}class Pl extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function j0(r){return Te(r.integerValue||r.doubleValue)}function XE(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class $E{constructor(t,i){this.field=t,this.transform=i}}function yR(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof so&&l instanceof so||a instanceof Ll&&l instanceof Ll?eo(a.elements,l.elements,zi):a instanceof Pl&&l instanceof Pl?zi(a.Ae,l.Ae):a instanceof rh&&l instanceof rh})(r.transform,t.transform)}class _R{constructor(t,i){this.version=t,this.transformResults=i}}class li{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new li}static exists(t){return new li(void 0,t)}static updateTime(t){return new li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bh{}function ZE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Km(r.key,li.none()):new Yl(r.key,r.data,li.none());{const i=r.data,a=_n.empty();let l=new Ue(Xe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(r.key,a,new In(l.toArray()),li.none())}}function vR(r,t,i){r instanceof Yl?(function(l,c,d){const p=l.value.clone(),y=q0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof gr?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=q0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(JE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Nl(r,t,i,a){return r instanceof Yl?(function(c,d,p,y){if(!Hc(c.precondition,d))return p;const _=c.value.clone(),E=H0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof gr?(function(c,d,p,y){if(!Hc(c.precondition,d))return p;const _=H0(c.fieldTransforms,y,d),E=d.data;return E.setAll(JE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function ER(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=QE(a.transform,l||null);c!=null&&(i===null&&(i=_n.empty()),i.set(a.field,c))}return i||null}function B0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eo(a,l,((c,d)=>yR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yl extends bh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends bh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function q0(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,pR(d,p,i[l]))}return a}function H0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,gR(c,d,t))}return a}class Km extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TR extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&vR(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Nl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=HE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=ZE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,a)=>B0(i,a)))&&eo(this.baseMutations,t.baseMutations,((i,a)=>B0(i,a)))}}class Ym{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return hR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Ym(t,i,a,l)}}class SR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ne,Pt;function wR(r){switch(r){case $.OK:return vt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function WE(r){if(r===void 0)return gs("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ne.OK:return $.OK;case Ne.CANCELLED:return $.CANCELLED;case Ne.UNKNOWN:return $.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return $.INTERNAL;case Ne.UNAVAILABLE:return $.UNAVAILABLE;case Ne.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ne.NOT_FOUND:return $.NOT_FOUND;case Ne.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ne.ABORTED:return $.ABORTED;case Ne.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ne.DATA_LOSS:return $.DATA_LOSS;default:return vt(39323,{code:r})}}(Pt=Ne||(Ne={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function RR(){return new TextEncoder}const CR=new rr([4294967295,4294967295],0);function G0(r){const t=RR().encode(r),i=new mE;return i.update(t),new Uint8Array(i.digest())}function F0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class Xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=rr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(rr.fromNumber(a)));return l.compare(CR)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=G0(t),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Xm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=G0(t),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(St.min(),l,new fe(kt),ps(),Ut())}}class Xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Xl(a,i,Ut(),Ut(),Ut())}}class Gc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class tT{constructor(t,i){this.targetId=t,this.Ce=i}}class eT{constructor(t,i,a=$e.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=K0(),this.Me=$e.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Xl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=K0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IR{constructor(t){this.Ge=t,this.ze=new Map,this.je=ps(),this.Je=Mc(),this.He=Mc(),this.Ye=new fe(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(a===0){const d=new yt(c.path);this.et(i,d,nn.newNoDocument(d,St.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cr(a).toUint8Array()}catch(y){if(y instanceof wE)return to("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(d,l,c)}catch(y){return to(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const y=new yt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,nn.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Sh(t,i,this.Ye,this.je,a);return this.je=ps(),this.Je=Mc(),this.He=Mc(),this.Ye=new fe(kt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ue(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ue(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new fe(yt.comparator)}function K0(){return new fe(yt.comparator)}const xR={asc:"ASCENDING",desc:"DESCENDING"},NR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DR={and:"AND",or:"OR"};class OR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function ah(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function nT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function MR(r,t){return ah(r,t.toTimestamp())}function Ui(r){return Qt(!!r,49232),St.fromTimestamp((function(i){const a=ur(i);return new ae(a.seconds,a.nanos)})(r))}function $m(r,t){return mm(r,t).canonicalString()}function mm(r,t){const i=(function(l){return new he(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function iT(r){const t=he.fromString(r);return Qt(lT(t),10190,{key:t.toString()}),t}function gm(r,t){return $m(r.databaseId,t.path)}function Hd(r,t){const i=iT(t);if(i.get(1)!==r.databaseId.projectId)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(rT(i))}function sT(r,t){return $m(r.databaseId,t)}function VR(r){const t=iT(r);return t.length===4?he.emptyPath():rT(t)}function pm(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rT(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Y0(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function kR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),$e.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$e.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?$.UNKNOWN:WE(_.code);return new ft(E,_.message||"")})(d);i=new eT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(r,a.document.name),c=Ui(a.document.updateTime),d=a.document.createTime?Ui(a.document.createTime):St.min(),p=new _n({mapValue:{fields:a.document.fields}}),y=nn.newFoundDocument(l,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Gc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Hd(r,a.document),c=a.readTime?Ui(a.readTime):St.min(),d=nn.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Gc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Hd(r,a.document),c=a.removedTargetIds||[];i=new Gc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new AR(l,c),p=a.targetId;i=new tT(p,d)}}return i}function UR(r,t){let i;if(t instanceof Yl)i={update:Y0(r,t.key,t.value)};else if(t instanceof Km)i={delete:gm(r,t.key)};else if(t instanceof gr)i={update:Y0(r,t.key,t.data),updateMask:FR(t.fieldMask)};else{if(!(t instanceof TR))return vt(16599,{Vt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:MR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function LR(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ui(l.updateTime):Ui(c);return d.isEqual(St.min())&&(d=Ui(c)),new _R(d,l.transformResults||[])})(i,t)))):[]}function PR(r,t){return{documents:[sT(r,t.path)]}}function zR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=sT(r,l);const c=(function(_){if(_.length!==0)return oT(ji.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:Ga(M.field),direction:qR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function jR(r){let t=VR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=aT(A);return M instanceof ji&&kE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(tt){return new sh(Fa(tt.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,gh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,G=A.values||[];return new ih(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,G=A.values||[];return new ih(G,M)})(i.endAt)),rR(t,l,d,c,p,"F",y,_)}function BR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function aT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Fa(i.unaryFilter.field);return ke.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ke.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return ji.create(i.compositeFilter.filters.map((a=>aT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function qR(r){return xR[r]}function HR(r){return NR[r]}function GR(r){return DR[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Xe.fromServerFormat(r.fieldPath)}function oT(r){return r instanceof ke?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:HR(i.op),value:i.value}}})(r):r instanceof ji?(function(i){const a=i.getFilters().map((l=>oT(l)));return a.length===1?a[0]:{compositeFilter:{op:GR(i.op),filters:a}}})(r):vt(54877,{filter:r})}function FR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function lT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class er{constructor(t,i,a,l,c=St.min(),d=St.min(),p=$e.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new er(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class QR{constructor(t){this.yt=t}}function KR(r){const t=jR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}class YR{constructor(){this.Cn=new XR}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(lr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(lr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class XR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ue(he.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ue(he.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uT=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(uT,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}const $0="LruGarbageCollector",$R=1048576;function Z0([r,t],[i,a]){const l=kt(r,i);return l===0?kt(t,a):l}class ZR{constructor(t){this.Ir=t,this.buffer=new Ue(Z0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot($0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?ot($0,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class WR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(mh.ce);const a=new ZR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(X0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),qa()<=Vt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function tC(r,t){return new WR(r,t)}class eC{constructor(){this.changes=new Wr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,nn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class iC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Nl(a.mutation,l,In.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const l=Qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=bl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Qr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ps();const d=xl(),p=(function(){return xl()})();return i.forEach(((y,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof gr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Nl(E.mutation,_,E.mutation.getFieldMask(),ae.now())):d.set(_.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new nC(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=xl();let l=new fe(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||In.empty();E=p.applyToLocalView(_,E),a.set(y,E);const A=(l.get(p.batchId)||Ut()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=HE();E.forEach((M=>{if(!c.has(M)){const G=ZE(i.get(M),a.get(M));G!==null&&A.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):aR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Qr());let p=Ml,y=c;return d.next((_=>X.forEach(_,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ut()))).next((E=>({batchId:p,changes:qE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((a=>{let l=bl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(A,M){return new yh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,nn.newInvalidDocument(E)))}));let p=bl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Nl(E.mutation,_,In.empty(),ae.now()),Eh(i,_)&&(p=p.insert(y,_))})),p}))}}class sC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ui(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:KR(l.bundledQuery),readTime:Ui(l.readTime)}})(i)),X.resolve()}}class rC{constructor(){this.overlays=new fe(yt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Qr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Qr(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new fe(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=Qr(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=Qr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new SR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class aC{constructor(){this.sessionToken=$e.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new Ue(Be.$r),this.Ur=new Ue(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new yt(new he([])),a=new Be(i,t),l=new Be(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new he([])),a=new Be(i,t),l=new Be(i,t+1);let c=Ut();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class oC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ue(Be.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Be(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),l=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ue(kt);return i.forEach((l=>{const c=new Be(l,0),d=new Be(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const d=new Be(new yt(c),0);let p=new Ue(kt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Be(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Be(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lC{constructor(t){this.ri=t,this.docs=(function(){return new fe(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():nn.newInvalidDocument(i))}getEntries(t,i){let a=ps();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():nn.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ps();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||L2(U2(E),a)<=0||(l.has(E.key)||Eh(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new uC(this)}getSize(t){return X.resolve(this.size)}}class uC extends eC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class cC{constructor(t){this.persistence=t,this.si=new Wr((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=ro.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class cT{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new aC,this.referenceDelegate=t(this),this.Pi=new cC(this),this.indexManager=new YR,this.remoteDocumentCache=(function(l){return new lC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new QR(i),this.Ii=new sC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new oC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const l=new hC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class hC extends z2{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=yt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new Wr((a=>q2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=tC(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Bc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ut(),l=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(t,i.fromCache,a,l)}}class fC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class dC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eS()?8:j2(sn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new fC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(qa()<=Vt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(qa()<=Vt.DEBUG&&ot("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(qa()<=Vt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(i))):X.resolve())}ys(t,i){if(z0(i))return X.resolve(null);let a=ki(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),a=ki(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return z0(i)||l.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(qa()<=Vt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,k2(l,Ml)).next((p=>p)))}))}Ds(t,i){let a=new Ue(jE(t));return i.forEach(((l,c)=>{Eh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return qa()<=Vt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,lr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",mC=3e8;class gC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new fe(kt),this.xs=new Wr((c=>Gm(c)),Fm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pC(r,t,i,a){return new gC(r,t,i,a)}async function hT(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ut();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function yC(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const A=_.batch,M=A.keys();let G=X.resolve();return M.forEach((tt=>{G=G.next((()=>E.getEntry(y,tt))).next((st=>{const W=_.docVersions.get(tt);Qt(W!==null,48541),st.version.compareTo(W)<0&&(A.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),E.addEntry(st)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ut();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function fT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function _C(r,t){const i=wt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken($e.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,a)),l=l.insert(A,G),(function(st,W,gt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=mC?!0:gt.addedDocuments.size+gt.modifiedDocuments.size+gt.removedDocuments.size>0})(M,G,E)&&p.push(i.Pi.updateTargetData(c,G))}));let y=ps(),_=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(vC(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function vC(r,t,i){let a=Ut(),l=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ps();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ot(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function EC(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function TC(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new er(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function ym(r,t,i){const a=wt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;ot(tg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function J0(r,t,i){const a=wt(r);let l=St.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const A=wt(y),M=A.xs.get(E);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,E)})(a,d,ki(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Ut()))).next((p=>(bC(a,lR(t),p),{documents:p,Qs:c})))))}function bC(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class W0{constructor(){this.activeTargetIds=mR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SC{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AC{Oo(t){}shutdown(){}}const tv="ConnectivityMonitor";class ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(tv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function _m(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Gd="RestConnection",wC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());ot(Gd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),E=lo(_);return this.Jo(t,p,y,a,E).then((A=>(ot(Gd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw to(Gd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=wC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class CC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const tn="WebChannelConnection";class IC extends RC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=_m();return new Promise(((p,y)=>{const _=new gE;_.setWithCredentials(!0),_.listenOnce(pE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const A=_.getResponseJson();ot(tn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case jc.TIMEOUT:ot(tn,`RPC '${t}' ${d} timed out`),y(new ft($.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const M=_.getStatus();if(ot(tn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G?.error;if(tt&&tt.status&&tt.message){const st=(function(gt){const bt=gt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(bt)>=0?bt:$.UNKNOWN})(tt.status);y(new ft(st,tt.message))}else y(new ft($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ft($.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(tn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);ot(tn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=vE(),p=_E(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");ot(tn,`Creating RPC '${t}' stream ${l}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let M=!1,G=!1;const tt=new CC({Yo:W=>{G?ot(tn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(M||(ot(tn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),ot(tn,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),st=(W,gt,bt)=>{W.listen(gt,(pt=>{try{bt(pt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return st(A,Tl.EventType.OPEN,(()=>{G||(ot(tn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),st(A,Tl.EventType.CLOSE,(()=>{G||(G=!0,ot(tn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(A))})),st(A,Tl.EventType.ERROR,(W=>{G||(G=!0,to(tn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new ft($.UNAVAILABLE,"The operation could not be completed")))})),st(A,Tl.EventType.MESSAGE,(W=>{if(!G){const gt=W.data[0];Qt(!!gt,16349);const bt=gt,pt=bt?.error||bt[0]?.error;if(pt){ot(tn,`RPC '${t}' stream ${l} received error:`,pt);const qt=pt.status;let $t=(function(S){const C=Ne[S];if(C!==void 0)return WE(C)})(qt),Dt=pt.message;$t===void 0&&($t=$.INTERNAL,Dt="Unknown error status: "+qt+" with message "+pt.message),G=!0,tt.a_(new ft($t,Dt)),A.close()}else ot(tn,`RPC '${t}' stream ${l} received:`,gt),tt.u_(gt)}})),st(p,yE.STAT_EVENT,(W=>{W.stat===am.PROXY?ot(tn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===am.NOPROXY&&ot(tn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Fd(){return typeof document<"u"?document:null}function Ah(r){return new OR(r,!0)}class dT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class mT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(gs(i.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ft($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xC extends mT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=kR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Ui(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=hm(y)?{documents:PR(c,y)}:{query:zR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=nT(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=ah(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=BR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class NC extends mT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=LR(t.writeResults,t.commitTime),a=Ui(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>UR(this.serializer,a)))};this.q_(i)}}class DC{}class OC extends DC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft($.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zr="RemoteStore";class VC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ta(this)&&(ot(Zr,"Restarting streams for network reachability change."),await(async function(y){const _=wt(y);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await wh(_)})(this))}))})),this.Ra=new MC(a,l)}}async function wh(r){if(ta(r))for(const t of r.da)await t(!0)}async function $l(r){for(const t of r.da)await t(!1)}function gT(r,t){const i=wt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sg(i)?ig(i):go(i).O_()&&ng(i,t))}function eg(r,t){const i=wt(r),a=go(i);i.Ia.delete(t),a.O_()&&pT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ta(i)&&i.Ra.set("Unknown"))}function ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}go(r).Y_(t)}function pT(r,t){r.Va.Ue(t),go(r).Z_(t)}function ig(r){r.Va=new IR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Ra.ua()}function sg(r){return ta(r)&&!go(r).x_()&&r.Ia.size>0}function ta(r){return wt(r).Ea.size===0}function yT(r){r.Va=void 0}async function kC(r){r.Ra.set("Online")}async function UC(r){r.Ia.forEach(((t,i)=>{ng(r,t)}))}async function LC(r,t){yT(r),sg(r)?(r.Ra.ha(t),ig(r)):r.Ra.set("Unknown")}async function PC(r,t,i){if(r.Ra.set("Online"),t instanceof eT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){ot(Zr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await lh(r,a)}else if(t instanceof Gc?r.Va.Ze(t):t instanceof tT?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await fT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken($e.EMPTY_BYTE_STRING,E.snapshotVersion)),pT(c,y);const A=new er(E.target,y,_,E.sequenceNumber);ng(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){ot(Zr,"Failed to raise snapshot:",a),await lh(r,a)}}async function lh(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await $l(r),r.Ra.set("Offline"),i||(i=()=>fT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Zr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function _T(r,t){return t().catch((i=>lh(r,i,t)))}async function Rh(r){const t=wt(r),i=fr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bm;for(;zC(t);)try{const l=await EC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,jC(t,l)}catch(l){await lh(t,l)}vT(t)&&ET(t)}function zC(r){return ta(r)&&r.Ta.length<10}function jC(r,t){r.Ta.push(t);const i=fr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function vT(r){return ta(r)&&!fr(r).x_()&&r.Ta.length>0}function ET(r){fr(r).start()}async function BC(r){fr(r).ra()}async function qC(r){const t=fr(r);for(const i of r.Ta)t.ea(i.mutations)}async function HC(r,t,i){const a=r.Ta.shift(),l=Ym.from(a,t,i);await _T(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function GC(r,t){t&&fr(r).X_&&await(async function(a,l){if((function(d){return wR(d)&&d!==$.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await _T(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(r,t),vT(r)&&ET(r)}async function iv(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),ot(Zr,"RemoteStore received new credentials");const a=ta(i);i.Ea.add(3),await $l(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function FC(r,t){const i=wt(r);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function go(r){return r.ma||(r.ma=(function(i,a,l){const c=wt(i);return c.sa(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:kC.bind(null,r),t_:UC.bind(null,r),r_:LC.bind(null,r),H_:PC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),sg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),yT(r))}))),r.ma}function fr(r){return r.fa||(r.fa=(function(i,a,l){const c=wt(i);return c.sa(),new NC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:BC.bind(null,r),r_:GC.bind(null,r),ta:qC.bind(null,r),na:HC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Zr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new rg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,t){if(gs("AsyncQueue",`${t}: ${r}`),mo(r))return new ft($.UNAVAILABLE,`${t}: ${r}`);throw r}class $a{static emptySet(t){return new $a(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=bl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof $a)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new $a;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class sv{constructor(){this.ga=new fe(yt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ao{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,i,$a.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class QC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KC{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=rv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ft($.ABORTED,"Firestore shutting down"))}}function rv(){return new Wr((r=>zE(r)),vh)}async function TT(r,t){const i=wt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new QC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ag(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&og(i)}async function bT(r,t){const i=wt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function YC(r,t){const i=wt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&og(i)}function XC(r,t,i){const a=wt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function og(r){r.Ca.forEach((t=>{t.next()}))}var vm,av;(av=vm||(vm={})).Ma="default",av.Cache="cache";class ST{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ao(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class AT{constructor(t){this.key=t}}class wT{constructor(t){this.key=t}}class $C{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=jE(t),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const M=l.get(E),G=Eh(this.query,A)?A:null,tt=!!M&&this.mutatedKeys.has(M.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;M&&G?M.data.isEqual(G.data)?tt!==st&&(a.track({type:3,doc:G}),W=!0):this.su(M,G)||(a.track({type:2,doc:G}),W=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),W=!0):M&&!G&&(a.track({type:1,doc:M}),W=!0,(y||_)&&(p=!0)),W&&(G?(d=d.add(G),c=st?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(G,tt){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:W})}};return st(G)-st(tt)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new wT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new AT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class ZC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class JC{constructor(t){this.key=t,this.hu=!1}}class WC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Wr((p=>zE(p)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new fe(yt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tI(r,t,i=!0){const a=DT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await RT(a,t,i,!0),l}async function eI(r,t){const i=DT(r);await RT(i,t,!0,!1)}async function RT(r,t,i,a){const l=await TC(r.localStore,ki(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await nI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&gT(r.remoteStore,l),p}async function nI(r,t,i,a,l){r.pu=(A,M,G)=>(async function(st,W,gt,bt){let pt=W.view.ru(gt);pt.Cs&&(pt=await J0(st.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,pt))));const qt=bt&&bt.targetChanges.get(W.targetId),$t=bt&&bt.targetMismatches.get(W.targetId)!=null,Dt=W.view.applyChanges(pt,st.isPrimaryClient,qt,$t);return lv(st,W.targetId,Dt.au),Dt.snapshot})(r,A,M,G);const c=await J0(r.localStore,t,!0),d=new $C(t,c.Qs),p=d.ru(c.documents),y=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);lv(r,i,_.au);const E=new ZC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function iI(r,t,i){const a=wt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&eg(a.remoteStore,l.targetId),Em(a,l.targetId)})).catch(fo)):(Em(a,l.targetId),await ym(a.localStore,l.targetId,!0))}async function sI(r,t){const i=wt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),eg(i.remoteStore,a.targetId))}async function rI(r,t,i){const a=fI(r);try{const l=await(function(d,p){const y=wt(d),_=ae.now(),E=p.reduce(((G,tt)=>G.add(tt.key)),Ut());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let tt=ps(),st=Ut();return y.Ns.getEntries(G,E).next((W=>{tt=W,tt.forEach(((gt,bt)=>{bt.isValidDocument()||(st=st.add(gt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,tt))).next((W=>{A=W;const gt=[];for(const bt of p){const pt=ER(bt,A.get(bt.key).overlayedDocument);pt!=null&&gt.push(new gr(bt.key,pt,OE(pt.value.mapValue),li.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,gt,p)})).next((W=>{M=W;const gt=W.applyToLocalDocumentSet(A,st);return y.documentOverlayCache.saveOverlays(G,W.batchId,gt)}))})).then((()=>({batchId:M.batchId,changes:qE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new fe(kt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Zl(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");i.reject(c)}}async function CT(r,t){const i=wt(r);try{const a=await _C(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Zl(i,a,t)}catch(a){await fo(a)}}function ov(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=wt(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function aI(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new fe(yt.comparator);d=d.insert(c,nn.newNoDocument(c,St.min()));const p=Ut().add(c),y=new Sh(St.min(),new Map,new fe(kt),d,p);await CT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ug(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(fo)}async function oI(r,t){const i=wt(r),a=t.batch.batchId;try{const l=await yC(i.localStore,t);xT(i,a,null),IT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Zl(i,l)}catch(l){await fo(l)}}async function lI(r,t,i){const a=wt(r);try{const l=await(function(d,p){const y=wt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Qt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);xT(a,t,i),IT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Zl(a,l)}catch(l){await fo(l)}}function IT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function xT(r,t,i){const a=wt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||NT(r,a)}))}function NT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(eg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ug(r))}function lv(r,t,i){for(const a of i)a instanceof AT?(r.Ru.addReference(a.key,t),uI(r,a)):a instanceof wT?(ot(lg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||NT(r,a.key)):vt(19791,{wu:a})}function uI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(lg,"New document in limbo: "+i),r.Eu.add(a),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new yt(he.fromString(t)),a=r.fu.next();r.Au.set(a,new JC(i)),r.du=r.du.insert(i,a),gT(r.remoteStore,new er(ki(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function Zl(r,t,i){const a=wt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=Wm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const E=wt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(G=>E.persistence.referenceDelegate.addReference(A,M.targetId,G))).next((()=>X.forEach(M.ds,(G=>E.persistence.referenceDelegate.removeReference(A,M.targetId,G)))))))))}catch(A){if(!mo(A))throw A;ot(tg,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const G=E.Ms.get(M),tt=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(tt);E.Ms=E.Ms.insert(M,st)}}})(a.localStore,c))}async function cI(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){ot(lg,"User change. New user:",t.toKey());const a=await hT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ft($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Zl(i,a.Ls)}}function hI(r,t){const i=wt(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let l=Ut();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function DT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=CT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aI.bind(null,t),t.Pu.H_=YC.bind(null,t.eventManager),t.Pu.yu=XC.bind(null,t.eventManager),t}function fI(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=oI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lI.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pC(this.persistence,new dC,t.initialUser,this.serializer)}Cu(t){return new cT(Jm.mi,this.serializer)}Du(t){return new SC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class dI extends uh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new cT((a=>oh.mi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cI.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KC})()}createDatastore(t){const i=Ah(t.databaseInfo.databaseId),a=(function(c){return new IC(c)})(t.databaseInfo);return(function(c,d,p,y){return new OC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new VC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return ev.v()?new ev:new AC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,E){const A=new WC(l,c,d,p,y,_);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);ot(Zr,"RemoteStore shutting down."),a.Ea.add(5),await $l(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class OT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const dr="FirestoreClient";class mI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Qd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(dr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await hT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function uv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await gI(r);ot(dr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iv(t.remoteStore,l))),r._onlineComponents=t}async function gI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(dr,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new uh)}}else ot(dr,"Using default OfflineComponentProvider"),await Qd(r,new dI(void 0));return r._offlineComponents}async function MT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(dr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(ot(dr,"Using default OnlineComponentProvider"),await uv(r,new Tm))),r._onlineComponents}function pI(r){return MT(r).then((t=>t.syncEngine))}async function bm(r){const t=await MT(r),i=t.eventManager;return i.onListen=tI.bind(null,t.syncEngine),i.onUnlisten=iI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sI.bind(null,t.syncEngine),i}function yI(r,t,i={}){const a=new ar;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new OT({next:M=>{E.Nu(),d.enqueueAndForget((()=>bT(c,A)));const G=M.docs.has(p);!G&&M.fromCache?_.reject(new ft($.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&y&&y.source==="server"?_.reject(new ft($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new ST(_h(p.path),E,{includeMetadataChanges:!0,qa:!0});return TT(c,A)})(await bm(r),r.asyncQueue,t,i,a))),a.promise}function VT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const cv=new Map;const kT="firestore.googleapis.com",hv=!0;class fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kT,this.ssl=hv}else this.host=t.host,this.ssl=t.ssl??hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<$R)throw new ft($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ft($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new S2;switch(a.type){case"firstParty":return new C2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function _I(r,t,i,a={}){r=oi(r,cg);const l=lo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(xv(`https://${p}`),Nv("Firestore",!0)),c.host!==kT&&c.host!==p&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!or(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=en.MOCK_USER;else{_=Qb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ft($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(A)}r._authCredentials=new A2(new TE(_,E))}}class Ch{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class Oe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Kl(i,Oe._jsonSchema))return new Oe(t,a||null,new yt(he.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:De("string",Oe._jsonSchemaVersion),referencePath:De("string")};class zl extends Ch{constructor(t,i,a){super(t,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new yt(t))}withConverter(t){return new zl(this.firestore,t,this._path)}}function qn(r,t,...i){if(r=ln(r),arguments.length===1&&(t=zm.newId()),M2("doc","path",t),r instanceof cg){const a=he.fromString(t,...i);return R0(a),new Oe(r,null,new yt(a))}{if(!(r instanceof Oe||r instanceof zl))throw new ft($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(he.fromString(t,...i));return R0(a),new Oe(r.firestore,r instanceof zl?r.converter:null,new yt(a))}}const dv="AsyncQueue";class mv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dT(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&ot(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;ot(dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=rg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function gv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function pv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Jr extends cg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mv(t),this._firestoreClient=void 0,await t}}}function vI(r,t){const i=typeof r=="object"?r:Vv(),a=typeof r=="string"?r:eh,l=xm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Gb("firestore");c&&_I(l,...c)}return l}function hg(r){if(r._terminated)throw new ft($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EI(r),r._firestoreClient}function EI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new F2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,VT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new mI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn($e.fromBase64String(t))}catch(i){throw new ft($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qn($e.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:De("string",Qn._jsonSchemaVersion),bytes:De("string")};class Ih{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Jl{constructor(t){this._methodName=t}}class Li{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,Li._jsonSchema))return new Li(t.latitude,t.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:De("string",Li._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Pi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Pi(t.vectorValues);throw new ft($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:De("string",Pi._jsonSchemaVersion),vectorValues:De("object")};const TI=/^__.*__$/;class bI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}class UT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function LT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class xh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(LT(this.Ac)&&TI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class SI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Ah(t)}Cc(t,i,a,l=!1){return new xh({Ac:t,methodName:i,Dc:a,path:Xe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PT(r){const t=r._freezeSettings(),i=Ah(r._databaseId);return new SI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function AI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);mg("Data must be an object, but it was:",d,a);const p=zT(a,d);let y,_;if(c.merge)y=new In(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Sm(t,A,i);if(!d.contains(M))throw new ft($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);BT(E,M)||E.push(M)}y=new In(E),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new bI(new _n(p),y,_)}class Nh extends Jl{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nh}}function wI(r,t,i){return new xh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fg extends Jl{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=wI(this,t,!0),a=this.vc.map((c=>Wl(c,i))),l=new so(a);return new $E(t.path,l)}isEqual(t){return t instanceof fg&&or(this.vc,t.vc)}}class dg extends Jl{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Pl(t.serializer,FE(t.serializer,this.Fc));return new $E(t.path,i)}isEqual(t){return t instanceof dg&&this.Fc===t.Fc}}function RI(r,t,i,a){const l=r.Cc(1,t,i);mg("Data must be an object, but it was:",l,a);const c=[],d=_n.empty();mr(a,((y,_)=>{const E=gg(t,y,i);_=ln(_);const A=l.yc(E);if(_ instanceof Nh)c.push(E);else{const M=Wl(_,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new In(c);return new UT(d,p,l.fieldTransforms)}function CI(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Sm(t,a,i)],y=[l];if(c.length%2!=0)throw new ft($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Sm(t,c[M])),y.push(c[M+1]);const _=[],E=_n.empty();for(let M=p.length-1;M>=0;--M)if(!BT(_,p[M])){const G=p[M];let tt=y[M];tt=ln(tt);const st=d.yc(G);if(tt instanceof Nh)_.push(G);else{const W=Wl(tt,st);W!=null&&(_.push(G),E.set(G,W))}}const A=new In(_);return new UT(E,A,d.fieldTransforms)}function Wl(r,t){if(jT(r=ln(r)))return mg("Unsupported field value:",t,r),zT(r,t);if(r instanceof Jl)return(function(a,l){if(!LT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Wl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return FE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof Li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qn)return{bytesValue:nT(l.serializer,a._byteString)};if(a instanceof Oe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Pi)return(function(d,p){return{mapValue:{fields:{[NE]:{stringValue:DE},[nh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${jm(a)}`)})(r,t)}function zT(r,t){const i={};return AE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):mr(r,((a,l)=>{const c=Wl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function jT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Li||r instanceof Qn||r instanceof Oe||r instanceof Jl||r instanceof Pi)}function mg(r,t,i){if(!jT(i)||!bE(i)){const a=jm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Sm(r,t,i){if((t=ln(t))instanceof Ih)return t._internalPath;if(typeof t=="string")return gg(r,t);throw ch("Field path arguments must be of type string or ",r,!1,void 0,i)}const II=new RegExp("[~\\*/\\[\\]]");function gg(r,t,i){if(t.search(II)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ih(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ch(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ft($.INVALID_ARGUMENT,p+r+y)}function BT(r,t){return r.some((i=>i.isEqual(t)))}class qT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(HT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class xI extends qT{data(){return super.data()}}function HT(r,t){return typeof t=="string"?gg(r,t):t instanceof Ih?t._internalPath:t._delegate._internalPath}function NI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DI{convertValue(t,i="none"){switch(hr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(cr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return mr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[nh].arrayValue?.values?.map((a=>Te(a.doubleValue)));return new Pi(i)}convertGeoPoint(t){return new Li(Te(t.latitude),Te(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=ur(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=he.fromString(t);Qt(lT(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return l.isEqual(i)||gs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function OI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends qT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(HT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:De("string",Kr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Fc extends Kr{data(t={}){return super.data(t)}}class Za{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Fc(this._firestore,this._userDataWriter,a.key,a,new Al(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Fc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:MI(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Za._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function MI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function VI(r){r=oi(r,Oe);const t=oi(r.firestore,Jr);return yI(hg(t),r._key).then((i=>FT(t,r,i)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:De("string",Za._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class GT extends DI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function kI(r,t,i){r=oi(r,Oe);const a=oi(r.firestore,Jr),l=OI(r.converter,t);return pg(a,[AI(PT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,li.none())])}function Di(r,t,i,...a){r=oi(r,Oe);const l=oi(r.firestore,Jr),c=PT(l);let d;return d=typeof(t=ln(t))=="string"||t instanceof Ih?CI(c,"updateDoc",r._key,t,i,a):RI(c,"updateDoc",r._key,t),pg(l,[d.toMutation(r._key,li.exists(!0))])}function UI(r){return pg(oi(r.firestore,Jr),[new Km(r._key,li.none())])}function LI(r,...t){r=ln(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||pv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Oe)d=oi(r.firestore,Jr),p=_h(r._key.path),c={next:y=>{t[a]&&t[a](FT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=oi(r,Ch);d=oi(y.firestore,Jr),p=y._query;const _=new GT(d);c={next:E=>{t[a]&&t[a](new Za(d,_,y,E))},error:t[a+1],complete:t[a+2]},NI(r._query)}return(function(_,E,A,M){const G=new OT(M),tt=new ST(E,G,A);return _.asyncQueue.enqueueAndForget((async()=>TT(await bm(_),tt))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>bT(await bm(_),tt)))}})(hg(d),p,l,c)}function pg(r,t){return(function(a,l){const c=new ar;return a.asyncQueue.enqueueAndForget((async()=>rI(await pI(a),l,c))),c.promise})(hg(r),t)}function FT(r,t,i){const a=i.docs.get(t._key),l=new GT(r);return new Kr(r,l,t._key,a,new Al(i.hasPendingWrites,i.fromCache),t.converter)}function Kd(...r){return new fg("arrayUnion",r)}function PI(r){return new dg("increment",r)}(function(t,i=!0){(function(l){ho=l})(uo),Wa(new Yr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Jr(new w2(a.getProvider("auth-internal")),new I2(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),sr(b0,S0,t),sr(b0,S0,"esm2020")})();const zI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),yv=r=>{const t=jI(r);return t.charAt(0).toUpperCase()+t.slice(1)},QT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),BI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var qI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HI=ge.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>ge.createElement("svg",{ref:y,...qI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:QT("lucide",l),...!c&&!BI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>ge.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Ze=(r,t)=>{const i=ge.forwardRef(({className:a,...l},c)=>ge.createElement(HI,{ref:c,iconNode:t,className:QT(`lucide-${zI(yv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=yv(r),i};const GI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Am=Ze("activity",GI);const FI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_v=Ze("book-open",FI);const QI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yd=Ze("circle-check-big",QI);const KI=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],YI=Ze("cpu",KI);const XI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],$I=Ze("eye-off",XI);const ZI=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],JI=Ze("fast-forward",ZI);const WI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],tx=Ze("history",WI);const ex=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],KT=Ze("house",ex);const nx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wm=Ze("log-out",nx);const ix=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],sx=Ze("rotate-ccw",ix);const rx=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],vv=Ze("signal",rx);const ax=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],El=Ze("sparkles",ax);const ox=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],oo=Ze("target",ox);const lx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],ux=Ze("trophy",lx);const cx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ev=Ze("user",cx);const hx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YT=Ze("x",hx);const fx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dx=Ze("zap",fx),mx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2f012b1619cb4ef46aa637"},XT=Mv(mx),Xd=T2(XT),Hn=vI(XT),Gn=typeof __app_id<"u"?__app_id:"spectrum-fives",Ja={BLUE:{name:"Blue",color:"text-blue-400",bg:"bg-blue-900/40",border:"border-blue-500",icon:Am},GREEN:{name:"Green",color:"text-emerald-400",bg:"bg-emerald-900/40",border:"border-emerald-500",icon:YI},MAGENTA:{name:"Magenta",color:"text-fuchsia-400",bg:"bg-fuchsia-900/40",border:"border-fuchsia-500",icon:oo},SILVER:{name:"Silver",color:"text-slate-200",bg:"bg-slate-700/40",border:"border-slate-400",icon:dx}},kc={BLUE:0,GREEN:1,MAGENTA:2,SILVER:3},gx=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},px=({type:r,message:t,subtext:i,icon:a})=>I.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:I.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-fuchsia-900/90 border-fuchsia-500 text-fuchsia-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-slate-900/90 border-slate-500 text-slate-100":""}
    `,children:[a&&I.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:I.jsx(a,{size:64,className:"animate-bounce text-fuchsia-400"})}),I.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&I.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),$d=()=>I.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[I.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-fuchsia-950/20 via-gray-950 to-black"}),I.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-fuchsia-900/5 mix-blend-overlay"}),I.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/carbon-fibre.png")'}})]}),yx=()=>I.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[I.jsx(oo,{size:12,className:"text-fuchsia-500"}),I.jsx("span",{className:"text-[10px] font-black tracking-widest text-fuchsia-500 uppercase",children:"SPECTRUM"})]}),Tv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>I.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:I.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[I.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-serif",children:"Abort Frequency?"}),I.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:l?"Leaving now will destabilize the session for all observers!":"Disconnecting from the backroom..."}),I.jsxs("div",{className:"flex flex-col gap-3",children:[I.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold",children:"Stay Sync'd"}),l&&a&&I.jsxs("button",{onClick:t,className:"py-3 rounded font-bold bg-fuchsia-700 hover:bg-fuchsia-600 text-white flex items-center justify-center gap-2",children:[I.jsx(KT,{size:18})," Return to Backroom"]}),I.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold flex items-center justify-center gap-2",children:[I.jsx(wm,{size:18})," Sever Connection"]})]})]})}),Zd=({suit:r,val:t,faceDown:i,onClick:a,disabled:l,highlight:c,small:d,tiny:p})=>{const y=i?Ja.MAGENTA:Ja[r]||Ja.MAGENTA,_=i?5:t,E=y.icon;if(p)return I.jsx("div",{className:`w-6 h-8 rounded border flex items-center justify-center ${y.bg} ${y.border} shadow-sm`,title:r,children:I.jsx("span",{className:`text-[10px] font-black ${y.color}`,children:_})});const A=d?"w-16 h-24 p-2":"w-24 h-36 md:w-32 md:h-48 p-3";return I.jsxs("button",{onClick:a,disabled:l,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between overflow-hidden
        ${A} ${y.bg} ${y.border}
        ${c?"ring-4 ring-fuchsia-400 scale-105 z-10":""}
        ${l?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[i&&I.jsx("div",{className:"absolute inset-0 bg-fuchsia-600/10 flex items-center justify-center pointer-events-none",children:I.jsx($I,{size:48,className:"text-fuchsia-500/10"})}),I.jsxs("div",{className:`w-full flex justify-between font-black ${d?"text-xs":"text-lg"} ${y.color}`,children:[I.jsx("span",{children:_}),I.jsx(oo,{size:d?12:16,opacity:.3})]}),I.jsxs("div",{className:"flex flex-col items-center",children:[I.jsx(E,{size:d?20:32,className:`${y.color} mb-1`}),!d&&I.jsx("span",{className:`text-[8px] uppercase tracking-widest font-black ${y.color} opacity-60`,children:i?"MAGENTA 5":y.name})]}),I.jsx("div",{className:`w-full flex justify-start font-black ${d?"text-xs":"text-lg"} ${y.color} rotate-180`,children:I.jsx("span",{children:_})})]})},bv=({onClose:r})=>I.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-0 md:p-4",children:I.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border border-fuchsia-500/30 shadow-2xl flex flex-col",children:[I.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[I.jsxs("div",{className:"flex flex-col",children:[I.jsx("h2",{className:"text-2xl md:text-3xl font-black text-fuchsia-500 uppercase tracking-widest font-serif",children:"SYSTEM OVERVIEW"}),I.jsx("span",{className:"text-gray-500 text-[10px] uppercase font-bold tracking-widest",children:"Spectrum Protocol"})]}),I.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",children:I.jsx(YT,{})})]}),I.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-gray-300",children:[I.jsxs("div",{className:"bg-fuchsia-950/20 p-6 rounded-xl border border-fuchsia-500/20",children:[I.jsxs("h3",{className:"text-xl font-bold text-fuchsia-400 mb-2 flex items-center gap-2 font-serif",children:[I.jsx(oo,{size:20})," Target: Equilibrium 25"]}),I.jsxs("p",{className:"text-sm md:text-base leading-relaxed opacity-80",children:["Win tricks to collect cards. Your cumulative score must reach"," ",I.jsx("strong",{children:"25"}),". Exceeding 25 causes a"," ",I.jsx("strong",{children:"System Overload (Bust)"}),"you lose chips and forfeit the round score."]})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[I.jsxs("div",{className:"space-y-4",children:[I.jsx("h4",{className:"font-bold text-white uppercase text-[10px] tracking-widest border-b border-gray-800 pb-2",children:"Trick Mechanisms"}),I.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[I.jsxs("li",{className:"flex gap-2",children:[I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 shrink-0"})," ","Must follow lead suit if possible."]}),I.jsxs("li",{className:"flex gap-2",children:[I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400 mt-1.5 shrink-0"})," ",I.jsx("strong",{children:"Silver"})," is always Trump."]}),I.jsxs("li",{className:"flex gap-2",children:[I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Highest card of lead suit (or Trump) takes the trick."]})]})]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("h4",{className:"font-bold text-fuchsia-400 uppercase text-[10px] tracking-widest border-b border-fuchsia-900/50 pb-2",children:"The Magenta 5 Override"}),I.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[I.jsxs("li",{className:"flex gap-2",children:[I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Any card can be played ",I.jsx("strong",{children:"Face-Down"})," as a Magenta 5."]}),I.jsxs("li",{className:"flex gap-2",children:[I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Allowed only if unable to follow suit OR if it's your final card of that suit."]}),I.jsxs("li",{className:"flex gap-2",children:[I.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Only ",I.jsx("strong",{children:"one"})," Magenta 5 per trick."]})]})]})]})]}),I.jsx("div",{className:"p-6 bg-gray-950 border-t border-gray-800 text-center",children:I.jsx("button",{onClick:r,className:"w-full md:w-auto bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-16 py-4 rounded-xl font-bold uppercase tracking-widest shadow-lg shadow-fuchsia-900/20",children:"Engage"})})]})});function _x(){const[r,t]=ge.useState(null),[i,a]=ge.useState("menu"),[l,c]=ge.useState(""),[d,p]=ge.useState(""),[y,_]=ge.useState(""),[E,A]=ge.useState(null),[M,G]=ge.useState(!1),[tt,st]=ge.useState(""),[W,gt]=ge.useState(!1),[bt,pt]=ge.useState(!1),[qt,$t]=ge.useState(!1),[Dt,N]=ge.useState(null),[S,C]=ge.useState("NORMAL");ge.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await ow(Xd,__initial_auth_token):await nw(Xd))();const at=cw(Xd,t);return()=>at()},[]),ge.useEffect(()=>{if(!y||!r)return;const et=LI(qn(Hn,"artifacts",Gn,"public","data","rooms",y),at=>{if(at.exists()){const x=at.data();A(x),x.status==="playing"?a("game"):x.status==="lobby"?a("lobby"):x.status==="finished"&&a("game")}else _(""),a("menu"),st("Synchronicity Terminated (Room Closed)")});return()=>et()},[y,r]),ge.useEffect(()=>{if(!E||!r||E.status!=="playing")return;if(E.hostId===r.uid&&E.trick.length===E.players.length){const at=setTimeout(()=>{rt(E.trick,E.players,E.leadSuit)},1200);return()=>clearTimeout(at)}},[E?.trick?.length,r?.uid,E?.status]);const V=(et,at,x="",H=null)=>{N({type:et,message:at,subtext:x,icon:H}),setTimeout(()=>N(null),2e3)},O=async()=>{if(!l)return st("Identifier Required");G(!0);const et=Math.random().toString(36).substring(2,7).toUpperCase(),at={roomId:et,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}],deck:[],trick:[],leadSuit:null,turnIndex:0,roundCount:1,logs:[]};await kI(qn(Hn,"artifacts",Gn,"public","data","rooms",et),at),_(et),G(!1)},U=async()=>{if(!d||!l)return st("Protocol Data Missing");G(!0);const et=qn(Hn,"artifacts",Gn,"public","data","rooms",d),at=await VI(et);if(!at.exists()){st("Frequency not found"),G(!1);return}const x=at.data();if(x.status!=="lobby"){st("Session locked"),G(!1);return}const H=[...x.players,{id:r.uid,name:l,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}];await Di(et,{players:H}),_(d),G(!1)},w=async()=>{if(!E||E.hostId!==r.uid)return;const et=E.players.length,at=et===3?9:13,x=[];Object.keys(Ja).forEach(Z=>{for(let ut=1;ut<=at;ut++)x.push({suit:Z,val:ut})});const H=gx(x),J=Math.floor(H.length/et),it=E.players.map(Z=>{const ut=[];for(let zt=0;zt<J;zt++)ut.push(H.pop());return{...Z,hand:ut,scorePile:[],scoreTotal:0,busted:!1,ready:!1}}),ht=E.status==="playing"||E.turnIndex===null;await Di(qn(Hn,"artifacts",Gn,"public","data","rooms",y),{status:"playing",deck:H,players:it,trick:[],leadSuit:null,turnIndex:0,roundResult:null,roundCount:ht?PI(1):E.roundCount,logs:Kd({text:`Initializing Round ${ht?E.roundCount+1:E.roundCount}`,type:"neutral"})})},ne=async()=>{if(!E||E.hostId!==r.uid)return;const et=E.players.map(at=>({...at,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}));await Di(qn(Hn,"artifacts",Gn,"public","data","rooms",y),{players:et,roundCount:1,status:"lobby",logs:[{text:"--- GRID REBOOTED: NEW SESSION ---",type:"neutral"}]})},pe=async()=>{if(!E)return;const et=E.players.map(at=>at.id===r.uid?{...at,ready:!0}:at);await Di(qn(Hn,"artifacts",Gn,"public","data","rooms",y),{players:et})},F=async(et,at)=>{if(!E||E.turnIndex===null||E.players[E.turnIndex].id!==r.uid)return;const x=E.players[E.turnIndex],H=x.hand[et];if(E.trick.length>0&&!at&&x.hand.some(Et=>Et.suit===E.leadSuit)&&H.suit!==E.leadSuit){V("failure","DESYNC","Must maintain lead frequency!");return}if(at){const Ht=x.hand.some(Le=>Le.suit===E.leadSuit),Et=x.hand.filter(Le=>Le.suit===E.leadSuit).length===1&&H.suit===E.leadSuit;if(E.trick.some(Le=>Le.faceDown)){V("failure","JAMMED","One Magenta Override limit!");return}if(E.trick.length>0&&Ht&&!Et){V("failure","INVALID MASK","Cannot mask if able to follow.");return}}const J=[...E.players],it=E.turnIndex;J[it].hand.splice(et,1);const ht={playerId:r.uid,playerName:x.name,suit:H.suit,val:H.val,faceDown:at},Z=[...E.trick,ht];let ut=E.leadSuit;E.trick.length===0&&(ut=at?"MAGENTA":H.suit);const zt=(E.turnIndex+1)%E.players.length;await Di(qn(Hn,"artifacts",Gn,"public","data","rooms",y),{players:J,trick:Z,leadSuit:ut,turnIndex:zt})},rt=async(et,at,x)=>{let H=et[0].playerId,J=-1;const it=et.filter(Et=>Et.suit==="SILVER"&&!Et.faceDown);if(it.length>0)J=Math.max(...it.map(Et=>Et.val)),H=it.find(Et=>Et.val===J).playerId;else{const Et=et.filter(ie=>ie.suit===x&&!ie.faceDown||ie.faceDown&&x==="MAGENTA");Et.length>0&&(J=Math.max(...Et.map(ie=>ie.faceDown?5:ie.val)),H=Et.find(ie=>(ie.faceDown?5:ie.val)===J).playerId)}const ht=at.findIndex(Et=>Et.id===H),Z=et.find(Et=>Et.playerId===H),ut=Z.faceDown?5:Z.val,zt=at.map((Et,ie)=>{if(ie===ht){const Le=Et.scoreTotal+ut;return{...Et,scorePile:[...Et.scorePile,Z],scoreTotal:Le,busted:Le>25}}return Et});if(zt.every(Et=>Et.hand.length===0)){const Et=JSON.parse(JSON.stringify(zt)),ie={};Et.filter(Me=>!Me.busted).forEach(Me=>{const Je=Math.abs(25-Me.scoreTotal);ie[Je]||(ie[Je]=[]),ie[Je].push(Me.id)});const Le=Object.keys(ie).map(Number).sort((Me,Je)=>Me-Je),Bi=[3,2,1],un=Le[0],ui=ie[un]||[];Le.forEach((Me,Je)=>{if(Je<Bi.length){const oe=Bi[Je];ie[Me].forEach(ce=>{const Kn=Et.findIndex(po=>po.id===ce);Et[Kn].chips+=oe,Me===0&&(Et[Kn].chips+=1)})}}),zt.forEach((Me,Je)=>{if(Me.busted&&(Et[Je].chips-=1,ui.length>0)){const oe=Et.findIndex(ce=>ce.id===ui[0]);Et[oe].chips+=1}});const qi=E.roundCount>=4;await Di(qn(Hn,"artifacts",Gn,"public","data","rooms",y),{players:Et,trick:[],leadSuit:null,status:qi?"finished":"playing",turnIndex:null,roundResult:{closest:ui.length>1?"MULTIPLE_UNITS":Et.find(Me=>Me.id===ui[0])?.name||"NONE",total:un!==void 0?25-un:0},logs:Kd({text:`Phase ${E.roundCount} Calibration Complete.`,type:"neutral"})})}else await Di(qn(Hn,"artifacts",Gn,"public","data","rooms",y),{players:zt,trick:[],leadSuit:null,turnIndex:ht,logs:Kd({text:`${zt[ht].name} secured trick (+${ut})`,type:"success"})})},dt=async()=>{if(!y)return;const et=qn(Hn,"artifacts",Gn,"public","data","rooms",y);E.hostId===r.uid?await UI(et):await Di(et,{players:E.players.filter(at=>at.id!==r.uid)}),_(""),a("menu")};if(!r)return I.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-fuchsia-500 font-serif",children:"BOOTING_PROTOCOL..."});if(i==="menu")return I.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[I.jsx($d,{}),W&&I.jsx(bv,{onClose:()=>gt(!1)}),I.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[I.jsx(oo,{size:64,className:"text-fuchsia-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_20px_rgba(217,70,239,0.4)]"}),I.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-fuchsia-300 to-fuchsia-600 font-serif tracking-[0.2em]",children:"SPECTRUM"}),I.jsx("p",{className:"text-fuchsia-500/30 tracking-[0.6em] uppercase mt-2 text-[10px] font-black",children:"MAGENTA_EQUILIBRIUM"})]}),I.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-md border border-fuchsia-500/20 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[tt&&I.jsx("div",{className:"bg-red-900/40 text-red-200 p-3 mb-4 rounded border border-red-800 text-center text-xs",children:tt}),I.jsx("input",{className:"w-full bg-black/60 border border-gray-700 p-3 rounded mb-4 text-white placeholder-gray-600 focus:border-fuchsia-500 outline-none transition-all uppercase font-mono tracking-widest text-sm",placeholder:"AGENT_IDENTIFIER",value:l,onChange:et=>c(et.target.value)}),I.jsxs("button",{onClick:O,disabled:M,className:"w-full bg-fuchsia-700 hover:bg-fuchsia-600 p-4 rounded-xl font-black mb-4 flex items-center justify-center gap-2 shadow-lg tracking-widest uppercase transition-all text-sm",children:[I.jsx(oo,{size:18})," Establish Grid"]}),I.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[I.jsx("input",{className:"w-full sm:flex-1 bg-black/60 border border-gray-700 p-3 rounded text-white placeholder-gray-600 uppercase font-mono tracking-widest text-sm outline-none",placeholder:"ROOM_CODE",value:d,onChange:et=>p(et.target.value.toUpperCase())}),I.jsx("button",{onClick:U,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-700 px-6 py-3 rounded-xl font-bold text-xs uppercase tracking-widest",children:"Infiltrate"})]}),I.jsxs("button",{onClick:()=>gt(!0),className:"w-full text-[10px] text-gray-500 hover:text-fuchsia-400 flex items-center justify-center gap-2 uppercase tracking-widest",children:[I.jsx(_v,{size:14})," View Manual"]})]})]});if(i==="lobby"&&E){const et=E.hostId===r.uid;return I.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[I.jsx($d,{}),I.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/95 backdrop-blur-xl p-8 rounded-2xl border border-fuchsia-900/30 shadow-2xl",children:[I.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-800 pb-4",children:[I.jsxs("h2",{className:"text-xl font-serif text-fuchsia-500 tracking-wider",children:["Frequency: ",I.jsx("span",{className:"text-white font-mono",children:y})]}),I.jsx("button",{onClick:()=>pt(!0),className:"p-2 bg-red-900/20 hover:bg-red-900/40 rounded text-red-400",children:I.jsx(wm,{size:16})})]}),I.jsx("div",{className:"space-y-3 mb-10",children:E.players.map(at=>I.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-xl border border-gray-800",children:[I.jsxs("span",{className:`font-black flex items-center gap-2 text-sm uppercase tracking-widest ${at.id===r.uid?"text-fuchsia-400":"text-gray-400"}`,children:[I.jsx(Ev,{size:14})," ",at.name," ",at.id===E.hostId&&I.jsx(El,{size:14,className:"text-yellow-500"})]}),I.jsxs("span",{className:"text-green-500 text-[10px] font-black uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[I.jsx(Yd,{size:10})," Active"]})]},at.id))}),et?I.jsx("button",{onClick:w,disabled:E.players.length<3,className:`w-full py-5 rounded-xl font-black uppercase tracking-[0.2em] transition-all shadow-xl ${E.players.length>=3?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:E.players.length<3?"Awaiting Data (3-4 Required)":"Commence Protocol"}):I.jsx("div",{className:"text-center text-fuchsia-500/50 animate-pulse font-serif italic text-sm",children:"Synchronizing with host authority..."})]}),bt&&I.jsx(Tv,{onCancel:()=>pt(!1),onConfirmLeave:dt,isHost:et})]})}if(i==="game"&&E){const et=E.players.find(Z=>Z.id===r.uid),at=E.turnIndex!==null&&E.players[E.turnIndex]?.id===r.uid,x=E.hostId===r.uid,H=E.turnIndex===null&&E.status==="playing",J=et?[...et.hand].map((Z,ut)=>({...Z,originalIdx:ut})).sort((Z,ut)=>kc[Z.suit]!==kc[ut.suit]?kc[Z.suit]-kc[ut.suit]:Z.val-ut.val):[],it=E.players.filter(Z=>Z.id!==E.hostId).every(Z=>Z.ready),ht=[...E.players].sort((Z,ut)=>ut.chips-Z.chips)[0];return I.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[I.jsx($d,{}),Dt&&I.jsx(px,{...Dt}),W&&I.jsx(bv,{onClose:()=>gt(!1)}),bt&&I.jsx(Tv,{onCancel:()=>pt(!1),onConfirmLeave:dt,onConfirmLobby:()=>Di(qn(Hn,"artifacts",Gn,"public","data","rooms",y),{status:"lobby"}),isHost:x,inGame:!0}),I.jsxs("div",{className:"h-14 bg-gray-950/90 border-b border-fuchsia-900/30 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[I.jsxs("div",{className:"flex items-center gap-2 font-serif font-black text-fuchsia-500 tracking-[0.2em]",children:["SPECTRUM"," ",I.jsxs("span",{className:"text-[10px] text-gray-500 font-sans tracking-widest ml-1 opacity-70",children:["(ROUND ",E.roundCount,")"]})]}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("button",{onClick:()=>gt(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:I.jsx(_v,{size:18})}),I.jsx("button",{onClick:()=>$t(!qt),className:"p-2 hover:bg-gray-800 rounded text-gray-400",children:I.jsx(tx,{size:18})}),I.jsx("button",{onClick:()=>pt(!0),className:"p-2 hover:bg-red-900/40 rounded text-red-400",children:I.jsx(wm,{size:18})})]})]}),I.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 w-full max-w-6xl mx-auto",children:[I.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 w-full justify-center",children:E.players.map((Z,ut)=>{if(Z.id===r.uid)return null;const zt=E.turnIndex===ut;return I.jsxs("div",{className:`bg-black/60 p-3 rounded-xl border-2 transition-all ${zt?"border-fuchsia-500 scale-105 shadow-xl shadow-fuchsia-900/20":"border-gray-800"} ${Z.busted?"opacity-30 grayscale":""}`,children:[I.jsxs("div",{className:"flex justify-between items-center mb-1",children:[I.jsx("span",{className:"font-black text-[10px] uppercase tracking-wider truncate max-w-[70px]",children:Z.name}),I.jsxs("div",{className:"flex gap-1 items-center bg-gray-900 px-2 rounded-full border border-gray-700",children:[I.jsx(El,{size:8,className:"text-yellow-400"}),I.jsx("span",{className:"text-[10px] font-mono",children:Z.chips})]})]}),I.jsxs("div",{className:"flex justify-between items-end",children:[I.jsx("div",{className:"flex -space-x-3",children:Z.hand.map((Ht,Et)=>I.jsx("div",{className:"w-4 h-6 bg-fuchsia-950 rounded border border-fuchsia-800"},Et))}),I.jsxs("div",{className:"text-right",children:[I.jsxs("div",{className:`text-[10px] font-black tracking-tighter ${Z.busted?"text-red-500":"text-fuchsia-400"}`,children:["EQ: ",Z.scoreTotal]}),I.jsx("div",{className:"flex gap-0.5 justify-end",children:Z.scorePile.slice(-2).map((Ht,Et)=>I.jsx(Zd,{...Ht,tiny:!0},Et))})]})]})]},Z.id)})}),I.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[H&&E.roundResult&&I.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 rounded-3xl border border-fuchsia-500/20 animate-in fade-in zoom-in duration-500",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"bg-fuchsia-600 text-white text-[10px] font-black uppercase px-4 py-1 rounded-full mb-4 inline-block tracking-widest shadow-lg",children:"Phase Summary"}),I.jsx("h2",{className:"text-3xl font-serif font-black text-white mb-2 uppercase",children:E.roundResult.closest}),I.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs mb-8 uppercase tracking-tighter",children:["Achieved Equilibrium (",E.roundResult.total,"/25)"]}),x?I.jsxs("button",{onClick:w,className:"bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest flex items-center gap-2 shadow-xl shadow-fuchsia-900/30 transition-all",children:[I.jsx(JI,{size:20})," Initialize Phase"," ",E.roundCount+1]}):I.jsx("div",{className:"text-gray-500 font-black animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Awaiting host frequency shift..."})]})}),I.jsxs("div",{className:"relative w-full max-w-md flex flex-wrap gap-4 justify-center items-center",children:[E.trick.map((Z,ut)=>I.jsxs("div",{className:"animate-in zoom-in slide-in-from-bottom-4 duration-500",children:[I.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-black text-center mb-1 tracking-tighter truncate w-24",children:Z.playerName}),I.jsx(Zd,{...Z,small:!0})]},ut)),E.trick.length===0&&!H&&I.jsxs("div",{className:"text-gray-800 uppercase tracking-[0.5em] font-black text-center opacity-40 select-none flex flex-col items-center",children:[I.jsx(Am,{size:64,className:"mb-4 text-fuchsia-900"}),"IDLE_GRID"]})]}),E.leadSuit&&!H&&I.jsxs("div",{className:"mt-8 bg-gray-900/80 border border-fuchsia-500/20 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.2em] backdrop-blur-md",children:["Protocol:"," ",I.jsx("span",{className:Ja[E.leadSuit]?.color,children:Ja[E.leadSuit]?.name})]})]}),I.jsxs("div",{className:"w-full bg-gray-900/98 border-t-2 border-fuchsia-500/20 p-4 md:p-6 rounded-t-[2.5rem] shadow-[0_-20px_50px_rgba(0,0,0,0.8)] backdrop-blur-2xl",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsxs("div",{className:"flex items-center gap-4",children:[I.jsxs("div",{className:`px-5 py-3 rounded-2xl flex items-center gap-3 border transition-all ${et.busted?"bg-red-950/40 border-red-500 shadow-red-900/20":"bg-fuchsia-950/40 border-fuchsia-500 shadow-fuchsia-900/20"}`,children:[I.jsx(Am,{className:et.busted?"text-red-500":"text-fuchsia-400",size:24}),I.jsxs("div",{className:"flex flex-col",children:[I.jsx("span",{className:`text-2xl font-black leading-none ${et.busted?"text-red-500":"text-fuchsia-100"}`,children:et.scoreTotal}),I.jsx("span",{className:"text-[8px] uppercase font-black tracking-widest text-gray-500",children:"Equilibrium"})]})]}),I.jsxs("div",{className:"bg-slate-900 border border-slate-700 px-4 py-2 rounded-xl flex items-center gap-2",children:[I.jsx(El,{size:16,className:"text-yellow-400"}),I.jsx("span",{className:"text-xl font-mono font-bold",children:et.chips})]})]}),at&&!H&&I.jsxs("div",{className:"flex bg-black/50 p-1.5 rounded-xl border border-gray-800",children:[I.jsx("button",{onClick:()=>C("NORMAL"),className:`px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${S==="NORMAL"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Signal"}),I.jsx("button",{onClick:()=>C("FACEDOWN"),className:`px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${S==="FACEDOWN"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Override"})]})]}),I.jsxs("div",{className:"flex gap-3 overflow-x-auto pt-6 pb-8 px-4 justify-start lg:justify-center items-end h-64 scrollbar-hide scroll-smooth",children:[J.map(Z=>I.jsx("div",{className:`${at?"hover:translate-y-[-10px]":""} transition-transform duration-300 shrink-0`,children:I.jsx(Zd,{suit:Z.suit,val:Z.val,faceDown:S==="FACEDOWN",onClick:()=>at&&F(Z.originalIdx,S==="FACEDOWN"),disabled:!at,highlight:at})},Z.originalIdx)),et.hand.length===0&&E.trick.length>0&&I.jsx("div",{className:"text-gray-600 font-black uppercase text-xs animate-pulse",children:"Syncing Pulse..."}),et.hand.length===0&&E.trick.length===0&&!H&&E.status!=="finished"&&I.jsx("div",{className:"text-fuchsia-600 font-black uppercase text-xs animate-pulse",children:"Protocol Initializing..."})]})]})]}),qt&&I.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:I.jsxs("div",{className:"bg-gray-900 border border-gray-800 w-full max-w-md h-[60vh] rounded-2xl flex flex-col shadow-2xl overflow-hidden",children:[I.jsxs("div",{className:"p-4 bg-gray-950 flex justify-between items-center border-b border-gray-800",children:[I.jsx("span",{className:"font-serif font-black text-fuchsia-500 tracking-widest uppercase text-sm",children:"System_Logs"}),I.jsx("button",{onClick:()=>$t(!1),children:I.jsx(YT,{size:20,className:"text-gray-500"})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs].reverse().map((Z,ut)=>I.jsx("div",{className:`text-[10px] font-mono p-2 border-l-2 bg-black/30 ${Z.type==="success"?"border-fuchsia-500 text-fuchsia-300":"border-gray-700 text-gray-500"}`,children:Z.text},ut))})]})}),E.status==="finished"&&I.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[200] flex flex-col items-center justify-center p-4 backdrop-blur-2xl",children:[I.jsxs("div",{className:"relative mb-10",children:[I.jsx(ux,{size:100,className:"text-yellow-400 drop-shadow-[0_0_30px_rgba(250,204,21,0.5)] animate-bounce"}),I.jsx(El,{size:32,className:"absolute -top-4 -right-4 text-fuchsia-400 animate-pulse"})]}),I.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-black text-white mb-2 uppercase tracking-[0.4em] text-center",children:"SYNCHRONIZED"}),I.jsx("div",{className:"bg-fuchsia-950/40 border border-fuchsia-500/30 px-6 py-2 rounded-full mb-12",children:I.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs tracking-[0.2em] uppercase font-black",children:["Protocol_Victor:"," ",I.jsx("span",{className:"text-white ml-2",children:ht?.name})]})}),I.jsxs("div",{className:"w-full max-w-lg space-y-3 mb-16",children:[I.jsx("h3",{className:"text-center text-[10px] font-black text-gray-600 uppercase tracking-[0.3em] mb-4",children:"Unit Summary"}),E.players.map(Z=>I.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${Z.id===ht.id?"bg-fuchsia-900/30 border-fuchsia-500 shadow-lg shadow-fuchsia-900/20":"bg-black/40 border-gray-800 opacity-80"}`,children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx(Ev,{size:18,className:Z.id===ht.id?"text-fuchsia-400":"text-gray-600"}),I.jsx("span",{className:`font-black text-sm uppercase tracking-wider ${Z.id===ht.id?"text-fuchsia-100":"text-gray-400"}`,children:Z.name}),Z.ready&&Z.id!==E.hostId&&I.jsx(Yd,{size:14,className:"text-green-500 ml-2"})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(El,{size:14,className:"text-yellow-400"}),I.jsx("span",{className:"font-mono text-lg font-bold",children:Z.chips})]})]},Z.id))]}),I.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[x?I.jsxs(I.Fragment,{children:[!it&&I.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-[10px] font-black uppercase tracking-widest animate-pulse mb-2",children:[I.jsx(vv,{size:12})," Awaiting Signal from Observers..."]}),I.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[I.jsxs("button",{onClick:ne,disabled:!it,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 shadow-xl transition-all ${it?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50"}`,children:[I.jsx(sx,{size:16})," Reboot"]}),I.jsxs("button",{onClick:()=>Di(qn(Hn,"artifacts",Gn,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null}),disabled:!it,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 border transition-all ${it?"border-fuchsia-600 text-fuchsia-400 hover:bg-fuchsia-900/20":"border-gray-800 text-gray-600 cursor-not-allowed opacity-50"}`,children:[I.jsx(KT,{size:16})," Backroom"]})]})]}):I.jsx("button",{onClick:pe,disabled:et?.ready,className:`w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 shadow-xl transition-all ${et?.ready?"bg-black/50 border border-green-500 text-green-500 cursor-default":"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20"}`,children:et?.ready?I.jsxs(I.Fragment,{children:[I.jsx(Yd,{size:20})," Signal_Acquired"]}):I.jsxs(I.Fragment,{children:[I.jsx(vv,{size:20})," Transmit_Readiness"]})}),I.jsx("button",{onClick:dt,className:"w-full bg-transparent hover:bg-red-950/20 text-gray-600 hover:text-red-400 py-4 rounded-xl font-bold uppercase tracking-[0.2em] text-[10px] transition-all",children:"Sever_Connection"})]})]}),I.jsx(yx,{})]})}return null}kb.createRoot(document.getElementById("root")).render(I.jsx(ge.StrictMode,{children:I.jsx(_x,{})}));
