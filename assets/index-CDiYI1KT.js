(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},vl={};var L_;function Cb(){if(L_)return vl;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var P_;function Ib(){return P_||(P_=1,Nd.exports=Cb()),Nd.exports}var C=Ib(),Dd={exports:{}},At={};var z_;function xb(){if(z_)return At;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function G(w){return w===null||typeof w!="object"?null:(w=M&&w[M]||w["@@iterator"],typeof w=="function"?w:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,W={};function pt(w,B,J){this.props=w,this.context=B,this.refs=W,this.updater=J||et}pt.prototype.isReactComponent={},pt.prototype.setState=function(w,B){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,B,"setState")},pt.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function bt(){}bt.prototype=pt.prototype;function mt(w,B,J){this.props=w,this.context=B,this.refs=W,this.updater=J||et}var Ht=mt.prototype=new bt;Ht.constructor=mt,st(Ht,pt.prototype),Ht.isPureReactComponent=!0;var $t=Array.isArray;function Ot(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(w,B,J){var nt=J.ref;return{$$typeof:r,type:w,key:B,ref:nt!==void 0?nt:null,props:J}}function V(w,B){return I(w.type,B,w.props)}function O(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function U(w){var B={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(J){return B[J]})}var R=/\/+/g;function ne(w,B){return typeof w=="object"&&w!==null&&w.key!=null?U(""+w.key):B.toString(36)}function pe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Ot,Ot):(w.status="pending",w.then(function(B){w.status==="pending"&&(w.status="fulfilled",w.value=B)},function(B){w.status==="pending"&&(w.status="rejected",w.reason=B)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function F(w,B,J,nt,ct){var $=typeof w;($==="undefined"||$==="boolean")&&(w=null);var ot=!1;if(w===null)ot=!0;else switch($){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(w.$$typeof){case r:case t:ot=!0;break;case E:return ot=w._init,F(ot(w._payload),B,J,nt,ct)}}if(ot)return ct=ct(w),ot=nt===""?"."+ne(w,0):nt,$t(ct)?(J="",ot!=null&&(J=ot.replace(R,"$&/")+"/"),F(ct,B,J,"",function(ln){return ln})):ct!=null&&(O(ct)&&(ct=V(ct,J+(ct.key==null||w&&w.key===ct.key?"":(""+ct.key).replace(R,"$&/")+"/")+ot)),B.push(ct)),1;ot=0;var xt=nt===""?".":nt+":";if($t(w))for(var zt=0;zt<w.length;zt++)nt=w[zt],$=xt+ne(nt,zt),ot+=F(nt,B,J,$,ct);else if(zt=G(w),typeof zt=="function")for(w=zt.call(w),zt=0;!(nt=w.next()).done;)nt=nt.value,$=xt+ne(nt,zt++),ot+=F(nt,B,J,$,ct);else if($==="object"){if(typeof w.then=="function")return F(pe(w),B,J,nt,ct);throw B=String(w),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ot}function rt(w,B,J){if(w==null)return w;var nt=[],ct=0;return F(w,nt,"","",function($){return B.call(J,$,ct++)}),nt}function dt(w){if(w._status===-1){var B=w._result;B=B(),B.then(function(J){(w._status===0||w._status===-1)&&(w._status=1,w._result=J)},function(J){(w._status===0||w._status===-1)&&(w._status=2,w._result=J)}),w._status===-1&&(w._status=0,w._result=B)}if(w._status===1)return w._result.default;throw w._result}var tt=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},at={map:rt,forEach:function(w,B,J){rt(w,function(){B.apply(this,arguments)},J)},count:function(w){var B=0;return rt(w,function(){B++}),B},toArray:function(w){return rt(w,function(B){return B})||[]},only:function(w){if(!O(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return At.Activity=A,At.Children=at,At.Component=pt,At.Fragment=i,At.Profiler=l,At.PureComponent=mt,At.StrictMode=a,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,At.__COMPILER_RUNTIME={__proto__:null,c:function(w){return N.H.useMemoCache(w)}},At.cache=function(w){return function(){return w.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(w,B,J){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var nt=st({},w.props),ct=w.key;if(B!=null)for($ in B.key!==void 0&&(ct=""+B.key),B)!S.call(B,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&B.ref===void 0||(nt[$]=B[$]);var $=arguments.length-2;if($===1)nt.children=J;else if(1<$){for(var ot=Array($),xt=0;xt<$;xt++)ot[xt]=arguments[xt+2];nt.children=ot}return I(w.type,ct,nt)},At.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},At.createElement=function(w,B,J){var nt,ct={},$=null;if(B!=null)for(nt in B.key!==void 0&&($=""+B.key),B)S.call(B,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(ct[nt]=B[nt]);var ot=arguments.length-2;if(ot===1)ct.children=J;else if(1<ot){for(var xt=Array(ot),zt=0;zt<ot;zt++)xt[zt]=arguments[zt+2];ct.children=xt}if(w&&w.defaultProps)for(nt in ot=w.defaultProps,ot)ct[nt]===void 0&&(ct[nt]=ot[nt]);return I(w,$,ct)},At.createRef=function(){return{current:null}},At.forwardRef=function(w){return{$$typeof:p,render:w}},At.isValidElement=O,At.lazy=function(w){return{$$typeof:E,_payload:{_status:-1,_result:w},_init:dt}},At.memo=function(w,B){return{$$typeof:_,type:w,compare:B===void 0?null:B}},At.startTransition=function(w){var B=N.T,J={};N.T=J;try{var nt=w(),ct=N.S;ct!==null&&ct(J,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(Ot,tt)}catch($){tt($)}finally{B!==null&&J.types!==null&&(B.types=J.types),N.T=B}},At.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},At.use=function(w){return N.H.use(w)},At.useActionState=function(w,B,J){return N.H.useActionState(w,B,J)},At.useCallback=function(w,B){return N.H.useCallback(w,B)},At.useContext=function(w){return N.H.useContext(w)},At.useDebugValue=function(){},At.useDeferredValue=function(w,B){return N.H.useDeferredValue(w,B)},At.useEffect=function(w,B){return N.H.useEffect(w,B)},At.useEffectEvent=function(w){return N.H.useEffectEvent(w)},At.useId=function(){return N.H.useId()},At.useImperativeHandle=function(w,B,J){return N.H.useImperativeHandle(w,B,J)},At.useInsertionEffect=function(w,B){return N.H.useInsertionEffect(w,B)},At.useLayoutEffect=function(w,B){return N.H.useLayoutEffect(w,B)},At.useMemo=function(w,B){return N.H.useMemo(w,B)},At.useOptimistic=function(w,B){return N.H.useOptimistic(w,B)},At.useReducer=function(w,B,J){return N.H.useReducer(w,B,J)},At.useRef=function(w){return N.H.useRef(w)},At.useState=function(w){return N.H.useState(w)},At.useSyncExternalStore=function(w,B,J){return N.H.useSyncExternalStore(w,B,J)},At.useTransition=function(){return N.H.useTransition()},At.version="19.2.3",At}var j_;function Rm(){return j_||(j_=1,Dd.exports=xb()),Dd.exports}var ge=Rm(),Od={exports:{}},El={},Md={exports:{}},Vd={};var B_;function Nb(){return B_||(B_=1,(function(r){function t(F,rt){var dt=F.length;F.push(rt);t:for(;0<dt;){var tt=dt-1>>>1,at=F[tt];if(0<l(at,rt))F[tt]=rt,F[dt]=at,dt=tt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var rt=F[0],dt=F.pop();if(dt!==rt){F[0]=dt;t:for(var tt=0,at=F.length,w=at>>>1;tt<w;){var B=2*(tt+1)-1,J=F[B],nt=B+1,ct=F[nt];if(0>l(J,dt))nt<at&&0>l(ct,J)?(F[tt]=ct,F[nt]=dt,tt=nt):(F[tt]=J,F[B]=dt,tt=B);else if(nt<at&&0>l(ct,dt))F[tt]=ct,F[nt]=dt,tt=nt;else break t}}return rt}function l(F,rt){var dt=F.sortIndex-rt.sortIndex;return dt!==0?dt:F.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],E=1,A=null,M=3,G=!1,et=!1,st=!1,W=!1,pt=typeof setTimeout=="function"?setTimeout:null,bt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ht(F){for(var rt=i(_);rt!==null;){if(rt.callback===null)a(_);else if(rt.startTime<=F)a(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function $t(F){if(st=!1,Ht(F),!et)if(i(y)!==null)et=!0,Ot||(Ot=!0,U());else{var rt=i(_);rt!==null&&pe($t,rt.startTime-F)}}var Ot=!1,N=-1,S=5,I=-1;function V(){return W?!0:!(r.unstable_now()-I<S)}function O(){if(W=!1,Ot){var F=r.unstable_now();I=F;var rt=!0;try{t:{et=!1,st&&(st=!1,bt(N),N=-1),G=!0;var dt=M;try{e:{for(Ht(F),A=i(y);A!==null&&!(A.expirationTime>F&&V());){var tt=A.callback;if(typeof tt=="function"){A.callback=null,M=A.priorityLevel;var at=tt(A.expirationTime<=F);if(F=r.unstable_now(),typeof at=="function"){A.callback=at,Ht(F),rt=!0;break e}A===i(y)&&a(y),Ht(F)}else a(y);A=i(y)}if(A!==null)rt=!0;else{var w=i(_);w!==null&&pe($t,w.startTime-F),rt=!1}}break t}finally{A=null,M=dt,G=!1}rt=void 0}}finally{rt?U():Ot=!1}}}var U;if(typeof mt=="function")U=function(){mt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=O,U=function(){ne.postMessage(null)}}else U=function(){pt(O,0)};function pe(F,rt){N=pt(function(){F(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(F){switch(M){case 1:case 2:case 3:var rt=3;break;default:rt=M}var dt=M;M=rt;try{return F()}finally{M=dt}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,rt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=M;M=F;try{return rt()}finally{M=dt}},r.unstable_scheduleCallback=function(F,rt,dt){var tt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?tt+dt:tt):dt=tt,F){case 1:var at=-1;break;case 2:at=250;break;case 5:at=1073741823;break;case 4:at=1e4;break;default:at=5e3}return at=dt+at,F={id:E++,callback:rt,priorityLevel:F,startTime:dt,expirationTime:at,sortIndex:-1},dt>tt?(F.sortIndex=dt,t(_,F),i(y)===null&&F===i(_)&&(st?(bt(N),N=-1):st=!0,pe($t,dt-tt))):(F.sortIndex=at,t(y,F),et||G||(et=!0,Ot||(Ot=!0,U()))),F},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(F){var rt=M;return function(){var dt=M;M=rt;try{return F.apply(this,arguments)}finally{M=dt}}}})(Vd)),Vd}var q_;function Db(){return q_||(q_=1,Md.exports=Nb()),Md.exports}var kd={exports:{}},nn={};var H_;function Ob(){if(H_)return nn;H_=1;var r=Rm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:_,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,E)},nn.flushSync=function(y){var _=d.T,E=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=E,a.d.f()}},nn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},nn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:G}):E==="script"&&a.d.X(y,{crossOrigin:A,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},nn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,A=p(E,_.crossOrigin);a.d.L(y,E,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},nn.requestFormReset=function(y){a.d.r(y)},nn.unstable_batchedUpdates=function(y,_){return y(_)},nn.useFormState=function(y,_,E){return d.H.useFormState(y,_,E)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var G_;function Mb(){if(G_)return kd.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=Ob(),kd.exports}var F_;function Vb(){if(F_)return El;F_=1;var r=Db(),t=Rm(),i=Mb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,o=f;break}if(T===o){g=!0,o=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,o=h;break}if(T===o){g=!0,o=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function E(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=E(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),pt=Symbol.for("react.profiler"),bt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),$t=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case pt:return"Profiler";case W:return"StrictMode";case $t:return"Suspense";case Ot:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case mt:return e.displayName||"Context";case bt:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var pe=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},tt=[],at=-1;function w(e){return{current:e}}function B(e){0>at||(e.current=tt[at],tt[at]=null,at--)}function J(e,n){at++,tt[at]=e.current,e.current=n}var nt=w(null),ct=w(null),$=w(null),ot=w(null);function xt(e,n){switch(J($,n),J(ct,e),J(nt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(nt),J(nt,e)}function zt(){B(nt),B(ct),B($)}function ln(e){e.memoizedState!==null&&J(ot,e);var n=nt.current,s=o_(n,e.type);n!==s&&(J(ct,e),J(nt,s))}function vt(e){ct.current===e&&(B(nt),B(ct)),ot.current===e&&(B(ot),gl._currentValue=dt)}var Se,ke;function ze(e){if(Se===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Se=n&&n[1]||"",ke=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+e+ke}var hi=!1;function ye(e,n){if(!e||hi)return"";hi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var j=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){j=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){j=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&j&&typeof H.stack=="string")return[H.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var x=g.split(`
`),z=T.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===z.length)for(o=x.length-1,h=z.length-1;1<=o&&0<=h&&x[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==z[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{hi=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ze(s):""}function fi(e,n){switch(e.tag){case 26:case 27:case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return e.child!==n&&n!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return ye(e.type,!1);case 11:return ye(e.type.render,!1);case 1:return ye(e.type,!0);case 31:return ze("Activity");default:return""}}function Qi(e){try{var n="",s=null;do n+=fi(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ie=Object.prototype.hasOwnProperty,fe=r.unstable_scheduleCallback,di=r.unstable_cancelCallback,se=r.unstable_shouldYield,en=r.unstable_requestPaint,je=r.unstable_now,Yi=r.unstable_getCurrentPriorityLevel,Er=r.unstable_ImmediatePriority,Xn=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,eu=r.unstable_IdlePriority,nu=r.log,iu=r.unstable_setDisableYieldValue,$n=null,Qe=null;function Dn(e){if(typeof nu=="function"&&iu(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode($n,e)}catch{}}var _e=Math.clz32?Math.clz32:ru,su=Math.log,aa=Math.LN2;function ru(e){return e>>>=0,e===0?32:31-(su(e)/aa|0)|0}var gi=256,Tr=262144,Ae=4194304;function pi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=pi(o):(g&=T,g!==0?h=pi(g):s||(s=T&~e,s!==0&&(h=pi(s))))):(T=o&~f,T!==0?h=pi(T):g!==0?h=pi(g):s||(s=o&~e,s!==0&&(h=pi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function _i(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function br(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-_e(s),K=1<<Q;T[Q]=0,x[Q]=-1;var j=z[Q];if(j!==null)for(z[Q]=null,Q=0;Q<j.length;Q++){var H=j[Q];H!==null&&(H.lane&=-536870913)}s&=~K}o!==0&&Sr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Sr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function To(e,n){var s=n&-n;return s=(s&42)!==0?1:Ar(s),(s&(e.suspendedLanes|n))!==0?0:s}function Ar(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function Jn(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var Wn=Math.random().toString(36).slice(2),we="__reactFiber$"+Wn,Be="__reactProps$"+Wn,vi="__reactContainer$"+Wn,oa="__reactEvents$"+Wn,kh="__reactListeners$"+Wn,lu="__reactHandles$"+Wn,uu="__reactResources$"+Wn,Ei="__reactMarker$"+Wn;function la(e){delete e[we],delete e[Be],delete e[oa],delete e[kh],delete e[lu]}function Ti(e){var n=e[we];if(n)return n;for(var s=e.parentNode;s;){if(n=s[vi]||s[we]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=m_(e);e!==null;){if(s=e[we])return s;e=m_(e)}return n}e=s,s=e.parentNode}return null}function On(e){if(e=e[we]||e[vi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function bi(e){var n=e[uu];return n||(n=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Re(e){e[Ei]=!0}var bo=new Set,So={};function Si(e,n){Ai(e,n),Ai(e+"Capture",n)}function Ai(e,n){for(So[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function cu(e){return ie.call(Ro,e)?!0:ie.call(wo,e)?!1:Ao.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function ua(e,n,s){if(cu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function bn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ss(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=Ss(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function wr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Ss(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function fn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,s,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,qe(n)):s!=null?Io(e,g,qe(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+qe(T):e.removeAttribute("name")}function hu(e,n,s,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function Io(e,n,s){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function As(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function fu(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function ws(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(pe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Yt(e)}function dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||du.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function No(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&xo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&xo(e,f,n[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return Rs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ti(){}var Do=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Ri=null;function Cr(e){var n=On(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(ca(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Be]||null;if(!h)throw Error(a(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&wr(o)}break t;case"textarea":fu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&As(e,!!s.multiple,n,!1)}}}var da=!1;function Is(e,n,s){if(da)return e(n,s);da=!0;try{var o=e(n);return o}finally{if(da=!1,(Cs!==null||Ri!==null)&&(oc(),Cs&&(n=Cs,e=Ri,Ri=Cs=null,Cr(n),e)))for(n=0;n<e.length;n++)Cr(e[n])}}function ei(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Be]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Vn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Ir=!1}var Ci=null,Oo=null,xr=null;function Mo(){if(xr)return xr;var e,n=Oo,s=n.length,o,h="value"in Ci?Ci.value:Ci.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return xr=h.slice(e,1<o?1-o:void 0)}function Nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xi(){return!0}function ni(){return!1}function Ye(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xi:ni,this.isPropagationStopped=ni,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Ye($i),xs=A({},$i,{view:0,detail:0}),Vo=Ye(xs),Ns,ma,xi,ga=A({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(Ns=e.screenX-xi.screenX,ma=e.screenY-xi.screenY):ma=Ns=0,xi=e),Ns)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),ko=Ye(ga),Dr=A({},ga,{dataTransfer:0}),gu=Ye(Dr),pu=A({},xs,{relatedTarget:0}),Or=Ye(pu),Uo=A({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Ye(Uo),pa=A({},$i,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_u=Ye(pa),vu=A({},$i,{data:0}),Ni=Ye(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function Ds(){return Su}var un=A({},xs,{key:function(e){if(e.key){var n=Eu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(e){return e.type==="keypress"?Nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=Ye(un),wu=A({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Ye(wu),u=A({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Ye(u),v=A({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(v),L=A({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ye(L),it=A({},$i,{newState:0,oldState:0}),Rt=Ye(it),ve=[9,13,27,32],Gt=Vn&&"CompositionEvent"in window,le=null;Vn&&"documentMode"in document&&(le=document.documentMode);var kn=Vn&&"TextEvent"in window&&!le,Di=Vn&&(!Gt||le&&8<le&&11>=le),ii=" ",si=!1;function Mr(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function ZT(e,n){switch(e){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(si=!0,ii);case"textInput":return e=n.data,e===ii&&si?null:e;default:return null}}function JT(e,n){if(_a)return e==="compositionend"||!Gt&&Mr(e,n)?(e=Mo(),xr=Oo=Ci=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var WT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!WT[e.type]:n==="textarea"}function _g(e,n,s,o){Cs?Ri?Ri.push(o):Ri=[o]:Cs=o,n=mc(n,"onChange"),0<n.length&&(s=new Ii("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Lo=null,Po=null;function t1(e){t_(e,0)}function Ru(e){var n=Tn(e);if(wr(n))return e}function vg(e,n){if(e==="change")return n}var Eg=!1;if(Vn){var Uh;if(Vn){var Lh="oninput"in document;if(!Lh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Lh=typeof Tg.oninput=="function"}Uh=Lh}else Uh=!1;Eg=Uh&&(!document.documentMode||9<document.documentMode)}function bg(){Lo&&(Lo.detachEvent("onpropertychange",Sg),Po=Lo=null)}function Sg(e){if(e.propertyName==="value"&&Ru(Po)){var n=[];_g(n,Po,e,Mn(e)),Is(t1,n)}}function e1(e,n,s){e==="focusin"?(bg(),Lo=n,Po=s,Lo.attachEvent("onpropertychange",Sg)):e==="focusout"&&bg()}function n1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Po)}function i1(e,n){if(e==="click")return Ru(n)}function s1(e,n){if(e==="input"||e==="change")return Ru(n)}function r1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:r1;function zo(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ie.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wg(e,n){var s=Ag(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ag(s)}}function Rg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=wi(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var a1=Vn&&"documentMode"in document&&11>=document.documentMode,va=null,zh=null,jo=null,jh=!1;function Ig(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||va==null||va!==wi(o)||(o=va,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=mc(zh,"onSelect"),0<o.length&&(n=new Ii("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=va)))}function Vr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ea={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Bh={},xg={};Vn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function kr(e){if(Bh[e])return Bh[e];if(!Ea[e])return e;var n=Ea[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in xg)return Bh[e]=n[s];return e}var Ng=kr("animationend"),Dg=kr("animationiteration"),Og=kr("animationstart"),o1=kr("transitionrun"),l1=kr("transitionstart"),u1=kr("transitioncancel"),Mg=kr("transitionend"),Vg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ri(e,n){Vg.set(e,n),Si(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],Ta=0,Hh=0;function Iu(){for(var e=Ta,n=Hh=Ta=0;n<e;){var s=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&kg(s,h,f)}}function xu(e,n,s,o){Un[Ta++]=e,Un[Ta++]=n,Un[Ta++]=s,Un[Ta++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,s,o){return xu(e,n,s,o),Nu(e)}function Ur(e,n){return xu(e,null,null,n),Nu(e)}function kg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(e){if(50<ll)throw ll=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ba={};function c1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(e,n,s,o){return new c1(e,n,s,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ji(e,n){var s=e.alternate;return s===null?(s=An(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ug(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Du(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Fh(e)&&(g=1);else if(typeof e=="string")g=gb(e,s,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=An(31,s,n,h),e.elementType=I,e.lanes=f,e;case st:return Lr(s.children,h,f,n);case W:g=8,h|=24;break;case pt:return e=An(12,s,n,h|2),e.elementType=pt,e.lanes=f,e;case $t:return e=An(13,s,n,h),e.elementType=$t,e.lanes=f,e;case Ot:return e=An(19,s,n,h),e.elementType=Ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case bt:g=9;break t;case Ht:g=11;break t;case N:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=An(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Lr(e,n,s,o){return e=An(7,e,o,n),e.lanes=s,e}function Qh(e,n,s){return e=An(6,e,null,n),e.lanes=s,e}function Lg(e){var n=An(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,s){return n=An(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pg=new WeakMap;function Ln(e,n){if(typeof e=="object"&&e!==null){var s=Pg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Qi(n)},Pg.set(e,n),n)}return{value:e,source:n,stack:Qi(n)}}var Sa=[],Aa=0,Ou=null,Bo=0,Pn=[],zn=0,Os=null,Oi=1,Mi="";function Wi(e,n){Sa[Aa++]=Bo,Sa[Aa++]=Ou,Ou=e,Bo=n}function zg(e,n,s){Pn[zn++]=Oi,Pn[zn++]=Mi,Pn[zn++]=Os,Os=e;var o=Oi;e=Mi;var h=32-_e(o)-1;o&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Oi=1<<32-_e(n)+h|s<<h|o,Mi=f+e}else Oi=1<<f|s<<h|o,Mi=e}function Kh(e){e.return!==null&&(Wi(e,1),zg(e,1,0))}function Xh(e){for(;e===Ou;)Ou=Sa[--Aa],Sa[Aa]=null,Bo=Sa[--Aa],Sa[Aa]=null;for(;e===Os;)Os=Pn[--zn],Pn[zn]=null,Mi=Pn[--zn],Pn[zn]=null,Oi=Pn[--zn],Pn[zn]=null}function jg(e,n){Pn[zn++]=Oi,Pn[zn++]=Mi,Pn[zn++]=Os,Oi=n.id,Mi=n.overflow,Os=e}var Ke=null,re=null,Pt=!1,Ms=null,jn=!1,$h=Error(a(519));function Vs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Ln(n,e)),$h}function Bg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[we]=e,n[Be]=o,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)Dt(cl[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ws(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||s_(n.textContent,s)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Vs(e,!0)}function qg(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:Ke=Ke.return}}function wa(e){if(e!==Ke)return!1;if(!Pt)return qg(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||gd(e.type,e.memoizedProps)),s=!s),s&&re&&Vs(e),qg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=d_(e)}else n===27?(n=re,Ks(e.type)?(e=Ed,Ed=null,re=e):re=n):re=Ke?qn(e.stateNode.nextSibling):null;return!0}function Pr(){re=Ke=null,Pt=!1}function Zh(){var e=Ms;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Ms=null),e}function qo(e){Ms===null?Ms=[e]:Ms.push(e)}var Jh=w(null),zr=null,ts=null;function ks(e,n,s){J(Jh,n._currentValue),n._currentValue=s}function es(e){e._currentValue=Jh.current,B(Jh)}function Wh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var x=0;x<n.length;x++)if(T.context===n[x]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),Wh(f.return,s,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Wh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Sn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===ot.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&tf(n,e,s,o),n.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function jr(e){zr=e,ts=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return Hg(zr,e)}function Vu(e,n){return zr===null&&jr(e),Hg(e,n)}function Hg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ts===null){if(e===null)throw Error(a(308));ts=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ts=ts.next=n;return s}var h1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},f1=r.unstable_scheduleCallback,d1=r.unstable_NormalPriority,Ie={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new h1,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&f1(d1,function(){e.controller.abort()})}var Go=null,nf=0,Ca=0,Ia=null;function m1(e,n){if(Go===null){var s=Go=[];nf=0,Ca=ad(),Ia={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(Gg,Gg),n}function Gg(){if(--nf===0&&Go!==null){Ia!==null&&(Ia.status="fulfilled");var e=Go;Go=null,Ca=0,Ia=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function g1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Fg=F.S;F.S=function(e,n){Iy=je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&m1(e,n),Fg!==null&&Fg(e,n)};var Br=w(null);function sf(){var e=Br.current;return e!==null?e:ee.pooledCache}function ku(e,n){n===null?J(Br,Br.current):J(Br,n.pool)}function Qg(){var e=sf();return e===null?null:{parent:Ie._currentValue,pool:e}}var xa=Error(a(460)),rf=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function Yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ti,ti),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e;default:if(typeof n.status=="string")n.then(ti,ti);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$g(e),e}throw Hr=n,xa}}function qr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Hr=s,xa):s}}var Hr=null;function Xg(){if(Hr===null)throw Error(a(459));var e=Hr;return Hr=null,e}function $g(e){if(e===xa||e===Uu)throw Error(a(483))}var Na=null,Fo=0;function Pu(e){var n=Fo;return Fo+=1,Na===null&&(Na=[]),Kg(Na,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zg(e){function n(k,D){if(e){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!e)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ji(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Y){return D===null||D.tag!==6?(D=Qh(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function x(k,D,P,Y){var gt=P.type;return gt===st?Q(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&qr(gt)===D.type)?(D=h(D,P.props),Qo(D,P),D.return=k,D):(D=Du(P.type,P.key,P.props,null,k.mode,Y),Qo(D,P),D.return=k,D)}function z(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Yh(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function Q(k,D,P,Y,gt){return D===null||D.tag!==7?(D=Lr(P,k.mode,Y,gt),D.return=k,D):(D=h(D,P),D.return=k,D)}function K(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Du(D.type,D.key,D.props,null,k.mode,P),Qo(P,D),P.return=k,P;case et:return D=Yh(D,k.mode,P),D.return=k,D;case S:return D=qr(D),K(k,D,P)}if(pe(D)||U(D))return D=Lr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return K(k,Pu(D),P);if(D.$$typeof===mt)return K(k,Vu(k,D),P);zu(k,D)}return null}function j(k,D,P,Y){var gt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return gt!==null?null:T(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===gt?x(k,D,P,Y):null;case et:return P.key===gt?z(k,D,P,Y):null;case S:return P=qr(P),j(k,D,P,Y)}if(pe(P)||U(P))return gt!==null?null:Q(k,D,P,Y,null);if(typeof P.then=="function")return j(k,D,Pu(P),Y);if(P.$$typeof===mt)return j(k,D,Vu(k,P),Y);zu(k,P)}return null}function H(k,D,P,Y,gt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(D,k,""+Y,gt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?P:Y.key)||null,x(D,k,Y,gt);case et:return k=k.get(Y.key===null?P:Y.key)||null,z(D,k,Y,gt);case S:return Y=qr(Y),H(k,D,P,Y,gt)}if(pe(Y)||U(Y))return k=k.get(P)||null,Q(D,k,Y,gt,null);if(typeof Y.then=="function")return H(k,D,P,Pu(Y),gt);if(Y.$$typeof===mt)return H(k,D,P,Vu(D,Y),gt);zu(D,Y)}return null}function ut(k,D,P,Y){for(var gt=null,Bt=null,ht=D,It=D=0,Vt=null;ht!==null&&It<P.length;It++){ht.index>It?(Vt=ht,ht=null):Vt=ht.sibling;var qt=j(k,ht,P[It],Y);if(qt===null){ht===null&&(ht=Vt);break}e&&ht&&qt.alternate===null&&n(k,ht),D=f(qt,D,It),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt,ht=Vt}if(It===P.length)return s(k,ht),Pt&&Wi(k,It),gt;if(ht===null){for(;It<P.length;It++)ht=K(k,P[It],Y),ht!==null&&(D=f(ht,D,It),Bt===null?gt=ht:Bt.sibling=ht,Bt=ht);return Pt&&Wi(k,It),gt}for(ht=o(ht);It<P.length;It++)Vt=H(ht,k,It,P[It],Y),Vt!==null&&(e&&Vt.alternate!==null&&ht.delete(Vt.key===null?It:Vt.key),D=f(Vt,D,It),Bt===null?gt=Vt:Bt.sibling=Vt,Bt=Vt);return e&&ht.forEach(function(Ws){return n(k,Ws)}),Pt&&Wi(k,It),gt}function _t(k,D,P,Y){if(P==null)throw Error(a(151));for(var gt=null,Bt=null,ht=D,It=D=0,Vt=null,qt=P.next();ht!==null&&!qt.done;It++,qt=P.next()){ht.index>It?(Vt=ht,ht=null):Vt=ht.sibling;var Ws=j(k,ht,qt.value,Y);if(Ws===null){ht===null&&(ht=Vt);break}e&&ht&&Ws.alternate===null&&n(k,ht),D=f(Ws,D,It),Bt===null?gt=Ws:Bt.sibling=Ws,Bt=Ws,ht=Vt}if(qt.done)return s(k,ht),Pt&&Wi(k,It),gt;if(ht===null){for(;!qt.done;It++,qt=P.next())qt=K(k,qt.value,Y),qt!==null&&(D=f(qt,D,It),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt);return Pt&&Wi(k,It),gt}for(ht=o(ht);!qt.done;It++,qt=P.next())qt=H(ht,k,It,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&ht.delete(qt.key===null?It:qt.key),D=f(qt,D,It),Bt===null?gt=qt:Bt.sibling=qt,Bt=qt);return e&&ht.forEach(function(Rb){return n(k,Rb)}),Pt&&Wi(k,It),gt}function te(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===st&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var gt=P.key;D!==null;){if(D.key===gt){if(gt=P.type,gt===st){if(D.tag===7){s(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break t}}else if(D.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===S&&qr(gt)===D.type){s(k,D.sibling),Y=h(D,P.props),Qo(Y,P),Y.return=k,k=Y;break t}s(k,D);break}else n(k,D);D=D.sibling}P.type===st?(Y=Lr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Du(P.type,P.key,P.props,null,k.mode,Y),Qo(Y,P),Y.return=k,k=Y)}return g(k);case et:t:{for(gt=P.key;D!==null;){if(D.key===gt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break t}else{s(k,D);break}else n(k,D);D=D.sibling}Y=Yh(P,k.mode,Y),Y.return=k,k=Y}return g(k);case S:return P=qr(P),te(k,D,P,Y)}if(pe(P))return ut(k,D,P,Y);if(U(P)){if(gt=U(P),typeof gt!="function")throw Error(a(150));return P=gt.call(P),_t(k,D,P,Y)}if(typeof P.then=="function")return te(k,D,Pu(P),Y);if(P.$$typeof===mt)return te(k,D,Vu(k,P),Y);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(s(k,D),Y=Qh(P,k.mode,Y),Y.return=k,k=Y),g(k)):s(k,D)}return function(k,D,P,Y){try{Fo=0;var gt=te(k,D,P,Y);return Na=null,gt}catch(ht){if(ht===xa||ht===Uu)throw ht;var Bt=An(29,ht,null,k.mode);return Bt.lanes=Y,Bt.return=k,Bt}}}var Gr=Zg(!0),Jg=Zg(!1),Us=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ls(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),kg(e,null,s),n}return xu(e,o,n,s),Nu(e)}function Yo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}function lf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function Ko(){if(uf){var e=Ia;if(e!==null)throw e}}function Xo(e,n,s,o){uf=!1;var h=e.updateQueue;Us=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,z=x.next;x.next=null,g===null?f=z:g.next=z,g=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==g&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=x))}if(f!==null){var K=h.baseState;g=0,Q=z=x=null,T=f;do{var j=T.lane&-536870913,H=j!==T.lane;if(H?(Mt&j)===j:(o&j)===j){j!==0&&j===Ca&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,_t=T;j=n;var te=s;switch(_t.tag){case 1:if(ut=_t.payload,typeof ut=="function"){K=ut.call(te,K,j);break t}K=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=_t.payload,j=typeof ut=="function"?ut.call(te,K,j):ut,j==null)break t;K=A({},K,j);break t;case 2:Us=!0}}j=T.callback,j!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[j]:H.push(j))}else H={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=H,x=K):Q=Q.next=H,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(x=K),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Hs|=g,e.lanes=g,e.memoizedState=K}}function Wg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function tp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Wg(s[e],n)}var Da=w(null),ju=w(0);function ep(e,n){e=cs,J(ju,e),J(Da,n),cs=e|n.baseLanes}function cf(){J(ju,cs),J(Da,Da.current)}function hf(){cs=ju.current,B(Da),B(ju)}var wn=w(null),Bn=null;function zs(e){var n=e.alternate;J(Ee,Ee.current&1),J(wn,e),Bn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(Bn=e)}function ff(e){J(Ee,Ee.current),J(wn,e),Bn===null&&(Bn=e)}function np(e){e.tag===22?(J(Ee,Ee.current),J(wn,e),Bn===null&&(Bn=e)):js()}function js(){J(Ee,Ee.current),J(wn,wn.current)}function Rn(e){B(wn),Bn===e&&(Bn=null),B(Ee)}var Ee=w(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Ct=null,Jt=null,xe=null,qu=!1,Oa=!1,Fr=!1,Hu=0,$o=0,Ma=null,p1=0;function de(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function mf(e,n,s,o,h,f){return ns=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?zp:xf,Fr=!1,f=s(o,h),Fr=!1,Oa&&(f=sp(n,s,o,h)),ip(e),f}function ip(e){F.H=Wo;var n=Jt!==null&&Jt.next!==null;if(ns=0,xe=Jt=Ct=null,qu=!1,$o=0,Ma=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Mu(e)&&(Ne=!0))}function sp(e,n,s,o){Ct=e;var h=0;do{if(Oa&&(Ma=null),$o=0,Oa=!1,25<=h)throw Error(a(301));if(h+=1,xe=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=jp,f=n(s,o)}while(Oa);return f}function y1(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function gf(){var e=Hu!==0;return Hu=0,e}function pf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(qu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}qu=!1}ns=0,xe=Jt=Ct=null,Oa=!1,$o=Hu=0,Ma=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Ct.memoizedState=xe=e:xe=xe.next=e,xe}function Te(){if(Jt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=xe===null?Ct.memoizedState:xe.next;if(n!==null)xe=n,Jt=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},xe===null?Ct.memoizedState=xe=e:xe=xe.next=e}return xe}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=$o;return $o+=1,Ma===null&&(Ma=[]),e=Kg(Ma,e,n),n=Ct,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?zp:xf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===mt)return Xe(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function is(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=Te();return vf(n,Jt,e)}function vf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,x=null,z=n,Q=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Mt&K)===K:(ns&K)===K){var j=z.revertLane;if(j===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Ca&&(Q=!0);else if((ns&j)===j){z=z.next,j===Ca&&(Q=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(T=x=K,g=f):x=x.next=K,Ct.lanes|=j,Hs|=j;K=z.action,Fr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else j={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(T=x=j,g=f):x=x.next=j,Ct.lanes|=K,Hs|=K;z=z.next}while(z!==null&&z!==n);if(x===null?g=f:x.next=T,!Sn(f,e.memoizedState)&&(Ne=!0,Q&&(s=Ia,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rp(e,n,s){var o=Ct,h=Te(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Sn((Jt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ne=!0),h=h.queue,Sf(lp.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},op.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||(ns&127)!==0||ap(o,n,s)}return s}function ap(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Gu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function op(e,n,s,o){n.value=s,n.getSnapshot=o,up(n)&&cp(e)}function lp(e,n,s){return s(function(){up(n)&&cp(e)})}function up(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function cp(e){var n=Ur(e,2);n!==null&&_n(n,e,2)}function Tf(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Fr){Dn(!0);try{s()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},n}function hp(e,n,s,o){return e.baseState=s,vf(e,Jt,typeof o=="function"?o:is)}function _1(e,n,s,o,h){if(Xu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,fp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function fp(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var T=s(h,o),x=F.S;x!==null&&x(g,T),dp(e,n,T)}catch(z){bf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=s(h,o),dp(e,n,f)}catch(z){bf(e,n,z)}}function dp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mp(e,n,o)},function(o){return bf(e,n,o)}):mp(e,n,s)}function mp(e,n,s){n.status="fulfilled",n.value=s,gp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,fp(e,s)))}function bf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,gp(n),n=n.next;while(n!==o)}e.action=null}function gp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function pp(e,n){return n}function yp(e,n){if(Pt){var s=ee.formState;if(s!==null){t:{var o=Ct;if(Pt){if(re){e:{for(var h=re,f=jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){re=qn(h.nextSibling),o=h.data==="F!";break t}}Vs(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pp,lastRenderedState:n},s.queue=o,s=Up.bind(null,Ct,o),o.dispatch=s,o=Tf(!1),f=If.bind(null,Ct,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=_1.bind(null,Ct,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function _p(e){var n=Te();return vp(n,Jt,e)}function vp(e,n,s){if(n=vf(e,n,pp)[0],e=Qu(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===xa?Uu:g}else o=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,Va(9,{destroy:void 0},v1.bind(null,h,s),null)),[o,f,e]}function v1(e,n){e.action=n}function Ep(e){var n=Te(),s=Jt;if(s!==null)return vp(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Va(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Gu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Tp(){return Te().memoizedState}function Yu(e,n,s,o){var h=cn();Ct.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},s,o===void 0?null:o)}function Ku(e,n,s,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&df(o,Jt.memoizedState.deps)?h.memoizedState=Va(n,f,s,o):(Ct.flags|=e,h.memoizedState=Va(1|n,f,s,o))}function bp(e,n){Yu(8390656,8,e,n)}function Sf(e,n){Ku(2048,8,e,n)}function E1(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Gu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Sp(e){var n=Te().memoizedState;return E1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(e,n){return Ku(4,2,e,n)}function wp(e,n){return Ku(4,4,e,n)}function Rp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cp(e,n,s){s=s!=null?s.concat([e]):null,Ku(4,4,Rp.bind(null,n,e),s)}function Af(){}function Ip(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function xp(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),Fr){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o}function wf(e,n,s){return s===void 0||(ns&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ny(),Ct.lanes|=e,Hs|=e,s)}function Np(e,n,s,o){return Sn(s,n)?s:Da.current!==null?(e=wf(e,s,o),Sn(e,n)||(Ne=!0),e):(ns&42)===0||(ns&1073741824)!==0&&(Mt&261930)===0?(Ne=!0,e.memoizedState=s):(e=Ny(),Ct.lanes|=e,Hs|=e,n)}function Dp(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=F.T,T={};F.T=T,If(e,!1,n,s);try{var x=h(),z=F.S;if(z!==null&&z(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=g1(x,o);Jo(e,n,Q,xn(e))}else Jo(e,n,o,xn(e))}catch(K){Jo(e,n,{then:function(){},status:"rejected",reason:K},xn())}finally{rt.p=f,g!==null&&T.types!==null&&(g.types=T.types),F.T=g}}function T1(){}function Rf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Op(e).queue;Dp(e,h,n,dt,s===null?T1:function(){return Mp(e),s(o)})}function Op(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Mp(e){var n=Op(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},xn())}function Cf(){return Xe(gl)}function Vp(){return Te().memoizedState}function kp(){return Te().memoizedState}function b1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=xn();e=Ls(s);var o=Ps(n,e,s);o!==null&&(_n(o,n,s),Yo(o,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function S1(e,n,s){var o=xn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xu(e)?Lp(n,s):(s=Gh(e,n,s,o),s!==null&&(_n(s,e,o),Pp(s,n,o)))}function Up(e,n,s){var o=xn();Jo(e,n,s,o)}function Jo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xu(e))Lp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Sn(T,g))return xu(e,n,h,0),ee===null&&Iu(),!1}catch{}if(s=Gh(e,n,h,o),s!==null)return _n(s,e,o),Pp(s,n,o),!0}return!1}function If(e,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(e)){if(n)throw Error(a(479))}else n=Gh(e,s,o,2),n!==null&&_n(n,e,2)}function Xu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Lp(e,n){Oa=qu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Pp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}var Wo={readContext:Xe,use:Fu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Wo.useEffectEvent=de;var zp={readContext:Xe,use:Fu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:bp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Yu(4194308,4,Rp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Yu(4194308,4,e,n)},useInsertionEffect:function(e,n){Yu(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Fr){Dn(!0);try{e()}finally{Dn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Fr){Dn(!0);try{s(n)}finally{Dn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=S1.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,s=Up.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=cn();return wf(s,e,n)},useTransition:function(){var e=Tf(!1);return e=Dp.bind(null,Ct,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,h=cn();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Mt&127)!==0||ap(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,bp(lp.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},op.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=ee.identifierPrefix;if(Pt){var s=Mi,o=Oi;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Hu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=p1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:yp,useActionState:yp,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return cn().memoizedState=b1.bind(null,Ct)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:Xe,use:Fu,useCallback:Ip,useContext:Xe,useEffect:Sf,useImperativeHandle:Cp,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:xp,useReducer:Qu,useRef:Tp,useState:function(){return Qu(is)},useDebugValue:Af,useDeferredValue:function(e,n){var s=Te();return Np(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Qu(is)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Cf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var s=Te();return hp(s,Jt,e,n)},useMemoCache:_f,useCacheRefresh:kp};xf.useEffectEvent=Sp;var jp={readContext:Xe,use:Fu,useCallback:Ip,useContext:Xe,useEffect:Sf,useImperativeHandle:Cp,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:xp,useReducer:Ef,useRef:Tp,useState:function(){return Ef(is)},useDebugValue:Af,useDeferredValue:function(e,n){var s=Te();return Jt===null?wf(s,e,n):Np(s,Jt.memoizedState,e,n)},useTransition:function(){var e=Ef(is)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:rp,useId:Vp,useHostTransitionStatus:Cf,useFormState:Ep,useActionState:Ep,useOptimistic:function(e,n){var s=Te();return Jt!==null?hp(s,Jt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:kp};jp.useEffectEvent=Sp;function Nf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=xn(),h=Ls(o);h.payload=n,s!=null&&(h.callback=s),n=Ps(e,h,o),n!==null&&(_n(n,e,o),Yo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=xn(),h=Ls(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ps(e,h,o),n!==null&&(_n(n,e,o),Yo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=xn(),o=Ls(s);o.tag=2,n!=null&&(o.callback=n),n=Ps(e,o,s),n!==null&&(_n(n,e,s),Yo(n,e,s))}};function Bp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(s,o)||!zo(h,f):!0}function qp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Qr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Hp(e){Cu(e)}function Gp(e){console.error(e)}function Fp(e){Cu(e)}function $u(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Ls(s),s.tag=3,s.payload={element:null},s.callback=function(){$u(e,n)},s}function Yp(e){return e=Ls(e),e.tag=3,e}function Kp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qp(n,s,o),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function A1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ra(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return Bn===null?lc():s.alternate===null&&me===0&&(me=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return s.flags|=65536,o===Lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(e,o,h)),!1}throw Error(a(435,s.tag))}return id(e,o,h),lc(),!1}if(Pt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(a(422),{cause:o}),qo(Ln(e,s)))):(o!==$h&&(n=Error(a(423),{cause:o}),qo(Ln(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Ln(o,s),h=Of(e.stateNode,o,h),lf(e,h),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:o});if(f=Ln(f,s),ol===null?ol=[f]:ol.push(f),me!==4&&(me=2),n===null)return!0;o=Ln(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,o,e),lf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yp(h),Kp(h,e,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Ne=!1;function $e(e,n,s,o){n.child=e===null?Jg(n,null,s,o):Gr(n,e.child,s,o)}function Xp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return jr(n),o=mf(e,n,s,g,f,h),T=gf(),e!==null&&!Ne?(pf(e,n,h),ss(e,n,h)):(Pt&&T&&Kh(n),n.flags|=1,$e(e,n,o,h),n.child)}function $p(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Zp(e,n,f,o,h)):(e=Du(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:zo,s(g,o)&&e.ref===n.ref)return ss(e,n,h)}return n.flags|=1,e=Ji(f,o),e.ref=n.ref,e.return=n,n.child=e}function Zp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,ss(e,n,h)}return Vf(e,n,s,o,h)}function Jp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ku(n,f!==null?f.cachePool:null),f!==null?ep(n,f):cf(),np(n);else return o=n.lanes=536870912,Wp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(ku(n,f.cachePool),ep(n,f),js(),n.memoizedState=null):(e!==null&&ku(n,null),cf(),js());return $e(e,n,h,s),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(e,n,s,o,h){var f=sf();return f=f===null?null:{parent:Ie._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&ku(n,null),cf(),np(n),e!==null&&Ra(e,n,o,!0),n.childLanes=h,null}function Zu(e,n){return n=Wu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,s){return Gr(n,e.child,null,s),e=Zu(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function w1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Zu(n,o),n.lanes=536870912,tl(null,e);if(ff(n),(e=re)?(e=f_(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Lg(e),s.return=n,n.child=s,Ke=n,re=null)):e=null,e===null)throw Vs(n);return n.lanes=536870912,null}return Zu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||Ra(e,n,s,!1),h=(s&e.childLanes)!==0,Ne||h){if(o=ee,o!==null&&(g=To(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ur(e,g),_n(o,e,g),Mf;lc(),n=ty(e,n,s)}else e=f.treeContext,re=qn(g.nextSibling),Ke=n,Pt=!0,Ms=null,jn=!1,e!==null&&jg(n,e),n=Zu(n,o),n.flags|=4096;return n}return e=Ji(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return jr(n),s=mf(e,n,s,o,void 0,h),o=gf(),e!==null&&!Ne?(pf(e,n,h),ss(e,n,h)):(Pt&&o&&Kh(n),n.flags|=1,$e(e,n,s,h),n.child)}function ey(e,n,s,o,h,f){return jr(n),n.updateQueue=null,s=sp(n,o,s,h),ip(e),o=gf(),e!==null&&!Ne?(pf(e,n,f),ss(e,n,f)):(Pt&&o&&Kh(n),n.flags|=1,$e(e,n,s,f),n.child)}function ny(e,n,s,o,h){if(jr(n),n.stateNode===null){var f=ba,g=s.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):ba,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Nf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,x=Qr(s,T);f.props=x;var z=f.context,Q=s.contextType;g=ba,typeof Q=="object"&&Q!==null&&(g=Xe(Q));var K=s.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&qp(n,f,o,g),Us=!1;var j=n.memoizedState;f.state=j,Xo(n,o,f,h),Ko(),z=n.memoizedState,T||j!==z||Us?(typeof K=="function"&&(Nf(n,s,K,o),z=n.memoizedState),(x=Us||Bp(n,s,x,o,j,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,Q=Qr(s,g),f.props=Q,K=n.pendingProps,j=f.context,z=s.contextType,x=ba,typeof z=="object"&&z!==null&&(x=Xe(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||j!==x)&&qp(n,f,o,x),Us=!1,j=n.memoizedState,f.state=j,Xo(n,o,f,h),Ko();var H=n.memoizedState;g!==K||j!==H||Us||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof T=="function"&&(Nf(n,s,T,o),H=n.memoizedState),(Q=Us||Bp(n,s,Q,o,j,H,x)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Gr(n,e.child,null,h),n.child=Gr(n,null,s,h)):$e(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ss(e,n,h),e}function iy(e,n,s,o){return Pr(),n.flags|=256,$e(e,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Qg()}}function Lf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function sy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?zs(n):js(),(e=re)?(e=f_(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Os!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=Lg(e),s.return=n,n.child=s,Ke=n,re=null)):e=null,e===null)throw Vs(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(js(),h=n.mode,T=Wu({mode:"hidden",children:T},h),o=Lr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,g,s),n.memoizedState=kf,tl(null,o)):(zs(n),Pf(n,T))}var x=e.memoizedState;if(x!==null&&(T=x.dehydrated,T!==null)){if(f)n.flags&256?(zs(n),n.flags&=-257,n=zf(e,n,s)):n.memoizedState!==null?(js(),n.child=e.child,n.flags|=128,n=null):(js(),T=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),T=Lr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Gr(n,e.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,g,s),n.memoizedState=kf,n=tl(null,o));else if(zs(n),vd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(a(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=zf(e,n,s)}else if(Ne||Ra(e,n,s,!1),g=(s&e.childLanes)!==0,Ne||g){if(g=ee,g!==null&&(o=To(g,s),o!==0&&o!==x.retryLane))throw x.retryLane=o,Ur(e,o),_n(g,e,o),Mf;_d(T)||lc(),n=zf(e,n,s)}else _d(T)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,re=qn(T.nextSibling),Ke=n,Pt=!0,Ms=null,jn=!1,e!==null&&jg(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(js(),T=o.fallback,h=n.mode,x=e.child,z=x.sibling,o=Ji(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,z!==null?T=Ji(z,T):(T=Lr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,tl(null,o),o=n.child,T=e.child.memoizedState,T===null?T=Uf(s):(h=T.cachePool,h!==null?(x=Ie._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Qg(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=Lf(e,g,s),n.memoizedState=kf,tl(e.child,o)):(zs(n),s=e.child,e=s.sibling,s=Ji(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Pf(e,n){return n=Wu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Wu(e,n){return e=An(22,e,null,n),e.lanes=0,e}function zf(e,n,s){return Gr(n,e.child,null,s),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,s)}function jf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ay(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,J(Ee,g),$e(e,n,o,s),o=Pt?Bo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,s,n);else if(e.tag===19)ry(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Bu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ss(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Hs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ra(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ji(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ji(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function R1(e,n,s){switch(n.tag){case 3:xt(n,n.stateNode.containerInfo),ks(n,Ie,e.memoizedState.cache),Pr();break;case 27:case 5:ln(n);break;case 4:xt(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(zs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sy(e,n,s):(zs(n),e=ss(e,n,s),e!==null?e.sibling:null);zs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ra(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ay(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,Jp(e,n,s,n.pendingProps);case 24:ks(n,Ie,e.memoizedState.cache)}return ss(e,n,s)}function oy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return Ne=!1,R1(e,n,s);Ne=(e.flags&131072)!==0}else Ne=!1,Pt&&(n.flags&1048576)!==0&&zg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=qr(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=Qr(e,o),n.tag=1,n=ny(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ht){n.tag=11,n=Xp(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=$p(null,n,e,o,s);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Qr(o,n.pendingProps),ny(e,n,o,h,s);case 3:t:{if(xt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Xo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,ks(n,Ie,o),o!==f.cache&&tf(n,[Ie],s,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,o,s);break t}else if(o!==h){h=Ln(Error(a(424)),n),qo(h),n=iy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,re=qn(e.firstChild),Ke=n,Pt=!0,Ms=null,jn=!0,s=Jg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Pr(),o===h){n=ss(e,n,s);break t}$e(e,n,o,s)}n=n.child}return n;case 26:return Ju(e,n),e===null?(s=__(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,o=gc($.current).createElement(s),o[we]=n,o[Be]=e,Ze(o,s,e),Re(o),n.stateNode=o):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ln(n),e===null&&Pt&&(o=n.stateNode=g_(n.type,n.pendingProps,$.current),Ke=n,jn=!0,h=re,Ks(n.type)?(Ed=h,re=qn(o.firstChild)):re=h),$e(e,n,n.pendingProps.children,s),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=re)&&(o=nb(o,n.type,n.pendingProps,jn),o!==null?(n.stateNode=o,Ke=n,re=qn(o.firstChild),jn=!1,h=!0):h=!1),h||Vs(n)),ln(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,y1,null,null,s),gl._currentValue=h),Ju(e,n),$e(e,n,o,s),n.child;case 6:return e===null&&Pt&&((e=s=re)&&(s=ib(s,n.pendingProps,jn),s!==null?(n.stateNode=s,Ke=n,re=null,e=!0):e=!1),e||Vs(n)),null;case 13:return sy(e,n,s);case 4:return xt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Gr(n,null,o,s):$e(e,n,o,s),n.child;case 11:return Xp(e,n,n.type,n.pendingProps,s);case 7:return $e(e,n,n.pendingProps,s),n.child;case 8:return $e(e,n,n.pendingProps.children,s),n.child;case 12:return $e(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,ks(n,n.type,o.value),$e(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,jr(n),h=Xe(h),o=o(h),n.flags|=1,$e(e,n,o,s),n.child;case 14:return $p(e,n,n.type,n.pendingProps,s);case 15:return Zp(e,n,n.type,n.pendingProps,s);case 19:return ay(e,n,s);case 31:return w1(e,n,s);case 22:return Jp(e,n,s,n.pendingProps);case 24:return jr(n),o=Xe(Ie),e===null?(h=sf(),h===null&&(h=ee,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),ks(n,Ie,h)):((e.lanes&s)!==0&&(of(e,n),Xo(n,null,null,s),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ks(n,Ie,o)):(o=f.cache,ks(n,Ie,o),o!==h.cache&&tf(n,[Ie],s,!0))),$e(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rs(e){e.flags|=4}function qf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw Hr=Lu,rf}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!S_(n))if(Vy())e.flags|=8192;else throw Hr=Lu,rf}function tc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?au():536870912,e.lanes|=n,Pa|=n)}function el(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function C1(e,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),es(Ie),zt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wa(n)?rs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(rs(n),f!==null?(ae(n),ly(n,f)):(ae(n),qf(n,h,null,o,s))):f?f!==e.memoizedState?(rs(n),ae(n),ly(n,f)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&rs(n),ae(n),qf(n,h,e,o,s)),null;case 27:if(vt(n),s=$.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&rs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}e=nt.current,wa(n)?Bg(n):(e=g_(h,o,s),n.stateNode=e,rs(n))}return ae(n),null;case 5:if(vt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&rs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(f=nt.current,wa(n))Bg(n);else{var g=gc($.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[we]=n,f[Be]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&rs(n)}}return ae(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&rs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=$.current,wa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[we]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||s_(e.nodeValue,s)),e||Vs(n,!0)}else e=gc(e).createTextNode(o),e[we]=n,n.stateNode=e}return ae(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=wa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[we]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ae(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[we]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),tc(n,n.updateQueue),ae(n),null);case 4:return zt(),e===null&&cd(n.stateNode.containerInfo),ae(n),null;case 10:return es(n.type),ae(n),null;case 19:if(B(Ee),o=n.memoizedState,o===null)return ae(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,tc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ug(s,e),s=s.sibling;return J(Ee,Ee.current&1|2),Pt&&Wi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&je()>rc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Bu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,tc(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return ae(n),null}else 2*je()-o.renderingStartTime>rc&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=je(),e.sibling=null,s=Ee.current,J(Ee,h?s&1|2:s&1),Pt&&Wi(n,o.treeForkCount),e):(ae(n),null);case 22:case 23:return Rn(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),s=n.updateQueue,s!==null&&tc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&B(Br),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),es(Ie),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function I1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return es(Ie),zt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return vt(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Ee),null;case 4:return zt(),null;case 10:return es(n.type),null;case 22:case 23:return Rn(n),hf(),e!==null&&B(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return es(Ie),null;case 25:return null;default:return null}}function uy(e,n){switch(Xh(n),n.tag){case 3:es(Ie),zt();break;case 26:case 27:case 5:vt(n);break;case 4:zt();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:B(Ee);break;case 10:es(n.type);break;case 22:case 23:Rn(n),hf(),e!==null&&B(Br);break;case 24:es(Ie)}}function nl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(T){Xt(n,n.return,T)}}function Bs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var x=s,z=T;try{z()}catch(Q){Xt(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){Xt(n,n.return,Q)}}function cy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{tp(n,s)}catch(o){Xt(e,e.return,o)}}}function hy(e,n,s){s.props=Qr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function il(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function Vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function fy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Hf(e,n,s){try{var o=e.stateNode;$1(o,e.type,s,n),o[Be]=n}catch(h){Xt(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ks(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Ks(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function ec(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ks(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ec(e,n,s),e=e.sibling;e!==null;)ec(e,n,s),e=e.sibling}function my(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,o,s),n[we]=e,n[Be]=s}catch(f){Xt(e,e.return,f)}}var as=!1,De=!1,Qf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,He=null;function x1(e,n){if(e=e.containerInfo,dd=bc,e=Cg(e),Ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,x=-1,z=0,Q=0,K=e,j=null;e:for(;;){for(var H;K!==s||h!==0&&K.nodeType!==3||(T=g+h),K!==f||o!==0&&K.nodeType!==3||(x=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(H=K.firstChild)!==null;)j=K,K=H;for(;;){if(K===e)break e;if(j===s&&++z===h&&(T=g),j===f&&++Q===o&&(x=g),(H=K.nextSibling)!==null)break;K=j,j=K.parentNode}K=H}s=T===-1||x===-1?null:{start:T,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},bc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ut=Qr(s.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Xt(s,s.return,_t)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function py(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ls(e,s),o&4&&nl(5,s);break;case 1:if(ls(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(s,s.return,g)}else{var h=Qr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(s,s.return,g)}}o&64&&cy(s),o&512&&il(s,s.return);break;case 3:if(ls(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{tp(e,n)}catch(g){Xt(s,s.return,g)}}break;case 27:n===null&&o&4&&my(s);case 26:case 5:ls(e,s),n===null&&o&4&&fy(s),o&512&&il(s,s.return);break;case 12:ls(e,s);break;case 31:ls(e,s),o&4&&vy(e,s);break;case 13:ls(e,s),o&4&&Ey(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=P1.bind(null,s),sb(e,s))));break;case 22:if(o=s.memoizedState!==null||as,!o){n=n!==null&&n.memoizedState!==null||De,h=as;var f=De;as=o,(De=n)&&!f?us(e,s,(s.subtreeFlags&8772)!==0):ls(e,s),as=h,De=f}break;case 30:break;default:ls(e,s)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&la(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,mn=!1;function os(e,n,s){for(s=s.child;s!==null;)_y(e,n,s),s=s.sibling}function _y(e,n,s){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount($n,s)}catch{}switch(s.tag){case 26:De||Vi(s,n),os(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:De||Vi(s,n);var o=ue,h=mn;Ks(s.type)&&(ue=s.stateNode,mn=!1),os(e,n,s),fl(s.stateNode),ue=o,mn=h;break;case 5:De||Vi(s,n);case 6:if(o=ue,h=mn,ue=null,os(e,n,s),ue=o,mn=h,ue!==null)if(mn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ue!==null&&(mn?(e=ue,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qa(e)):c_(ue,s.stateNode));break;case 4:o=ue,h=mn,ue=s.stateNode.containerInfo,mn=!0,os(e,n,s),ue=o,mn=h;break;case 0:case 11:case 14:case 15:Bs(2,s,n),De||Bs(4,s,n),os(e,n,s);break;case 1:De||(Vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&hy(s,n,o)),os(e,n,s);break;case 21:os(e,n,s);break;case 22:De=(o=De)||s.memoizedState!==null,os(e,n,s),De=o;break;default:os(e,n,s)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(s){Xt(n,n.return,s)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(s){Xt(n,n.return,s)}}function N1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gy),n;default:throw Error(a(435,e.tag))}}function nc(e,n){var s=N1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=z1.bind(null,e,o);o.then(h,h)}})}function gn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Ks(T.type)){ue=T.stateNode,mn=!1;break t}break;case 5:ue=T.stateNode,mn=!1;break t;case 3:case 4:ue=T.stateNode.containerInfo,mn=!0;break t}T=T.return}if(ue===null)throw Error(a(160));_y(f,g,h),ue=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var ai=null;function Ty(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),o&4&&(Bs(3,e,e.return),nl(3,e),Bs(5,e,e.return));break;case 1:gn(n,e),pn(e),o&512&&(De||s===null||Vi(s,s.return)),o&64&&as&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=ai;if(gn(n,e),pn(e),o&512&&(De||s===null||Vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ei]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,o,s),f[we]=e,Re(f),o=f;break t;case"link":var g=T_("link","href",h).get(o+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,s),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Ze(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[we]=e,Re(f),o=f}e.stateNode=o}else b_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?b_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:gn(n,e),pn(e),o&512&&(De||s===null||Vi(s,s.return)),s!==null&&o&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,e),pn(e),o&512&&(De||s===null||Vi(s,s.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(ut){Xt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(gn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ut){Xt(e,e.return,ut)}}break;case 3:if(_c=null,h=ai,ai=pc(n.containerInfo),gn(n,e),ai=h,pn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(ut){Xt(e,e.return,ut)}Qf&&(Qf=!1,by(e));break;case 4:o=ai,ai=pc(e.stateNode.containerInfo),gn(n,e),pn(e),ai=o;break;case 12:gn(n,e),pn(e);break;case 31:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sc=je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 22:h=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,z=as,Q=De;if(as=z||h,De=Q||x,gn(n,e),De=Q,as=z,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||as||De||Yr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=x.stateNode;var K=x.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Xt(x,x.return,ut)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ut){Xt(x,x.return,ut)}}}else if(n.tag===18){if(s===null){x=n;try{var H=x.stateNode;h?h_(H,!0):h_(x.stateNode,!1)}catch(ut){Xt(x,x.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,nc(e,s))));break;case 19:gn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,nc(e,o)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);ec(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var T=Gf(e);ec(e,T,g);break;case 3:case 4:var x=s.stateNode.containerInfo,z=Gf(e);Ff(e,z,x);break;default:throw Error(a(161))}}catch(Q){Xt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function by(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ls(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)py(e,n.alternate,n),n=n.sibling}function Yr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Yr(n);break;case 1:Vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),Yr(n);break;case 27:fl(n.stateNode);case 26:case 5:Vi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}e=e.sibling}}function us(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:us(h,f,s),nl(4,f);break;case 1:if(us(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Wg(x[h],T)}catch(z){Xt(o,o.return,z)}}s&&g&64&&cy(f),il(f,f.return);break;case 27:my(f);case 26:case 5:us(h,f,s),s&&o===null&&g&4&&fy(f),il(f,f.return);break;case 12:us(h,f,s);break;case 31:us(h,f,s),s&&g&4&&vy(h,f);break;case 13:us(h,f,s),s&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&us(h,f,s),il(f,f.return);break;case 30:break;default:us(h,f,s)}n=n.sibling}}function Yf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ho(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function oi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sy(e,n,s,o),n=n.sibling}function Sy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:oi(e,n,s,o),h&2048&&nl(9,n);break;case 1:oi(e,n,s,o);break;case 3:oi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){oi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Xt(n,n.return,x)}}else oi(e,n,s,o);break;case 31:oi(e,n,s,o);break;case 13:oi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?oi(e,n,s,o):sl(e,n):f._visibility&2?oi(e,n,s,o):(f._visibility|=2,ka(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:oi(e,n,s,o),h&2048&&Kf(n.alternate,n);break;default:oi(e,n,s,o)}}function ka(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,x=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,T,x,h),nl(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?ka(f,g,T,x,h):sl(f,g):(Q._visibility|=2,ka(f,g,T,x,h)),h&&z&2048&&Yf(g.alternate,g);break;case 24:ka(f,g,T,x,h),h&&z&2048&&Kf(g.alternate,g);break;default:ka(f,g,T,x,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:sl(s,o),h&2048&&Yf(o.alternate,o);break;case 24:sl(s,o),h&2048&&Kf(o.alternate,o);break;default:sl(s,o)}n=n.sibling}}var rl=8192;function Ua(e,n,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Ay(e,n,s),e=e.sibling}function Ay(e,n,s){switch(e.tag){case 26:Ua(e,n,s),e.flags&rl&&e.memoizedState!==null&&pb(s,ai,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,s);break;case 3:case 4:var o=ai;ai=pc(e.stateNode.containerInfo),Ua(e,n,s),ai=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Ua(e,n,s),rl=o):Ua(e,n,s));break;default:Ua(e,n,s)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,Cy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ic(e)):al(e);break;default:al(e)}}function ic(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];He=o,Cy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),ic(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ic(n));break;default:ic(n)}e=e.sibling}}function Cy(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,He=o;else t:for(s=e;He!==null;){o=He;var h=o.sibling,f=o.return;if(yy(o),o===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var D1={getCacheForType:function(e){var n=Xe(Ie),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xe(Ie).controller.signal}},O1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Nt=null,Mt=0,Kt=0,Cn=null,qs=!1,La=!1,Xf=!1,cs=0,me=0,Hs=0,Kr=0,$f=0,In=0,Pa=0,ol=null,yn=null,Zf=!1,sc=0,Iy=0,rc=1/0,ac=null,Gs=null,Ue=0,Fs=null,za=null,hs=0,Jf=0,Wf=null,xy=null,ll=0,td=null;function xn(){return(Ft&2)!==0&&Mt!==0?Mt&-Mt:F.T!==null?ad():ou()}function Ny(){if(In===0)if((Mt&536870912)===0||Pt){var e=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),In=e}else In=536870912;return e=wn.current,e!==null&&(e.flags|=32),In}function _n(e,n,s){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ja(e,0),Qs(e,Mt,In,!1)),br(e,s),((Ft&2)===0||e!==ee)&&(e===ee&&((Ft&2)===0&&(Kr|=s),me===4&&Qs(e,Mt,In,!1)),ki(e))}function Dy(e,n,s){if((Ft&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Zn(e,n),h=o?k1(e,n):nd(e,n,!0),f=o;do{if(h===0){La&&!o&&Qs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!M1(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=ol;var x=T.current.memoizedState.isDehydrated;if(x&&(ja(T,g).flags|=256),g=nd(T,g,!1),g!==2){if(Xf&&!x){T.errorRecoveryDisabledLanes|=f,Kr|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){ja(e,0),Qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Qs(o,n,In,!qs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-je(),10<h)){if(Qs(o,n,In,!qs),yi(o,0,!0)!==0)break t;hs=n,o.timeoutHandle=l_(Oy.bind(null,o,s,yn,ac,Zf,n,In,Kr,Pa,qs,f,"Throttled",-0,0),h);break t}Oy(o,s,yn,ac,Zf,n,In,Kr,Pa,qs,f,null,-0,0)}}break}while(!0);ki(e)}function Oy(e,n,s,o,h,f,g,T,x,z,Q,K,j,H){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Ay(n,f,K);var ut=(f&62914560)===f?sc-je():(f&4194048)===f?Iy-je():0;if(ut=yb(K,ut),ut!==null){hs=f,e.cancelPendingCommit=ut(jy.bind(null,e,n,f,s,o,h,g,T,x,Q,K,null,j,H)),Qs(e,f,g,!z);return}}jy(e,n,f,s,o,h,g,T,x)}function M1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(e,n,s,o){n&=~$f,n&=~Kr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&Sr(e,s,n)}function oc(){return(Ft&6)===0?(ul(0),!1):!0}function ed(){if(Nt!==null){if(Kt===0)var e=Nt.return;else e=Nt,ts=zr=null,yf(e),Na=null,Fo=0,e=Nt;for(;e!==null;)uy(e.alternate,e),e=e.return;Nt=null}}function ja(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,W1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),hs=0,ed(),ee=e,Nt=s=Ji(e.current,null),Mt=n,Kt=0,Cn=null,qs=!1,La=Zn(e,n),Xf=!1,Pa=In=$f=Kr=Hs=me=0,yn=ol=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return cs=n,Iu(),s}function My(e,n){Ct=null,F.H=Wo,n===xa||n===Uu?(n=Xg(),Kt=3):n===rf?(n=Xg(),Kt=4):Kt=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Nt===null&&(me=1,$u(e,Ln(n,e.current)))}function Vy(){var e=wn.current;return e===null?!0:(Mt&4194048)===Mt?Bn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Bn:!1}function ky(){var e=F.H;return F.H=Wo,e===null?Wo:e}function Uy(){var e=F.A;return F.A=D1,e}function lc(){me=4,qs||(Mt&4194048)!==Mt&&wn.current!==null||(La=!0),(Hs&134217727)===0&&(Kr&134217727)===0||ee===null||Qs(ee,Mt,In,!1)}function nd(e,n,s){var o=Ft;Ft|=2;var h=ky(),f=Uy();(ee!==e||Mt!==n)&&(ac=null,ja(e,n)),n=!1;var g=me;t:do try{if(Kt!==0&&Nt!==null){var T=Nt,x=Cn;switch(Kt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Kt;if(Kt=0,Cn=null,Ba(e,T,x,z),s&&La){g=0;break t}break;default:z=Kt,Kt=0,Cn=null,Ba(e,T,x,z)}}V1(),g=me;break}catch(Q){My(e,Q)}while(!0);return n&&e.shellSuspendCounter++,ts=zr=null,Ft=o,F.H=h,F.A=f,Nt===null&&(ee=null,Mt=0,Iu()),g}function V1(){for(;Nt!==null;)Ly(Nt)}function k1(e,n){var s=Ft;Ft|=2;var o=ky(),h=Uy();ee!==e||Mt!==n?(ac=null,rc=je()+500,ja(e,n)):La=Zn(e,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var f=Cn;e:switch(Kt){case 1:Kt=0,Cn=null,Ba(e,n,f,1);break;case 2:case 9:if(Yg(f)){Kt=0,Cn=null,Py(n);break}n=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),ki(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Yg(f)?(Kt=0,Cn=null,Py(n)):(Kt=0,Cn=null,Ba(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var T=Nt;if(g?S_(g):T.stateNode.complete){Kt=0,Cn=null;var x=T.sibling;if(x!==null)Nt=x;else{var z=T.return;z!==null?(Nt=z,uc(z)):Nt=null}break e}}Kt=0,Cn=null,Ba(e,n,f,5);break;case 6:Kt=0,Cn=null,Ba(e,n,f,6);break;case 8:ed(),me=6;break t;default:throw Error(a(462))}}U1();break}catch(Q){My(e,Q)}while(!0);return ts=zr=null,F.H=o,F.A=h,Ft=s,Nt!==null?0:(ee=null,Mt=0,Iu(),me)}function U1(){for(;Nt!==null&&!se();)Ly(Nt)}function Ly(e){var n=oy(e.alternate,e,cs);e.memoizedProps=e.pendingProps,n===null?uc(e):Nt=n}function Py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ey(s,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ey(s,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:yf(n);default:uy(s,n),n=Nt=Ug(n,cs),n=oy(s,n,cs)}e.memoizedProps=e.pendingProps,n===null?uc(e):Nt=n}function Ba(e,n,s,o){ts=zr=null,yf(n),Na=null,Fo=0;var h=n.return;try{if(A1(e,h,n,s,Mt)){me=1,$u(e,Ln(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;me=1,$u(e,Ln(s,e.current)),Nt=null;return}n.flags&32768?(Pt||o===1?e=!0:La||(Mt&536870912)!==0?e=!1:(qs=e=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),zy(n,e)):uc(n)}function uc(e){var n=e;do{if((n.flags&32768)!==0){zy(n,qs);return}e=n.return;var s=C1(n.alternate,n,cs);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);me===0&&(me=5)}function zy(e,n){do{var s=I1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);me=6,Nt=null}function jy(e,n,s,o,h,f,g,T,x){e.cancelPendingCommit=null;do cc();while(Ue!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,s,f,g,T,x),e===ee&&(Nt=ee=null,Mt=0),za=n,Fs=e,hs=s,Jf=f,Wf=h,xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,j1(mi,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=rt.p,rt.p=2,g=Ft,Ft|=4;try{x1(e,n,s)}finally{Ft=g,rt.p=h,F.T=o}}Ue=1,By(),qy(),Hy()}}function By(){if(Ue===1){Ue=0;var e=Fs,n=za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{Ty(n,e);var f=md,g=Cg(e.containerInfo),T=f.focusedElem,x=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Rg(T.ownerDocument.documentElement,T)){if(x!==null&&Ph(T)){var z=x.start,Q=x.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var K=T.ownerDocument||document,j=K&&K.defaultView||window;if(j.getSelection){var H=j.getSelection(),ut=T.textContent.length,_t=Math.min(x.start,ut),te=x.end===void 0?_t:Math.min(x.end,ut);!H.extend&&_t>te&&(g=te,te=_t,_t=g);var k=wg(T,_t),D=wg(T,te);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=K.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),_t>te?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(K=[],H=T;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Y=K[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!dd,md=dd=null}finally{Ft=h,rt.p=o,F.T=s}}e.current=n,Ue=2}}function qy(){if(Ue===2){Ue=0;var e=Fs,n=za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{py(e,n.alternate,n)}finally{Ft=h,rt.p=o,F.T=s}}Ue=3}}function Hy(){if(Ue===4||Ue===3){Ue=0,en();var e=Fs,n=za,s=hs,o=xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,za=Fs=null,Gy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Gs=null),Ki(s),n=n.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot($n,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=rt.p,rt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{F.T=n,rt.p=h}}(hs&3)!==0&&cc(),ki(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?ll++:(ll=0,td=e):ll=0,ul(0)}}function Gy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function cc(){return By(),qy(),Hy(),Fy()}function Fy(){if(Ue!==5)return!1;var e=Fs,n=Jf;Jf=0;var s=Ki(hs),o=F.T,h=rt.p;try{rt.p=32>s?32:s,F.T=null,s=Wf,Wf=null;var f=Fs,g=hs;if(Ue=0,za=Fs=null,hs=0,(Ft&6)!==0)throw Error(a(331));var T=Ft;if(Ft|=4,Ry(f.current),Sy(f,f.current,g,s),Ft=T,ul(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot($n,f)}catch{}return!0}finally{rt.p=h,F.T=o,Gy(e,n)}}function Qy(e,n,s){n=Ln(s,n),n=Of(e.stateNode,n,2),e=Ps(e,n,2),e!==null&&(br(e,2),ki(e))}function Xt(e,n,s){if(e.tag===3)Qy(e,e,s);else for(;n!==null;){if(n.tag===3){Qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Gs===null||!Gs.has(o))){e=Ln(s,e),s=Yp(2),o=Ps(n,s,2),o!==null&&(Kp(s,o,n,e),br(o,2),ki(o));break}}n=n.return}}function id(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new O1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=L1.bind(null,e,n,s),n.then(e,e))}function L1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Mt&s)===s&&(me===4||me===3&&(Mt&62914560)===Mt&&300>je()-sc?(Ft&2)===0&&ja(e,0):$f|=s,Pa===Mt&&(Pa=0)),ki(e)}function Yy(e,n){n===0&&(n=au()),e=Ur(e,n),e!==null&&(br(e,n),ki(e))}function P1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(e,s)}function z1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(e,s)}function j1(e,n){return fe(e,n)}var hc=null,qa=null,sd=!1,fc=!1,rd=!1,Ys=0;function ki(e){e!==qa&&e.next===null&&(qa===null?hc=qa=e:qa=qa.next=e),fc=!0,sd||(sd=!0,q1())}function ul(e,n){if(!rd&&fc){rd=!0;do for(var s=!1,o=hc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Zy(o,f))}else f=Mt,f=yi(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(s=!0,Zy(o,f));o=o.next}while(s);rd=!1}}function B1(){Ky()}function Ky(){fc=sd=!1;var e=0;Ys!==0&&J1()&&(e=Ys);for(var n=je(),s=null,o=hc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,s===null?hc=h:s.next=h,h===null&&(qa=s)):(s=o,(e!==0||(f&3)!==0)&&(fc=!0)),o=h}Ue!==0&&Ue!==5||ul(e),Ys!==0&&(Ys=0)}function Xy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),T=1<<g,x=h[g];x===-1?((T&s)===0||(T&o)!==0)&&(h[g]=Mh(T,n)):x<=n&&(e.expiredLanes|=T),f&=~T}if(n=ee,s=Mt,s=yi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&di(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&di(o),Ki(s)){case 2:case 8:s=Xn;break;case 32:s=mi;break;case 268435456:s=eu;break;default:s=mi}return o=$y.bind(null,e),s=fe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&di(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(cc()&&e.callbackNode!==s)return null;var o=Mt;return o=yi(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Xy(e,je()),e.callbackNode!=null&&e.callbackNode===s?$y.bind(null,e):null)}function Zy(e,n){if(cc())return null;Dy(e,n,!0)}function q1(){tb(function(){(Ft&6)!==0?fe(Er,B1):Ky()})}function ad(){if(Ys===0){var e=Ca;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Ys=e}return Ys}function Jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function Wy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function H1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Jy((h[Be]||null).action),g=o.submitter;g&&(n=(n=g[Be]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ii("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ys!==0){var x=g?Wy(h,g):new FormData(h);Rf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(T.preventDefault(),x=g?Wy(h,g):new FormData(h),Rf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],G1=ld.toLowerCase(),F1=ld[0].toUpperCase()+ld.slice(1);ri(G1,"on"+F1)}ri(Ng,"onAnimationEnd"),ri(Dg,"onAnimationIteration"),ri(Og,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(o1,"onTransitionRun"),ri(l1,"onTransitionStart"),ri(u1,"onTransitionCancel"),ri(Mg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function t_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],x=T.instance,z=T.currentTarget;if(T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(T=o[g],x=T.instance,z=T.currentTarget,T=T.listener,x!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=x}}}}function Dt(e,n){var s=n[oa];s===void 0&&(s=n[oa]=new Set);var o=e+"__bubble";s.has(o)||(e_(n,e,2,!1),s.add(o))}function ud(e,n,s){var o=0;n&&(o|=4),e_(s,e,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[dc]){e[dc]=!0,bo.forEach(function(s){s!=="selectionchange"&&(Q1.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[dc]||(n[dc]=!0,ud("selectionchange",!1,n))}}function e_(e,n,s,o){switch(N_(n)){case 2:var h=Eb;break;case 8:h=Tb;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=Ti(T),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue t}T=T.parentNode}}o=o.return}Is(function(){var z=f,Q=Mn(s),K=[];t:{var j=Vg.get(e);if(j!==void 0){var H=Ii,ut=e;switch(e){case"keypress":if(Nr(s)===0)break t;case"keydown":case"keyup":H=Au;break;case"focusin":ut="focus",H=Or;break;case"focusout":ut="blur",H=Or;break;case"beforeblur":case"afterblur":H=Or;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Ng:case Dg:case Og:H=yu;break;case Mg:H=b;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Zi;break;case"toggle":case"beforetoggle":H=Rt}var _t=(n&4)!==0,te=!_t&&(e==="scroll"||e==="scrollend"),k=_t?j!==null?j+"Capture":null:j;_t=[];for(var D=z,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=ei(D,k),Y!=null&&_t.push(hl(D,Y,P))),te)break;D=D.return}0<_t.length&&(j=new H(j,ut,null,s,Q),K.push({event:j,listeners:_t}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",j&&s!==Do&&(ut=s.relatedTarget||s.fromElement)&&(Ti(ut)||ut[vi]))break t;if((H||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,H?(ut=s.relatedTarget||s.toElement,H=z,ut=ut?Ti(ut):null,ut!==null&&(te=c(ut),_t=ut.tag,ut!==te||_t!==5&&_t!==27&&_t!==6)&&(ut=null)):(H=null,ut=z),H!==ut)){if(_t=ko,Y="onMouseLeave",k="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Zi,Y="onPointerLeave",k="onPointerEnter",D="pointer"),te=H==null?j:Tn(H),P=ut==null?j:Tn(ut),j=new _t(Y,D+"leave",H,s,Q),j.target=te,j.relatedTarget=P,Y=null,Ti(Q)===z&&(_t=new _t(k,D+"enter",ut,s,Q),_t.target=P,_t.relatedTarget=te,Y=_t),te=Y,H&&ut)e:{for(_t=Y1,k=H,D=ut,P=0,Y=k;Y;Y=_t(Y))P++;Y=0;for(var gt=D;gt;gt=_t(gt))Y++;for(;0<P-Y;)k=_t(k),P--;for(;0<Y-P;)D=_t(D),Y--;for(;P--;){if(k===D||D!==null&&k===D.alternate){_t=k;break e}k=_t(k),D=_t(D)}_t=null}else _t=null;H!==null&&n_(K,j,H,_t,!1),ut!==null&&te!==null&&n_(K,te,ut,_t,!0)}}t:{if(j=z?Tn(z):window,H=j.nodeName&&j.nodeName.toLowerCase(),H==="select"||H==="input"&&j.type==="file")var Bt=vg;else if(yg(j))if(Eg)Bt=s1;else{Bt=n1;var ht=e1}else H=j.nodeName,!H||H.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ha(z.elementType)&&(Bt=vg):Bt=i1;if(Bt&&(Bt=Bt(e,z))){_g(K,Bt,s,Q);break t}ht&&ht(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Io(j,"number",j.value)}switch(ht=z?Tn(z):window,e){case"focusin":(yg(ht)||ht.contentEditable==="true")&&(va=ht,zh=z,jo=null);break;case"focusout":jo=zh=va=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Ig(K,s,Q);break;case"selectionchange":if(a1)break;case"keydown":case"keyup":Ig(K,s,Q)}var It;if(Gt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else _a?Mr(e,s)&&(Vt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Vt="onCompositionStart");Vt&&(Di&&s.locale!=="ko"&&(_a||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&_a&&(It=Mo()):(Ci=Q,Oo="value"in Ci?Ci.value:Ci.textContent,_a=!0)),ht=mc(z,Vt),0<ht.length&&(Vt=new Ni(Vt,e,null,s,Q),K.push({event:Vt,listeners:ht}),It?Vt.data=It:(It=ya(s),It!==null&&(Vt.data=It)))),(It=kn?ZT(e,s):JT(e,s))&&(Vt=mc(z,"onBeforeInput"),0<Vt.length&&(ht=new Ni("onBeforeInput","beforeinput",null,s,Q),K.push({event:ht,listeners:Vt}),ht.data=It)),H1(K,e,z,s,Q)}t_(K,n)})}function hl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function mc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ei(e,s),h!=null&&o.unshift(hl(e,h,f)),h=ei(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Y1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var T=s,x=T.alternate,z=T.stateNode;if(T=T.tag,x!==null&&x===o)break;T!==5&&T!==26&&T!==27||z===null||(x=z,h?(z=ei(s,f),z!=null&&g.unshift(hl(s,z,x))):h||(z=ei(s,f),z!=null&&g.push(hl(s,z,x)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var K1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(K1,`
`).replace(X1,"")}function s_(e,n){return n=i_(n),i_(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,s,o);break;case"style":No(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ti);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mu.get(s)||s,ua(e,s,o))}}function fd(e,n,s,o,h,f){switch(s){case"style":No(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ua(e,s,o)}}}function Ze(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,g,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":Dt("invalid",e);var T=f=g=h=null,x=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Wt(e,n,o,Q,s,null)}}hu(e,f,T,x,z,g,h,!1);return;case"select":Dt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Wt(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!o,n!=null?As(e,!!o,n,!1):s!=null&&As(e,!!o,s,!0);return;case"textarea":Dt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Wt(e,n,g,T,s,null)}ws(e,o,h,f);return;case"option":for(x in s)s.hasOwnProperty(x)&&(o=s[x],o!=null)&&(x==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,x,o,s,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Dt(cl[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,z,o,s,null)}return;default:if(ha(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&fd(e,n,Q,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Wt(e,n,T,o,s,null))}function $1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,x=null,z=null,Q=null;for(H in s){var K=s[H];if(s.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=K;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,K)}}for(var j in o){var H=o[j];if(K=s[j],o.hasOwnProperty(j)&&(H!=null||K!=null))switch(j){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&Wt(e,n,j,H,o,K)}}ca(e,g,T,x,z,Q,f,h);return;case"select":H=g=T=j=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=s[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==x&&Wt(e,n,h,f,o,x)}n=T,s=g,o=H,j!=null?As(e,!!s,j,!1):!!o!=!!s&&(n!=null?As(e,!!s,n,!0):As(e,!!s,s?[]:"",!1));return;case"textarea":H=j=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Wt(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,g,h,o,f)}fu(e,j,H);return;case"option":for(var ut in s)j=s[ut],s.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:Wt(e,n,ut,null,o,j));for(x in o)j=o[x],H=s[x],o.hasOwnProperty(x)&&j!==H&&(j!=null||H!=null)&&(x==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Wt(e,n,x,j,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in s)j=s[_t],s.hasOwnProperty(_t)&&j!=null&&!o.hasOwnProperty(_t)&&Wt(e,n,_t,null,o,j);for(z in o)if(j=o[z],H=s[z],o.hasOwnProperty(z)&&j!==H&&(j!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Wt(e,n,z,j,o,H)}return;default:if(ha(n)){for(var te in s)j=s[te],s.hasOwnProperty(te)&&j!==void 0&&!o.hasOwnProperty(te)&&fd(e,n,te,void 0,o,j);for(Q in o)j=o[Q],H=s[Q],!o.hasOwnProperty(Q)||j===H||j===void 0&&H===void 0||fd(e,n,Q,j,o,H);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Wt(e,n,k,null,o,j);for(K in o)j=o[K],H=s[K],!o.hasOwnProperty(K)||j===H||j==null&&H==null||Wt(e,n,K,j,o,H)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Z1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&r_(g)){for(g=0,T=h.responseEnd,o+=1;o<s.length;o++){var x=s[o],z=x.startTime;if(z>T)break;var Q=x.transferSize,K=x.initiatorType;Q&&r_(K)&&(x=x.responseEnd,g+=Q*(x<T?1:(T-z)/(x-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function gd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function J1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,W1=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(eb)}:l_;function eb(e){setTimeout(function(){throw e})}function Ks(e){return e==="head"}function c_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ei]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&fl(e.ownerDocument.body);s=h}while(s);Qa(n)}function h_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),la(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function nb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function ib(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=qn(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function sb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return qn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function g_(e,n,s){switch(n=gc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);la(e)}var Hn=new Map,p_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fs=rt.d;rt.d={f:rb,r:ab,D:ob,C:lb,L:ub,m:cb,X:fb,S:hb,M:db};function rb(){var e=fs.f(),n=oc();return e||n}function ab(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?Mp(n):fs.r(e)}var Ha=typeof document>"u"?null:document;function y_(e,n,s){var o=Ha;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),p_.has(h)||(p_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ze(n,"link",e),Re(n),o.head.appendChild(n)))}}function ob(e){fs.D(e),y_("dns-prefetch",e,null)}function lb(e,n){fs.C(e,n),y_("preconnect",e,n)}function ub(e,n,s){fs.L(e,n,s);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Ga(e);break;case"script":f=Fa(e)}Hn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Hn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Ze(n,"link",e),Re(n),o.head.appendChild(n)))}}function cb(e,n){fs.m(e,n);var s=Ha;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fa(e)}if(!Hn.has(f)&&(e=A({rel:"modulepreload",href:e},n),Hn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ml(f)))return}o=s.createElement("link"),Ze(o,"link",e),Re(o),s.head.appendChild(o)}}}function hb(e,n,s){fs.S(e,n,s);var o=Ha;if(o&&e){var h=bi(o).hoistableStyles,f=Ga(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(dl(f)))T.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Hn.get(f))&&Td(e,s);var x=g=o.createElement("link");Re(x),Ze(x,"link",e),x._p=new Promise(function(z,Q){x.onload=z,x.onerror=Q}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function fb(e,n){fs.X(e,n);var s=Ha;if(s&&e){var o=bi(s).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=A({src:e,async:!0},n),(n=Hn.get(h))&&bd(e,n),f=s.createElement("script"),Re(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function db(e,n){fs.M(e,n);var s=Ha;if(s&&e){var o=bi(s).hoistableScripts,h=Fa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=Hn.get(h))&&bd(e,n),f=s.createElement("script"),Re(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,n,s,o){var h=(h=$.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ga(s.href),s=bi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ga(s.href);var f=bi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Hn.set(e,s),f||mb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fa(s),s=bi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ga(e){return'href="'+fn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function mb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ze(n,"link",s),Re(n),e.head.appendChild(n))}function Fa(e){return'[src="'+fn(e)+'"]'}function ml(e){return"script[async]"+e}function E_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(o)return n.instance=o,Re(o),o;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Re(o),Ze(o,"style",h),yc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ga(s.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Re(f),f;o=v_(s),(h=Hn.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),Re(f);var g=f;return g._p=new Promise(function(T,x){g.onload=T,g.onerror=x}),Ze(f,"link",o),n.state.loading|=4,yc(f,s.precedence,e),n.instance=f;case"script":return f=Fa(s.src),(h=e.querySelector(ml(f)))?(n.instance=h,Re(h),h):(o=s,(h=Hn.get(f))&&(o=A({},s),bd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Re(h),Ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,s.precedence,e));return n.instance}function yc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function T_(e,n,s){if(_c===null){var o=new Map,h=_c=new Map;h.set(s,o)}else h=_c,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ei]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function b_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function gb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function S_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function pb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ga(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=vc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Re(f);return}f=n.ownerDocument||n,o=v_(o),(h=Hn.get(h))&&Td(o,h),f=f.createElement("link"),Re(f);var g=f;g._p=new Promise(function(T,x){g.onload=T,g.onerror=x}),Ze(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=vc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Sd=0;function yb(e,n){return e.stylesheets&&e.count===0&&Tc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*Z1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Tc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ec=null;function Tc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ec=new Map,n.forEach(_b,e),Ec=null,vc.call(e))}function _b(e,n){if(!(n.state.loading&4)){var s=Ec.get(e);if(s)var o=s.get(null);else{s=new Map,Ec.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function vb(e,n,s,o,h,f,g,T,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function A_(e,n,s,o,h,f,g,T,x,z,Q,K){return e=new vb(e,n,s,g,x,z,Q,K,T),n=1,f===!0&&(n|=24),f=An(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),e}function w_(e){return e?(e=ba,e):ba}function R_(e,n,s,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ls(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ps(e,o,n),s!==null&&(_n(s,e,n),Yo(s,e,n))}function C_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){C_(e,n),(e=e.alternate)&&C_(e,n)}function I_(e){if(e.tag===13||e.tag===31){var n=Ur(e,67108864);n!==null&&_n(n,e,67108864),Ad(e,67108864)}}function x_(e){if(e.tag===13||e.tag===31){var n=xn();n=Ar(n);var s=Ur(e,n);s!==null&&_n(s,e,n),Ad(e,n)}}var bc=!0;function Eb(e,n,s,o){var h=F.T;F.T=null;var f=rt.p;try{rt.p=2,wd(e,n,s,o)}finally{rt.p=f,F.T=h}}function Tb(e,n,s,o){var h=F.T;F.T=null;var f=rt.p;try{rt.p=8,wd(e,n,s,o)}finally{rt.p=f,F.T=h}}function wd(e,n,s,o){if(bc){var h=Rd(o);if(h===null)hd(e,n,o,Sc,s),D_(e,o);else if(Sb(h,e,n,s,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<bb.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=pi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var x=1<<31-_e(g);T.entanglements[1]|=x,g&=~x}ki(f),(Ft&6)===0&&(rc=je()+500,ul(0))}}break;case 31:case 13:T=Ur(f,2),T!==null&&_n(T,f,2),oc(),Ad(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,Sc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,s)}}function Rd(e){return e=Mn(e),Cd(e)}var Sc=null;function Cd(e){if(Sc=null,e=Ti(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case Er:return 2;case Xn:return 8;case mi:case Oh:return 32;case eu:return 268435456;default:return 32}default:return 32}}var Id=!1,Xs=null,$s=null,Zs=null,pl=new Map,yl=new Map,Js=[],bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&I_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Sb(e,n,s,o,h){switch(n){case"focusin":return Xs=_l(Xs,e,n,s,o,h),!0;case"dragenter":return $s=_l($s,e,n,s,o,h),!0;case"mouseover":return Zs=_l(Zs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,s,o,h)),!0}return!1}function O_(e){var n=Ti(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){x_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Jn(e.priority,function(){x_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Do=o,s.target.dispatchEvent(o),Do=null}else return n=On(s),n!==null&&I_(n),e.blockedOn=s,!1;n.shift()}return!0}function M_(e,n,s){Ac(e)&&s.delete(n)}function Ab(){Id=!1,Xs!==null&&Ac(Xs)&&(Xs=null),$s!==null&&Ac($s)&&($s=null),Zs!==null&&Ac(Zs)&&(Zs=null),pl.forEach(M_),yl.forEach(M_)}function wc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ab)))}var Rc=null;function V_(e){Rc!==e&&(Rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||s)===null)continue;break}var f=On(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Qa(e){function n(x){return wc(x,e)}Xs!==null&&wc(Xs,e),$s!==null&&wc($s,e),Zs!==null&&wc(Zs,e),pl.forEach(n),yl.forEach(n);for(var s=0;s<Js.length;s++){var o=Js[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Js.length&&(s=Js[0],s.blockedOn===null);)O_(s),s.blockedOn===null&&Js.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Be]||null;if(typeof f=="function")g||V_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)T=g.formAction;else if(Cd(h)!==null)continue}else T=g.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),V_(s)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Cc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=xn();R_(s,o,e,n,null,null)},Cc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),oc(),n[vi]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ou();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Js.length&&n!==0&&n<Js[s].priority;s++);Js.splice(s,0,e),s===0&&O_(e)}};var U_=t.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var wb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{$n=Ic.inject(wb),Qe=Ic}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Hp,f=Gp,g=Fp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A_(e,1,!1,null,null,s,o,null,h,f,g,k_),e[vi]=n.current,cd(e),new xd(n)},El.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Hp,g=Gp,T=Fp,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=A_(e,1,!0,n,s??null,o,h,x,f,g,T,k_),n.context=w_(null),s=n.current,o=xn(),o=Ar(o),h=Ls(o),h.callback=null,Ps(s,h,o),s=o,n.current.lanes=s,br(n,s),ki(n),e[vi]=n.current,cd(e),new Cc(n)},El.version="19.2.3",El}var Q_;function kb(){if(Q_)return Od.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Vb(),Od.exports}var Ub=kb();const Lb=()=>{};var Y_={};const Av=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},Pb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,E=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(M=64)),a.push(i[E],i[A],i[M],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Av(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Pb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const A=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||A==null)throw new zb;const M=c<<2|p>>4;if(a.push(M),_!==64){const G=p<<4&240|_>>2;if(a.push(G),A!==64){const et=_<<6&192|A;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(r){const t=Av(r);return wv.encodeByteArray(t,!0)},Yc=function(r){return jb(r).replace(/\./g,"")},Rv=function(r){try{return wv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Bb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qb=()=>Bb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Gb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Rv(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return Lb()||qb()||Hb()||Gb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Cv=r=>fh()?.emulatorHosts?.[r],Fb=r=>{const t=Cv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Iv=()=>fh()?.config,xv=r=>fh()?.[`_${r}`];class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Nv(r){return(await fetch(r,{credentials:"include"})).ok}function Yb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Rl={};function Kb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function Xb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let K_=!1;function Dv(r,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Rl[r]===t||Rl[r]||K_)return;Rl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Kb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{K_=!0,d()},M}function E(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=Xb(a),G=i("text"),et=document.getElementById(G)||document.createElement("span"),st=i("learnmore"),W=document.getElementById(st)||document.createElement("a"),pt=i("preprendIcon"),bt=document.getElementById(pt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;p(mt),E(W,st);const Ht=_();y(bt,pt),mt.append(bt,et,W,Ht),document.body.appendChild(mt)}c?(et.innerText="Preview backend disconnected.",bt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(bt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Zb(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function nS(){return!Zb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iS(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const rS="FirebaseError";class bs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=rS,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?aS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new bs(l,p,a)}}function aS(r,t){return r.replace(oS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const oS=/\{\$([^}]+)}/g;function lS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function hr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!hr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function ql(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function uS(r,t){const i=new cS(r,t);return i.subscribe.bind(i)}class cS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");hS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ud(){}function hn(r){return r&&r._delegate?r._delegate:r}class Wr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Xr="[DEFAULT]";class fS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Qb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mS(t))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Xr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xr){return this.instances.has(t)}getOptions(t=Xr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:dS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Xr){return this.component?this.component.multipleInstances?t:Xr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(r){return r===Xr?void 0:r}function mS(r){return r.instantiationMode==="EAGER"}class gS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new fS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const pS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},yS=kt.INFO,_S={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},vS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=_S[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=yS,this._logHandler=vS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const ES=(r,t)=>t.some(i=>r instanceof i);let $_,Z_;function TS(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bS(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ov=new WeakMap,Jd=new WeakMap,Mv=new WeakMap,Ld=new WeakMap,Im=new WeakMap;function SS(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ar(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Ov.set(i,r)}).catch(()=>{}),Im.set(t,r),t}function AS(r){if(Jd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Jd.set(r,t)}let Wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Jd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Mv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function wS(r){Wd=r(Wd)}function RS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Pd(this),t,...i);return Mv.set(a,t.sort?t.sort():[t]),ar(a)}:bS().includes(r)?function(...t){return r.apply(Pd(this),t),ar(Ov.get(this))}:function(...t){return ar(r.apply(Pd(this),t))}}function CS(r){return typeof r=="function"?RS(r):(r instanceof IDBTransaction&&AS(r),ES(r,TS())?new Proxy(r,Wd):r)}function ar(r){if(r instanceof IDBRequest)return SS(r);if(Ld.has(r))return Ld.get(r);const t=CS(r);return t!==r&&(Ld.set(r,t),Im.set(t,r)),t}const Pd=r=>Im.get(r);function IS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=ar(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ar(d.result),y.oldVersion,y.newVersion,ar(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const xS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],zd=new Map;function J_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=NS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||xS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return zd.set(t,c),c}wS(r=>({...r,get:(t,i,a)=>J_(t,i)||r.get(t,i,a),has:(t,i)=>!!J_(t,i)||r.has(t,i)}));class DS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function OS(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",W_="0.14.6";const ps=new Cm("@firebase/app"),MS="@firebase/app-compat",VS="@firebase/analytics-compat",kS="@firebase/analytics",US="@firebase/app-check-compat",LS="@firebase/app-check",PS="@firebase/auth",zS="@firebase/auth-compat",jS="@firebase/database",BS="@firebase/data-connect",qS="@firebase/database-compat",HS="@firebase/functions",GS="@firebase/functions-compat",FS="@firebase/installations",QS="@firebase/installations-compat",YS="@firebase/messaging",KS="@firebase/messaging-compat",XS="@firebase/performance",$S="@firebase/performance-compat",ZS="@firebase/remote-config",JS="@firebase/remote-config-compat",WS="@firebase/storage",tA="@firebase/storage-compat",eA="@firebase/firestore",nA="@firebase/ai",iA="@firebase/firestore-compat",sA="firebase",rA="12.6.0";const em="[DEFAULT]",aA={[tm]:"fire-core",[MS]:"fire-core-compat",[kS]:"fire-analytics",[VS]:"fire-analytics-compat",[LS]:"fire-app-check",[US]:"fire-app-check-compat",[PS]:"fire-auth",[zS]:"fire-auth-compat",[jS]:"fire-rtdb",[BS]:"fire-data-connect",[qS]:"fire-rtdb-compat",[HS]:"fire-fn",[GS]:"fire-fn-compat",[FS]:"fire-iid",[QS]:"fire-iid-compat",[YS]:"fire-fcm",[KS]:"fire-fcm-compat",[XS]:"fire-perf",[$S]:"fire-perf-compat",[ZS]:"fire-rc",[JS]:"fire-rc-compat",[WS]:"fire-gcs",[tA]:"fire-gcs-compat",[eA]:"fire-fst",[iA]:"fire-fst-compat",[nA]:"fire-vertex","fire-js":"fire-js",[sA]:"fire-js-all"};const Kc=new Map,oA=new Map,nm=new Map;function t0(r,t){try{r.container.addComponent(t)}catch(i){ps.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const t=r.name;if(nm.has(t))return ps.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,r);for(const i of Kc.values())t0(i,r);for(const i of oA.values())t0(i,r);return!0}function xm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const lA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new Bl("app","Firebase",lA);class uA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const mo=rA;function Vv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw or.create("bad-app-name",{appName:String(l)});if(i||(i=Iv()),!i)throw or.create("no-options");const c=Kc.get(l);if(c){if(hr(i,c.options)&&hr(a,c.config))return c;throw or.create("duplicate-app",{appName:l})}const d=new gS(l);for(const y of nm.values())d.addComponent(y);const p=new uA(i,a,d);return Kc.set(l,p),p}function kv(r=em){const t=Kc.get(r);if(!t&&r===em&&Iv())return Vv();if(!t)throw or.create("no-app",{appName:r});return t}function lr(r,t,i){let a=aA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ps.warn(d.join(" "));return}io(new Wr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const cA="firebase-heartbeat-database",hA=1,Ol="firebase-heartbeat-store";let jd=null;function Uv(){return jd||(jd=IS(cA,hA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ol)}catch(i){console.warn(i)}}}}).catch(r=>{throw or.create("idb-open",{originalErrorMessage:r.message})})),jd}async function fA(r){try{const i=(await Uv()).transaction(Ol),a=await i.objectStore(Ol).get(Lv(r));return await i.done,a}catch(t){if(t instanceof bs)ps.warn(t.message);else{const i=or.create("idb-get",{originalErrorMessage:t?.message});ps.warn(i.message)}}}async function e0(r,t){try{const a=(await Uv()).transaction(Ol,"readwrite");await a.objectStore(Ol).put(t,Lv(r)),await a.done}catch(i){if(i instanceof bs)ps.warn(i.message);else{const a=or.create("idb-set",{originalErrorMessage:i?.message});ps.warn(a.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}const dA=1024,mA=30;class gA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>mA){const l=_A(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ps.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=n0(),{heartbeatsToSend:i,unsentEntries:a}=pA(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ps.warn(t),""}}}function n0(){return new Date().toISOString().substring(0,10)}function pA(r,t=dA){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class yA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iS()?sS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await fA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return e0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function i0(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function _A(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function vA(r){io(new Wr("platform-logger",t=>new DS(t),"PRIVATE")),io(new Wr("heartbeat",t=>new gA(t),"PRIVATE")),lr(tm,W_,r),lr(tm,W_,"esm2020"),lr("fire-js","")}vA("");var EA="firebase",TA="12.7.0";lr(EA,TA,"app");function Pv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bA=Pv,zv=new Bl("auth","Firebase",Pv());const Xc=new Cm("@firebase/auth");function SA(r,...t){Xc.logLevel<=kt.WARN&&Xc.warn(`Auth (${mo}): ${r}`,...t)}function Lc(r,...t){Xc.logLevel<=kt.ERROR&&Xc.error(`Auth (${mo}): ${r}`,...t)}function ys(r,...t){throw Nm(r,...t)}function Pi(r,...t){return Nm(r,...t)}function jv(r,t,i){const a={...bA(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:r.name})}function gs(r){return jv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return zv.create(r,...t)}function Tt(r,t,...i){if(!r)throw Nm(t,...i)}function ds(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Lc(t),new Error(t)}function _s(r,t){r||ds(t)}function im(){return typeof self<"u"&&self.location?.href||""}function AA(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function wA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AA()||Wb()||"connection"in navigator)?navigator.onLine:!0}function RA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Hl{constructor(t,i){this.shortDelay=t,this.longDelay=i,_s(i>t,"Short delay should be less than long delay!"),this.isMobile=$b()||tS()}get(){return wA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(r,t){_s(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Bv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const IA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xA=new Hl(3e4,6e4);function Gl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function go(r,t,i,a,l={}){return qv(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ql({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return Jb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(_.credentials="include"),Bv.fetch()(await Hv(r,r.config.apiHost,i,p),_)})}async function qv(r,t,i){r._canInitEmulator=!1;const a={...CA,...t};try{const l=new NA(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw xc(r,"user-disabled",d);const E=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw jv(r,E,_);ys(r,E)}}catch(l){if(l instanceof bs)throw l;ys(r,"network-request-failed",{message:String(l)})}}async function Om(r,t,i,a,l={}){const c=await go(r,t,i,a,l);return"mfaPendingCredential"in c&&ys(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hv(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Dm(r.config,l):`${r.config.apiScheme}://${l}`;return IA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class NA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Pi(this.auth,"network-request-failed")),xA.get())})}}function xc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Pi(r,t,a);return l.customData._tokenResponse=i,l}async function DA(r,t){return go(r,"POST","/v1/accounts:delete",t)}async function $c(r,t){return go(r,"POST","/v1/accounts:lookup",t)}function Cl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function OA(r,t=!1){const i=hn(r),a=await i.getIdToken(t),l=Mm(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Cl(Bd(l.auth_time)),issuedAtTime:Cl(Bd(l.iat)),expirationTime:Cl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Mm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Rv(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const t=Mm(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ml(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof bs&&MA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function MA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class VA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(r){const t=r.auth,i=await r.getIdToken(),a=await Ml(r,$c(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Gv(l.providerUserInfo):[],d=UA(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,E)}async function kA(r){const t=hn(r);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function UA(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function Gv(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function LA(r,t){const i=await qv(r,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Hv(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),Bv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function PA(r,t){return go(r,"POST","/v2/accounts:revokeToken",Gl(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=r0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await LA(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return ds("not implemented")}}function tr(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new VA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return OA(this,t)}reload(){return kA(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(gs(this.auth));const t=await this.getIdToken();return await Ml(this,DA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,E=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:G,providerData:et,stsTokenManager:st}=i;Tt(A&&st,t,"internal-error");const W=Ja.fromJSON(this.name,st);Tt(typeof A=="string",t,"internal-error"),tr(a,t.name),tr(l,t.name),Tt(typeof M=="boolean",t,"internal-error"),Tt(typeof G=="boolean",t,"internal-error"),tr(c,t.name),tr(d,t.name),tr(p,t.name),tr(y,t.name),tr(_,t.name),tr(E,t.name);const pt=new li({uid:A,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:W,createdAt:_,lastLoginAt:E});return et&&Array.isArray(et)&&(pt.providerData=et.map(bt=>({...bt}))),y&&(pt._redirectEventId=y),pt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Gv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(a);const y=new li({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const a0=new Map;function ms(r){_s(r instanceof Function,"Expected a class definition");let t=a0.get(r);return t?(_s(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,a0.set(r,t),t)}class Fv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Fv.type="NONE";const o0=Fv;function Pc(r,t,i){return`firebase:${r}:${t}:${i}`}class Wa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Wa(ms(o0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ms(o0);const d=Pc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const E=await _._get(d);if(E){let A;if(typeof E=="string"){const M=await $c(t,{idToken:E}).catch(()=>{});if(!M)break;A=await li._fromGetAccountInfoResponse(t,M,E)}else A=li._fromJSON(t,E);_!==c&&(p=A),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Wa(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Wa(c,t,a))}}function l0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zv(t))return"Blackberry";if(Jv(t))return"Webos";if(Yv(t))return"Safari";if((t.includes("chrome/")||Kv(t))&&!t.includes("edge/"))return"Chrome";if($v(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Qv(r=on()){return/firefox\//i.test(r)}function Yv(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kv(r=on()){return/crios\//i.test(r)}function Xv(r=on()){return/iemobile/i.test(r)}function $v(r=on()){return/android/i.test(r)}function Zv(r=on()){return/blackberry/i.test(r)}function Jv(r=on()){return/webos/i.test(r)}function Vm(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zA(r=on()){return Vm(r)&&!!window.navigator?.standalone}function jA(){return eS()&&document.documentMode===10}function Wv(r=on()){return Vm(r)||$v(r)||Jv(r)||Zv(r)||/windows phone/i.test(r)||Xv(r)}function tE(r,t=[]){let i;switch(r){case"Browser":i=l0(on());break;case"Worker":i=`${l0(on())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${mo}/${a}`}class BA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qA(r,t={}){return go(r,"GET","/v2/passwordPolicy",Gl(r,t))}const HA=6;class GA{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class FA{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new BA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ms(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),a=await li._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=RA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(gs(this));const i=t?hn(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await qA(this),i=new GA(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await PA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ms(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[ms(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&SA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fl(r){return hn(r)}class u0{constructor(t){this.auth=t,this.observer=null,this.addObserver=uS(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QA(r){km=r}function YA(r){return km.loadJS(r)}function KA(){return km.gapiScript}function XA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function $A(r,t){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(hr(c,t??{}))return l;ys(l,"already-initialized")}return i.initialize({options:t})}function ZA(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ms);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function JA(r,t,i){const a=Fl(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=eE(t),{host:d,port:p}=WA(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},E=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(hr(_,a.config.emulator)&&hr(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,fo(d)?(Nv(`${c}//${d}${y}`),Dv("Auth",!0)):tw()}function eE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function WA(r){const t=eE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function tw(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class nE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ds("not implemented")}_getIdTokenResponse(t){return ds("not implemented")}_linkToIdToken(t,i){return ds("not implemented")}_getReauthenticationResolver(t){return ds("not implemented")}}async function to(r,t){return Om(r,"POST","/v1/accounts:signInWithIdp",Gl(r,t))}const ew="http://localhost";class ta extends nE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ys("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ta(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return to(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,to(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,to(t,i)}buildRequest(){const t={requestUri:ew,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class iE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ql extends iE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class er extends Ql{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return er.credential(t.oauthAccessToken)}catch{return null}}}er.FACEBOOK_SIGN_IN_METHOD="facebook.com";er.PROVIDER_ID="facebook.com";class nr extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ta._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return nr.credential(i,a)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends Ql{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends Ql{constructor(){super("twitter.com")}static credential(t,i){return ta._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function nw(r,t){return Om(r,"POST","/v1/accounts:signUp",Gl(r,t))}class vs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await li._fromIdTokenResponse(t,a,l),d=h0(a);return new vs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=h0(a);return new vs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function iw(r){if(Yn(r.app))return Promise.reject(gs(r));const t=Fl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new vs({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await nw(t,{returnSecureToken:!0}),a=await vs._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Jc extends bs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Jc(t,i,a,l)}}function sE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,c,t,a):c})}async function sw(r,t,i=!1){const a=await Ml(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return vs._forOperation(r,"link",a)}async function rw(r,t,i=!1){const{auth:a}=r;if(Yn(a.app))return Promise.reject(gs(a));const l="reauthenticate";try{const c=await Ml(r,sE(a,l,t,r),i);Tt(c.idToken,a,"internal-error");const d=Mm(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(r.uid===p,a,"user-mismatch"),vs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ys(a,"user-mismatch"),c}}async function aw(r,t,i=!1){if(Yn(r.app))return Promise.reject(gs(r));const a="signIn",l=await sE(r,a,t),c=await vs._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function ow(r,t){return Om(r,"POST","/v1/accounts:signInWithCustomToken",Gl(r,t))}async function lw(r,t){if(Yn(r.app))return Promise.reject(gs(r));const i=Fl(r),a=await ow(i,{token:t,returnSecureToken:!0}),l=await vs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function uw(r,t,i,a){return hn(r).onIdTokenChanged(t,i,a)}function cw(r,t,i){return hn(r).beforeAuthStateChanged(t,i)}function hw(r,t,i,a){return hn(r).onAuthStateChanged(t,i,a)}const Wc="__sak";class rE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const fw=1e3,dw=10;class aE extends rE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Wv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jA()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,dw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}aE.type="LOCAL";const mw=aE;class oE extends rE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}oE.type="SESSION";const lE=oE;function gw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await gw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Um(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class pw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Um("",20);l.port1.start();const E=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const M=A;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(E),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function yw(r){zi().location.href=r}function uE(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function _w(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vw(){return navigator?.serviceWorker?.controller||null}function Ew(){return uE()?self:null}const cE="firebaseLocalStorageDb",Tw=1,th="firebaseLocalStorage",hE="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,t){return r.transaction([th],t?"readwrite":"readonly").objectStore(th)}function bw(){const r=indexedDB.deleteDatabase(cE);return new Yl(r).toPromise()}function rm(){const r=indexedDB.open(cE,Tw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:hE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?t(a):(a.close(),await bw(),t(await rm()))})})}async function f0(r,t,i){const a=mh(r,!0).put({[hE]:t,value:i});return new Yl(a).toPromise()}async function Sw(r,t){const i=mh(r,!1).get(t),a=await new Yl(i).toPromise();return a===void 0?null:a.value}function d0(r,t){const i=mh(r,!0).delete(t);return new Yl(i).toPromise()}const Aw=800,ww=3;class fE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>ww)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(Ew()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _w(),!this.activeServiceWorker)return;this.sender=new pw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await rm();return await f0(t,Wc,"1"),await d0(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Sw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fE.type="LOCAL";const Rw=fE;new Hl(3e4,6e4);function Cw(r,t){return t?ms(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Lm extends nE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return to(t,this._buildIdpRequest())}_linkToIdToken(t,i){return to(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return to(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Iw(r){return aw(r.auth,new Lm(r),r.bypassAuthState)}function xw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),rw(i,new Lm(r),r.bypassAuthState)}async function Nw(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),sw(i,new Lm(r),r.bypassAuthState)}class dE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Iw;case"linkViaPopup":case"linkViaRedirect":return Nw;case"reauthViaPopup":case"reauthViaRedirect":return xw;default:ys(this.auth,"internal-error")}}resolve(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dw=new Hl(2e3,1e4);class Za extends dE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const t=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Dw.get())};t()}}Za.currentPopupAction=null;const Ow="pendingRedirect",zc=new Map;class Mw extends dE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const a=await Vw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vw(r,t){const i=Lw(t),a=Uw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function kw(r,t){zc.set(r._key(),t)}function Uw(r){return ms(r._redirectPersistence)}function Lw(r){return Pc(Ow,r.config.apiKey,r.name)}async function Pw(r,t,i=!1){if(Yn(r.app))return Promise.reject(gs(r));const a=Fl(r),l=Cw(a,t),d=await new Mw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const zw=600*1e3;class jw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Bw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!mE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Pi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(t))}saveEventToCache(t){this.cachedEventUids.add(m0(t)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function mE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Bw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(r);default:return!1}}async function qw(r,t={}){return go(r,"GET","/v1/projects",t)}const Hw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gw=/^https?/;async function Fw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await qw(r);for(const i of t)try{if(Qw(i))return}catch{}ys(r,"unauthorized-domain")}function Qw(r){const t=im(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Gw.test(i))return!1;if(Hw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Yw=new Hl(3e4,6e4);function g0(){const r=zi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Kw(r){return new Promise((t,i)=>{function a(){g0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{g0(),i(Pi(r,"network-request-failed"))},timeout:Yw.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)a();else{const l=XA("iframefcb");return zi()[l]=()=>{gapi.load?a():i(Pi(r,"network-request-failed"))},YA(`${KA()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function Xw(r){return jc=jc||Kw(r),jc}const $w=new Hl(5e3,15e3),Zw="__/auth/iframe",Jw="emulator/auth/iframe",Ww={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e2(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Dm(t,Jw):`https://${r.config.authDomain}/${Zw}`,a={apiKey:t.apiKey,appName:r.name,v:mo},l=t2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function n2(r){const t=await Xw(r),i=zi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:e2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ww,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Pi(r,"network-request-failed"),p=zi().setTimeout(()=>{c(d)},$w.get());function y(){zi().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const i2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s2=500,r2=600,a2="_blank",o2="http://localhost";class p0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l2(r,t,i,a=s2,l=r2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...i2,width:a.toString(),height:l.toString(),top:c,left:d},_=on().toLowerCase();i&&(p=Kv(_)?a2:i),Qv(_)&&(t=t||o2,y.scrollbars="yes");const E=Object.entries(y).reduce((M,[G,et])=>`${M}${G}=${et},`,"");if(zA(_)&&p!=="_self")return u2(t||"",p),new p0(null);const A=window.open(t||"",p,E);Tt(A,r,"popup-blocked");try{A.focus()}catch{}return new p0(A)}function u2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const c2="__/auth/handler",h2="emulator/auth/handler",f2=encodeURIComponent("fac");async function y0(r,t,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:mo,eventId:l};if(t instanceof iE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",lS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,A]of Object.entries({}))d[E]=A}if(t instanceof Ql){const E=t.getScopes().filter(A=>A!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const E of Object.keys(p))p[E]===void 0&&delete p[E];const y=await r._getAppCheckToken(),_=y?`#${f2}=${encodeURIComponent(y)}`:"";return`${d2(r)}?${ql(p).slice(1)}${_}`}function d2({config:r}){return r.emulator?Dm(r,h2):`https://${r.authDomain}/${c2}`}const qd="webStorageSupport";class m2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lE,this._completeRedirectFn=Pw,this._overrideRedirectResult=kw}async _openPopup(t,i,a,l){_s(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(t,i,a,im(),l);return l2(t,c,Um())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await y0(t,i,a,im(),l);return yw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await n2(t),a=new jw(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),ys(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Fw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Wv()||Yv()||Vm()}}const g2=m2;var _0="@firebase/auth",v0="1.12.0";class p2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function y2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _2(r){io(new Wr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(r)},_=new FA(a,l,c,y);return ZA(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),io(new Wr("auth-internal",t=>{const i=Fl(t.getProvider("auth").getImmediate());return(a=>new p2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(_0,v0,y2(r)),lr(_0,v0,"esm2020")}const v2=300,E2=xv("authIdTokenMaxAge")||v2;let E0=null;const T2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>E2)return;const l=i?.token;E0!==l&&(E0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function b2(r=kv()){const t=xm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=$A(r,{popupRedirectResolver:g2,persistence:[Rw,mw,lE]}),a=xv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=T2(c.toString());cw(i,d,()=>d(i.currentUser)),uw(i,p=>d(p))}}const l=Cv("auth");return l&&JA(i,`http://${l}`),i}function S2(){return document.getElementsByTagName("head")?.[0]??document}QA({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Pi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",S2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_2("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,gE;(function(){var r;function t(N,S){function I(){}I.prototype=S.prototype,N.F=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,O,U){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return S.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)V[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],O=N.g[2];let U=N.g[3],R;R=S+(U^I&(O^U))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(O^S&(I^O))+V[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(I^U&(S^I))+V[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(S^O&(U^S))+V[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(U^I&(O^U))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(O^S&(I^O))+V[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(I^U&(S^I))+V[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(S^O&(U^S))+V[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(U^I&(O^U))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(O^S&(I^O))+V[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(I^U&(S^I))+V[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(S^O&(U^S))+V[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(U^I&(O^U))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(O^S&(I^O))+V[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=O+(I^U&(S^I))+V[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=I+(S^O&(U^S))+V[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(O^U&(I^O))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(S^I))+V[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(U^S))+V[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(O^U))+V[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(I^O))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(S^I))+V[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(U^S))+V[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(O^U))+V[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(I^O))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(S^I))+V[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(U^S))+V[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(O^U))+V[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^U&(I^O))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^O&(S^I))+V[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(U^S))+V[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(O^U))+V[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(I^O^U)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^O)+V[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^I)+V[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^S)+V[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^U)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^O)+V[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^I)+V[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^S)+V[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^U)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^O)+V[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^I)+V[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^S)+V[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^U)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^O)+V[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=O+(U^S^I)+V[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=I+(O^U^S)+V[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(O^(I|~U))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~O))+V[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~I))+V[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~S))+V[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~U))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~O))+V[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~I))+V[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~S))+V[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~U))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~O))+V[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~I))+V[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~S))+V[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~U))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~O))+V[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=O+(S^(U|~I))+V[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=I+(U^(O|~S))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const I=S-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<S;){if(O==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(V[O++]=N.charCodeAt(U++),O==this.blockSize){l(this,V),O=0;break}}else for(;U<S;)if(V[O++]=N[U++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[S++]=this.g[I]>>>V&255;return N};function c(N,S){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function d(N,S){this.h=S;const I=[];let V=!0;for(let O=N.length-1;O>=0;O--){const U=N[O]|0;V&&U==S||(I[O]=U,V=!1)}this.g=I}var p={};function y(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return W(_(-N));const S=[];let I=1;for(let V=0;N>=I;V++)S[V]=N/I|0,I*=4294967296;return new d(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return W(E(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=A;for(let U=0;U<N.length;U+=8){var O=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+O),S);O<8?(O=_(Math.pow(S,O)),V=V.j(O).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var A=y(0),M=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(st(this))return-W(this).m();let N=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(st(this))return"-"+W(this).toString(N);const S=_(Math.pow(N,6));var I=this;let V="";for(;;){const O=Ht(I,S).g;I=pt(I,O.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,et(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=pt(this,N),st(N)?-1:et(N)?0:1};function W(N){const S=N.g.length,I=[];for(let V=0;V<S;V++)I[V]=~N.g[V];return new d(I,~N.h).add(M)}r.abs=function(){return st(this)?W(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let O=0;O<=S;O++){let U=V+(this.i(O)&65535)+(N.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=R>>>16,U&=65535,R&=65535,I[O]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function pt(N,S){return N.add(W(S))}r.j=function(N){if(et(this)||et(N))return A;if(st(this))return st(N)?W(this).j(W(N)):W(W(this).j(N));if(st(N))return W(this.j(W(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const S=this.g.length+N.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const U=this.i(V)>>>16,R=this.i(V)&65535,ne=N.i(O)>>>16,pe=N.i(O)&65535;I[2*V+2*O]+=R*pe,bt(I,2*V+2*O),I[2*V+2*O+1]+=U*pe,bt(I,2*V+2*O+1),I[2*V+2*O+1]+=R*ne,bt(I,2*V+2*O+1),I[2*V+2*O+2]+=U*ne,bt(I,2*V+2*O+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new d(I,0)};function bt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function mt(N,S){this.g=N,this.h=S}function Ht(N,S){if(et(S))throw Error("division by zero");if(et(N))return new mt(A,A);if(st(N))return S=Ht(W(N),S),new mt(W(S.g),W(S.h));if(st(S))return S=Ht(N,W(S)),new mt(W(S.g),S.h);if(N.g.length>30){if(st(N)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(N)<=0;)I=$t(I),V=$t(V);var O=Ot(I,1),U=Ot(V,1);for(V=Ot(V,2),I=Ot(I,2);!et(V);){var R=U.add(V);R.l(N)<=0&&(O=O.add(I),U=R),V=Ot(V,1),I=Ot(I,1)}return S=pt(N,O.j(S)),new mt(O,S)}for(O=A;N.l(S)>=0;){for(I=Math.max(1,Math.floor(N.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=_(I),R=U.j(S);st(R)||R.l(N)>0;)I-=V,U=_(I),R=U.j(S);et(U)&&(U=M),O=O.add(U),N=pt(N,R)}return new mt(O,N)}r.B=function(N){return Ht(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&N.i(V);return new d(I,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|N.i(V);return new d(I,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^N.i(V);return new d(I,this.h^N.h)};function $t(N){const S=N.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(I,N.h)}function Ot(N,S){const I=S>>5;S%=32;const V=N.g.length-I,O=[];for(let U=0;U<V;U++)O[U]=S>0?N.i(U+I)>>>S|N.i(U+I+1)<<32-S:N.i(U+I);return new d(O,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,gE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=E,ur=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,bl,yE,Bc,am,_E,vE,EE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function E(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,q){for(var it=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)it[Rt-2]=arguments[Rt];return m.prototype[L].apply(b,it)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function et(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=L[it]}else u.push(L)}}class st{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function pt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class bt{constructor(){this.h=this.g=null}add(m,v){const b=mt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new st(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let $t,Ot=!1,N=new bt,S=()=>{const u=Promise.resolve(void 0);$t=()=>{u.then(I)}};function I(){for(var u;u=pt();){try{u.h.call(u.g)}catch(v){W(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ne,O),ne.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),F=0;function rt(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++F,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function at(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function w(u){const m={};for(const v in u)m[v]=u[v];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let q=0;q<B.length;q++)v=B[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function nt(u){this.src=u,this.g={},this.h=0}nt.prototype.add=function(u,m,v,b,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=$(u,m,b,L);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!b,L),m.fa=v,u.push(m)),m};function ct(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(b,L,1),q&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function $(u,m,v,b){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return L}return-1}var ot="closure_lm_"+(Math.random()*1e6|0),xt={};function zt(u,m,v,b,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)zt(u,m[q],v,b,L);return null}return v=Qi(v),u&&u[pe]?u.J(m,v,p(b)?!!b.capture:!1,L):ln(u,m,v,!1,b,L)}function ln(u,m,v,b,L,q){if(!m)throw Error("Invalid event type");const it=p(L)?!!L.capture:!!L;let Rt=ye(u);if(Rt||(u[ot]=Rt=new nt(u)),v=Rt.add(m,v,b,it,q),v.proxy)return v;if(b=vt(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=it),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(ze(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function vt(){function u(v){return m.call(u.src,u.listener,v)}const m=hi;return u}function Se(u,m,v,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Se(u,m[q],v,b,L);else b=p(b)?!!b.capture:!!b,v=Qi(v),u&&u[pe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=$(m,v,b,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=ye(u))&&(m=u.g[m.toString()],u=-1,m&&(u=$(m,v,b,L)),(v=u>-1?m[u]:null)&&ke(v))}function ke(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])ct(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(ze(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ye(m))?(ct(v,u),v.h==0&&(v.src=null,m[ot]=null)):dt(u)}}}function ze(u){return u in xt?xt[u]:xt[u]="on"+u}function hi(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ke(u),u=v.call(b,m)}return u}function ye(u){return u=u[ot],u instanceof nt?u:null}var fi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qi(u){return typeof u=="function"?u:(u[fi]||(u[fi]=function(m){return u.handleEvent(m)}),u[fi])}function ie(){V.call(this),this.i=new nt(this),this.M=this,this.G=null}A(ie,V),ie.prototype[pe]=!0,ie.prototype.removeEventListener=function(u,m,v,b){Se(this,u,m,v,b)};function fe(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(b,u),J(m,L)}L=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],L=di(q,b,!0,m)&&L;if(q=m.g=u,L=di(q,b,!0,m)&&L,L=di(q,b,!1,m)&&L,v)for(it=0;it<v.length;it++)q=m.g=v[it],L=di(q,b,!1,m)&&L}ie.prototype.N=function(){if(ie.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)dt(v[b]);delete u.g[m],u.h--}}this.G=null},ie.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ie.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function di(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Rt=it.listener,ve=it.ha||it.src;it.fa&&ct(u.i,it),L=Rt.call(ve,b)!==!1&&L}}return L&&!b.defaultPrevented}function se(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function en(u){u.g=se(()=>{u.g=null,u.i&&(u.i=!1,en(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class je extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:en(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){V.call(this),this.h=u,this.g={}}A(Yi,V);var Er=[];function Xn(u){tt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ke(m)},u),u.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),Xn(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mi=d.JSON.stringify,Oh=d.JSON.parse,eu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function nu(){}function iu(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){O.call(this,"d")}A(Qe,O);function Dn(){O.call(this,"c")}A(Dn,O);var _e={},su=null;function aa(){return su=su||new ie}_e.Ia="serverreachability";function ru(u){O.call(this,_e.Ia,u)}A(ru,O);function gi(u){const m=aa();fe(m,new ru(m))}_e.STAT_EVENT="statevent";function Tr(u,m){O.call(this,_e.STAT_EVENT,u),this.stat=m}A(Tr,O);function Ae(u){const m=aa();fe(m,new Tr(m,u))}_e.Ja="timingevent";function pi(u,m){O.call(this,_e.Ja,u),this.size=m}A(pi,O);function yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Mh(u,m,v,b,L,q){u.info(function(){if(u.g)if(q){var it="",Rt=q.split("&");for(let Gt=0;Gt<Rt.length;Gt++){var ve=Rt[Gt].split("=");if(ve.length>1){const le=ve[0];ve=ve[1];const kn=le.split("_");it=kn.length>=2&&kn[1]=="type"?it+(le+"="+ve+"&"):it+(le+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+it})}function au(u,m,v,b,L,q,it){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+it})}function _i(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(b?" "+b:"")})}function br(u,m){u.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return mi(q)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function Ar(){}A(Ar,nu),Ar.prototype.g=function(){return new XMLHttpRequest},To=new Ar;function Ki(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Jn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var we={},Be={};function vi(u,m,v){u.M=1,u.A=wr(Ce(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),Ei(u),u.B=Ce(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Wn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new je(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Er[0]=L.toString()),L=Er);for(let q=0;q<L.length;q++){const it=zt(v,L[q],b||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?w(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&ni(u)==3?m.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)t:{const Rt=ni(this.g),ve=this.g.ya(),Gt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Rt!=4||ve==7||(ve==8||Gt<=0?gi(3):gi(2)),Ti(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Rt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var q=b;break e}}q=null}if(u=q)_i(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,u);else{this.o=!1,this.m=3,Ae(12),Tn(this),On(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=uu(this,v),le==Be){Rt==4&&(this.m=4,Ae(14),u=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(le==we){this.m=4,Ae(15),_i(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else _i(this.i,this.l,le,null),bi(this,le);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)_i(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(it),it.P=!0,Ae(11))}}else _i(this.i,this.l,v,null),bi(this,v);Rt==4&&Tn(this),this.o&&!this.K&&(Rt==4?_u(this.j,this):(this.o=!1,Ei(this)))}else $i(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Tn(this),On(this)}}}catch{}};function kh(u){if(!lu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const b=m.length,L=ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),On(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Be:(v=Number(m.substring(v,b)),isNaN(v)?we:(b+=1,b+v>m.length?Be:(m=m.slice(b,b+v),u.C=b+v,m)))}Jn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ei(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=yi(_(u.aa,u),m)}function Ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(br(this.i,this.B),this.M!=2&&(gi(),Ae(17)),Tn(this),this.m=2,On(this)):la(this,this.T-u)};function On(u){u.j.I==0||u.K||_u(u.j,u)}function Tn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xn(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function bi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ai(v.h,u))){if(!u.L&&Ai(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)pa(v),Ns(v);else break t;Or(v),Ae(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(_(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((u.L||v.g==u)&&pa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const le=Gt[0];if(!(le<=v.K))if(v.K=le,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const kn=Gt[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const Di=Gt[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ii=Gt[5];ii!=null&&typeof ii=="number"&&ii>0&&(b=1.5*ii,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const si=u.g;if(si){const Mr=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var q=b.h;q.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ao(q,q.h),q.h=null))}if(b.G){const ya=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,Yt(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var it=u;if(b.na=Tu(b,b.L?b.ba:null,b.W),it.L){wo(b.h,it);var Rt=it,ve=b.O;ve&&(Rt.H=ve),Rt.D&&(Ti(Rt),Ei(Rt)),b.g=it}else pu(b);v.i.length>0&&xi(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Ni(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ni(v,7):Vo(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}gi(4)}catch{}}var Re=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function Ai(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,q=null;b>=0?(L=u[v].substring(0,b),q=u[v].substring(b+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,Ss(this,u.u),this.h=u.h,Co(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),Ss(this,m[4]),this.h=wi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,ca,!0),"@"),u.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Io:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,fu)),u.join("")},bn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)Ss(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let it=0;it<L.length;){const Rt=L[it++];Rt=="."?b&&it==L.length&&q.push(""):Rt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&it==L.length&&q.push("")):(q.push(Rt),b=!0)}b=q.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Co(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new bn(u)}function qe(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ss(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof ws?(u.i=m,fa(u.i,u.l)):(v||(m=Rr(m,As)),u.i=new ws(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function wr(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,hu=/[#\?:]/g,Io=/[#\?]/g,As=/[#\?@]/g,fu=/#/g;function ws(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ws.prototype,r.add=function(u,m){dn(this),this.i=null,u=Rs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){dn(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function xo(u,m){return dn(u),m=Rs(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function No(u,m){dn(u);let v=[];if(typeof m=="string")xo(u,m)&&(v=v.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return dn(this),this.i=null,u=Rs(this,u),xo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=No(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(Rs(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Ki(v);v=No(this,v);for(let q=0;q<v.length;q++){let it=L;v[q]!==""&&(it+="="+Ki(v[q])),u.push(it)}}return this.i=u.join("&")};function mu(u){const m=new ws;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(du(this,b),ha(this,L,v))},u)),u.j=m}function ti(u,m){const v=new Zn;if(d.Image){const b=new Image;b.onload=E(Mn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=E(Mn,v,"TestLoadImage: error",!1,m,b),b.onabort=E(Mn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=E(Mn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Do(u,m){const v=new Zn,b=new AbortController,L=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?Mn(v,"TestPingServer: ok",!0,m):Mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Mn(v,"TestPingServer: error",!1,m)})}function Mn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Cs(){this.g=new eu}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ri,nu),Ri.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){ie.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cr,ie),r=Cr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ei(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ei(this)),this.g&&(this.readyState=3,ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):ei(this),this.readyState==3&&da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},r.Na=function(u){this.g&&(this.response=u,Is(this))},r.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ei(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return tt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Vn(v),typeof u=="string"?v!=null&&Ki(v):Yt(u,m,v))}function Zt(u){ie.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Zt,ie);var Ci=/^https?$/i,Oo=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){xr(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){xr(this,q)}};function xr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Xi(u)}function Mo(u){u.A||(u.A=!0,fe(u,"complete"),fe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,fe(this,"complete"),fe(this,"abort"),Xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Nr(this):this.Xa())},r.Xa=function(){Nr(this)};function Nr(u){if(u.h&&typeof c<"u"){if(u.v&&ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(fe(u,"readystatechange"),ni(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let it=String(u.D).match(cu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),b=!Ci.test(it?it.toLowerCase():"")}v=b}if(v)fe(u,"complete"),fe(u,"success");else{u.o=6;try{var L=ni(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Mo(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||fe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ni(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=ou(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}at(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function xs(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new Cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ae(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),xi(this)};function Vo(u){if(ma(u),u.I==3){var m=u.V++,v=Ce(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),Dr(u,v),m=new Jn(u,u.j,m),m.M=2,m.A=wr(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Eu(u)}function Ns(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function ma(u){Ns(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function xi(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;$t||S(),Ot||($t(),Ot=!0),N.add(m,u),u.D=0}}function ga(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=yi(_(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=w(q),J(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=Ce(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Dr(this,v),q&&(this.R?m="headers="+Ki(Vn(q))+"&"+m:this.u&&Ir(v,this.u,q)),Ao(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,vi(L,v,null)):vi(L,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||So(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const b=Ce(u.J);Yt(b,"SID",u.M),Yt(b,"RID",v),Yt(b,"AID",u.K),Dr(u,b),u.u&&u.o&&Ir(b,u.u,u.o),v=new Jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),vi(v,b,m)}function Dr(u,m){u.H&&tt(u.H,function(v,b){Yt(m,b,v)}),u.l&&tt({},function(v,b){Yt(m,b,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Rt=-1;for(;;){const ve=["count="+v];Rt==-1?v>0?(Rt=L[0].g,ve.push("ofs="+Rt)):Rt=0:ve.push("ofs="+Rt);let Gt=!0;for(let le=0;le<v;le++){var q=L[le].g;const kn=L[le].map;if(q-=Rt,q<0)Rt=Math.max(0,L[le].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var it=kn instanceof Map?kn:Object.entries(kn);for(const[Di,ii]of it){let si=ii;p(ii)&&(si=mi(ii)),ve.push(q+Di+"="+encodeURIComponent(si))}}catch(Di){throw ve.push(q+"type="+encodeURIComponent("_badmap")),Di}}catch{b&&b(kn)}}if(Gt){it=ve.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$t||S(),Ot||($t(),Ot=!0),N.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=yi(_(u.Da,u),vu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=yi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Ns(this),yu(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(Ce(m)),v.u=null,v.R=!0,oa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Ns(this),Or(this),Ae(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){pa(u),Uo(u),u.g=null;var b=2}else if(Ai(u.h,m))v=m.G,wo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=aa(),fe(b,new pi(b,v)),xi(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&ga(u,m)||b==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ni(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const L=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(b,"https"),wr(b),L?ti(b.toString(),v):Do(b.toString(),v)}else Ae(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ma(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var b=v instanceof bn?Ce(v):new bn(v);if(b.g!="")m&&(b.g=m+"."+b.g),Ss(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new bn(null);b&&qe(q,b),m&&(q.g=m),L&&Ss(q,L),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&Yt(b,v,m),Yt(b,"VER",u.ka),Dr(u,b),b}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new Ri({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new un(u,m)};function un(u,m){ie.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}A(un,ie),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Vo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=mi(u),u=v);m.i.push(new Re(m.Ya++,u)),m.I==3&&xi(m)},un.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,un.Z.N.call(this)};function Au(u){Qe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Au,Qe);function wu(){Dn.call(this),this.status=1}A(wu,Dn);function Zi(u){this.g=u}A(Zi,Su),Zi.prototype.ra=function(){fe(this.g,"a")},Zi.prototype.qa=function(u){fe(this.g,new Au(u))},Zi.prototype.pa=function(u){fe(this.g,new wu)},Zi.prototype.oa=function(){fe(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,EE=function(){return new Ds},vE=function(){return aa()},_E=_e,am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Bc=Sr,Eo.COMPLETE="complete",yE=Eo,iu.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",ie.prototype.listen=ie.prototype.J,bl=iu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,pE=Zt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",S0="4.9.3";let rn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let po="12.7.0";const ea=new Cm("@firebase/firestore");function Ya(){return ea.logLevel}function lt(r,...t){if(ea.logLevel<=kt.DEBUG){const i=t.map(Pm);ea.debug(`Firestore (${po}): ${r}`,...i)}}function Es(r,...t){if(ea.logLevel<=kt.ERROR){const i=t.map(Pm);ea.error(`Firestore (${po}): ${r}`,...i)}}function so(r,...t){if(ea.logLevel<=kt.WARN){const i=t.map(Pm);ea.warn(`Firestore (${po}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Et(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,TE(r,a,i)}function TE(r,t,i){let a=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Es(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||TE(t,l,a)}function wt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends bs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class bE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class w2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class R2{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new cr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new cr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new bE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class C2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new C2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new A0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function N2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=N2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ut(r,t){return r<t?-1:r>t?1:0}function om(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Ut(l,c):Hd(l)?1:-1}return Ut(r.length,t.length)}const D2=55296,O2=57343;function Hd(r){const t=r.charCodeAt(0);return t>=D2&&t<=O2}function ro(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const w0="__name__";class Li{constructor(t,i,a){i===void 0?i=0:i>t.length&&Et(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Et(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Li.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const a=Li.isNumericId(t),l=Li.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Li.extractNumericId(t).compare(Li.extractNumericId(i)):om(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ur.fromString(t.substring(4,t.length-2))}}class ce extends Li{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ft(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const M2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Li{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return M2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new We([w0])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ft(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ft(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ft(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ce.fromString(t))}static fromName(t){return new yt(ce.fromString(t).popFirst(5))}static empty(){return new yt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ce(t.slice()))}}function V2(r,t,i){if(!i)throw new ft(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function k2(r,t,i,a){if(t===!0&&a===!0)throw new ft(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function R0(r){if(!yt.isDocumentKey(r))throw new ft(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function SE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function ui(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=jm(r);throw new ft(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Me(r,t){const i={typeString:r};return t&&(i.value=t),i}function Kl(r,t){if(!SE(r))throw new ft(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ft(Z.INVALID_ARGUMENT,i);return!0}const C0=-62135596800,I0=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*I0);return new oe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<C0)throw new ft(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-C0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Me("string",oe._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new oe(0,0))}static max(){return new St(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function U2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new oe(i+1,0):new oe(i,a));return new fr(l,yt.empty(),t)}function L2(r){return new fr(r.readTime,r.key,Vl)}class fr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new fr(St.min(),yt.empty(),Vl)}static max(){return new fr(St.max(),yt.empty(),Vl)}}function P2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(r.documentKey,t.documentKey),i!==0?i:Ut(r.largestBatchId,t.largestBatchId))}const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function yo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==z2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((E=>{d[_]=E,++p,p===c&&a(d)}),(E=>l(E)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function B2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(r){return r.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const Bm=-1;function ph(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function q2(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const AE="";function H2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=x0(t)),t=G2(r.get(i),t);return x0(t)}function G2(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case AE:i+="";break;default:i+=c}}return i}function x0(r){return r+AE+""}function N0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function _r(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function wE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class he{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Je.RED,this.left=l??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Je(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Je.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(t){return new D0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Pe(this.comparator);return i.data=t,i}}class D0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Nn([])}unionWith(t){let i=new Pe(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Nn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new RE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const F2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=F2.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function mr(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const CE="server_timestamp",IE="__type__",xE="__previous_value__",NE="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[IE]?.stringValue===CE}function yh(r){const t=r.mapValue.fields[xE];return qm(t)?yh(t):t}function kl(r){const t=dr(r.mapValue.fields[NE].timestampValue);return new oe(t.seconds,t.nanos)}class Q2{constructor(t,i,a,l,c,d,p,y,_,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=E}}const nh="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||nh}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}const DE="__type__",Y2="__max__",Oc={mapValue:{}},OE="__vector__",ih="value";function gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:X2(r)?9007199254740991:K2(r)?10:11:Et(28295,{value:r})}function Gi(r,t){if(r===t)return!0;const i=gr(r);if(i!==gr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return kl(r).isEqual(kl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=dr(l.timestampValue),p=dr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return mr(l.bytesValue).isEqual(mr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return be(l.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(l.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return be(l.integerValue)===be(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=be(l.doubleValue),p=be(c.doubleValue);return d===p?eh(d)===eh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(N0(d)!==N0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Gi(d[y],p[y])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function Ll(r,t){return(r.values||[]).find((i=>Gi(i,t)))!==void 0}function ao(r,t){if(r===t)return 0;const i=gr(r),a=gr(t);if(i!==a)return Ut(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=be(c.integerValue||c.doubleValue),y=be(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return O0(r.timestampValue,t.timestampValue);case 4:return O0(kl(r),kl(t));case 5:return om(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=mr(c),y=mr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const E=Ut(p[_],y[_]);if(E!==0)return E}return Ut(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(be(c.latitude),be(d.latitude));return p!==0?p:Ut(be(c.longitude),be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return M0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ih]?.arrayValue,E=y[ih]?.arrayValue,A=Ut(_?.values?.length||0,E?.values?.length||0);return A!==0?A:M0(_,E)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},E=Object.keys(_);y.sort(),E.sort();for(let A=0;A<y.length&&A<E.length;++A){const M=om(y[A],E[A]);if(M!==0)return M;const G=ao(p[y[A]],_[E[A]]);if(G!==0)return G}return Ut(y.length,E.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:i})}}function O0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const i=dr(r),a=dr(t),l=Ut(i.seconds,a.seconds);return l!==0?l:Ut(i.nanos,a.nanos)}function M0(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ao(i[l],a[l]);if(c)return c}return Ut(i.length,a.length)}function oo(r){return lm(r)}function lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=dr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return mr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return yt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=lm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${lm(i.fields[d])}`;return l+"}"})(r.mapValue):Et(61005,{value:r})}function qc(r){switch(gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(r);return t?16+qc(t):16;case 5:return 2*r.stringValue.length;case 6:return mr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+qc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return _r(a.fields,((c,d)=>{l+=c.length+qc(d)})),l})(r.mapValue);default:throw Et(13486,{value:r})}}function um(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function V0(r){return!!r&&"nullValue"in r}function k0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hc(r){return!!r&&"mapValue"in r}function K2(r){return(r?.mapValue?.fields||{})[DE]?.stringValue===OE}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return _r(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function X2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Y2}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Hc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=We.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Il(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Hc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Hc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){_r(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new En(Il(this.value))}}function ME(r){const t=[];return _r(r.fields,((i,a)=>{const l=new We([i]);if(Hc(a)){const c=ME(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Nn(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(t,i){this.position=t,this.inclusive=i}}function U0(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=yt.comparator(yt.fromName(d.referenceValue),i.key):a=ao(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function L0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Gi(r.position[i],t.position[i]))return!1;return!0}class rh{constructor(t,i="asc"){this.field=t,this.dir=i}}function $2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class VE{}class Le extends VE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new J2(t,i,a):i==="array-contains"?new eR(t,a):i==="in"?new nR(t,a):i==="not-in"?new iR(t,a):i==="array-contains-any"?new sR(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new W2(t,a):new tR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends VE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Fi(t,i)}matches(t){return kE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(r){return r.op==="and"}function UE(r){return Z2(r)&&kE(r)}function Z2(r){for(const t of r.filters)if(t instanceof Fi)return!1;return!0}function cm(r){if(r instanceof Le)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(UE(r))return r.filters.map((t=>cm(t))).join(",");{const t=r.filters.map((i=>cm(i))).join(",");return`${r.op}(${t})`}}function LE(r,t){return r instanceof Le?(function(a,l){return l instanceof Le&&a.op===l.op&&a.field.isEqual(l.field)&&Gi(a.value,l.value)})(r,t):r instanceof Fi?(function(a,l){return l instanceof Fi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&LE(d,l.filters[p])),!0):!1})(r,t):void Et(19439)}function PE(r){return r instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(r):r instanceof Fi?(function(i){return i.op.toString()+" {"+i.getFilters().map(PE).join(" ,")+"}"})(r):"Filter"}class J2 extends Le{constructor(t,i,a){super(t,i,a),this.key=yt.fromName(a.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class W2 extends Le{constructor(t,i){super(t,"in",i),this.keys=zE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class tR extends Le{constructor(t,i){super(t,"not-in",i),this.keys=zE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function zE(r,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class eR extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Ll(i.arrayValue,this.value)}}class nR extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class iR extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class sR extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ll(this.value.arrayValue,a)))}}class rR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function P0(r,t=null,i=[],a=[],l=null,c=null,d=null){return new rR(r,t,i,a,l,c,d)}function Gm(r){const t=wt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>cm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>oo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>oo(a))).join(",")),t.Te=i}return t.Te}function Fm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!$2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!LE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!L0(r.startAt,t.startAt)&&L0(r.endAt,t.endAt)}function hm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _h{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aR(r,t,i,a,l,c,d,p){return new _h(r,t,i,a,l,c,d,p)}function vh(r){return new _h(r)}function z0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oR(r){return r.collectionGroup!==null}function xl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pe(We.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new rh(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new rh(We.keyField(),a))}return t.Ie}function ji(r){const t=wt(r);return t.Ee||(t.Ee=lR(t,xl(r))),t.Ee}function lR(r,t){if(r.limitType==="F")return P0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new rh(l.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return P0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function fm(r,t,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Eh(r,t){return Fm(ji(r),ji(t))&&r.limitType===t.limitType}function jE(r){return`${Gm(ji(r))}|lt:${r.limitType}`}function Ka(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>PE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${a})`})(ji(r))}; limitType=${r.limitType})`}function Th(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):yt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of xl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,xl(a),l)||a.endAt&&!(function(d,p,y){const _=U0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,xl(a),l))})(r,t)}function uR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BE(r){return(t,i)=>{let a=!1;for(const l of xl(r)){const c=cR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function cR(r,t,i){const a=r.field.isKeyField()?yt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?ao(y,_):Et(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Et(19790,{direction:r.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}const hR=new he(yt.comparator);function Ts(){return hR}const qE=new he(yt.comparator);function Sl(...r){let t=qE;for(const i of r)t=t.insert(i.key,i);return t}function HE(r){let t=qE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function $r(){return Nl()}function GE(){return Nl()}function Nl(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const fR=new he(yt.comparator),dR=new Pe(yt.comparator);function Lt(...r){let t=dR;for(const i of r)t=t.add(i);return t}const mR=new Pe(Ut);function gR(){return mR}function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function FE(r){return{integerValue:""+r}}function QE(r,t){return q2(t)?FE(t):Qm(r,t)}class bh{constructor(){this._=void 0}}function pR(r,t,i){return r instanceof ah?(function(l,c){const d={fields:{[IE]:{stringValue:CE},[NE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=yh(c)),c&&(d.fields[xE]=c),{mapValue:d}})(i,t):r instanceof lo?KE(r,t):r instanceof Pl?XE(r,t):(function(l,c){const d=YE(l,c),p=j0(d)+j0(l.Ae);return um(d)&&um(l.Ae)?FE(p):Qm(l.serializer,p)})(r,t)}function yR(r,t,i){return r instanceof lo?KE(r,t):r instanceof Pl?XE(r,t):i}function YE(r,t){return r instanceof zl?(function(a){return um(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ah extends bh{}class lo extends bh{constructor(t){super(),this.elements=t}}function KE(r,t){const i=$E(t);for(const a of r.elements)i.some((l=>Gi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Pl extends bh{constructor(t){super(),this.elements=t}}function XE(r,t){let i=$E(t);for(const a of r.elements)i=i.filter((l=>!Gi(l,a)));return{arrayValue:{values:i}}}class zl extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function j0(r){return be(r.integerValue||r.doubleValue)}function $E(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ZE{constructor(t,i){this.field=t,this.transform=i}}function _R(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof lo&&l instanceof lo||a instanceof Pl&&l instanceof Pl?ro(a.elements,l.elements,Gi):a instanceof zl&&l instanceof zl?Gi(a.Ae,l.Ae):a instanceof ah&&l instanceof ah})(r.transform,t.transform)}class vR{constructor(t,i){this.version=t,this.transformResults=i}}class ci{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ci}static exists(t){return new ci(void 0,t)}static updateTime(t){return new ci(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Sh{}function JE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ym(r.key,ci.none()):new Xl(r.key,r.data,ci.none());{const i=r.data,a=En.empty();let l=new Pe(We.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new vr(r.key,a,new Nn(l.toArray()),ci.none())}}function ER(r,t,i){r instanceof Xl?(function(l,c,d){const p=l.value.clone(),y=q0(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof vr?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=q0(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(WE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(r,t,i,a){return r instanceof Xl?(function(c,d,p,y){if(!Gc(c.precondition,d))return p;const _=c.value.clone(),E=H0(c.fieldTransforms,y,d);return _.setAll(E),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof vr?(function(c,d,p,y){if(!Gc(c.precondition,d))return p;const _=H0(c.fieldTransforms,y,d),E=d.data;return E.setAll(WE(c)),E.setAll(_),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function TR(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=YE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function B0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ro(a,l,((c,d)=>_R(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Xl extends Sh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class vr extends Sh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function q0(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,yR(d,p,i[l]))}return a}function H0(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,pR(c,d,t))}return a}class Ym extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bR extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ER(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=GE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=JE(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((i,a)=>B0(i,a)))&&ro(this.baseMutations,t.baseMutations,((i,a)=>B0(i,a)))}}class Km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return fR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Km(t,i,a,l)}}class AR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class wR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Oe,jt;function RR(r){switch(r){case Z.OK:return Et(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function tT(r){if(r===void 0)return Es("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Oe.OK:return Z.OK;case Oe.CANCELLED:return Z.CANCELLED;case Oe.UNKNOWN:return Z.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return Z.INTERNAL;case Oe.UNAVAILABLE:return Z.UNAVAILABLE;case Oe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Oe.NOT_FOUND:return Z.NOT_FOUND;case Oe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Oe.ABORTED:return Z.ABORTED;case Oe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Oe.DATA_LOSS:return Z.DATA_LOSS;default:return Et(39323,{code:r})}}(jt=Oe||(Oe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function CR(){return new TextEncoder}const IR=new ur([4294967295,4294967295],0);function G0(r){const t=CR().encode(r),i=new gE;return i.update(t),new Uint8Array(i.digest())}function F0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ur([i,a],0),new ur([l,c],0)]}class Xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Al(`Invalid padding: ${i}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Al(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ur.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ur.fromNumber(a)));return l.compare(IR)===1&&(l=new ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=G0(t),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Xm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=G0(t),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(St.min(),l,new he(Ut),Ts(),Lt())}}class $l{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new $l(a,i,Lt(),Lt(),Lt())}}class Fc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class eT{constructor(t,i){this.targetId=t,this.Ce=i}}class nT{constructor(t,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=Y0(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),a=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Et(38017,{changeType:c})}})),new $l(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Y0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ts(),this.Je=Mc(),this.He=Mc(),this.Ye=new he(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(hm(c))if(a===0){const d=new yt(c.path);this.et(i,d,an.newNoDocument(d,St.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=mr(a).toUint8Array()}catch(y){if(y instanceof RE)return so("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(d,l,c)}catch(y){return so(y instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&hm(p.target)){const y=new yt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,an.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Lt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ye,this.je,a);return this.je=Ts(),this.Je=Mc(),this.He=Mc(),this.Ye=new he(Ut),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Q0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Pe(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Pe(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Mc(){return new he(yt.comparator)}function Y0(){return new he(yt.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},DR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OR={and:"AND",or:"OR"};class MR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function dm(r,t){return r.useProto3Json||ph(t)?t:{value:t}}function oh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function VR(r,t){return oh(r,t.toTimestamp())}function Bi(r){return Qt(!!r,49232),St.fromTimestamp((function(i){const a=dr(i);return new oe(a.seconds,a.nanos)})(r))}function $m(r,t){return mm(r,t).canonicalString()}function mm(r,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function sT(r){const t=ce.fromString(r);return Qt(uT(t),10190,{key:t.toString()}),t}function gm(r,t){return $m(r.databaseId,t.path)}function Gd(r,t){const i=sT(t);if(i.get(1)!==r.databaseId.projectId)throw new ft(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new yt(aT(i))}function rT(r,t){return $m(r.databaseId,t)}function kR(r){const t=sT(r);return t.length===4?ce.emptyPath():aT(t)}function pm(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function aT(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function K0(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function UR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Et(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,E){return _.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const E=_.code===void 0?Z.UNKNOWN:tT(_.code);return new ft(E,_.message||"")})(d);i=new nT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Gd(r,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):St.min(),p=new En({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(l,c,d,p),_=a.targetIds||[],E=a.removedTargetIds||[];i=new Fc(_,E,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Gd(r,a.document),c=a.readTime?Bi(a.readTime):St.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Fc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Gd(r,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new wR(l,c),p=a.targetId;i=new eT(p,d)}}return i}function LR(r,t){let i;if(t instanceof Xl)i={update:K0(r,t.key,t.value)};else if(t instanceof Ym)i={delete:gm(r,t.key)};else if(t instanceof vr)i={update:K0(r,t.key,t.data),updateMask:QR(t.fieldMask)};else{if(!(t instanceof bR))return Et(16599,{Vt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Et(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:VR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)})(r,t.precondition)),i}function PR(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(St.min())&&(d=Bi(c)),new vR(d,l.transformResults||[])})(i,t)))):[]}function zR(r,t){return{documents:[rT(r,t.path)]}}function jR(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rT(r,l);const c=(function(_){if(_.length!==0)return lT(Fi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((E=>(function(M){return{field:Xa(M.field),direction:HR(M.dir)}})(E)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=dm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function BR(r){let t=kR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const E=i.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=(function(A){const M=oT(A);return M instanceof Fi&&UE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(et){return new rh($a(et.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,ph(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(A){const M=!!A.before,G=A.values||[];return new sh(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const M=!A.before,G=A.values||[];return new sh(G,M)})(i.endAt)),aR(t,l,d,c,p,"F",y,_)}function qR(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Le.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Fi.create(i.compositeFilter.filters.map((a=>oT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(i.compositeFilter.op))})(r):Et(30097,{filter:r})}function HR(r){return NR[r]}function GR(r){return DR[r]}function FR(r){return OR[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return We.fromServerFormat(r.fieldPath)}function lT(r){return r instanceof Le?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:GR(i.op),value:i.value}}})(r):r instanceof Fi?(function(i){const a=i.getFilters().map((l=>lT(l)));return a.length===1?a[0]:{compositeFilter:{op:FR(i.op),filters:a}}})(r):Et(54877,{filter:r})}function QR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function uT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class rr{constructor(t,i,a,l,c=St.min(),d=St.min(),p=tn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class YR{constructor(t){this.yt=t}}function KR(r){const t=BR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fm(t,t.limit,"L"):t}class XR{constructor(){this.Cn=new $R}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(fr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(fr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class $R{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Pe(ce.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Pe(ce.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(cT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class uo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new uo(0)}static cr(){return new uo(-1)}}const $0="LruGarbageCollector",ZR=1048576;function Z0([r,t],[i,a]){const l=Ut(r,i);return l===0?Ut(t,a):l}class JR{constructor(t){this.Ir=t,this.buffer=new Pe(Z0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class WR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt($0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?lt($0,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Vr(3e5)}))}}class tC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(gh.ce);const a=new JR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(X0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(_=Date.now(),Ya()<=kt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${A} documents in `+(_-y)+`ms
Total Duration: ${_-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function eC(r,t){return new tC(r,t)}class nC{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class iC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class sC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Dl(a.mutation,l,Nn.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Lt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Lt()){const l=$r();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Sl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=$r();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Lt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Ts();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((y,_)=>{const E=a.get(_.key);l.has(_.key)&&(E===void 0||E.mutation instanceof vr)?c=c.insert(_.key,_):E!==void 0?(d.set(_.key,E.mutation.getFieldMask()),Dl(E.mutation,_,E.mutation.getFieldMask(),oe.now())):d.set(_.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,E)=>d.set(_,E))),i.forEach(((_,E)=>p.set(_,new iC(E,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new he(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let E=a.get(y)||Nn.empty();E=p.applyToLocalView(_,E),a.set(y,E);const A=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,A)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,E=y.value,A=GE();E.forEach((M=>{if(!c.has(M)){const G=JE(i.get(M),a.get(M));G!==null&&A.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return yt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):oR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve($r());let p=Vl,y=c;return d.next((_=>X.forEach(_,((E,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(t,E).next((M=>{y=y.insert(E,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((E=>({batchId:p,changes:HE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((a=>{let l=Sl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(A,M){return new _h(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((E=>{E.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const E=_.getKey();d.get(E)===null&&(d=d.insert(E,an.newInvalidDocument(E)))}));let p=Sl();return d.forEach(((y,_)=>{const E=c.get(y);E!==void 0&&Dl(E.mutation,_,Nn.empty(),oe.now()),Th(i,_)&&(p=p.insert(y,_))})),p}))}}class rC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:KR(l.bundledQuery),readTime:Bi(l.readTime)}})(i)),X.resolve()}}class aC{constructor(){this.overlays=new he(yt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=$r();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=$r(),c=i.length+1,d=new yt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new he(((_,E)=>_-E));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let E=c.get(_.largestBatchId);E===null&&(E=$r(),c=c.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const p=$r(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,E)=>p.set(_,E))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new AR(i,a));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class oC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Zm{constructor(){this.Qr=new Pe(Ge.$r),this.Ur=new Pe(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new yt(new ce([])),a=new Ge(i,t),l=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new ce([])),a=new Ge(i,t),l=new Ge(i,t+1);let c=Lt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class lC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(Ge.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new SR(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),l=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Pe(Ut);return i.forEach((l=>{const c=new Ge(l,0),d=new Ge(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;yt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new yt(c),0);let p=new Pe(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Ge(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ge(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class uC{constructor(t){this.ri=t,this.docs=(function(){return new he(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=Ts();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Ts();const d=i.path,p=new yt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:E}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||P2(L2(E),a)<=0||(l.has(E.key)||Th(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){Et(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new cC(this)}getSize(t){return X.resolve(this.size)}}class cC extends nC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class hC{constructor(t){this.persistence=t,this.si=new sa((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=uo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new uo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class hT{constructor(t,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new oC,this.referenceDelegate=t(this),this.Pi=new hC(this),this.indexManager=new XR,this.remoteDocumentCache=(function(l){return new uC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new YR(i),this.Ii=new rC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new aC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new lC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new fC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class fC extends j2{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=yt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class lh{constructor(t,i){this.persistence=t,this.pi=new sa((a=>H2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=eC(this,i)}static mi(t,i){return new lh(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=qc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(t,i.fromCache,a,l)}}class dC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class mC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nS()?8:B2(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new dC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ya()<=kt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ka(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ya()<=kt.DEBUG&&lt("QueryEngine","Query:",Ka(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ya()<=kt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ka(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(i))):X.resolve())}ys(t,i){if(z0(i))return X.resolve(null);let a=ji(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=fm(i,null,"F"),a=ji(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,fm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return z0(i)||l.isEqual(St.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Ya()<=kt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ka(i)),this.vs(t,d,i,U2(l,Vl)).next((p=>p)))}))}Ds(t,i){let a=new Pe(BE(t));return i.forEach(((l,c)=>{Th(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ya()<=kt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ka(i)),this.ps.getDocumentsMatchingQuery(t,i,fr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tg="LocalStore",gC=3e8;class pC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new he(Ut),this.xs=new sa((c=>Gm(c)),Fm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function yC(r,t,i,a){return new pC(r,t,i,a)}async function fT(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}for(const _ of c){p.push(_.batchId);for(const E of _.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function _C(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,E){const A=_.batch,M=A.keys();let G=X.resolve();return M.forEach((et=>{G=G.next((()=>E.getEntry(y,et))).next((st=>{const W=_.docVersions.get(et);Qt(W!==null,48541),st.version.compareTo(W)<0&&(A.applyToRemoteDocument(st,_),st.isValidDocument()&&(st.setReadTime(_.commitVersion),E.addEntry(st)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function dT(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function vC(r,t){const i=wt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((E,A)=>{const M=l.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,E.addedDocuments,A))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?G=G.withResumeToken(tn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(E.resumeToken,a)),l=l.insert(A,G),(function(st,W,pt){return st.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=gC?!0:pt.addedDocuments.size+pt.modifiedDocuments.size+pt.removedDocuments.size>0})(M,G,E)&&p.push(i.Pi.updateTargetData(c,G))}));let y=Ts(),_=Lt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))})),p.push(EC(c,d,t.documentUpdates).next((E=>{y=E.ks,_=E.qs}))),!a.isEqual(St.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(E)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function EC(r,t,i){let a=Lt(),l=Lt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Ts();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(St.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):lt(tg,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function TC(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function bC(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new rr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function ym(r,t,i){const a=wt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;lt(tg,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function J0(r,t,i){const a=wt(r);let l=St.min(),c=Lt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,E){const A=wt(y),M=A.xs.get(E);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(_,E)})(a,d,ji(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:Lt()))).next((p=>(SC(a,uR(t),p),{documents:p,Qs:c})))))}function SC(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class W0{constructor(){this.activeTargetIds=gR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AC{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wC{Oo(t){}shutdown(){}}const tv="ConnectivityMonitor";class ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(tv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function _m(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Fd="RestConnection",RC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=_m(),p=this.zo(t,i.toUriEncodedString());lt(Fd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),E=fo(_);return this.Jo(t,p,y,a,E).then((A=>(lt(Fd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw so(Fd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=RC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class IC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class xC extends CC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=_m();return new Promise(((p,y)=>{const _=new pE;_.setWithCredentials(!0),_.listenOnce(yE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const A=_.getResponseJson();lt(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Bc.TIMEOUT:lt(sn,`RPC '${t}' ${d} timed out`),y(new ft(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=_.getStatus();if(lt(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const et=G?.error;if(et&&et.status&&et.message){const st=(function(pt){const bt=pt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(bt)>=0?bt:Z.UNKNOWN})(et.status);y(new ft(st,et.message))}else y(new ft(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ft(Z.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(sn,`RPC '${t}' ${d} completed.`)}}));const E=JSON.stringify(l);lt(sn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",E,a,15)}))}T_(t,i,a){const l=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=EE(),p=vE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const E=c.join("");lt(sn,`Creating RPC '${t}' stream ${l}: ${E}`,y);const A=d.createWebChannel(E,y);this.I_(A);let M=!1,G=!1;const et=new IC({Yo:W=>{G?lt(sn,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(M||(lt(sn,`Opening RPC '${t}' stream ${l} transport.`),A.open(),M=!0),lt(sn,`RPC '${t}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),st=(W,pt,bt)=>{W.listen(pt,(mt=>{try{bt(mt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return st(A,bl.EventType.OPEN,(()=>{G||(lt(sn,`RPC '${t}' stream ${l} transport opened.`),et.o_())})),st(A,bl.EventType.CLOSE,(()=>{G||(G=!0,lt(sn,`RPC '${t}' stream ${l} transport closed`),et.a_(),this.E_(A))})),st(A,bl.EventType.ERROR,(W=>{G||(G=!0,so(sn,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),et.a_(new ft(Z.UNAVAILABLE,"The operation could not be completed")))})),st(A,bl.EventType.MESSAGE,(W=>{if(!G){const pt=W.data[0];Qt(!!pt,16349);const bt=pt,mt=bt?.error||bt[0]?.error;if(mt){lt(sn,`RPC '${t}' stream ${l} received error:`,mt);const Ht=mt.status;let $t=(function(S){const I=Oe[S];if(I!==void 0)return tT(I)})(Ht),Ot=mt.message;$t===void 0&&($t=Z.INTERNAL,Ot="Unknown error status: "+Ht+" with message "+mt.message),G=!0,et.a_(new ft($t,Ot)),A.close()}else lt(sn,`RPC '${t}' stream ${l} received:`,pt),et.u_(pt)}})),st(p,_E.STAT_EVENT,(W=>{W.stat===am.PROXY?lt(sn,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===am.NOPROXY&&lt(sn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function wh(r){return new MR(r,!0)}class mT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class gT{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Es(i.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ft(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NC extends gT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=UR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Bi(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=hm(y)?{documents:zR(c,y)}:{query:jR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=iT(c,d.resumeToken);const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=dm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=qR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class DC extends gT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=PR(t.writeResults,t.commitTime),a=Bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>LR(this.serializer,a)))};this.q_(i)}}class OC{}class MC extends OC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,mm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,mm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class VC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class kC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(lt(na,"Restarting streams for network reachability change."),await(async function(y){const _=wt(y);_.Ea.add(4),await Zl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Rh(_)})(this))}))})),this.Ra=new VC(a,l)}}async function Rh(r){if(ra(r))for(const t of r.da)await t(!0)}async function Zl(r){for(const t of r.da)await t(!1)}function pT(r,t){const i=wt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sg(i)?ig(i):vo(i).O_()&&ng(i,t))}function eg(r,t){const i=wt(r),a=vo(i);i.Ia.delete(t),a.O_()&&yT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Ra.set("Unknown"))}function ng(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}vo(r).Y_(t)}function yT(r,t){r.Va.Ue(t),vo(r).Z_(t)}function ig(r){r.Va=new xR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function sg(r){return ra(r)&&!vo(r).x_()&&r.Ia.size>0}function ra(r){return wt(r).Ea.size===0}function _T(r){r.Va=void 0}async function UC(r){r.Ra.set("Online")}async function LC(r){r.Ia.forEach(((t,i)=>{ng(r,t)}))}async function PC(r,t){_T(r),sg(r)?(r.Ra.ha(t),ig(r)):r.Ra.set("Unknown")}async function zC(r,t,i){if(r.Ra.set("Online"),t instanceof nT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){lt(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(r,a)}else if(t instanceof Fc?r.Va.Ze(t):t instanceof eT?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await dT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ia.get(_);E&&c.Ia.set(_,E.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const E=c.Ia.get(y);if(!E)return;c.Ia.set(y,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),yT(c,y);const A=new rr(E.target,y,_,E.sequenceNumber);ng(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(na,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,t,i){if(!_o(t))throw t;r.Ea.add(1),await Zl(r),r.Ra.set("Offline"),i||(i=()=>dT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(na,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rh(r)}))}function vT(r,t){return t().catch((i=>uh(r,i,t)))}async function Ch(r){const t=wt(r),i=pr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bm;for(;jC(t);)try{const l=await TC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,BC(t,l)}catch(l){await uh(t,l)}ET(t)&&TT(t)}function jC(r){return ra(r)&&r.Ta.length<10}function BC(r,t){r.Ta.push(t);const i=pr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function ET(r){return ra(r)&&!pr(r).x_()&&r.Ta.length>0}function TT(r){pr(r).start()}async function qC(r){pr(r).ra()}async function HC(r){const t=pr(r);for(const i of r.Ta)t.ea(i.mutations)}async function GC(r,t,i){const a=r.Ta.shift(),l=Km.from(a,t,i);await vT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ch(r)}async function FC(r,t){t&&pr(r).X_&&await(async function(a,l){if((function(d){return RR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();pr(a).B_(),await vT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(a)}})(r,t),ET(r)&&TT(r)}async function iv(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),lt(na,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await Zl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function QC(r,t){const i=wt(r);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await Zl(i),i.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=(function(i,a,l){const c=wt(i);return c.sa(),new NC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:UC.bind(null,r),t_:LC.bind(null,r),r_:PC.bind(null,r),H_:zC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),sg(r)?ig(r):r.Ra.set("Unknown")):(await r.ma.stop(),_T(r))}))),r.ma}function pr(r){return r.fa||(r.fa=(function(i,a,l){const c=wt(i);return c.sa(),new DC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qC.bind(null,r),r_:FC.bind(null,r),ta:HC.bind(null,r),na:GC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rg{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new rg(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(r,t){if(Es("AsyncQueue",`${t}: ${r}`),_o(r))return new ft(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||yt.comparator(i.key,a.key):(i,a)=>yt.comparator(i.key,a.key),this.keyedMap=Sl(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new eo;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class sv{constructor(){this.ga=new he(yt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class co{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new co(t,i,eo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class YC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class KC{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=rv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ft(Z.ABORTED,"Firestore shutting down"))}}function rv(){return new sa((r=>jE(r)),Eh)}async function bT(r,t){const i=wt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new YC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ag(d,`Initialization of query '${Ka(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&og(i)}async function ST(r,t){const i=wt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function XC(r,t){const i=wt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&og(i)}function $C(r,t,i){const a=wt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function og(r){r.Ca.forEach((t=>{t.next()}))}var vm,av;(av=vm||(vm={})).Ma="default",av.Cache="cache";class AT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new co(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=co.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==vm.Cache}}class wT{constructor(t){this.key=t}}class RT{constructor(t){this.key=t}}class ZC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=BE(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,A)=>{const M=l.get(E),G=Th(this.query,A)?A:null,et=!!M&&this.mutatedKeys.has(M.key),st=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;M&&G?M.data.isEqual(G.data)?et!==st&&(a.track({type:3,doc:G}),W=!0):this.su(M,G)||(a.track({type:2,doc:G}),W=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),W=!0):M&&!G&&(a.track({type:1,doc:M}),W=!0,(y||_)&&(p=!0)),W&&(G?(d=d.add(G),c=st?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),a.track({type:1,doc:E})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((E,A)=>(function(G,et){const st=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:W})}};return st(G)-st(et)})(E.type,A.type)||this.eu(E.doc,A.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new co(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new RT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new wT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return co.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class JC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class WC{constructor(t){this.key=t,this.hu=!1}}class tI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>jE(p)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new he(yt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eI(r,t,i=!0){const a=OT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await CT(a,t,i,!0),l}async function nI(r,t){const i=OT(r);await CT(i,t,!0,!1)}async function CT(r,t,i,a){const l=await bC(r.localStore,ji(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await iI(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&pT(r.remoteStore,l),p}async function iI(r,t,i,a,l){r.pu=(A,M,G)=>(async function(st,W,pt,bt){let mt=W.view.ru(pt);mt.Cs&&(mt=await J0(st.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,mt))));const Ht=bt&&bt.targetChanges.get(W.targetId),$t=bt&&bt.targetMismatches.get(W.targetId)!=null,Ot=W.view.applyChanges(mt,st.isPrimaryClient,Ht,$t);return lv(st,W.targetId,Ot.au),Ot.snapshot})(r,A,M,G);const c=await J0(r.localStore,t,!0),d=new ZC(t,c.Qs),p=d.ru(c.documents),y=$l.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);lv(r,i,_.au);const E=new JC(t,i,d);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function sI(r,t,i){const a=wt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await ym(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&eg(a.remoteStore,l.targetId),Em(a,l.targetId)})).catch(yo)):(Em(a,l.targetId),await ym(a.localStore,l.targetId,!0))}async function rI(r,t){const i=wt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),eg(i.remoteStore,a.targetId))}async function aI(r,t,i){const a=dI(r);try{const l=await(function(d,p){const y=wt(d),_=oe.now(),E=p.reduce(((G,et)=>G.add(et.key)),Lt());let A,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let et=Ts(),st=Lt();return y.Ns.getEntries(G,E).next((W=>{et=W,et.forEach(((pt,bt)=>{bt.isValidDocument()||(st=st.add(pt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,et))).next((W=>{A=W;const pt=[];for(const bt of p){const mt=TR(bt,A.get(bt.key).overlayedDocument);mt!=null&&pt.push(new vr(bt.key,mt,ME(mt.value.mapValue),ci.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,pt,p)})).next((W=>{M=W;const pt=W.applyToLocalDocumentSet(A,st);return y.documentOverlayCache.saveOverlays(G,W.batchId,pt)}))})).then((()=>({batchId:M.batchId,changes:HE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new he(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Jl(a,l.changes),await Ch(a.remoteStore)}catch(l){const c=ag(l,"Failed to persist write");i.reject(c)}}async function IT(r,t){const i=wt(r);try{const a=await vC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Jl(i,a,t)}catch(a){await yo(a)}}function ov(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=wt(d);y.onlineState=p;let _=!1;y.queries.forEach(((E,A)=>{for(const M of A.Sa)M.va(p)&&(_=!0)})),_&&og(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function oI(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new he(yt.comparator);d=d.insert(c,an.newNoDocument(c,St.min()));const p=Lt().add(c),y=new Ah(St.min(),new Map,new he(Ut),d,p);await IT(a,y),a.du=a.du.remove(c),a.Au.delete(t),ug(a)}else await ym(a.localStore,t,!1).then((()=>Em(a,t,i))).catch(yo)}async function lI(r,t){const i=wt(r),a=t.batch.batchId;try{const l=await _C(i.localStore,t);NT(i,a,null),xT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,l)}catch(l){await yo(l)}}async function uI(r,t,i){const a=wt(r);try{const l=await(function(d,p){const y=wt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let E;return y.mutationQueue.lookupMutationBatch(_,p).next((A=>(Qt(A!==null,37113),E=A.keys(),y.mutationQueue.removeMutationBatch(_,A)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,E,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E))).next((()=>y.localDocuments.getDocuments(_,E)))}))})(a.localStore,t);NT(a,t,i),xT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Jl(a,l)}catch(l){await yo(l)}}function xT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function NT(r,t,i){const a=wt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||DT(r,a)}))}function DT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(eg(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ug(r))}function lv(r,t,i){for(const a of i)a instanceof wT?(r.Ru.addReference(a.key,t),cI(r,a)):a instanceof RT?(lt(lg,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||DT(r,a.key)):Et(19791,{wu:a})}function cI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(lg,"New document in limbo: "+i),r.Eu.add(a),ug(r))}function ug(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new yt(ce.fromString(t)),a=r.fu.next();r.Au.set(a,new WC(i)),r.du=r.du.insert(i,a),pT(r.remoteStore,new rr(ji(vh(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function Jl(r,t,i){const a=wt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const E=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,E?"current":"not-current")}if(_){l.push(_);const E=Wm.As(y.targetId,_);c.push(E)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const E=wt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(_,(M=>X.forEach(M.Es,(G=>E.persistence.referenceDelegate.addReference(A,M.targetId,G))).next((()=>X.forEach(M.ds,(G=>E.persistence.referenceDelegate.removeReference(A,M.targetId,G)))))))))}catch(A){if(!_o(A))throw A;lt(tg,"Failed to update sequence numbers: "+A)}for(const A of _){const M=A.targetId;if(!A.fromCache){const G=E.Ms.get(M),et=G.snapshotVersion,st=G.withLastLimboFreeSnapshotVersion(et);E.Ms=E.Ms.insert(M,st)}}})(a.localStore,c))}async function hI(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){lt(lg,"User change. New user:",t.toKey());const a=await fT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ft(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Ls)}}function fI(r,t){const i=wt(r),a=i.Au.get(t);if(a&&a.hu)return Lt().add(a.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function OT(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oI.bind(null,t),t.Pu.H_=XC.bind(null,t.eventManager),t.Pu.yu=$C.bind(null,t.eventManager),t}function dI(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uI.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return yC(this.persistence,new mC,t.initialUser,this.serializer)}Cu(t){return new hT(Jm.mi,this.serializer)}Du(t){return new AC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class mI extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new WR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new hT((a=>lh.mi(a,i)),this.serializer)}}class Tm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=hI.bind(null,this.syncEngine),await QC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new KC})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),a=(function(c){return new xC(c)})(t.databaseInfo);return(function(c,d,p,y){return new MC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new kC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return ev.v()?new ev:new wC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,E){const A=new tI(l,c,d,p,y,_);return E&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);lt(na,"RemoteStore shutting down."),a.Ea.add(5),await Zl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};class MT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const yr="FirestoreClient";class gI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(yr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(yr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ag(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(yr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await fT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function uv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await pI(r);lt(yr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>iv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>iv(t.remoteStore,l))),r._onlineComponents=t}async function pI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(yr,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;so("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new ch)}}else lt(yr,"Using default OfflineComponentProvider"),await Yd(r,new mI(void 0));return r._offlineComponents}async function VT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(yr,"Using user provided OnlineComponentProvider"),await uv(r,r._uninitializedComponentsProvider._online)):(lt(yr,"Using default OnlineComponentProvider"),await uv(r,new Tm))),r._onlineComponents}function yI(r){return VT(r).then((t=>t.syncEngine))}async function bm(r){const t=await VT(r),i=t.eventManager;return i.onListen=eI.bind(null,t.syncEngine),i.onUnlisten=sI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=nI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=rI.bind(null,t.syncEngine),i}function _I(r,t,i={}){const a=new cr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const E=new MT({next:M=>{E.Nu(),d.enqueueAndForget((()=>ST(c,A)));const G=M.docs.has(p);!G&&M.fromCache?_.reject(new ft(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&y&&y.source==="server"?_.reject(new ft(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),A=new AT(vh(p.path),E,{includeMetadataChanges:!0,qa:!0});return bT(c,A)})(await bm(r),r.asyncQueue,t,i,a))),a.promise}function kT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const cv=new Map;const UT="firestore.googleapis.com",hv=!0;class fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=hv}else this.host=t.host,this.ssl=t.ssl??hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<ZR)throw new ft(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}k2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ft(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cg{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new A2;switch(a.type){case"firstParty":return new I2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function vI(r,t,i,a={}){r=ui(r,cg);const l=fo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(Nv(`https://${p}`),Dv("Firestore",!0)),c.host!==UT&&c.host!==p&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!hr(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,E;if(typeof a.mockUserToken=="string")_=a.mockUserToken,E=rn.MOCK_USER;else{_=Yb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ft(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new rn(A)}r._authCredentials=new w2(new bE(_,E))}}class Ih{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ih(this.firestore,t,this._query)}}class Ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ve(this.firestore,t,this._key)}toJSON(){return{type:Ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Kl(i,Ve._jsonSchema))return new Ve(t,a||null,new yt(ce.fromString(i.referencePath)))}}Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:Me("string",Ve._jsonSchemaVersion),referencePath:Me("string")};class jl extends Ih{constructor(t,i,a){super(t,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new yt(t))}withConverter(t){return new jl(this.firestore,t,this._path)}}function Gn(r,t,...i){if(r=hn(r),arguments.length===1&&(t=zm.newId()),V2("doc","path",t),r instanceof cg){const a=ce.fromString(t,...i);return R0(a),new Ve(r,null,new yt(a))}{if(!(r instanceof Ve||r instanceof jl))throw new ft(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return R0(a),new Ve(r.firestore,r instanceof jl?r.converter:null,new yt(a))}}const dv="AsyncQueue";class mv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&lt(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_o(t))throw t;lt(dv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=rg.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Et(47125,{Pc:gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function gv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function pv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ia extends cg{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mv(t),this._firestoreClient=void 0,await t}}}function EI(r,t){const i=typeof r=="object"?r:kv(),a=typeof r=="string"?r:nh,l=xm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Fb("firestore");c&&vI(l,...c)}return l}function hg(r){if(r._terminated)throw new ft(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TI(r),r._firestoreClient}function TI(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Q2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,kT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new gI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(tn.fromBase64String(t))}catch(i){throw new ft(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Kn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Me("string",Kn._jsonSchemaVersion),bytes:Me("string")};class xh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wl{constructor(t){this._methodName=t}}class qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Me("string",qi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class Hi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,Hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Hi(t.vectorValues);throw new ft(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Me("string",Hi._jsonSchemaVersion),vectorValues:Me("object")};const bI=/^__.*__$/;class SI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new vr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(t,this.data,i,this.fieldTransforms)}}class LT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new vr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function PT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Nh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(PT(this.Ac)&&bI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class AI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wh(t)}Cc(t,i,a,l=!1){return new Nh({Ac:t,methodName:i,Dc:a,path:We.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zT(r){const t=r._freezeSettings(),i=wh(r._databaseId);return new AI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function wI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);mg("Data must be an object, but it was:",d,a);const p=jT(a,d);let y,_;if(c.merge)y=new Nn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const A of c.mergeFields){const M=Sm(t,A,i);if(!d.contains(M))throw new ft(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);qT(E,M)||E.push(M)}y=new Nn(E),_=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,_=d.fieldTransforms;return new SI(new En(p),y,_)}class Dh extends Wl{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function RI(r,t,i){return new Nh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fg extends Wl{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=RI(this,t,!0),a=this.vc.map((c=>tu(c,i))),l=new lo(a);return new ZE(t.path,l)}isEqual(t){return t instanceof fg&&hr(this.vc,t.vc)}}class dg extends Wl{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new zl(t.serializer,QE(t.serializer,this.Fc));return new ZE(t.path,i)}isEqual(t){return t instanceof dg&&this.Fc===t.Fc}}function CI(r,t,i,a){const l=r.Cc(1,t,i);mg("Data must be an object, but it was:",l,a);const c=[],d=En.empty();_r(a,((y,_)=>{const E=gg(t,y,i);_=hn(_);const A=l.yc(E);if(_ instanceof Dh)c.push(E);else{const M=tu(_,A);M!=null&&(c.push(E),d.set(E,M))}}));const p=new Nn(c);return new LT(d,p,l.fieldTransforms)}function II(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Sm(t,a,i)],y=[l];if(c.length%2!=0)throw new ft(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Sm(t,c[M])),y.push(c[M+1]);const _=[],E=En.empty();for(let M=p.length-1;M>=0;--M)if(!qT(_,p[M])){const G=p[M];let et=y[M];et=hn(et);const st=d.yc(G);if(et instanceof Dh)_.push(G);else{const W=tu(et,st);W!=null&&(_.push(G),E.set(G,W))}}const A=new Nn(_);return new LT(E,A,d.fieldTransforms)}function tu(r,t){if(BT(r=hn(r)))return mg("Unsupported field value:",t,r),jT(r,t);if(r instanceof Wl)return(function(a,l){if(!PT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=tu(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return QE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=oe.fromDate(a);return{timestampValue:oh(l.serializer,c)}}if(a instanceof oe){const c=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:iT(l.serializer,a._byteString)};if(a instanceof Ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Hi)return(function(d,p){return{mapValue:{fields:{[DE]:{stringValue:OE},[ih]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${jm(a)}`)})(r,t)}function jT(r,t){const i={};return wE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(r,((a,l)=>{const c=tu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function BT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof qi||r instanceof Kn||r instanceof Ve||r instanceof Wl||r instanceof Hi)}function mg(r,t,i){if(!BT(i)||!SE(i)){const a=jm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Sm(r,t,i){if((t=hn(t))instanceof xh)return t._internalPath;if(typeof t=="string")return gg(r,t);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const xI=new RegExp("[~\\*/\\[\\]]");function gg(r,t,i){if(t.search(xI)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new xh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ft(Z.INVALID_ARGUMENT,p+r+y)}function qT(r,t){return r.some((i=>i.isEqual(t)))}class HT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(GT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class NI extends HT{data(){return super.data()}}function GT(r,t){return typeof t=="string"?gg(r,t):t instanceof xh?t._internalPath:t._delegate._internalPath}function DI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OI{convertValue(t,i="none"){switch(gr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(mr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return _r(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[ih].arrayValue?.values?.map((a=>be(a.doubleValue)));return new Hi(i)}convertGeoPoint(t){return new qi(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(kl(t));default:return null}}convertTimestamp(t){const i=dr(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);Qt(uT(a),9688,{name:t});const l=new Ul(a.get(1),a.get(3)),c=new yt(a.popFirst(5));return l.isEqual(i)||Es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function MI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jr extends HT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(GT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Me("string",Jr._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Qc extends Jr{data(t={}){return super.data(t)}}class no{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new wl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new wl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,E=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:VI(p.type),doc:y,oldIndex:_,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function VI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}function kI(r){r=ui(r,Ve);const t=ui(r.firestore,ia);return _I(hg(t),r._key).then((i=>QT(t,r,i)))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Me("string",no._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class FT extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}}function UI(r,t,i){r=ui(r,Ve);const a=ui(r.firestore,ia),l=MI(r.converter,t);return pg(a,[wI(zT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ci.none())])}function Ui(r,t,i,...a){r=ui(r,Ve);const l=ui(r.firestore,ia),c=zT(l);let d;return d=typeof(t=hn(t))=="string"||t instanceof xh?II(c,"updateDoc",r._key,t,i,a):CI(c,"updateDoc",r._key,t),pg(l,[d.toMutation(r._key,ci.exists(!0))])}function LI(r){return pg(ui(r.firestore,ia),[new Ym(r._key,ci.none())])}function PI(r,...t){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||pv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ve)d=ui(r.firestore,ia),p=vh(r._key.path),c={next:y=>{t[a]&&t[a](QT(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=ui(r,Ih);d=ui(y.firestore,ia),p=y._query;const _=new FT(d);c={next:E=>{t[a]&&t[a](new no(d,_,y,E))},error:t[a+1],complete:t[a+2]},DI(r._query)}return(function(_,E,A,M){const G=new MT(M),et=new AT(E,G,A);return _.asyncQueue.enqueueAndForget((async()=>bT(await bm(_),et))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>ST(await bm(_),et)))}})(hg(d),p,l,c)}function pg(r,t){return(function(a,l){const c=new cr;return a.asyncQueue.enqueueAndForget((async()=>aI(await yI(a),l,c))),c.promise})(hg(r),t)}function QT(r,t,i){const a=i.docs.get(t._key),l=new FT(r);return new Jr(r,l,t._key,a,new wl(i.hasPendingWrites,i.fromCache),t.converter)}function kc(...r){return new fg("arrayUnion",r)}function zI(r){return new dg("increment",r)}(function(t,i=!0){(function(l){po=l})(mo),io(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ia(new R2(a.getProvider("auth-internal")),new x2(d,a.getProvider("app-check-internal")),(function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(_.options.projectId,E)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),lr(b0,S0,t),lr(b0,S0,"esm2020")})();const jI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),yv=r=>{const t=BI(r);return t.charAt(0).toUpperCase()+t.slice(1)},YT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),qI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var HI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GI=ge.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>ge.createElement("svg",{ref:y,...HI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:YT("lucide",l),...!c&&!qI(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,E])=>ge.createElement(_,E)),...Array.isArray(c)?c:[c]]));const Fe=(r,t)=>{const i=ge.forwardRef(({className:a,...l},c)=>ge.createElement(GI,{ref:c,iconNode:t,className:YT(`lucide-${jI(yv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=yv(r),i};const FI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Am=Fe("activity",FI);const QI=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],YI=Fe("battery",QI);const KI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],_v=Fe("book-open",KI);const XI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kd=Fe("circle-check-big",XI);const $I=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ZI=Fe("cpu",$I);const JI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],WI=Fe("eye-off",JI);const tx=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],ex=Fe("fast-forward",tx);const nx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ix=Fe("history",nx);const sx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],KT=Fe("house",sx);const rx=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wm=Fe("log-out",rx);const ax=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ox=Fe("rotate-ccw",ax);const lx=[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]],vv=Fe("signal",lx);const ux=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Tl=Fe("sparkles",ux);const cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ho=Fe("target",cx);const hx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fx=Fe("trophy",hx);const dx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ev=Fe("user",dx);const mx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],XT=Fe("x",mx);const gx=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],px=Fe("zap",gx),yx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2f012b1619cb4ef46aa637"},$T=Vv(yx),Xd=b2($T),Fn=EI($T),Qn=typeof __app_id<"u"?__app_id:"spectrum-fives",Zr={BLUE:{name:"Blue",color:"text-blue-400",bg:"bg-blue-900/40",border:"border-blue-500",icon:Am},GREEN:{name:"Green",color:"text-emerald-400",bg:"bg-emerald-900/40",border:"border-emerald-500",icon:ZI},MAGENTA:{name:"Magenta",color:"text-fuchsia-400",bg:"bg-fuchsia-900/40",border:"border-fuchsia-500",icon:ho},SILVER:{name:"Silver",color:"text-slate-200",bg:"bg-slate-700/40",border:"border-slate-400",icon:px}},Uc={BLUE:0,GREEN:1,MAGENTA:2,SILVER:3},Tv=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},_x=({type:r,message:t,subtext:i,icon:a})=>C.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center pointer-events-none",children:C.jsxs("div",{className:`flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-[0_0_50px_rgba(0,0,0,0.8)] transform transition-all animate-in fade-in zoom-in slide-in-from-bottom-10 duration-300 backdrop-blur-md
      ${r==="success"?"bg-fuchsia-900/90 border-fuchsia-500 text-fuchsia-100":""}
      ${r==="failure"?"bg-red-900/90 border-red-500 text-red-100":""}
      ${r==="neutral"?"bg-slate-900/90 border-slate-500 text-slate-100":""}
    `,children:[a&&C.jsx("div",{className:"mb-4 p-4 bg-black/30 rounded-full border-2 border-white/20",children:C.jsx(a,{size:64,className:"animate-bounce text-fuchsia-400"})}),C.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest text-center drop-shadow-lg mb-2",children:t}),i&&C.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide text-center",children:i})]})}),$d=()=>C.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[C.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-fuchsia-950/20 via-gray-950 to-black"}),C.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-fuchsia-900/5 mix-blend-overlay"}),C.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/carbon-fibre.png")'}})]}),vx=()=>C.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[C.jsx(ho,{size:12,className:"text-fuchsia-500"}),C.jsx("span",{className:"text-[10px] font-black tracking-widest text-fuchsia-500 uppercase",children:"SPECTRUM"})]}),bv=({onConfirmLeave:r,onConfirmLobby:t,onCancel:i,isHost:a,inGame:l})=>C.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:C.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[C.jsx("h3",{className:"text-xl font-bold text-white mb-2 font-serif",children:"Abort Frequency?"}),C.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:l?"Leaving now will destabilize the session for all observers!":"Disconnecting from the backroom..."}),C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsx("button",{onClick:i,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay Sync'd"}),l&&a&&C.jsxs("button",{onClick:t,className:"py-3 rounded font-bold bg-fuchsia-700 hover:bg-fuchsia-600 text-white flex items-center justify-center gap-2 transition-colors",children:[C.jsx(KT,{size:18})," Return to Backroom"]}),C.jsxs("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold flex items-center justify-center gap-2 transition-colors",children:[C.jsx(wm,{size:18})," Sever Connection"]})]})]})}),Zd=({suit:r,val:t,faceDown:i,onClick:a,disabled:l,highlight:c,small:d,tiny:p})=>{const y=i?Zr.MAGENTA:Zr[r]||Zr.MAGENTA,_=i?5:t,E=y.icon;if(p)return C.jsx("div",{className:`w-6 h-8 rounded border flex items-center justify-center ${y.bg} ${y.border} shadow-sm`,title:r,children:C.jsx("span",{className:`text-[10px] font-black ${y.color}`,children:_})});const A=d?"w-16 h-24 p-2":"w-24 h-36 md:w-32 md:h-48 p-3";return C.jsxs("button",{onClick:a,disabled:l,className:`relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between overflow-hidden
        ${A} ${y.bg} ${y.border}
        ${c?"ring-4 ring-fuchsia-400 scale-105 z-10":""}
        ${l?"opacity-50 cursor-not-allowed grayscale":"hover:scale-105 cursor-pointer"}
      `,children:[i&&C.jsx("div",{className:"absolute inset-0 bg-fuchsia-600/10 flex items-center justify-center pointer-events-none",children:C.jsx(WI,{size:48,className:"text-fuchsia-500/10"})}),C.jsxs("div",{className:`w-full flex justify-between font-black ${d?"text-xs":"text-lg"} ${y.color}`,children:[C.jsx("span",{children:_}),C.jsx(ho,{size:d?12:16,opacity:.3})]}),C.jsxs("div",{className:"flex flex-col items-center",children:[C.jsx(E,{size:d?20:32,className:`${y.color} mb-1`}),!d&&C.jsx("span",{className:`text-[8px] uppercase tracking-widest font-black ${y.color} opacity-60`,children:i?"MAGENTA 5":y.name})]}),C.jsx("div",{className:`w-full flex justify-start font-black ${d?"text-xs":"text-lg"} ${y.color} rotate-180`,children:C.jsx("span",{children:_})})]})},Sv=({onClose:r})=>C.jsx("div",{className:"fixed inset-0 bg-black/95 z-[150] flex items-center justify-center p-0 md:p-4",children:C.jsxs("div",{className:"bg-gray-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border border-fuchsia-500/30 shadow-2xl flex flex-col",children:[C.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[C.jsxs("div",{className:"flex flex-col",children:[C.jsx("h2",{className:"text-2xl md:text-3xl font-black text-fuchsia-500 uppercase tracking-widest font-serif",children:"SYSTEM OVERVIEW"}),C.jsx("span",{className:"text-gray-500 text-[10px] uppercase font-bold tracking-widest",children:"Spectrum Protocol"})]}),C.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",children:C.jsx(XT,{})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 text-gray-300",children:[C.jsxs("div",{className:"bg-fuchsia-950/20 p-6 rounded-xl border border-fuchsia-500/20",children:[C.jsxs("h3",{className:"text-xl font-bold text-fuchsia-400 mb-2 flex items-center gap-2 font-serif",children:[C.jsx(ho,{size:20})," Target: Equilibrium 25"]}),C.jsxs("p",{className:"text-sm md:text-base leading-relaxed opacity-80",children:["Win tricks to collect cards. Your cumulative score must reach"," ",C.jsx("strong",{children:"25"}),". Exceeding 25 causes a"," ",C.jsx("strong",{children:"System Overload (Bust)"}),"you lose chips and forfeit the round score."]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsx("h4",{className:"font-bold text-white uppercase text-[10px] tracking-widest border-b border-gray-800 pb-2",children:"Trick Mechanisms"}),C.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[C.jsxs("li",{className:"flex gap-2",children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500 mt-1.5 shrink-0"})," ","Must follow lead suit if possible."]}),C.jsxs("li",{className:"flex gap-2",children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400 mt-1.5 shrink-0"})," ",C.jsx("strong",{children:"Silver"})," is always Trump."]}),C.jsxs("li",{className:"flex gap-2",children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Highest card of lead suit (or Trump) takes the trick."]})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("h4",{className:"font-bold text-fuchsia-400 uppercase text-[10px] tracking-widest border-b border-fuchsia-900/50 pb-2",children:"The Magenta 5 Override"}),C.jsxs("ul",{className:"space-y-3 text-xs md:text-sm",children:[C.jsxs("li",{className:"flex gap-2",children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Any card can be played ",C.jsx("strong",{children:"Face-Down"})," as a Magenta 5."]}),C.jsxs("li",{className:"flex gap-2",children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Allowed only if unable to follow suit OR if it's your final card of that suit."]}),C.jsxs("li",{className:"flex gap-2",children:[C.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-fuchsia-500 mt-1.5 shrink-0"})," ","Only ",C.jsx("strong",{children:"one"})," Magenta 5 per trick."]})]})]})]})]}),C.jsx("div",{className:"p-6 bg-gray-950 border-t border-gray-800 text-center",children:C.jsx("button",{onClick:r,className:"w-full md:w-auto bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-16 py-4 rounded-xl font-bold uppercase tracking-widest shadow-lg shadow-fuchsia-900/20",children:"Engage"})})]})});function Ex(){const[r,t]=ge.useState(null),[i,a]=ge.useState("menu"),[l,c]=ge.useState(""),[d,p]=ge.useState(""),[y,_]=ge.useState(""),[E,A]=ge.useState(null),[M,G]=ge.useState(!1),[et,st]=ge.useState(""),[W,pt]=ge.useState(!1),[bt,mt]=ge.useState(!1),[Ht,$t]=ge.useState(!1),[Ot,N]=ge.useState(null),[S,I]=ge.useState("NORMAL");ge.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await lw(Xd,__initial_auth_token):await iw(Xd))();const at=hw(Xd,t);return()=>at()},[]),ge.useEffect(()=>{if(!y||!r)return;const tt=PI(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),at=>{if(at.exists()){const w=at.data();A(w),w.status==="playing"?a("game"):w.status==="lobby"?a("lobby"):w.status==="finished"&&a("game")}else _(""),a("menu"),st("Synchronicity Terminated (Room Closed)")});return()=>tt()},[y,r]),ge.useEffect(()=>{if(!E||!r||E.status!=="playing")return;if(E.hostId===r.uid&&E.trick.length===E.players.length){const at=setTimeout(()=>{rt(E.trick,E.players,E.leadSuit)},1200);return()=>clearTimeout(at)}},[E?.trick?.length,r?.uid,E?.status]);const V=(tt,at,w="",B=null)=>{N({type:tt,message:at,subtext:w,icon:B}),setTimeout(()=>N(null),2e3)},O=async()=>{if(!l)return st("Identifier Required");G(!0);const tt=Math.random().toString(36).substring(2,7).toUpperCase(),at={roomId:tt,hostId:r.uid,status:"lobby",players:[{id:r.uid,name:l,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}],deck:[],trick:[],leadSuit:null,turnIndex:0,roundCount:1,logs:[],reserve:0};await UI(Gn(Fn,"artifacts",Qn,"public","data","rooms",tt),at),_(tt),G(!1)},U=async()=>{if(!d||!l)return st("Protocol Data Missing");G(!0);const tt=Gn(Fn,"artifacts",Qn,"public","data","rooms",d),at=await kI(tt);if(!at.exists()){st("Frequency not found"),G(!1);return}const w=at.data();if(w.status!=="lobby"){st("Session locked"),G(!1);return}if(w.players.length>=4){st("Backroom Full"),G(!1);return}const B=[...w.players,{id:r.uid,name:l,chips:5,hand:[],scorePile:[],scoreTotal:0,busted:!1,ready:!1}];await Ui(tt,{players:B}),_(d),G(!1)},R=async()=>{if(!E||E.hostId!==r.uid)return;const tt=E.players.length,at=tt===3?9:13,w=[];Object.keys(Zr).forEach($=>{for(let ot=1;ot<=at;ot++)w.push({suit:$,val:ot})});const B=Tv(w),J=Math.floor(B.length/tt),nt=E.players.map($=>{const ot=[];for(let xt=0;xt<J;xt++)ot.push(B.pop());return{...$,hand:ot,scorePile:[],scoreTotal:0,busted:!1,ready:!1}}),ct=E.status==="playing"||E.turnIndex===null;await Ui(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),{status:"playing",deck:B,players:nt,trick:[],leadSuit:null,turnIndex:0,roundResult:null,roundCount:ct?zI(1):E.roundCount,logs:kc({text:`Initialized Frequency Sync: Round ${ct?E.roundCount+1:E.roundCount}`,type:"neutral"})})},ne=async()=>{if(!E||E.hostId!==r.uid)return;const tt=E.players.length,at=tt===3?9:13,w=[];Object.keys(Zr).forEach(ct=>{for(let $=1;$<=at;$++)w.push({suit:ct,val:$})});const B=Tv(w),J=Math.floor(B.length/tt),nt=E.players.map(ct=>{const $=[];for(let ot=0;ot<J;ot++)$.push(B.pop());return{...ct,chips:5,hand:$,scorePile:[],scoreTotal:0,busted:!1,ready:!1}});await Ui(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),{status:"playing",deck:B,players:nt,trick:[],leadSuit:null,turnIndex:0,roundCount:1,reserve:0,roundResult:null,logs:[{text:"--- GRID REBOOTED: COMMENCING NEW OPERATION ---",type:"neutral"}]}),mt(!1)},pe=async()=>{if(!E)return;const tt=E.players.map(at=>at.id===r.uid?{...at,ready:!0}:at);await Ui(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),{players:tt})},F=async(tt,at)=>{if(!E||E.turnIndex===null||E.players[E.turnIndex].id!==r.uid)return;const w=E.players[E.turnIndex],B=w.hand[tt];if(E.trick.length>0&&!at&&w.hand.some(vt=>vt.suit===E.leadSuit)&&B.suit!==E.leadSuit){V("failure","DESYNC","Must maintain lead frequency!");return}if(at){const ln=w.hand.some(ke=>ke.suit===E.leadSuit),vt=w.hand.filter(ke=>ke.suit===E.leadSuit).length===1&&B.suit===E.leadSuit;if(E.trick.some(ke=>ke.faceDown)){V("failure","JAMMED","One Magenta Override limit!");return}if(E.trick.length>0&&ln&&!vt){V("failure","INVALID MASK","Cannot mask if able to follow.");return}}const J=[...E.players],nt=E.turnIndex;J[nt].hand.splice(tt,1);const ct={playerId:r.uid,playerName:w.name,suit:B.suit,val:B.val,faceDown:at},$=[...E.trick,ct];let ot=E.leadSuit;E.trick.length===0&&(ot=at?"MAGENTA":B.suit);const xt=(E.turnIndex+1)%E.players.length,zt=at?` ${w.name} initiated MAGENTA_OVERRIDE (MASKED)`:` ${w.name} transmitted signal: ${B.suit} ${B.val}`;await Ui(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),{players:J,trick:$,leadSuit:ot,turnIndex:xt,logs:kc({text:zt,type:"neutral"})}),I("NORMAL")},rt=async(tt,at,w)=>{let B=tt[0].playerId,J=-1;const nt=tt.filter(vt=>vt.suit==="SILVER"&&!vt.faceDown);if(nt.length>0)J=Math.max(...nt.map(vt=>vt.val)),B=nt.find(vt=>vt.val===J).playerId;else{const vt=tt.filter(Se=>Se.suit===w&&!Se.faceDown||Se.faceDown&&w==="MAGENTA");vt.length>0&&(J=Math.max(...vt.map(Se=>Se.faceDown?5:Se.val)),B=vt.find(Se=>(Se.faceDown?5:Se.val)===J).playerId)}const ct=at.findIndex(vt=>vt.id===B),$=tt.find(vt=>vt.playerId===B),ot=$.faceDown?5:$.val,xt=[],zt=at.map((vt,Se)=>{if(Se===ct){const ke=vt.scoreTotal+ot;return ke>25&&xt.push({text:` SYSTEM_OVERLOAD: ${vt.name} BUSTED at ${ke} Equilibrium`,type:"danger"}),{...vt,scorePile:[...vt.scorePile,$],scoreTotal:ke,busted:ke>25}}return vt});if(zt.every(vt=>vt.hand.length===0)){const vt=JSON.parse(JSON.stringify(zt)),ke=vt.length===3?[2,1,0]:[3,2,1,0],ze={};vt.filter(se=>!se.busted).forEach(se=>{const en=Math.abs(25-se.scoreTotal);ze[en]||(ze[en]=[]),ze[en].push(se.id)});const hi=Object.keys(ze).map(Number).sort((se,en)=>se-en);let ye=E.reserve||0;const fi=ze[hi[0]]||[],Qi=fi.length===1;let ie=0;if(hi.forEach(se=>{const en=ze[se].length,je=ke[ie]||0,Yi=["1st","2nd","3rd","4th"][ie]||`${ie+1}th`;ze[se].forEach(Er=>{const Xn=vt.findIndex(mi=>mi.id===Er);vt[Xn].chips+=je,xt.push({text:` ${vt[Xn].name} placed ${Yi} (${vt[Xn].scoreTotal} pts) -> +${je} chips`,type:"success"}),se===0&&(Qi?(vt[Xn].chips+=1,xt.push({text:` PERFECT_SYNC: ${vt[Xn].name} hit 25! (+1 bonus)`,type:"success"})):(ye+=1,xt.push({text:" TIE_OVERFLOW: Tied perfect score of 25. 1 bonus moved to Extra Chips tray.",type:"neutral"})))}),ie+=en}),vt.forEach((se,en)=>{se.busted&&(vt[en].chips-=1,ye+=1,xt.push({text:` SYSTEM_BUST: ${se.name} (${se.scoreTotal} pts) forfeited 1 chip to Extra Chips tray.`,type:"danger"}))}),Qi){const se=vt.findIndex(en=>en.id===fi[0]);ye>0&&(xt.push({text:` RESERVE_ACQUIRED: ${vt[se].name} collected ${ye} Extra Chips!`,type:"success"}),vt[se].chips+=ye,ye=0)}else ye>0&&xt.push({text:` TRAY_UPDATE: Extra Chips tray now at ${ye} units (Tied Winner Lock)`,type:"neutral"});const fe=E.roundCount>=4;fe&&!Qi&&ye>0&&(xt.push({text:` SYSTEM_FLUSH: ${ye} Extra Chips destroyed (No Clear Protocol Victor)`,type:"danger"}),ye=0);const di=fe||vt.some(se=>se.chips>=25);await Ui(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),{players:vt,trick:[],leadSuit:null,status:di?"finished":"playing",turnIndex:null,reserve:ye,roundResult:{closest:fi.length>1?"MULTIPLE_UNITS":vt.find(se=>se.id===fi[0])?.name||"NONE",total:hi[0]!==void 0?25-hi[0]:0,reserve:ye},logs:kc(...xt,{text:`--- Calibration Phase ${E.roundCount} Finalized ---`,type:"neutral"})})}else await Ui(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),{players:zt,trick:[],leadSuit:null,turnIndex:ct,logs:kc(...xt,{text:` Trick secured by ${zt[ct].name} (+${ot})`,type:"success"})})},dt=async()=>{if(!y)return;const tt=Gn(Fn,"artifacts",Qn,"public","data","rooms",y);try{if(E?.hostId===r.uid)await LI(tt);else{const at=E.players.filter(w=>w.id!==r.uid);await Ui(tt,{players:at})}}catch(at){console.error(at)}_(""),a("menu"),mt(!1)};if(!r)return C.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-fuchsia-500 font-serif",children:"BOOTING_PROTOCOL..."});if(i==="menu")return C.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[C.jsx($d,{}),W&&C.jsx(Sv,{onClose:()=>pt(!1)}),C.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[C.jsx(ho,{size:64,className:"text-fuchsia-500 mx-auto mb-4 animate-pulse drop-shadow-[0_0_20px_rgba(217,70,239,0.4)]"}),C.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-fuchsia-300 to-fuchsia-600 font-serif tracking-[0.2em]",children:"SPECTRUM"}),C.jsx("p",{className:"text-fuchsia-500/30 tracking-[0.6em] uppercase mt-2 text-[10px] font-black",children:"MAGENTA_EQUILIBRIUM"})]}),C.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-md border border-fuchsia-500/20 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10",children:[et&&C.jsx("div",{className:"bg-red-900/40 text-red-200 p-3 mb-4 rounded border border-red-800 text-center text-xs",children:et}),C.jsx("input",{className:"w-full bg-black/60 border border-gray-700 p-3 rounded mb-4 text-white placeholder-gray-600 focus:border-fuchsia-500 outline-none transition-all uppercase font-mono tracking-widest text-sm",placeholder:"AGENT_IDENTIFIER",value:l,onChange:tt=>c(tt.target.value)}),C.jsxs("button",{onClick:O,disabled:M,className:"w-full bg-fuchsia-700 hover:bg-fuchsia-600 p-4 rounded-xl font-black mb-4 flex items-center justify-center gap-2 shadow-lg tracking-widest uppercase transition-all text-sm",children:[C.jsx(ho,{size:18})," Establish Grid"]}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[C.jsx("input",{className:"w-full sm:flex-1 bg-black/60 border border-gray-700 p-3 rounded text-white placeholder-gray-600 uppercase font-mono tracking-widest text-sm outline-none",placeholder:"ROOM_CODE",value:d,onChange:tt=>p(tt.target.value.toUpperCase())}),C.jsx("button",{onClick:U,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-700 px-6 py-3 rounded-xl font-bold text-xs uppercase tracking-widest",children:"Infiltrate"})]}),C.jsxs("button",{onClick:()=>pt(!0),className:"w-full text-[10px] text-gray-500 hover:text-fuchsia-400 flex items-center justify-center gap-2 uppercase tracking-widest",children:[C.jsx(_v,{size:14})," View Manual"]})]})]});if(i==="lobby"&&E){const tt=E.hostId===r.uid;return C.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[C.jsx($d,{}),C.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/95 backdrop-blur-xl p-8 rounded-2xl border border-fuchsia-900/30 shadow-2xl",children:[C.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-800 pb-4",children:[C.jsxs("h2",{className:"text-xl font-serif text-fuchsia-500 tracking-wider",children:["Frequency: ",C.jsx("span",{className:"text-white font-mono",children:y})]}),C.jsx("button",{onClick:()=>mt(!0),className:"p-2 bg-red-900/20 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:C.jsx(wm,{size:16})})]}),C.jsx("div",{className:"space-y-3 mb-10",children:E.players.map(at=>C.jsxs("div",{className:"flex items-center justify-between bg-black/40 p-4 rounded-xl border border-gray-800",children:[C.jsxs("span",{className:`font-black flex items-center gap-2 text-sm uppercase tracking-widest ${at.id===r.uid?"text-fuchsia-400":"text-gray-400"}`,children:[C.jsx(Ev,{size:14})," ",at.name," ",at.id===E.hostId&&C.jsx(Tl,{size:14,className:"text-yellow-500"})]}),C.jsxs("span",{className:"text-green-500 text-[10px] font-black uppercase tracking-tighter flex items-center gap-1 animate-pulse",children:[C.jsx(Kd,{size:10})," Active"]})]},at.id))}),tt?C.jsx("button",{onClick:R,disabled:E.players.length<3,className:`w-full py-5 rounded-xl font-black uppercase tracking-[0.2em] transition-all shadow-xl ${E.players.length>=3?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-600 cursor-not-allowed"}`,children:E.players.length<3?"Awaiting Data (3-4 Required)":"Commence Protocol"}):C.jsx("div",{className:"text-center text-fuchsia-500/50 animate-pulse font-serif italic text-sm",children:"Synchronizing with host authority..."})]}),bt&&C.jsx(bv,{onCancel:()=>mt(!1),onConfirmLeave:dt,isHost:tt})]})}if(i==="game"&&E){const tt=E.players.find($=>$.id===r.uid);if(!tt)return null;const at=E.turnIndex!==null&&E.players[E.turnIndex]?.id===r.uid,w=E.hostId===r.uid,B=E.turnIndex===null&&E.status==="playing",J=tt?[...tt.hand].map(($,ot)=>({...$,originalIdx:ot})).sort(($,ot)=>Uc[$.suit]!==Uc[ot.suit]?Uc[$.suit]-Uc[ot.suit]:$.val-ot.val):[],nt=E.players.filter($=>$.id!==E.hostId).every($=>$.ready),ct=[...E.players].sort(($,ot)=>ot.chips-$.chips)[0];return C.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col relative overflow-hidden font-sans",children:[C.jsx($d,{}),Ot&&C.jsx(_x,{...Ot}),W&&C.jsx(Sv,{onClose:()=>pt(!1)}),bt&&C.jsx(bv,{onCancel:()=>mt(!1),onConfirmLeave:dt,onConfirmLobby:()=>{const $=E.players.map(ot=>({...ot,ready:!1}));Ui(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:$}),mt(!1)},isHost:w,inGame:!0}),C.jsxs("div",{className:"h-14 bg-gray-950/90 border-b border-fuchsia-900/30 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[C.jsxs("div",{className:"flex items-center gap-2 font-serif font-black text-fuchsia-500 tracking-[0.2em]",children:["SPECTRUM"," ",C.jsxs("span",{className:"text-[10px] text-gray-500 font-sans tracking-widest ml-1 opacity-70",children:["(ROUND ",E.roundCount,")"]})]}),C.jsxs("div",{className:"flex gap-2",children:[E.reserve>0&&C.jsxs("div",{className:"flex items-center gap-1.5 bg-fuchsia-900/40 px-3 py-1 rounded-full border border-fuchsia-500/30 mr-2 animate-in fade-in slide-in-from-right-4 duration-500",children:[C.jsx(YI,{size:12,className:"text-fuchsia-400"}),C.jsxs("span",{className:"text-[10px] font-black text-fuchsia-300 uppercase tracking-tighter",children:["EXTRA_CHIPS: ",E.reserve]})]}),C.jsx("button",{onClick:()=>pt(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400 transition-colors",children:C.jsx(_v,{size:18})}),C.jsx("button",{onClick:()=>$t(!Ht),className:"p-2 hover:bg-gray-800 rounded text-gray-400 transition-colors",children:C.jsx(ix,{size:18})}),C.jsx("button",{onClick:()=>mt(!0),className:"p-2 hover:bg-red-900/40 rounded text-red-400 transition-colors",children:C.jsx(wm,{size:18})})]})]}),C.jsxs("div",{className:"flex-1 p-2 md:p-4 flex flex-col items-center justify-between relative z-10 w-full max-w-6xl mx-auto",children:[C.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 w-full justify-center",children:E.players.map(($,ot)=>{if($.id===r.uid)return null;const xt=E.turnIndex===ot;return C.jsxs("div",{className:`bg-black/60 p-3 rounded-xl border-2 transition-all 
                  ${xt?"border-fuchsia-500 scale-105 shadow-xl shadow-fuchsia-900/40 animate-pulse":"border-gray-800"} 
                  ${$.busted?"opacity-30 grayscale":""}`,children:[C.jsxs("div",{className:"flex justify-between items-center mb-1",children:[C.jsx("span",{className:"font-black text-[10px] uppercase tracking-wider truncate max-w-[70px]",children:$.name}),C.jsxs("div",{className:"flex gap-1 items-center bg-gray-900 px-2 rounded-full border border-gray-700",children:[C.jsx(Tl,{size:8,className:"text-yellow-400"}),C.jsx("span",{className:"text-[10px] font-mono",children:$.chips})]})]}),C.jsxs("div",{className:"flex justify-between items-end",children:[C.jsx("div",{className:"flex -space-x-3",children:$.hand.map((zt,ln)=>C.jsx("div",{className:"w-4 h-6 bg-fuchsia-950 rounded border border-fuchsia-800"},ln))}),C.jsxs("div",{className:"text-right",children:[C.jsxs("div",{className:`text-[10px] font-black tracking-tighter ${$.busted?"text-red-500":"text-fuchsia-400"}`,children:["EQ: ",$.scoreTotal]}),C.jsx("div",{className:"flex gap-0.5 justify-end",children:$.scorePile.slice(-2).map((zt,ln)=>C.jsx(Zd,{...zt,tiny:!0},ln))})]})]})]},$.id)})}),C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[B&&E.roundResult&&C.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 rounded-3xl border border-fuchsia-500/20 animate-in fade-in zoom-in duration-500",children:C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"bg-fuchsia-600 text-white text-[10px] font-black uppercase px-4 py-1 rounded-full mb-4 inline-block tracking-widest shadow-lg",children:"Phase Summary"}),C.jsx("h2",{className:"text-3xl font-serif font-black text-white mb-2 uppercase",children:E.roundResult.closest}),C.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs mb-2 uppercase tracking-tighter",children:["Achieved Equilibrium (",E.roundResult.total,"/25)"]}),E.roundResult.reserve>0&&C.jsxs("p",{className:"text-gray-500 font-mono text-[10px] mb-8 uppercase tracking-widest",children:["Extra Chips Tray: ",E.roundResult.reserve," units"]}),C.jsx("div",{className:"mt-8",children:w?C.jsxs("button",{onClick:R,className:"bg-fuchsia-700 hover:bg-fuchsia-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest flex items-center gap-2 shadow-xl shadow-fuchsia-900/30 transition-all",children:[C.jsx(ex,{size:20})," Initialize Phase"," ",E.roundCount+1]}):C.jsx("div",{className:"text-gray-500 font-black animate-pulse uppercase tracking-[0.2em] text-[10px]",children:"Awaiting host frequency shift..."})})]})}),C.jsxs("div",{className:"relative w-full max-w-md flex flex-wrap gap-4 justify-center items-center",children:[E.trick.map(($,ot)=>C.jsxs("div",{className:"animate-in zoom-in slide-in-from-bottom-4 duration-500",children:[C.jsx("div",{className:"text-[10px] text-gray-500 uppercase font-black text-center mb-1 tracking-tighter truncate w-24",children:$.playerName}),C.jsx(Zd,{...$,small:!0})]},ot)),E.trick.length===0&&!B&&C.jsxs("div",{className:"text-gray-800 uppercase tracking-[0.5em] font-black text-center opacity-40 select-none flex flex-col items-center",children:[C.jsx(Am,{size:64,className:"mb-4 text-fuchsia-900"}),"IDLE_GRID"]})]}),E.leadSuit&&!B&&C.jsxs("div",{className:"mt-8 bg-gray-900/80 border border-fuchsia-500/20 px-6 py-2 rounded-full text-[10px] font-black uppercase tracking-[0.2em] backdrop-blur-md",children:["Protocol:"," ",C.jsx("span",{className:Zr[E.leadSuit]?.color,children:Zr[E.leadSuit]?.name})]})]}),C.jsxs("div",{className:"w-full bg-gray-900/98 border-t-2 border-fuchsia-500/20 p-4 md:p-6 rounded-t-[2.5rem] shadow-[0_-20px_50px_rgba(0,0,0,0.8)] backdrop-blur-2xl",children:[C.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-3 mb-4",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:`px-5 py-3 rounded-2xl flex items-center gap-3 border transition-all ${tt.busted?"bg-red-950/40 border-red-500 shadow-red-900/20":"bg-fuchsia-950/40 border-fuchsia-500 shadow-fuchsia-900/20"}`,children:[C.jsx(Am,{className:tt.busted?"text-red-500":"text-fuchsia-400",size:24}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("span",{className:`text-2xl font-black leading-none ${tt.busted?"text-red-500":"text-fuchsia-100"}`,children:tt.scoreTotal}),C.jsx("span",{className:"text-[8px] uppercase font-black tracking-widest text-gray-500",children:"Equilibrium"})]})]}),C.jsxs("div",{className:"bg-slate-900 border border-slate-700 px-4 py-2 rounded-xl flex items-center gap-2",children:[C.jsx(Tl,{size:16,className:"text-yellow-400"}),C.jsx("span",{className:"text-xl font-mono font-bold",children:tt.chips})]})]}),at&&!B&&C.jsxs("div",{className:"flex bg-black/50 p-1.5 rounded-xl border border-gray-800 shadow-inner",children:[C.jsx("button",{onClick:()=>I("NORMAL"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${S==="NORMAL"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Signal"}),C.jsx("button",{onClick:()=>I("FACEDOWN"),className:`px-2 sm:px-4 py-2 text-[8px] font-black tracking-widest uppercase rounded-lg transition-all ${S==="FACEDOWN"?"bg-fuchsia-600 text-white shadow-lg":"text-gray-500 hover:text-gray-400"}`,children:"Override"})]})]}),C.jsxs("div",{className:"flex gap-3 overflow-x-auto pt-6 pb-8 px-4 justify-start lg:justify-center items-end h-64 scrollbar-hide scroll-smooth",children:[J.map($=>C.jsx("div",{className:`${at?"hover:translate-y-[-10px]":""} transition-transform duration-300 shrink-0`,children:C.jsx(Zd,{suit:$.suit,val:$.val,faceDown:S==="FACEDOWN",onClick:()=>at&&F($.originalIdx,S==="FACEDOWN"),disabled:!at,highlight:at})},$.originalIdx)),tt.hand.length===0&&E.trick.length>0&&C.jsx("div",{className:"text-gray-600 font-black uppercase text-xs animate-pulse",children:"Syncing Pulse..."}),tt.hand.length===0&&E.trick.length===0&&!B&&E.status!=="finished"&&C.jsx("div",{className:"text-fuchsia-600 font-black uppercase text-xs animate-pulse",children:"Protocol Initializing..."})]})]})]}),Ht&&C.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:C.jsxs("div",{className:"bg-gray-900 border border-gray-800 w-full max-w-md h-[60vh] rounded-2xl flex flex-col shadow-2xl overflow-hidden",children:[C.jsxs("div",{className:"p-4 bg-gray-950 flex justify-between items-center border-b border-gray-800",children:[C.jsx("span",{className:"font-serif font-black text-fuchsia-500 tracking-widest uppercase text-sm",children:"System_Logs"}),C.jsx("button",{onClick:()=>$t(!1),children:C.jsx(XT,{size:20,className:"text-gray-500"})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...E.logs].reverse().map(($,ot)=>C.jsx("div",{className:`text-[10px] font-mono p-2 border-l-2 bg-black/30 ${$.type==="success"?"border-fuchsia-500 text-fuchsia-300":$.type==="danger"?"border-red-500 text-red-300":"border-gray-700 text-gray-500"}`,children:$.text},ot))})]})}),E.status==="finished"&&C.jsxs("div",{className:"fixed inset-0 bg-black/95 z-[200] flex flex-col items-center justify-center p-4 backdrop-blur-2xl",children:[C.jsxs("div",{className:"relative mb-10",children:[C.jsx(fx,{size:100,className:"text-yellow-400 drop-shadow-[0_0_30px_rgba(250,204,21,0.5)] animate-bounce"}),C.jsx("span",{className:"absolute -top-4 -right-4 text-fuchsia-400 animate-pulse",children:C.jsx(Tl,{size:32})})]}),C.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-black text-white mb-2 uppercase tracking-[0.4em] text-center",children:"SYNCHRONIZED"}),C.jsx("div",{className:"bg-fuchsia-950/40 border border-fuchsia-500/30 px-6 py-2 rounded-full mb-12",children:C.jsxs("p",{className:"text-fuchsia-400 font-mono text-xs tracking-[0.2em] uppercase font-black",children:["Protocol_Victor:"," ",C.jsx("span",{className:"text-white ml-2",children:ct?.name})]})}),C.jsxs("div",{className:"w-full max-w-lg space-y-3 mb-16 overflow-y-auto max-h-[30vh]",children:[C.jsx("h3",{className:"text-center text-[10px] font-black text-gray-600 uppercase tracking-[0.3em] mb-4",children:"Unit Summary"}),E.players.map($=>C.jsxs("div",{className:`flex items-center justify-between p-4 rounded-2xl border transition-all ${$.id===ct.id?"bg-fuchsia-900/30 border-fuchsia-500 shadow-lg shadow-fuchsia-900/20":"bg-black/40 border-gray-800 opacity-80"}`,children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(Ev,{size:18,className:$.id===ct.id?"text-fuchsia-400":"text-gray-600"}),C.jsx("span",{className:`font-black text-sm uppercase tracking-wider ${$.id===ct.id?"text-fuchsia-100":"text-gray-400"}`,children:$.name}),$.ready&&$.id!==E.hostId&&C.jsx(Kd,{size:14,className:"text-green-500 ml-2"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Tl,{size:14,className:"text-yellow-400"}),C.jsx("span",{className:"font-mono text-lg font-bold",children:$.chips})]})]},$.id))]}),C.jsxs("div",{className:"space-y-4 w-full max-w-sm",children:[w?C.jsxs(C.Fragment,{children:[!nt&&C.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-400 text-[10px] font-black uppercase tracking-widest animate-pulse mb-2",children:[C.jsx(vv,{size:12})," Awaiting Signal from Observers..."]}),C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsxs("button",{onClick:ne,disabled:!nt,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 shadow-xl transition-all ${nt?"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20":"bg-gray-800 text-gray-500 cursor-not-allowed opacity-50"}`,children:[C.jsx(ox,{size:16})," Reboot"]}),C.jsxs("button",{onClick:()=>{const $=E.players.map(ot=>({...ot,ready:!1}));Ui(Gn(Fn,"artifacts",Qn,"public","data","rooms",y),{status:"lobby",roundCount:1,roundResult:null,reserve:0,players:$}),mt(!1)},disabled:!nt,className:`py-5 rounded-2xl font-black uppercase tracking-widest text-xs flex items-center justify-center gap-2 border transition-all ${nt?"border-fuchsia-600 text-fuchsia-400 hover:bg-fuchsia-900/20":"border-gray-800 text-gray-600 cursor-not-allowed opacity-50"}`,children:[C.jsx(KT,{size:16})," Backroom"]})]})]}):C.jsx("button",{onClick:pe,disabled:tt?.ready,className:`w-full py-5 rounded-2xl font-black uppercase tracking-widest text-sm flex items-center justify-center gap-3 shadow-xl transition-all ${tt?.ready?"bg-black/50 border border-green-500 text-green-500 cursor-default":"bg-fuchsia-700 hover:bg-fuchsia-600 text-white shadow-fuchsia-900/20"}`,children:tt?.ready?C.jsxs(C.Fragment,{children:[C.jsx(Kd,{size:20})," Signal_Acquired"]}):C.jsxs(C.Fragment,{children:[C.jsx(vv,{size:20})," Transmit_Readiness"]})}),C.jsx("button",{onClick:dt,className:"w-full bg-transparent hover:bg-red-950/20 text-gray-600 hover:text-red-400 py-4 rounded-xl font-bold uppercase tracking-[0.2em] text-[10px] transition-all",children:"Sever_Connection"})]})]}),C.jsx(vx,{})]})}return null}Ub.createRoot(document.getElementById("root")).render(C.jsx(ge.StrictMode,{children:C.jsx(Ex,{})}));
